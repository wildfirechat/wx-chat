import { default as o0 } from "../../config";import*as o1 from"../../wfc/util/base64.min";import { default as o2 } from "../client/connectionStatus";import { default as o3 } from "../client/errorCode";import { default as o4 } from "../client/messageConfig";import { default as o5 } from "../client/userSettingScope";import { default as o6 } from "../client/wfcEvent";import { default as o7 } from "../messages/compositeMessageContent";import { default as o8 } from "../messages/markUnreadMessageContent";import { default as o9 } from "../messages/mediaMessageContent";import { default as o10 } from "../messages/message";import { default as o11 } from "../messages/messageContentType";import { default as o12 } from "../messages/messageStatus";import { default as o13 } from "../messages/notification/recallMessageNotification";import { default as o14 } from "../messages/persistFlag";import { default as o15 } from "../model/NullChannelInfo";import { default as o16 } from "../model/channelInfo";import { default as o17 } from "../model/channelMenu";import { default as o18 } from "../model/chatRoomInfo";import { default as o19 } from "../model/chatRoomMemberInfo";import { default as o20 } from "../model/conversation";import { default as o21 } from "../model/conversationInfo";import { default as o22 } from "../model/conversationType";import { default as o23 } from "../model/domainInfo";import { default as o24 } from "../model/fileRecord";import { default as o25 } from "../model/friend";import { default as o26 } from "../model/friendRequest";import { default as o27 } from "../model/groupInfo";import { default as o28 } from "../model/groupMember";import { default as o29 } from "../model/groupMemberType";import { default as o30 } from "../model/groupSearchResult";import { default as o31 } from "../model/internal/friendInfo";import { default as o32 } from "../model/nullDomainInfo";import { default as o33 } from "../model/nullGroupInfo";import { default as o34 } from "../model/nullUserInfo";import { default as o35 } from "../model/readEntry";import { default as o36 } from "../model/unreadCount";import { default as o37 } from "../model/userClientState";import { default as o38 } from "../model/userCustomState";import { default as o39 } from "../model/userInfo";import { default as o40 } from "../model/userOnlineState";import { default as o41 } from "../model/userSettingEntry";import*as o42 from"../util/base64.min";import*as o43 from"../util/deep-assign.min";import*as o44 from"../util/longUtil";import*as o45 from"../util/mime";var o46={7776:function(o0){!function(o1){function o2(o0){return parseInt(o0)===o0}function o3(o0){if(!o2(o0.length))return!1;for(var o1=0;o1<o0.length;o1++)if(!o2(o0[o1])||o0[o1]<0||o0[o1]>255)return!1;return!0}function o4(o0,o1){if(o0.buffer&&"Uint8Array"===o0.name)return o1&&(o0=o0.slice?o0.slice():Array.prototype.slice.call(o0)),o0;if(Array.isArray(o0)){if(!o3(o0))throw new Error("Array contains invalid value: "+o0);return new Uint8Array(o0)}if(o2(o0.length)&&o3(o0))return new Uint8Array(o0);throw new Error("unsupported array-like object")}function o5(o0){return new Uint8Array(o0)}function o6(o0,o1,o2,o3,o4){null==o3&&null==o4||(o0=o0.slice?o0.slice(o3,o4):Array.prototype.slice.call(o0,o3,o4)),o1.set(o0,o2)}var o7,o8={toBytes:function(o0){var o1=[],o2=0;for(o0=encodeURI(o0);o2<o0.length;){var o3=o0.charCodeAt(o2++);37===o3?(o1.push(parseInt(o0.substr(o2,2),16)),o2+=2):o1.push(o3)}return o4(o1)},fromBytes:function(o0){for(var o1=[],o2=0;o2<o0.length;){var o3=o0[o2];o3<128?(o1.push(String.fromCharCode(o3)),o2++):o3>191&&o3<224?(o1.push(String.fromCharCode((31&o3)<<6|63&o0[o2+1])),o2+=2):(o1.push(String.fromCharCode((15&o3)<<12|(63&o0[o2+1])<<6|63&o0[o2+2])),o2+=3)}return o1.join("")}},o9=(o7="0123456789abcdef",{toBytes:function(o0){for(var o1=[],o2=0;o2<o0.length;o2+=2)o1.push(parseInt(o0.substr(o2,2),16));return o1},fromBytes:function(o0){for(var o1=[],o2=0;o2<o0.length;o2++){var o3=o0[o2];o1.push(o7[(240&o3)>>4]+o7[15&o3])}return o1.join("")}}),o10={16:10,24:12,32:14},o11=[1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145],o12=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],o13=[82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125],o14=[3328402341,4168907908,4000806809,4135287693,4294111757,3597364157,3731845041,2445657428,1613770832,33620227,3462883241,1445669757,3892248089,3050821474,1303096294,3967186586,2412431941,528646813,2311702848,4202528135,4026202645,2992200171,2387036105,4226871307,1101901292,3017069671,1604494077,1169141738,597466303,1403299063,3832705686,2613100635,1974974402,3791519004,1033081774,1277568618,1815492186,2118074177,4126668546,2211236943,1748251740,1369810420,3521504564,4193382664,3799085459,2883115123,1647391059,706024767,134480908,2512897874,1176707941,2646852446,806885416,932615841,168101135,798661301,235341577,605164086,461406363,3756188221,3454790438,1311188841,2142417613,3933566367,302582043,495158174,1479289972,874125870,907746093,3698224818,3025820398,1537253627,2756858614,1983593293,3084310113,2108928974,1378429307,3722699582,1580150641,327451799,2790478837,3117535592,0,3253595436,1075847264,3825007647,2041688520,3059440621,3563743934,2378943302,1740553945,1916352843,2487896798,2555137236,2958579944,2244988746,3151024235,3320835882,1336584933,3992714006,2252555205,2588757463,1714631509,293963156,2319795663,3925473552,67240454,4269768577,2689618160,2017213508,631218106,1269344483,2723238387,1571005438,2151694528,93294474,1066570413,563977660,1882732616,4059428100,1673313503,2008463041,2950355573,1109467491,537923632,3858759450,4260623118,3218264685,2177748300,403442708,638784309,3287084079,3193921505,899127202,2286175436,773265209,2479146071,1437050866,4236148354,2050833735,3362022572,3126681063,840505643,3866325909,3227541664,427917720,2655997905,2749160575,1143087718,1412049534,999329963,193497219,2353415882,3354324521,1807268051,672404540,2816401017,3160301282,369822493,2916866934,3688947771,1681011286,1949973070,336202270,2454276571,201721354,1210328172,3093060836,2680341085,3184776046,1135389935,3294782118,965841320,831886756,3554993207,4068047243,3588745010,2345191491,1849112409,3664604599,26054028,2983581028,2622377682,1235855840,3630984372,2891339514,4092916743,3488279077,3395642799,4101667470,1202630377,268961816,1874508501,4034427016,1243948399,1546530418,941366308,1470539505,1941222599,2546386513,3421038627,2715671932,3899946140,1042226977,2521517021,1639824860,227249030,260737669,3765465232,2084453954,1907733956,3429263018,2420656344,100860677,4160157185,470683154,3261161891,1781871967,2924959737,1773779408,394692241,2579611992,974986535,664706745,3655459128,3958962195,731420851,571543859,3530123707,2849626480,126783113,865375399,765172662,1008606754,361203602,3387549984,2278477385,2857719295,1344809080,2782912378,59542671,1503764984,160008576,437062935,1707065306,3622233649,2218934982,3496503480,2185314755,697932208,1512910199,504303377,2075177163,2824099068,1841019862,739644986],o15=[2781242211,2230877308,2582542199,2381740923,234877682,3184946027,2984144751,1418839493,1348481072,50462977,2848876391,2102799147,434634494,1656084439,3863849899,2599188086,1167051466,2636087938,1082771913,2281340285,368048890,3954334041,3381544775,201060592,3963727277,1739838676,4250903202,3930435503,3206782108,4149453988,2531553906,1536934080,3262494647,484572669,2923271059,1783375398,1517041206,1098792767,49674231,1334037708,1550332980,4098991525,886171109,150598129,2481090929,1940642008,1398944049,1059722517,201851908,1385547719,1699095331,1587397571,674240536,2704774806,252314885,3039795866,151914247,908333586,2602270848,1038082786,651029483,1766729511,3447698098,2682942837,454166793,2652734339,1951935532,775166490,758520603,3000790638,4004797018,4217086112,4137964114,1299594043,1639438038,3464344499,2068982057,1054729187,1901997871,2534638724,4121318227,1757008337,0,750906861,1614815264,535035132,3363418545,3988151131,3201591914,1183697867,3647454910,1265776953,3734260298,3566750796,3903871064,1250283471,1807470800,717615087,3847203498,384695291,3313910595,3617213773,1432761139,2484176261,3481945413,283769337,100925954,2180939647,4037038160,1148730428,3123027871,3813386408,4087501137,4267549603,3229630528,2315620239,2906624658,3156319645,1215313976,82966005,3747855548,3245848246,1974459098,1665278241,807407632,451280895,251524083,1841287890,1283575245,337120268,891687699,801369324,3787349855,2721421207,3431482436,959321879,1469301956,4065699751,2197585534,1199193405,2898814052,3887750493,724703513,2514908019,2696962144,2551808385,3516813135,2141445340,1715741218,2119445034,2872807568,2198571144,3398190662,700968686,3547052216,1009259540,2041044702,3803995742,487983883,1991105499,1004265696,1449407026,1316239930,504629770,3683797321,168560134,1816667172,3837287516,1570751170,1857934291,4014189740,2797888098,2822345105,2754712981,936633572,2347923833,852879335,1133234376,1500395319,3084545389,2348912013,1689376213,3533459022,3762923945,3034082412,4205598294,133428468,634383082,2949277029,2398386810,3913789102,403703816,3580869306,2297460856,1867130149,1918643758,607656988,4049053350,3346248884,1368901318,600565992,2090982877,2632479860,557719327,3717614411,3697393085,2249034635,2232388234,2430627952,1115438654,3295786421,2865522278,3633334344,84280067,33027830,303828494,2747425121,1600795957,4188952407,3496589753,2434238086,1486471617,658119965,3106381470,953803233,334231800,3005978776,857870609,3151128937,1890179545,2298973838,2805175444,3056442267,574365214,2450884487,550103529,1233637070,4289353045,2018519080,2057691103,2399374476,4166623649,2148108681,387583245,3664101311,836232934,3330556482,3100665960,3280093505,2955516313,2002398509,287182607,3413881008,4238890068,3597515707,975967766],o16=[1671808611,2089089148,2006576759,2072901243,4061003762,1807603307,1873927791,3310653893,810573872,16974337,1739181671,729634347,4263110654,3613570519,2883997099,1989864566,3393556426,2191335298,3376449993,2106063485,4195741690,1508618841,1204391495,4027317232,2917941677,3563566036,2734514082,2951366063,2629772188,2767672228,1922491506,3227229120,3082974647,4246528509,2477669779,644500518,911895606,1061256767,4144166391,3427763148,878471220,2784252325,3845444069,4043897329,1905517169,3631459288,827548209,356461077,67897348,3344078279,593839651,3277757891,405286936,2527147926,84871685,2595565466,118033927,305538066,2157648768,3795705826,3945188843,661212711,2999812018,1973414517,152769033,2208177539,745822252,439235610,455947803,1857215598,1525593178,2700827552,1391895634,994932283,3596728278,3016654259,695947817,3812548067,795958831,2224493444,1408607827,3513301457,0,3979133421,543178784,4229948412,2982705585,1542305371,1790891114,3410398667,3201918910,961245753,1256100938,1289001036,1491644504,3477767631,3496721360,4012557807,2867154858,4212583931,1137018435,1305975373,861234739,2241073541,1171229253,4178635257,33948674,2139225727,1357946960,1011120188,2679776671,2833468328,1374921297,2751356323,1086357568,2408187279,2460827538,2646352285,944271416,4110742005,3168756668,3066132406,3665145818,560153121,271589392,4279952895,4077846003,3530407890,3444343245,202643468,322250259,3962553324,1608629855,2543990167,1154254916,389623319,3294073796,2817676711,2122513534,1028094525,1689045092,1575467613,422261273,1939203699,1621147744,2174228865,1339137615,3699352540,577127458,712922154,2427141008,2290289544,1187679302,3995715566,3100863416,339486740,3732514782,1591917662,186455563,3681988059,3762019296,844522546,978220090,169743370,1239126601,101321734,611076132,1558493276,3260915650,3547250131,2901361580,1655096418,2443721105,2510565781,3828863972,2039214713,3878868455,3359869896,928607799,1840765549,2374762893,3580146133,1322425422,2850048425,1823791212,1459268694,4094161908,3928346602,1706019429,2056189050,2934523822,135794696,3134549946,2022240376,628050469,779246638,472135708,2800834470,3032970164,3327236038,3894660072,3715932637,1956440180,522272287,1272813131,3185336765,2340818315,2323976074,1888542832,1044544574,3049550261,1722469478,1222152264,50660867,4127324150,236067854,1638122081,895445557,1475980887,3117443513,2257655686,3243809217,489110045,2662934430,3778599393,4162055160,2561878936,288563729,1773916777,3648039385,2391345038,2493985684,2612407707,505560094,2274497927,3911240169,3460925390,1442818645,678973480,3749357023,2358182796,2717407649,2306869641,219617805,3218761151,3862026214,1120306242,1756942440,1103331905,2578459033,762796589,252780047,2966125488,1425844308,3151392187,372911126],o17=[1667474886,2088535288,2004326894,2071694838,4075949567,1802223062,1869591006,3318043793,808472672,16843522,1734846926,724270422,4278065639,3621216949,2880169549,1987484396,3402253711,2189597983,3385409673,2105378810,4210693615,1499065266,1195886990,4042263547,2913856577,3570689971,2728590687,2947541573,2627518243,2762274643,1920112356,3233831835,3082273397,4261223649,2475929149,640051788,909531756,1061110142,4160160501,3435941763,875846760,2779116625,3857003729,4059105529,1903268834,3638064043,825316194,353713962,67374088,3351728789,589522246,3284360861,404236336,2526454071,84217610,2593830191,117901582,303183396,2155911963,3806477791,3958056653,656894286,2998062463,1970642922,151591698,2206440989,741110872,437923380,454765878,1852748508,1515908788,2694904667,1381168804,993742198,3604373943,3014905469,690584402,3823320797,791638366,2223281939,1398011302,3520161977,0,3991743681,538992704,4244381667,2981218425,1532751286,1785380564,3419096717,3200178535,960056178,1246420628,1280103576,1482221744,3486468741,3503319995,4025428677,2863326543,4227536621,1128514950,1296947098,859002214,2240123921,1162203018,4193849577,33687044,2139062782,1347481760,1010582648,2678045221,2829640523,1364325282,2745433693,1077985408,2408548869,2459086143,2644360225,943212656,4126475505,3166494563,3065430391,3671750063,555836226,269496352,4294908645,4092792573,3537006015,3452783745,202118168,320025894,3974901699,1600119230,2543297077,1145359496,387397934,3301201811,2812801621,2122220284,1027426170,1684319432,1566435258,421079858,1936954854,1616945344,2172753945,1330631070,3705438115,572679748,707427924,2425400123,2290647819,1179044492,4008585671,3099120491,336870440,3739122087,1583276732,185277718,3688593069,3772791771,842159716,976899700,168435220,1229577106,101059084,606366792,1549591736,3267517855,3553849021,2897014595,1650632388,2442242105,2509612081,3840161747,2038008818,3890688725,3368567691,926374254,1835907034,2374863873,3587531953,1313788572,2846482505,1819063512,1448540844,4109633523,3941213647,1701162954,2054852340,2930698567,134748176,3132806511,2021165296,623210314,774795868,471606328,2795958615,3031746419,3334885783,3907527627,3722280097,1953799400,522133822,1263263126,3183336545,2341176845,2324333839,1886425312,1044267644,3048588401,1718004428,1212733584,50529542,4143317495,235803164,1633788866,892690282,1465383342,3115962473,2256965911,3250673817,488449850,2661202215,3789633753,4177007595,2560144171,286339874,1768537042,3654906025,2391705863,2492770099,2610673197,505291324,2273808917,3924369609,3469625735,1431699370,673740880,3755965093,2358021891,2711746649,2307489801,218961690,3217021541,3873845719,1111672452,1751693520,1094828930,2576986153,757954394,252645662,2964376443,1414855848,3149649517,370555436],o18=[1374988112,2118214995,437757123,975658646,1001089995,530400753,2902087851,1273168787,540080725,2910219766,2295101073,4110568485,1340463100,3307916247,641025152,3043140495,3736164937,632953703,1172967064,1576976609,3274667266,2169303058,2370213795,1809054150,59727847,361929877,3211623147,2505202138,3569255213,1484005843,1239443753,2395588676,1975683434,4102977912,2572697195,666464733,3202437046,4035489047,3374361702,2110667444,1675577880,3843699074,2538681184,1649639237,2976151520,3144396420,4269907996,4178062228,1883793496,2403728665,2497604743,1383856311,2876494627,1917518562,3810496343,1716890410,3001755655,800440835,2261089178,3543599269,807962610,599762354,33778362,3977675356,2328828971,2809771154,4077384432,1315562145,1708848333,101039829,3509871135,3299278474,875451293,2733856160,92987698,2767645557,193195065,1080094634,1584504582,3178106961,1042385657,2531067453,3711829422,1306967366,2438237621,1908694277,67556463,1615861247,429456164,3602770327,2302690252,1742315127,2968011453,126454664,3877198648,2043211483,2709260871,2084704233,4169408201,0,159417987,841739592,504459436,1817866830,4245618683,260388950,1034867998,908933415,168810852,1750902305,2606453969,607530554,202008497,2472011535,3035535058,463180190,2160117071,1641816226,1517767529,470948374,3801332234,3231722213,1008918595,303765277,235474187,4069246893,766945465,337553864,1475418501,2943682380,4003061179,2743034109,4144047775,1551037884,1147550661,1543208500,2336434550,3408119516,3069049960,3102011747,3610369226,1113818384,328671808,2227573024,2236228733,3535486456,2935566865,3341394285,496906059,3702665459,226906860,2009195472,733156972,2842737049,294930682,1206477858,2835123396,2700099354,1451044056,573804783,2269728455,3644379585,2362090238,2564033334,2801107407,2776292904,3669462566,1068351396,742039012,1350078989,1784663195,1417561698,4136440770,2430122216,775550814,2193862645,2673705150,1775276924,1876241833,3475313331,3366754619,270040487,3902563182,3678124923,3441850377,1851332852,3969562369,2203032232,3868552805,2868897406,566021896,4011190502,3135740889,1248802510,3936291284,699432150,832877231,708780849,3332740144,899835584,1951317047,4236429990,3767586992,866637845,4043610186,1106041591,2144161806,395441711,1984812685,1139781709,3433712980,3835036895,2664543715,1282050075,3240894392,1181045119,2640243204,25965917,4203181171,4211818798,3009879386,2463879762,3910161971,1842759443,2597806476,933301370,1509430414,3943906441,3467192302,3076639029,3776767469,2051518780,2631065433,1441952575,404016761,1942435775,1408749034,1610459739,3745345300,2017778566,3400528769,3110650942,941896748,3265478751,371049330,3168937228,675039627,4279080257,967311729,135050206,3635733660,1683407248,2076935265,3576870512,1215061108,3501741890],o19=[1347548327,1400783205,3273267108,2520393566,3409685355,4045380933,2880240216,2471224067,1428173050,4138563181,2441661558,636813900,4233094615,3620022987,2149987652,2411029155,1239331162,1730525723,2554718734,3781033664,46346101,310463728,2743944855,3328955385,3875770207,2501218972,3955191162,3667219033,768917123,3545789473,692707433,1150208456,1786102409,2029293177,1805211710,3710368113,3065962831,401639597,1724457132,3028143674,409198410,2196052529,1620529459,1164071807,3769721975,2226875310,486441376,2499348523,1483753576,428819965,2274680428,3075636216,598438867,3799141122,1474502543,711349675,129166120,53458370,2592523643,2782082824,4063242375,2988687269,3120694122,1559041666,730517276,2460449204,4042459122,2706270690,3446004468,3573941694,533804130,2328143614,2637442643,2695033685,839224033,1973745387,957055980,2856345839,106852767,1371368976,4181598602,1033297158,2933734917,1179510461,3046200461,91341917,1862534868,4284502037,605657339,2547432937,3431546947,2003294622,3182487618,2282195339,954669403,3682191598,1201765386,3917234703,3388507166,0,2198438022,1211247597,2887651696,1315723890,4227665663,1443857720,507358933,657861945,1678381017,560487590,3516619604,975451694,2970356327,261314535,3535072918,2652609425,1333838021,2724322336,1767536459,370938394,182621114,3854606378,1128014560,487725847,185469197,2918353863,3106780840,3356761769,2237133081,1286567175,3152976349,4255350624,2683765030,3160175349,3309594171,878443390,1988838185,3704300486,1756818940,1673061617,3403100636,272786309,1075025698,545572369,2105887268,4174560061,296679730,1841768865,1260232239,4091327024,3960309330,3497509347,1814803222,2578018489,4195456072,575138148,3299409036,446754879,3629546796,4011996048,3347532110,3252238545,4270639778,915985419,3483825537,681933534,651868046,2755636671,3828103837,223377554,2607439820,1649704518,3270937875,3901806776,1580087799,4118987695,3198115200,2087309459,2842678573,3016697106,1003007129,2802849917,1860738147,2077965243,164439672,4100872472,32283319,2827177882,1709610350,2125135846,136428751,3874428392,3652904859,3460984630,3572145929,3593056380,2939266226,824852259,818324884,3224740454,930369212,2801566410,2967507152,355706840,1257309336,4148292826,243256656,790073846,2373340630,1296297904,1422699085,3756299780,3818836405,457992840,3099667487,2135319889,77422314,1560382517,1945798516,788204353,1521706781,1385356242,870912086,325965383,2358957921,2050466060,2388260884,2313884476,4006521127,901210569,3990953189,1014646705,1503449823,1062597235,2031621326,3212035895,3931371469,1533017514,350174575,2256028891,2177544179,1052338372,741876788,1606591296,1914052035,213705253,2334669897,1107234197,1899603969,3725069491,2631447780,2422494913,1635502980,1893020342,1950903388,1120974935],o20=[2807058932,1699970625,2764249623,1586903591,1808481195,1173430173,1487645946,59984867,4199882800,1844882806,1989249228,1277555970,3623636965,3419915562,1149249077,2744104290,1514790577,459744698,244860394,3235995134,1963115311,4027744588,2544078150,4190530515,1608975247,2627016082,2062270317,1507497298,2200818878,567498868,1764313568,3359936201,2305455554,2037970062,1047239e3,1910319033,1337376481,2904027272,2892417312,984907214,1243112415,830661914,861968209,2135253587,2011214180,2927934315,2686254721,731183368,1750626376,4246310725,1820824798,4172763771,3542330227,48394827,2404901663,2871682645,671593195,3254988725,2073724613,145085239,2280796200,2779915199,1790575107,2187128086,472615631,3029510009,4075877127,3802222185,4107101658,3201631749,1646252340,4270507174,1402811438,1436590835,3778151818,3950355702,3963161475,4020912224,2667994737,273792366,2331590177,104699613,95345982,3175501286,2377486676,1560637892,3564045318,369057872,4213447064,3919042237,1137477952,2658625497,1119727848,2340947849,1530455833,4007360968,172466556,266959938,516552836,0,2256734592,3980931627,1890328081,1917742170,4294704398,945164165,3575528878,958871085,3647212047,2787207260,1423022939,775562294,1739656202,3876557655,2530391278,2443058075,3310321856,547512796,1265195639,437656594,3121275539,719700128,3762502690,387781147,218828297,3350065803,2830708150,2848461854,428169201,122466165,3720081049,1627235199,648017665,4122762354,1002783846,2117360635,695634755,3336358691,4234721005,4049844452,3704280881,2232435299,574624663,287343814,612205898,1039717051,840019705,2708326185,793451934,821288114,1391201670,3822090177,376187827,3113855344,1224348052,1679968233,2361698556,1058709744,752375421,2431590963,1321699145,3519142200,2734591178,188127444,2177869557,3727205754,2384911031,3215212461,2648976442,2450346104,3432737375,1180849278,331544205,3102249176,4150144569,2952102595,2159976285,2474404304,766078933,313773861,2570832044,2108100632,1668212892,3145456443,2013908262,418672217,3070356634,2594734927,1852171925,3867060991,3473416636,3907448597,2614737639,919489135,164948639,2094410160,2997825956,590424639,2486224549,1723872674,3157750862,3399941250,3501252752,3625268135,2555048196,3673637356,1343127501,4130281361,3599595085,2957853679,1297403050,81781910,3051593425,2283490410,532201772,1367295589,3926170974,895287692,1953757831,1093597963,492483431,3528626907,1446242576,1192455638,1636604631,209336225,344873464,1015671571,669961897,3375740769,3857572124,2973530695,3747192018,1933530610,3464042516,935293895,3454686199,2858115069,1863638845,3683022916,4085369519,3292445032,875313188,1080017571,3279033885,621591778,1233856572,2504130317,24197544,3017672716,3835484340,3247465558,2220981195,3060847922,1551124588,1463996600],o21=[4104605777,1097159550,396673818,660510266,2875968315,2638606623,4200115116,3808662347,821712160,1986918061,3430322568,38544885,3856137295,718002117,893681702,1654886325,2975484382,3122358053,3926825029,4274053469,796197571,1290801793,1184342925,3556361835,2405426947,2459735317,1836772287,1381620373,3196267988,1948373848,3764988233,3385345166,3263785589,2390325492,1480485785,3111247143,3780097726,2293045232,548169417,3459953789,3746175075,439452389,1362321559,1400849762,1685577905,1806599355,2174754046,137073913,1214797936,1174215055,3731654548,2079897426,1943217067,1258480242,529487843,1437280870,3945269170,3049390895,3313212038,923313619,679998e3,3215307299,57326082,377642221,3474729866,2041877159,133361907,1776460110,3673476453,96392454,878845905,2801699524,777231668,4082475170,2330014213,4142626212,2213296395,1626319424,1906247262,1846563261,562755902,3708173718,1040559837,3871163981,1418573201,3294430577,114585348,1343618912,2566595609,3186202582,1078185097,3651041127,3896688048,2307622919,425408743,3371096953,2081048481,1108339068,2216610296,0,2156299017,736970802,292596766,1517440620,251657213,2235061775,2933202493,758720310,265905162,1554391400,1532285339,908999204,174567692,1474760595,4002861748,2610011675,3234156416,3693126241,2001430874,303699484,2478443234,2687165888,585122620,454499602,151849742,2345119218,3064510765,514443284,4044981591,1963412655,2581445614,2137062819,19308535,1928707164,1715193156,4219352155,1126790795,600235211,3992742070,3841024952,836553431,1669664834,2535604243,3323011204,1243905413,3141400786,4180808110,698445255,2653899549,2989552604,2253581325,3252932727,3004591147,1891211689,2487810577,3915653703,4237083816,4030667424,2100090966,865136418,1229899655,953270745,3399679628,3557504664,4118925222,2061379749,3079546586,2915017791,983426092,2022837584,1607244650,2118541908,2366882550,3635996816,972512814,3283088770,1568718495,3499326569,3576539503,621982671,2895723464,410887952,2623762152,1002142683,645401037,1494807662,2595684844,1335535747,2507040230,4293295786,3167684641,367585007,3885750714,1865862730,2668221674,2960971305,2763173681,1059270954,2777952454,2724642869,1320957812,2194319100,2429595872,2815956275,77089521,3973773121,3444575871,2448830231,1305906550,4021308739,2857194700,2516901860,3518358430,1787304780,740276417,1699839814,1592394909,2352307457,2272556026,188821243,1729977011,3687994002,274084841,3594982253,3613494426,2701949495,4162096729,322734571,2837966542,1640576439,484830689,1202797690,3537852828,4067639125,349075736,3342319475,4157467219,4255800159,1030690015,1155237496,2951971274,1757691577,607398968,2738905026,499347990,3794078908,1011452712,227885567,2818666809,213114376,3034881240,1455525988,3414450555,850817237,1817998408,3092726480],o22=[0,235474187,470948374,303765277,941896748,908933415,607530554,708780849,1883793496,2118214995,1817866830,1649639237,1215061108,1181045119,1417561698,1517767529,3767586992,4003061179,4236429990,4069246893,3635733660,3602770327,3299278474,3400528769,2430122216,2664543715,2362090238,2193862645,2835123396,2801107407,3035535058,3135740889,3678124923,3576870512,3341394285,3374361702,3810496343,3977675356,4279080257,4043610186,2876494627,2776292904,3076639029,3110650942,2472011535,2640243204,2403728665,2169303058,1001089995,899835584,666464733,699432150,59727847,226906860,530400753,294930682,1273168787,1172967064,1475418501,1509430414,1942435775,2110667444,1876241833,1641816226,2910219766,2743034109,2976151520,3211623147,2505202138,2606453969,2302690252,2269728455,3711829422,3543599269,3240894392,3475313331,3843699074,3943906441,4178062228,4144047775,1306967366,1139781709,1374988112,1610459739,1975683434,2076935265,1775276924,1742315127,1034867998,866637845,566021896,800440835,92987698,193195065,429456164,395441711,1984812685,2017778566,1784663195,1683407248,1315562145,1080094634,1383856311,1551037884,101039829,135050206,437757123,337553864,1042385657,807962610,573804783,742039012,2531067453,2564033334,2328828971,2227573024,2935566865,2700099354,3001755655,3168937228,3868552805,3902563182,4203181171,4102977912,3736164937,3501741890,3265478751,3433712980,1106041591,1340463100,1576976609,1408749034,2043211483,2009195472,1708848333,1809054150,832877231,1068351396,766945465,599762354,159417987,126454664,361929877,463180190,2709260871,2943682380,3178106961,3009879386,2572697195,2538681184,2236228733,2336434550,3509871135,3745345300,3441850377,3274667266,3910161971,3877198648,4110568485,4211818798,2597806476,2497604743,2261089178,2295101073,2733856160,2902087851,3202437046,2968011453,3936291284,3835036895,4136440770,4169408201,3535486456,3702665459,3467192302,3231722213,2051518780,1951317047,1716890410,1750902305,1113818384,1282050075,1584504582,1350078989,168810852,67556463,371049330,404016761,841739592,1008918595,775550814,540080725,3969562369,3801332234,4035489047,4269907996,3569255213,3669462566,3366754619,3332740144,2631065433,2463879762,2160117071,2395588676,2767645557,2868897406,3102011747,3069049960,202008497,33778362,270040487,504459436,875451293,975658646,675039627,641025152,2084704233,1917518562,1615861247,1851332852,1147550661,1248802510,1484005843,1451044056,933301370,967311729,733156972,632953703,260388950,25965917,328671808,496906059,1206477858,1239443753,1543208500,1441952575,2144161806,1908694277,1675577880,1842759443,3610369226,3644379585,3408119516,3307916247,4011190502,3776767469,4077384432,4245618683,2809771154,2842737049,3144396420,3043140495,2673705150,2438237621,2203032232,2370213795],o23=[0,185469197,370938394,487725847,741876788,657861945,975451694,824852259,1483753576,1400783205,1315723890,1164071807,1950903388,2135319889,1649704518,1767536459,2967507152,3152976349,2801566410,2918353863,2631447780,2547432937,2328143614,2177544179,3901806776,3818836405,4270639778,4118987695,3299409036,3483825537,3535072918,3652904859,2077965243,1893020342,1841768865,1724457132,1474502543,1559041666,1107234197,1257309336,598438867,681933534,901210569,1052338372,261314535,77422314,428819965,310463728,3409685355,3224740454,3710368113,3593056380,3875770207,3960309330,4045380933,4195456072,2471224067,2554718734,2237133081,2388260884,3212035895,3028143674,2842678573,2724322336,4138563181,4255350624,3769721975,3955191162,3667219033,3516619604,3431546947,3347532110,2933734917,2782082824,3099667487,3016697106,2196052529,2313884476,2499348523,2683765030,1179510461,1296297904,1347548327,1533017514,1786102409,1635502980,2087309459,2003294622,507358933,355706840,136428751,53458370,839224033,957055980,605657339,790073846,2373340630,2256028891,2607439820,2422494913,2706270690,2856345839,3075636216,3160175349,3573941694,3725069491,3273267108,3356761769,4181598602,4063242375,4011996048,3828103837,1033297158,915985419,730517276,545572369,296679730,446754879,129166120,213705253,1709610350,1860738147,1945798516,2029293177,1239331162,1120974935,1606591296,1422699085,4148292826,4233094615,3781033664,3931371469,3682191598,3497509347,3446004468,3328955385,2939266226,2755636671,3106780840,2988687269,2198438022,2282195339,2501218972,2652609425,1201765386,1286567175,1371368976,1521706781,1805211710,1620529459,2105887268,1988838185,533804130,350174575,164439672,46346101,870912086,954669403,636813900,788204353,2358957921,2274680428,2592523643,2441661558,2695033685,2880240216,3065962831,3182487618,3572145929,3756299780,3270937875,3388507166,4174560061,4091327024,4006521127,3854606378,1014646705,930369212,711349675,560487590,272786309,457992840,106852767,223377554,1678381017,1862534868,1914052035,2031621326,1211247597,1128014560,1580087799,1428173050,32283319,182621114,401639597,486441376,768917123,651868046,1003007129,818324884,1503449823,1385356242,1333838021,1150208456,1973745387,2125135846,1673061617,1756818940,2970356327,3120694122,2802849917,2887651696,2637442643,2520393566,2334669897,2149987652,3917234703,3799141122,4284502037,4100872472,3309594171,3460984630,3545789473,3629546796,2050466060,1899603969,1814803222,1730525723,1443857720,1560382517,1075025698,1260232239,575138148,692707433,878443390,1062597235,243256656,91341917,409198410,325965383,3403100636,3252238545,3704300486,3620022987,3874428392,3990953189,4042459122,4227665663,2460449204,2578018489,2226875310,2411029155,3198115200,3046200461,2827177882,2743944855],o24=[0,218828297,437656594,387781147,875313188,958871085,775562294,590424639,1750626376,1699970625,1917742170,2135253587,1551124588,1367295589,1180849278,1265195639,3501252752,3720081049,3399941250,3350065803,3835484340,3919042237,4270507174,4085369519,3102249176,3051593425,2734591178,2952102595,2361698556,2177869557,2530391278,2614737639,3145456443,3060847922,2708326185,2892417312,2404901663,2187128086,2504130317,2555048196,3542330227,3727205754,3375740769,3292445032,3876557655,3926170974,4246310725,4027744588,1808481195,1723872674,1910319033,2094410160,1608975247,1391201670,1173430173,1224348052,59984867,244860394,428169201,344873464,935293895,984907214,766078933,547512796,1844882806,1627235199,2011214180,2062270317,1507497298,1423022939,1137477952,1321699145,95345982,145085239,532201772,313773861,830661914,1015671571,731183368,648017665,3175501286,2957853679,2807058932,2858115069,2305455554,2220981195,2474404304,2658625497,3575528878,3625268135,3473416636,3254988725,3778151818,3963161475,4213447064,4130281361,3599595085,3683022916,3432737375,3247465558,3802222185,4020912224,4172763771,4122762354,3201631749,3017672716,2764249623,2848461854,2331590177,2280796200,2431590963,2648976442,104699613,188127444,472615631,287343814,840019705,1058709744,671593195,621591778,1852171925,1668212892,1953757831,2037970062,1514790577,1463996600,1080017571,1297403050,3673637356,3623636965,3235995134,3454686199,4007360968,3822090177,4107101658,4190530515,2997825956,3215212461,2830708150,2779915199,2256734592,2340947849,2627016082,2443058075,172466556,122466165,273792366,492483431,1047239e3,861968209,612205898,695634755,1646252340,1863638845,2013908262,1963115311,1446242576,1530455833,1277555970,1093597963,1636604631,1820824798,2073724613,1989249228,1436590835,1487645946,1337376481,1119727848,164948639,81781910,331544205,516552836,1039717051,821288114,669961897,719700128,2973530695,3157750862,2871682645,2787207260,2232435299,2283490410,2667994737,2450346104,3647212047,3564045318,3279033885,3464042516,3980931627,3762502690,4150144569,4199882800,3070356634,3121275539,2904027272,2686254721,2200818878,2384911031,2570832044,2486224549,3747192018,3528626907,3310321856,3359936201,3950355702,3867060991,4049844452,4234721005,1739656202,1790575107,2108100632,1890328081,1402811438,1586903591,1233856572,1149249077,266959938,48394827,369057872,418672217,1002783846,919489135,567498868,752375421,209336225,24197544,376187827,459744698,945164165,895287692,574624663,793451934,1679968233,1764313568,2117360635,1933530610,1343127501,1560637892,1243112415,1192455638,3704280881,3519142200,3336358691,3419915562,3907448597,3857572124,4075877127,4294704398,3029510009,3113855344,2927934315,2744104290,2159976285,2377486676,2594734927,2544078150],o25=[0,151849742,303699484,454499602,607398968,758720310,908999204,1059270954,1214797936,1097159550,1517440620,1400849762,1817998408,1699839814,2118541908,2001430874,2429595872,2581445614,2194319100,2345119218,3034881240,3186202582,2801699524,2951971274,3635996816,3518358430,3399679628,3283088770,4237083816,4118925222,4002861748,3885750714,1002142683,850817237,698445255,548169417,529487843,377642221,227885567,77089521,1943217067,2061379749,1640576439,1757691577,1474760595,1592394909,1174215055,1290801793,2875968315,2724642869,3111247143,2960971305,2405426947,2253581325,2638606623,2487810577,3808662347,3926825029,4044981591,4162096729,3342319475,3459953789,3576539503,3693126241,1986918061,2137062819,1685577905,1836772287,1381620373,1532285339,1078185097,1229899655,1040559837,923313619,740276417,621982671,439452389,322734571,137073913,19308535,3871163981,4021308739,4104605777,4255800159,3263785589,3414450555,3499326569,3651041127,2933202493,2815956275,3167684641,3049390895,2330014213,2213296395,2566595609,2448830231,1305906550,1155237496,1607244650,1455525988,1776460110,1626319424,2079897426,1928707164,96392454,213114376,396673818,514443284,562755902,679998e3,865136418,983426092,3708173718,3557504664,3474729866,3323011204,4180808110,4030667424,3945269170,3794078908,2507040230,2623762152,2272556026,2390325492,2975484382,3092726480,2738905026,2857194700,3973773121,3856137295,4274053469,4157467219,3371096953,3252932727,3673476453,3556361835,2763173681,2915017791,3064510765,3215307299,2156299017,2307622919,2459735317,2610011675,2081048481,1963412655,1846563261,1729977011,1480485785,1362321559,1243905413,1126790795,878845905,1030690015,645401037,796197571,274084841,425408743,38544885,188821243,3613494426,3731654548,3313212038,3430322568,4082475170,4200115116,3780097726,3896688048,2668221674,2516901860,2366882550,2216610296,3141400786,2989552604,2837966542,2687165888,1202797690,1320957812,1437280870,1554391400,1669664834,1787304780,1906247262,2022837584,265905162,114585348,499347990,349075736,736970802,585122620,972512814,821712160,2595684844,2478443234,2293045232,2174754046,3196267988,3079546586,2895723464,2777952454,3537852828,3687994002,3234156416,3385345166,4142626212,4293295786,3841024952,3992742070,174567692,57326082,410887952,292596766,777231668,660510266,1011452712,893681702,1108339068,1258480242,1343618912,1494807662,1715193156,1865862730,1948373848,2100090966,2701949495,2818666809,3004591147,3122358053,2235061775,2352307457,2535604243,2653899549,3915653703,3764988233,4219352155,4067639125,3444575871,3294430577,3746175075,3594982253,836553431,953270745,600235211,718002117,367585007,484830689,133361907,251657213,2041877159,1891211689,1806599355,1654886325,1568718495,1418573201,1335535747,1184342925];function o26(o0){for(var o1=[],o2=0;o2<o0.length;o2+=4)o1.push(o0[o2]<<24|o0[o2+1]<<16|o0[o2+2]<<8|o0[o2+3]);return o1}var o27=function(o0){if(!(this instanceof o27))throw Error("AES must be instanitated with `new`");Object.defineProperty(this,"key",{value:o4(o0,!0)}),this._prepare()};o27.prototype._prepare=function(){var o0=o10[this.key.length];if(null==o0)throw new Error("invalid key size (must be 16, 24 or 32 bytes)");this._Ke=[],this._Kd=[];for(var o1=0;o1<=o0;o1++)this._Ke.push([0,0,0,0]),this._Kd.push([0,0,0,0]);var o2,o3=4*(o0+1),o4=this.key.length/4,o5=o26(this.key);for(o1=0;o1<o4;o1++)o2=o1>>2,this._Ke[o2][o1%4]=o5[o1],this._Kd[o0-o2][o1%4]=o5[o1];for(var o6,o7=0,o8=o4;o8<o3;){if(o6=o5[o4-1],o5[0]^=o12[o6>>16&255]<<24^o12[o6>>8&255]<<16^o12[255&o6]<<8^o12[o6>>24&255]^o11[o7]<<24,o7+=1,8!=o4)for(o1=1;o1<o4;o1++)o5[o1]^=o5[o1-1];else{for(o1=1;o1<o4/2;o1++)o5[o1]^=o5[o1-1];o6=o5[o4/2-1],o5[o4/2]^=o12[255&o6]^o12[o6>>8&255]<<8^o12[o6>>16&255]<<16^o12[o6>>24&255]<<24;for(o1=o4/2+1;o1<o4;o1++)o5[o1]^=o5[o1-1]}for(o1=0;o1<o4&&o8<o3;)o9=o8>>2,o13=o8%4,this._Ke[o9][o13]=o5[o1],this._Kd[o0-o9][o13]=o5[o1++],o8++}for(var o9=1;o9<o0;o9++)for(var o13=0;o13<4;o13++)o6=this._Kd[o9][o13],this._Kd[o9][o13]=o22[o6>>24&255]^o23[o6>>16&255]^o24[o6>>8&255]^o25[255&o6]},o27.prototype.encrypt=function(o0){if(16!=o0.length)throw new Error("invalid plaintext size (must be 16 bytes)");for(var o1=this._Ke.length-1,o2=[0,0,0,0],o3=o26(o0),o4=0;o4<4;o4++)o3[o4]^=this._Ke[0][o4];for(var o6=1;o6<o1;o6++){for(o4=0;o4<4;o4++)o2[o4]=o14[o3[o4]>>24&255]^o15[o3[(o4+1)%4]>>16&255]^o16[o3[(o4+2)%4]>>8&255]^o17[255&o3[(o4+3)%4]]^this._Ke[o6][o4];o3=o2.slice()}var o7,o8=o5(16);for(o4=0;o4<4;o4++)o7=this._Ke[o1][o4],o8[4*o4]=255&(o12[o3[o4]>>24&255]^o7>>24),o8[4*o4+1]=255&(o12[o3[(o4+1)%4]>>16&255]^o7>>16),o8[4*o4+2]=255&(o12[o3[(o4+2)%4]>>8&255]^o7>>8),o8[4*o4+3]=255&(o12[255&o3[(o4+3)%4]]^o7);return o8},o27.prototype.decrypt=function(o0){if(16!=o0.length)throw new Error("invalid ciphertext size (must be 16 bytes)");for(var o1=this._Kd.length-1,o2=[0,0,0,0],o3=o26(o0),o4=0;o4<4;o4++)o3[o4]^=this._Kd[0][o4];for(var o6=1;o6<o1;o6++){for(o4=0;o4<4;o4++)o2[o4]=o18[o3[o4]>>24&255]^o19[o3[(o4+3)%4]>>16&255]^o20[o3[(o4+2)%4]>>8&255]^o21[255&o3[(o4+1)%4]]^this._Kd[o6][o4];o3=o2.slice()}var o7,o8=o5(16);for(o4=0;o4<4;o4++)o7=this._Kd[o1][o4],o8[4*o4]=255&(o13[o3[o4]>>24&255]^o7>>24),o8[4*o4+1]=255&(o13[o3[(o4+3)%4]>>16&255]^o7>>16),o8[4*o4+2]=255&(o13[o3[(o4+2)%4]>>8&255]^o7>>8),o8[4*o4+3]=255&(o13[255&o3[(o4+1)%4]]^o7);return o8};var o28=function(o0){if(!(this instanceof o28))throw Error("AES must be instanitated with `new`");this.description="Electronic Code Block",this.name="ecb",this._aes=new o27(o0)};o28.prototype.encrypt=function(o0){if((o0=o4(o0)).length%16!=0)throw new Error("invalid plaintext size (must be multiple of 16 bytes)");for(var o1=o5(o0.length),o2=o5(16),o3=0;o3<o0.length;o3+=16)o6(o0,o2,0,o3,o3+16),o6(o2=this._aes.encrypt(o2),o1,o3);return o1},o28.prototype.decrypt=function(o0){if((o0=o4(o0)).length%16!=0)throw new Error("invalid ciphertext size (must be multiple of 16 bytes)");for(var o1=o5(o0.length),o2=o5(16),o3=0;o3<o0.length;o3+=16)o6(o0,o2,0,o3,o3+16),o6(o2=this._aes.decrypt(o2),o1,o3);return o1};var o29=function(o0,o1){if(!(this instanceof o29))throw Error("AES must be instanitated with `new`");if(this.description="Cipher Block Chaining",this.name="cbc",o1){if(16!=o1.length)throw new Error("invalid initialation vector size (must be 16 bytes)")}else o1=o5(16);this._lastCipherblock=o4(o1,!0),this._aes=new o27(o0)};o29.prototype.encrypt=function(o0){if((o0=o4(o0)).length%16!=0)throw new Error("invalid plaintext size (must be multiple of 16 bytes)");for(var o1=o5(o0.length),o2=o5(16),o3=0;o3<o0.length;o3+=16){o6(o0,o2,0,o3,o3+16);for(var o7=0;o7<16;o7++)o2[o7]^=this._lastCipherblock[o7];this._lastCipherblock=this._aes.encrypt(o2),o6(this._lastCipherblock,o1,o3)}return o1},o29.prototype.decrypt=function(o0){if((o0=o4(o0)).length%16!=0)throw new Error("invalid ciphertext size (must be multiple of 16 bytes)");for(var o1=o5(o0.length),o2=o5(16),o3=0;o3<o0.length;o3+=16){o6(o0,o2,0,o3,o3+16),o2=this._aes.decrypt(o2);for(var o7=0;o7<16;o7++)o1[o3+o7]=o2[o7]^this._lastCipherblock[o7];o6(o0,this._lastCipherblock,0,o3,o3+16)}return o1};var o30=function(o0,o1,o2){if(!(this instanceof o30))throw Error("AES must be instanitated with `new`");if(this.description="Cipher Feedback",this.name="cfb",o1){if(16!=o1.length)throw new Error("invalid initialation vector size (must be 16 size)")}else o1=o5(16);o2||(o2=1),this.segmentSize=o2,this._shiftRegister=o4(o1,!0),this._aes=new o27(o0)};o30.prototype.encrypt=function(o0){if(o0.length%this.segmentSize!=0)throw new Error("invalid plaintext size (must be segmentSize bytes)");for(var o1,o2=o4(o0,!0),o3=0;o3<o2.length;o3+=this.segmentSize){o1=this._aes.encrypt(this._shiftRegister);for(var o5=0;o5<this.segmentSize;o5++)o2[o3+o5]^=o1[o5];o6(this._shiftRegister,this._shiftRegister,0,this.segmentSize),o6(o2,this._shiftRegister,16-this.segmentSize,o3,o3+this.segmentSize)}return o2},o30.prototype.decrypt=function(o0){if(o0.length%this.segmentSize!=0)throw new Error("invalid ciphertext size (must be segmentSize bytes)");for(var o1,o2=o4(o0,!0),o3=0;o3<o2.length;o3+=this.segmentSize){o1=this._aes.encrypt(this._shiftRegister);for(var o5=0;o5<this.segmentSize;o5++)o2[o3+o5]^=o1[o5];o6(this._shiftRegister,this._shiftRegister,0,this.segmentSize),o6(o0,this._shiftRegister,16-this.segmentSize,o3,o3+this.segmentSize)}return o2};var o31=function(o0,o1){if(!(this instanceof o31))throw Error("AES must be instanitated with `new`");if(this.description="Output Feedback",this.name="ofb",o1){if(16!=o1.length)throw new Error("invalid initialation vector size (must be 16 bytes)")}else o1=o5(16);this._lastPrecipher=o4(o1,!0),this._lastPrecipherIndex=16,this._aes=new o27(o0)};o31.prototype.encrypt=function(o0){for(var o1=o4(o0,!0),o2=0;o2<o1.length;o2++)16===this._lastPrecipherIndex&&(this._lastPrecipher=this._aes.encrypt(this._lastPrecipher),this._lastPrecipherIndex=0),o1[o2]^=this._lastPrecipher[this._lastPrecipherIndex++];return o1},o31.prototype.decrypt=o31.prototype.encrypt;var o32=function(o0){if(!(this instanceof o32))throw Error("Counter must be instanitated with `new`");0===o0||o0||(o0=1),"number"==typeof o0?(this._counter=o5(16),this.setValue(o0)):this.setBytes(o0)};o32.prototype.setValue=function(o0){if("number"!=typeof o0||parseInt(o0)!=o0)throw new Error("invalid counter value (must be an integer)");if(o0>Number.MAX_SAFE_INTEGER)throw new Error("integer value out of safe range");for(var o1=15;o1>=0;--o1)this._counter[o1]=o0%256,o0=parseInt(o0/256)},o32.prototype.setBytes=function(o0){if(16!=(o0=o4(o0,!0)).length)throw new Error("invalid counter bytes size (must be 16 bytes)");this._counter=o0},o32.prototype.increment=function(){for(var o0=15;o0>=0;o0--){if(255!==this._counter[o0]){this._counter[o0]++;break}this._counter[o0]=0}};var o33=function(o0,o1){if(!(this instanceof o33))throw Error("AES must be instanitated with `new`");this.description="Counter",this.name="ctr",o1 instanceof o32||(o1=new o32(o1)),this._counter=o1,this._remainingCounter=null,this._remainingCounterIndex=16,this._aes=new o27(o0)};o33.prototype.encrypt=function(o0){for(var o1=o4(o0,!0),o2=0;o2<o1.length;o2++)16===this._remainingCounterIndex&&(this._remainingCounter=this._aes.encrypt(this._counter._counter),this._remainingCounterIndex=0,this._counter.increment()),o1[o2]^=this._remainingCounter[this._remainingCounterIndex++];return o1},o33.prototype.decrypt=o33.prototype.encrypt;var o34={AES:o27,Counter:o32,ModeOfOperation:{ecb:o28,cbc:o29,cfb:o30,ofb:o31,ctr:o33},utils:{hex:o9,utf8:o8},padding:{pkcs7:{pad:function(o0){var o1=16-(o0=o4(o0,!0)).length%16,o2=o5(o0.length+o1);o6(o0,o2);for(var o3=o0.length;o3<o2.length;o3++)o2[o3]=o1;return o2},strip:function(o0){if((o0=o4(o0,!0)).length<16)throw new Error("PKCS#7 invalid length");var o1=o0[o0.length-1];if(o1>16)throw new Error("PKCS#7 padding byte out of range");for(var o2=o0.length-o1,o3=0;o3<o1;o3++)if(o0[o2+o3]!==o1)throw new Error("PKCS#7 invalid padding byte");var o7=o5(o2);return o6(o0,o7,0,0,o2),o7}}},_arrayTest:{coerceArray:o4,createArray:o5,copyArray:o6}};o0.exports=o34}()},6392:(o0,o1,o2)=>{var o3=o2(6512),o4=o7(o2(696)),o5=o7(o2(6212)),o6=o7(o2(9708));function o7(o0){return o0&&o0.__esModule?o0:{default:o0}}var o8=o2(4936),o9=o2(3792),o10=o2(2300),o11=o2(9496).Writable,o12=o2(8248),o13=o2(6732),o14=o2(5440),o15=o2(9707),o16=o2.g.setImmediate||function(o0){o3.nextTick(o0)},o17={keepalive:60,reschedulePings:!0,protocolId:"MQTT",protocolVersion:4,reconnectPeriod:1e3,connectTimeout:3e4,clean:!0,resubscribe:!0},o18={0:"",1:"Unacceptable protocol version",2:"Identifier rejected",3:"Server unavailable",4:"Bad username or password",5:"Not authorized",16:"No matching subscribers",17:"No subscription existed",128:"Unspecified error",129:"Malformed Packet",130:"Protocol Error",131:"Implementation specific error",132:"Unsupported Protocol Version",133:"Client Identifier not valid",134:"Bad User Name or Password",135:"Not authorized",136:"Server unavailable",137:"Server busy",138:"Banned",139:"Server shutting down",140:"Bad authentication method",141:"Keep Alive timeout",142:"Session taken over",143:"Topic Filter invalid",144:"Topic Name invalid",145:"Packet identifier in use",146:"Packet Identifier not found",147:"Receive Maximum exceeded",148:"Topic Alias invalid",149:"Packet too large",150:"Message rate too high",151:"Quota exceeded",152:"Administrative action",153:"Payload format invalid",154:"Retain not supported",155:"QoS not supported",156:"Use another server",157:"Server moved",158:"Shared Subscriptions not supported",159:"Connection rate exceeded",160:"Maximum connect time",161:"Subscription Identifiers not supported",162:"Wildcard Subscriptions not supported"};function o19(o0,o1,o2){o0.emit("packetsend",o1),!o10.writeToStream(o1,o0.stream,o0.options)&&o2?o0.stream.once("drain",o2):o2&&o2()}function o20(o0){o0&&(0,o6.default)(o0).forEach((function(o1){"function"==typeof o0[o1]&&(o0[o1](new Error("Connection closed")),delete o0[o1])}))}function o21(o0,o1,o2,o3){o0.outgoingStore.put(o1,(function(o4){if(o4)return o2&&o2(o4);o3(),o19(o0,o1,o2)}))}function o22(){}function o23(o0,o1){var o2,o3=this;if(!(this instanceof o23))return new o23(o0,o1);for(o2 in this.options=o1||{},o17)void 0===this.options[o2]?this.options[o2]=o17[o2]:this.options[o2]=o1[o2];this.options.clientId="string"==typeof o1.clientId?o1.clientId:"mqttjs_"+Math.random().toString(16).substr(2,8),this.options.customHandleAcks=5===o1.protocolVersion&&o1.customHandleAcks?o1.customHandleAcks:function(){arguments[3](0)},this.streamBuilder=o0,this.outgoingStore=o1.outgoingStore||new o9,this.incomingStore=o1.incomingStore||new o9,this.queueQoSZero=void 0===o1.queueQoSZero||o1.queueQoSZero,this._resubscribeTopics={},this.messageIdToTopic={},this.pingTimer=null,this.connected=!1,this.disconnecting=!1,this.queue=[],this.connackTimer=null,this.reconnectTimer=null,this._storeProcessing=!1,this._packetIdsDuringStoreProcessing={},this.nextId=Math.max(1,Math.floor(65535*Math.random())),this.outgoing={},this._firstConnection=!0,this.on("close",(function(){this.connected=!1,clearTimeout(this.connackTimer)})),this.on("connect",(function(){var o0=this.queue;!function o1(){var o2,o4=o0.shift();o4&&(o2=o4.packet,o3._sendPacket(o2,(function(o0){o4.cb&&o4.cb(o0),o1()})))}()})),this.on("close",(function(){null!==o3.pingTimer&&(o3.pingTimer.clear(),o3.pingTimer=null)})),o8.EventEmitter.call(this),this._setupStream()}o12(o23,o8.EventEmitter),o23.prototype._setupStream=function(){var o0,o1=this,o2=new o11,o6=o10.parser(this.options),o7=null,o8=[];function o9(){if(o8.length)o3.nextTick(o12);else{var o0=o7;o7=null,o0()}}function o12(){var o0=o8.shift();if(o0)o1._handlePacket(o0,o9);else{var o2=o7;o7=null,o2&&o2()}}if(this._clearReconnect(),this.stream=this.streamBuilder(this),o6.on("packet",(function(o0){o8.push(o0)})),o2._write=function(o0,o1,o2){o7=o2,o6.parse(o0),o12()},this.stream.pipe(o2),this.stream.on("error",o22),this.stream.on("close",(function(){o1.emit("close")})),(o0=(0,o5.default)(this.options)).cmd="connect",o19(this,o0),o6.on("error",this.emit.bind(this,"error")),this.options.properties){if(!this.options.properties.authenticationMethod&&this.options.properties.authenticationData)return this.emit("error",new Error("Packet has no Authentication Method")),this;if(this.options.properties.authenticationMethod&&this.options.authPacket&&"object"===(0,o4.default)(this.options.authPacket))o19(this,o15({cmd:"auth",reasonCode:0},this.options.authPacket))}this.stream.setMaxListeners(1e3),clearTimeout(this.connackTimer),this.connackTimer=setTimeout((function(){o1._cleanUp(!0)}),this.options.connectTimeout)},o23.prototype._handlePacket=function(o0,o1){var o2=this.options;if(5===o2.protocolVersion&&o2.properties&&o2.properties.maximumPacketSize&&o2.properties.maximumPacketSize<o0.length)return this.emit("error",new Error("exceeding packets size "+o0.cmd)),this.end({reasonCode:149,properties:{reasonString:"Maximum packet size was exceeded"}}),this;switch(this.emit("packetreceive",o0),o0.cmd){case"publish":try{this._handlePublish(o0,o1)}catch(o0){console.error(o0)}break;case"puback":case"pubrec":case"pubcomp":case"suback":case"unsuback":try{this._handleAck(o0)}catch(o0){console.log(o0)}o1();break;case"pubrel":this._handlePubrel(o0,o1);break;case"connack":this._handleConnack(o0),o1();break;case"pingresp":this._handlePingresp(o0),o1();break;case"disconnect":this._handleDisconnect(o0),o1()}},o23.prototype._checkDisconnecting=function(o0){return this.disconnecting&&(o0?o0(new Error("client disconnecting")):this.emit("error",new Error("client disconnecting"))),this.disconnecting},o23.prototype.publish=function(o0,o1,o2,o3){var o4,o5=this.options;"function"==typeof o2&&(o3=o2,o2=null);if(o2=o15({qos:0,retain:!1,dup:!1},o2),this._checkDisconnecting(o3))return this;switch(o4={cmd:"publish",topic:o0,payload:o1,qos:o2.qos,retain:o2.retain,messageId:this._nextId(),dup:o2.dup},5===o5.protocolVersion&&(o4.properties=o2.properties,(!o5.properties&&o4.properties&&o4.properties.topicAlias||o2.properties&&o5.properties&&(o2.properties.topicAlias&&o5.properties.topicAliasMaximum&&o2.properties.topicAlias>o5.properties.topicAliasMaximum||!o5.properties.topicAliasMaximum&&o2.properties.topicAlias))&&delete o4.properties.topicAlias),o2.qos){case 1:case 2:this.outgoing[o4.messageId]=o3||o22,this._storeProcessing?(this._packetIdsDuringStoreProcessing[o4.messageId]=!1,this._storePacket(o4,void 0,o2.cbStorePut)):this._sendPacket(o4,void 0,o2.cbStorePut);break;default:this._storeProcessing?this._storePacket(o4,o3,o2.cbStorePut):this._sendPacket(o4,o3,o2.cbStorePut)}return this},o23.prototype.subscribe=function(){for(var o0,o1=new Array(arguments.length),o2=0;o2<arguments.length;o2++)o1[o2]=arguments[o2];var o3,o4=[],o5=o1.shift(),o7=o5.resubscribe,o8=o1.pop()||o22,o9=o1.pop(),o10=this,o11=this.options.protocolVersion;if(delete o5.resubscribe,"string"==typeof o5&&(o5=[o5]),"function"!=typeof o8&&(o9=o8,o8=o22),null!==(o3=o14.validateTopics(o5)))return o16(o8,new Error("Invalid topic "+o3)),this;if(this._checkDisconnecting(o8))return this;var o12={qos:0};if(5===o11&&(o12.nl=!1,o12.rap=!1,o12.rh=0),o9=o15(o12,o9),Array.isArray(o5)?o5.forEach((function(o0){if(!o10._resubscribeTopics.hasOwnProperty(o0)||o10._resubscribeTopics[o0].qos<o9.qos||o7){var o1={topic:o0,qos:o9.qos};5===o11&&(o1.nl=o9.nl,o1.rap=o9.rap,o1.rh=o9.rh,o1.properties=o9.properties),o4.push(o1)}})):(0,o6.default)(o5).forEach((function(o0){if(!o10._resubscribeTopics.hasOwnProperty(o0)||o10._resubscribeTopics[o0].qos<o5[o0].qos||o7){var o1={topic:o0,qos:o5[o0].qos};5===o11&&(o1.nl=o5[o0].nl,o1.rap=o5[o0].rap,o1.rh=o5[o0].rh,o1.properties=o9.properties),o4.push(o1)}})),o0={cmd:"subscribe",subscriptions:o4,qos:1,retain:!1,dup:!1,messageId:this._nextId()},o9.properties&&(o0.properties=o9.properties),o4.length){if(this.options.resubscribe){var o13=[];o4.forEach((function(o0){if(o10.options.reconnectPeriod>0){var o1={qos:o0.qos};5===o11&&(o1.nl=o0.nl||!1,o1.rap=o0.rap||!1,o1.rh=o0.rh||0,o1.properties=o0.properties),o10._resubscribeTopics[o0.topic]=o1,o13.push(o0.topic)}})),o10.messageIdToTopic[o0.messageId]=o13}return this.outgoing[o0.messageId]=function(o0,o1){if(!o0)for(var o2=o1.granted,o3=0;o3<o2.length;o3+=1)o4[o3].qos=o2[o3];o8(o0,o4)},this._sendPacket(o0),this}o8(null,[])},o23.prototype.unsubscribe=function(){for(var o0={cmd:"unsubscribe",qos:1,messageId:this._nextId()},o1=this,o2=new Array(arguments.length),o3=0;o3<arguments.length;o3++)o2[o3]=arguments[o3];var o5=o2.shift(),o6=o2.pop()||o22,o7=o2.pop();return"string"==typeof o5&&(o5=[o5]),"function"!=typeof o6&&(o7=o6,o6=o22),this._checkDisconnecting(o6)||("string"==typeof o5?o0.unsubscriptions=[o5]:"object"===(void 0===o5?"undefined":(0,o4.default)(o5))&&o5.length&&(o0.unsubscriptions=o5),this.options.resubscribe&&o0.unsubscriptions.forEach((function(o0){delete o1._resubscribeTopics[o0]})),"object"===(void 0===o7?"undefined":(0,o4.default)(o7))&&o7.properties&&(o0.properties=o7.properties),this.outgoing[o0.messageId]=o6,this._sendPacket(o0)),this},o23.prototype.end=function(){var o0=this,o1=arguments[0],o2=arguments[1],o3=arguments[2];function o5(){o0.disconnected=!0,o0.incomingStore.close((function(){o0.outgoingStore.close((function(){o3&&o3.apply(null,arguments),o0.emit("end")}))})),o0._deferredReconnect&&o0._deferredReconnect()}function o7(){o0._cleanUp(o1,o16.bind(null,o5),o2)}return null!=o1&&"boolean"==typeof o1||(o3=o2||o22,o2=o1,o1=!1,"object"!==(void 0===o2?"undefined":(0,o4.default)(o2))&&(o3=o2,o2=null,"function"!=typeof o3&&(o3=o22))),"object"!==(void 0===o2?"undefined":(0,o4.default)(o2))&&(o3=o2,o2=null),o3=o3||o22,this.disconnecting||(this._clearReconnect(),this.disconnecting=!0,!o1&&(0,o6.default)(this.outgoing).length>0?this.once("outgoingEmpty",setTimeout.bind(null,o7,10)):o7()),this},o23.prototype.removeOutgoingMessage=function(o0){var o1=this.outgoing[o0];return delete this.outgoing[o0],this.outgoingStore.del({messageId:o0},(function(){o1(new Error("Message removed"))})),this},o23.prototype.reconnect=function(o0){var o1=this,o2=function(){o0?(o1.options.incomingStore=o0.incomingStore,o1.options.outgoingStore=o0.outgoingStore):(o1.options.incomingStore=null,o1.options.outgoingStore=null),o1.incomingStore=o1.options.incomingStore||new o9,o1.outgoingStore=o1.options.outgoingStore||new o9,o1.disconnecting=!1,o1.disconnected=!1,o1._deferredReconnect=null,o1._reconnect()};return this.disconnecting&&!this.disconnected?this._deferredReconnect=o2:o2(),this},o23.prototype._reconnect=function(){this.emit("reconnect"),this._setupStream()},o23.prototype._setupReconnect=function(){var o0=this;!o0.disconnecting&&!o0.reconnectTimer&&o0.options.reconnectPeriod>0&&(this.reconnecting||(this.emit("offline"),this.reconnecting=!0),o0.reconnectTimer=setInterval((function(){o0._reconnect()}),o0.options.reconnectPeriod))},o23.prototype._clearReconnect=function(){this.reconnectTimer&&(clearInterval(this.reconnectTimer),this.reconnectTimer=null)},o23.prototype._cleanUp=function(o0,o1){var o2=arguments[2];if(o1&&this.stream.on("close",o1),o0)0===this.options.reconnectPeriod&&this.options.clean&&o20(this.outgoing),this.stream.destroy();else{var o3=o15({cmd:"disconnect"},o2);this._sendPacket(o3,o16.bind(null,this.stream.end.bind(this.stream)))}this.disconnecting||(this._clearReconnect(),this._setupReconnect()),null!==this.pingTimer&&(this.pingTimer.clear(),this.pingTimer=null),o1&&!this.connected&&(this.stream.removeListener("close",o1),o1())},o23.prototype._sendPacket=function(o0,o1,o2){if(o2=o2||o22,this.connected){switch(this._shiftPingInterval(),o0.cmd){case"publish":break;case"pubrel":return void o21(this,o0,o1,o2);default:return void o19(this,o0,o1)}switch(o0.qos){case 2:case 1:o21(this,o0,o1,o2);break;default:o19(this,o0,o1)}}else this._storePacket(o0,o1,o2)},o23.prototype._storePacket=function(o0,o1,o2){o2=o2||o22,0===(o0.qos||0)&&this.queueQoSZero||"publish"!==o0.cmd?this.queue.push({packet:o0,cb:o1}):o0.qos>0?(o1=this.outgoing[o0.messageId],this.outgoingStore.put(o0,(function(o0){if(o0)return o1&&o1(o0);o2()}))):o1&&o1(new Error("No connection to broker"))},o23.prototype._setupPingTimer=function(){var o0=this;!this.pingTimer&&this.options.keepalive&&(this.pingResp=!0,this.pingTimer=o13((function(){o0._checkPing()}),1e3*this.options.keepalive))},o23.prototype._shiftPingInterval=function(){this.pingTimer&&this.options.keepalive&&this.options.reschedulePings&&this.pingTimer.reschedule(1e3*this.options.keepalive)},o23.prototype._checkPing=function(){this.pingResp?(this.pingResp=!1,this._sendPacket({cmd:"pingreq"})):this._cleanUp(!0)},o23.prototype._handlePingresp=function(){this.pingResp=!0,this.emit("pingresp",(new Date).getTime())},o23.prototype._handleConnack=function(o0){var o1=this.options,o2=5===o1.protocolVersion?o0.reasonCode:o0.returnCode;if(clearTimeout(this.connackTimer),o0.properties&&(o0.properties.topicAliasMaximum&&(o1.properties||(o1.properties={}),o1.properties.topicAliasMaximum=o0.properties.topicAliasMaximum),o0.properties.serverKeepAlive&&o1.keepalive&&(o1.keepalive=o0.properties.serverKeepAlive,this._shiftPingInterval()),o0.properties.maximumPacketSize&&(o1.properties||(o1.properties={}),o1.properties.maximumPacketSize=o0.properties.maximumPacketSize)),0===o2)this.reconnecting=!1,this._onConnect(o0);else if(o2>0){var o3=new Error("Connection refused: "+o18[o2]);o3.code=o2,this.emit("error",o3)}},o23.prototype._handlePublish=function(o0,o1){o1=void 0!==o1?o1:o22;var o2=o0.topic.toString(),o3=o0.payload,o4=o0.qos,o5=o0.messageId,o6=this,o7=this.options,o8=[0,16,128,131,135,144,145,151,153];switch(o4){case 2:o7.customHandleAcks(o2,o3,o0,(function(o2,o3){return o2 instanceof Error||(o3=o2,o2=null),o2?o6.emit("error",o2):-1===o8.indexOf(o3)?o6.emit("error",new Error("Wrong reason code for pubrec")):void(o3?o6._sendPacket({cmd:"pubrec",messageId:o5,reasonCode:o3},o1):o6.incomingStore.put(o0,(function(){o6._sendPacket({cmd:"pubrec",messageId:o5},o1)})))}));break;case 1:o7.customHandleAcks(o2,o3,o0,(function(o4,o7){return o4 instanceof Error||(o7=o4,o4=null),o4?o6.emit("error",o4):-1===o8.indexOf(o7)?o6.emit("error",new Error("Wrong reason code for puback")):(o7||o6.emit("message",o2,o3,o0),void o6.handleMessage(o0,(function(o0){if(o0)return o1&&o1(o0);o6._sendPacket({cmd:"puback",messageId:o5,reasonCode:o7},o1)})))}));break;case 0:this.emit("message",o2,o3,o0),this.handleMessage(o0,o1)}},o23.prototype.handleMessage=function(o0,o1){o1()},o23.prototype._handleAck=function(o0){var o1,o2=o0.messageId,o3=o0.cmd,o4=null,o5=this.outgoing[o2],o7=this;if(o5){switch(o3){case"pubcomp":case"puback":var o8=o0.reasonCode;o8&&o8>0&&16!==o8&&10!==o8?((o1=new Error("Publish error: "+o18[o8])).code=o8,o5(o1,o0)):o8&&10===o8&&o5(null,o0),delete this.outgoing[o2],this.outgoingStore.del(o0,o5);break;case"pubrec":o4={cmd:"pubrel",qos:2,messageId:o2};var o9=o0.reasonCode;o9&&o9>0&&16!==o9?((o1=new Error("Publish error: "+o18[o9])).code=o9,o5(o1,o0)):this._sendPacket(o4);break;case"suback":delete this.outgoing[o2];for(var o10=0;o10<o0.granted.length;o10++)if(0!=(128&o0.granted[o10])){var o11=this.messageIdToTopic[o2];o11&&o11.forEach((function(o0){delete o7._resubscribeTopics[o0]}))}o5(null,o0);break;case"unsuback":delete this.outgoing[o2],o5(null);break;default:o7.emit("error",new Error("unrecognized packet type"))}this.disconnecting&&0===(0,o6.default)(this.outgoing).length&&this.emit("outgoingEmpty")}},o23.prototype._handlePubrel=function(o0,o1){o1=void 0!==o1?o1:o22;var o2=o0.messageId,o3=this,o4={cmd:"pubcomp",messageId:o2};o3.incomingStore.get(o0,(function(o0,o2){o0?o3._sendPacket(o4,o1):(o3.emit("message",o2.topic,o2.payload,o2),o3.handleMessage(o2,(function(o0){if(o0)return o1(o0);o3.incomingStore.del(o2,o22),o3._sendPacket(o4,o1)})))}))},o23.prototype._handleDisconnect=function(o0){this.emit("disconnect",o0)},o23.prototype._nextId=function(){var o0=this.nextId++;return 65536===this.nextId&&(this.nextId=1),o0},o23.prototype.getLastMessageId=function(){return 1===this.nextId?65535:this.nextId-1},o23.prototype._resubscribe=function(o0){var o1=(0,o6.default)(this._resubscribeTopics);if(!this._firstConnection&&(this.options.clean||5===this.options.protocolVersion&&!o0.sessionPresent)&&o1.length>0)if(this.options.resubscribe)if(5===this.options.protocolVersion)for(var o2=0;o2<o1.length;o2++){var o3={};o3[o1[o2]]=this._resubscribeTopics[o1[o2]],o3.resubscribe=!0,this.subscribe(o3,{properties:o3[o1[o2]].properties})}else this._resubscribeTopics.resubscribe=!0,this.subscribe(this._resubscribeTopics);else this._resubscribeTopics={};this._firstConnection=!1},o23.prototype._onConnect=function(o0){if(this.disconnected)this.emit("connect",o0);else{var o1=this;this._setupPingTimer(),this._resubscribe(o0),this.connected=!0,function o2(){var o3=o1.outgoingStore.createStream();function o4(){o1._storeProcessing=!1,o1._packetIdsDuringStoreProcessing={}}function o5(){o3.destroy(),o3=null,o4()}o1.once("close",o5),o3.on("error",(function(o0){o4(),o1.removeListener("close",o5),o1.emit("error",o0)})),o3.on("end",(function(){var o3=!0;for(var o6 in o1._packetIdsDuringStoreProcessing)if(!o1._packetIdsDuringStoreProcessing[o6]){o3=!1;break}o3?(o4(),o1.removeListener("close",o5),o1.emit("connect",o0)):o2()})),function o0(){if(o3){o1._storeProcessing=!0;var o2,o4=o3.read(1);o4?o1._packetIdsDuringStoreProcessing[o4.messageId]?o0():o1.disconnecting||o1.reconnectTimer?o3.destroy&&o3.destroy():(o2=o1.outgoing[o4.messageId],o1.outgoing[o4.messageId]=function(o1,o3){o2&&o2(o1,o3),o0()},o1._packetIdsDuringStoreProcessing[o4.messageId]=!0,o1._sendPacket(o4)):o3.once("readable",o0)}}()}()}},o0.exports=o23},9048:(o0,o1,o2)=>{var o3=o2(3296).Buffer,o4=o6(o2(8792)),o5=o6(o2(696));function o6(o0){return o0&&o0.__esModule?o0:{default:o0}}var o7,o8,o9,o10=o2(9496).Transform,o11=o2(7491),o12=o2(5704),o13=!1;o0.exports=function(o0,o1){if(o1.hostname=o1.hostname||o1.host,!o1.hostname)throw new Error("Could not determine host. Specify host manually.");"MQIsdp"===o1.protocolId&&o1.protocolVersion,function(o0){o0.hostname||(o0.hostname="localhost"),o0.path||(o0.path="/"),o0.wsOptions||(o0.wsOptions={})}(o1);var o2=function(o0,o1){var o2="alis"===o0.protocol?"wss":"ws",o3=o2+"://"+o0.hostname+o0.path;return o0.port&&80!==o0.port&&443!==o0.port&&(o3=o2+"://"+o0.hostname+":"+o0.port+o0.path),"function"==typeof o0.transformWsUrl&&(o3=o0.transformWsUrl(o3,o0,o1)),console.log("url",o3),o3}(o1,o0);return(o7=o1.extra.mp).connectSocket({url:o2,headers:{"Sec-WebSocket-Protocol":"mqtt"},fail:function(o0){console.log("connectSocket fail",o0)}}),o8=function(){var o0=new o10;return o0._write=function(o0,o1,o2){var o3=o0.toString("base64");o7.sendSocketMessage({data:o3,isBuffer:!0,success:function(){o2()},fail:function(){o2(new Error)}})},o0._flush=function(o0){o7.closeSocket({success:function(){o0()}})},o0}(),o9=o11.obj(),o13||(o13=!0,o7.onSocketOpen((function(){console.log("onSocketOpen"),o9.setReadable(o8),o9.setWritable(o8),o9.emit("connect")})),o7.onSocketMessage((function(o0){if(console.log("onSocketMessage",o0,(0,o5.default)(o0.data)),"string"==typeof o0.data){var o1=o0.data.replace(/\s+/g,""),o2=o12.toByteArray(o1,""),o4=o3.from(o2);o8.push(o4)}else if(o0.data instanceof ArrayBuffer){var o6=o3.from(o0.data);o8.push(o6)}else o0.data.arrayBuffer().then((function(o0){o0=o0 instanceof ArrayBuffer?o3.from(o0):o0.byteLength>0?o3.from(new Uint8Array(o0)):o3.from(o0,"utf8"),o8.push(o0)}))})),o7.onSocketClose((function(o0){console.log("onSocketClose",(0,o4.default)(o0)),o9.end(),o9.destroy(),o9.emit("close")})),o7.onSocketError((function(o0){console.log("onSocketError",o0),o9.destroy(o0),o9.emit("error")}))),o9}},5656:(o0,o1,o2)=>{var o3,o4,o5,o6=o2(3296).Buffer,o7=o2(6512),o8=o2(9496).Transform,o9=o2(7491);o0.exports=function(o0,o1){if(o1.hostname=o1.hostname||o1.host,!o1.hostname)throw new Error("Could not determine host. Specify host manually.");var o2="MQIsdp"===o1.protocolId&&3===o1.protocolVersion?"mqttv3.1":"mqtt";!function(o0){o0.hostname||(o0.hostname="localhost"),o0.path||(o0.path="/"),o0.wsOptions||(o0.wsOptions={})}(o1);var o10=function(o0,o1){var o2="bds"===o0.protocol?"wss":"ws",o3=o2+"://"+o0.hostname+o0.path;return o0.port&&80!==o0.port&&443!==o0.port&&(o3=o2+"://"+o0.hostname+":"+o0.port+o0.path),"function"==typeof o0.transformWsUrl&&(o3=o0.transformWsUrl(o3,o0,o1)),o3}(o1,o0);o3=swan.connectSocket({url:o10,protocols:[o2],fail:function(o0){console.log("connectSocket fail",o0)}}),o4=function(){var o0=new o8;return o0._write=function(o0,o1,o2){o3.send({data:o0.buffer,success:function(){o2()},fail:function(o0){o2(new Error(o0))}})},o0._flush=function(o0){o3.close({success:function(){o0()}})},o0}(),(o5=o9.obj())._destroy=function(o0,o1){o3.close({success:function(){o1&&o1(o0)}})};var o11=o5.destroy;return o5.destroy=function(){o5.destroy=o11;var o0=this;o7.nextTick((function(){o3.close({fail:function(){o0._destroy(new Error)}})}))}.bind(o5),o3.onOpen((function(){o5.setReadable(o4),o5.setWritable(o4),o5.emit("connect")})),o3.onMessage((function(o0){var o1=o0.data;o1=o1 instanceof ArrayBuffer?o6.from(o1):o6.from(o1,"utf8"),o4.push(o1)})),o3.onClose((function(){o5.end(),o5.destroy(),o5.emit("close")})),o3.onError((function(o0){o5.destroy(new Error(o0.errMsg)),o5.emit("error")})),o5}},9824:(o0,o1,o2)=>{var o3=o2(6512),o4=o2(3296).Buffer,o5=o8(o2(696)),o6=o2(9444),o7=o8(o2(2816));function o8(o0){return o0&&o0.__esModule?o0:{default:o0}}var o9=o2(6392),o10=o2(3792),o11=o2(4776),o12=o2(9707),o13={},o14="wildfirechat.net",o15="wx_12345678",o16="83ae04335b791d68df7eb12df7cc732bcdc8a417";function o17(o0,o1,o3,o5,o8){!function(o0,o1,o3,o5,o8){var o9=void 0,o10=o7.default.ROUTE_PORT?o7.default.ROUTE_PORT:80;o7.default.USE_WSS?(o20("https route"),o9="https://wildfirechat.net"+(443!==o10?":"+o10:"")+"/route"):o9="http://wildfirechat.net"+(80!==o10?":"+o10:"")+"/route";var o11=o2(7868),o12=o2(2827),o13=o11.Root.fromJSON(o12),o17=o13.lookupType("RouteRequest"),o21=o13.lookupType("RouteResponse"),o22=o13.lookupType("IMHttpWrapper"),o23=o2(7480).AESDecrypt,o24=o2(7480).Uint8ToStr,o25=o2(7480).AESEncrypt,o26="",o27="",o28=o2(8).Y,o29=o2(8).O,o30=o17.create();o30.app="cn.wildfirechat.chat.wx",o30.appVersion="0.1",o30.deviceName="wx",o30.platform=6,o30.phoneName="browser",o30.sdkVersion="0.1",o30.wxAppId=o15,o30.wxAppKey=o16,o30.language=o7.default.LANGUAGE;var o31=void 0;try{o31=o24(o23(o3,"",!1))}catch(o0){o20("token error!!!")}var o32=o31.split("|")[0];o26=o31.split("|")[1],o27=new o4(o25(o32,o26),"base64"),o30.host=o25("wildfirechat.net","");var o33=o17.encode(o30).finish(),o34=o22.create();o34.clientId=o1,o34.token=o32,o34.request="ROUTE",o34.data=o33;var o35=o22.encode(o34).finish(),o36=o25(o35,o26);o8.mp.request({url:o9,data:o36,header:{"content-type":"application/octet-stream",p:"wx",cid:o25(o1),uid:o25(o0),"Content-Type":"application/octet-stream",appId:o15,appKey:o16},headers:{"content-type":"application/octet-stream",p:"wx",cid:o25(o1),uid:o25(o0),"Content-Type":"application/octet-stream",appId:o15,appKey:o16},method:"POST",dataType:"text",success:function(o2){if(200===o2.statusCode||200===o2.status){var o3=o28(o2.data),o4=new Int8Array(o3,0,1);if(0===o4[0]){for(var o10=o29(o3.slice(1)),o11=o23(o10,o26,!0),o12=o21.decode(o11),o13=o12.node+"|wildfirechat.net",o15="",o16=0;o16<o13.length;o16++)o15+=String.fromCharCode(90^o13[o16].charCodeAt(0));o13=(0,o6.btoa)(unescape(encodeURIComponent(o15)));var o17={keepalive:o7.default.KEEP_ALIVE_TIMEOUT,clientId:o1,protocolId:"MQTT",protocolVersion:6,clean:!0,reconnectPeriod:0,resubscribe:!1,connectTimeout:2e4,a:o14,will:{topic:o13,payload:"Connection Closed abnormally..!",qos:1,retain:!1},rejectUnauthorized:!1};o17.username=o0,o17.password=o27,o17.extra=o8;var o22=(new Date).getTime(),o24=void 0,o25=(8&o12.commercial)>0,o30=void 0;o20("route res",o12.host,o12.longPort,o12.wssPort),o7.default.USE_WSS?(o20("wss mqtts"),o30=(o30=o25?o12.wssPort:o12.longPort)||o12.longPort,o24=o18(o8.scheme+"s://"+o12.host+":"+o30,o17)):(o20("ws mqtt",o7.default.USE_WSS),o30=o12.longPort,o24=o18(o8.scheme+"://"+o12.host+":"+o30,o17)),o19=o12.host;var o31={isReceiptEnable:(2&o12.commercial)>0,isClearGroupMsgWhenKickoff:(4&o12.commercial)>0,isDisableRoamingConvList:(16&o12.commercial)>0,isKeepMsgAfterDismiss:(32&o12.commercial)>0,isSupportBigFileUpload:(64&o12.commercial)>0,isBackupDownloadUrl:(128&o12.commercial)>0,isGlobalDisableSyncDraft:(256&o12.commercial)>0,isSupportQos0Message:(512&o12.commercial)>0,isUserOnlineStateEnable:(1024&o12.commercial)>0,isMeshEnable:(32768&o12.commercial)>0};(1&o12.commercial)>0?o5(0,o24,o26,o22,o31,function(){var o0=void 0,o1=o7.default.ROUTE_PORT?o7.default.ROUTE_PORT:80;o7.default.USE_WSS?(o20("https im"),o0="https://wildfirechat.net"+(443!==o1?":"+o1:"")):o0="http://wildfirechat.net"+(80!==o1?":"+o1:"");return o0}()):o5(-1)}else o20("route error",o9,o4[0]),o5(o4[0])}else console.log("route error",o2)},fail:function(o0){o20("http route errorUSE_WSSROUTE_PORT",o9,o0,o8.mp.request.status),o5(-1)}})}(o0,o1,o3,o5,o8)}function o18(o0,o1){if("object"!==(void 0===o0?"undefined":(0,o5.default)(o0))||o1||(o1=o0,o0=null),o1=o1||{},o0){var o2=o11.parse(o0,!0);if(null!=o2.port&&(o2.port=Number(o2.port)),null===(o1=o12(o2,o1)).protocol)throw new Error("Missing protocol");o1.protocol=o1.protocol.replace(/:$/,"")}if(function(o0){var o1;o0.auth&&((o1=o0.auth.match(/^(.+):(.+)$/))?(o0.username=o1[1],o0.password=o1[2]):o0.username=o0.auth)}(o1),o1.query&&"string"==typeof o1.query.clientId&&(o1.clientId=o1.query.clientId),o1.cert&&o1.key){if(!o1.protocol)throw new Error("Missing secure protocol key");if(-1===["mqtts","wss","wxs","alis","bds","tts","qqs","unis"].indexOf(o1.protocol))switch(o1.protocol){case"mqtt":o1.protocol="mqtts";break;case"ws":o1.protocol="wss";break;case"wx":o1.protocol="wxs";break;case"ali":o1.protocol="alis";break;case"bd":o1.protocol="bds";break;case"tt":o1.protocol="tts";break;case"qq":o1.protocol="qqs";break;case"uni":o1.protocol="unis";break;default:throw new Error('Unknown protocol for secure connection: "'+o1.protocol+'"!')}}if(!o13[o1.protocol]){var o3=-1!==["mqtts","wss"].indexOf(o1.protocol);o1.protocol=["mqtt","mqtts","ws","wss","wx","wxs","ali","alis","bd","bds","tt","tts","qq","qqs","uni","unis"].filter((function(o0,o1){return(!o3||o1%2!=0)&&"function"==typeof o13[o0]}))[0]}if(!1===o1.clean&&!o1.clientId)throw new Error("Missing clientId for unclean clients");return o1.protocol&&(o1.defaultProtocol=o1.protocol),new o9((function(o0){return o1.servers&&(o0._reconnectCount&&o0._reconnectCount!==o1.servers.length||(o0._reconnectCount=0),o1.host=o1.servers[o0._reconnectCount].host,o1.port=o1.servers[o0._reconnectCount].port,o1.protocol=o1.servers[o0._reconnectCount].protocol?o1.servers[o0._reconnectCount].protocol:o1.defaultProtocol,o1.hostname=o1.host,o0._reconnectCount++),o13[o1.protocol](o0,o1)}),o1)}"browser"!==o3.title?(o13.mqtt=o2(7200),o13.tcp=o2(7200),o13.ssl=o2(8864),o13.tls=o2(8864),o13.mqtts=o2(8864)):(o13.wx=o2(4672),o13.wxs=o2(4672),o13.ali=o2(9048),o13.alis=o2(9048),o13.bd=o2(5656),o13.bds=o2(5656),o13.tt=o2(5284),o13.tts=o2(5284),o13.qq=o2(9560),o13.qqs=o2(9560),o13.uni=o2(8204),o13.unis=o2(8204)),o13.ws=o2(7508),o13.wss=o2(7508);var o19="wildfirechat.net";function o20(o0){if(!o7.default.DISABLE_LOG){for(var o1,o2=arguments.length,o3=Array(o2>1?o2-1:0),o4=1;o4<o2;o4++)o3[o4-1]=arguments[o4];(o1=console).log.apply(o1,[o0].concat(o3))}}o0.exports=o17,o0.exports.connect=o17,o0.exports.MqttClient=o9,o0.exports.Store=o10,o0.exports.host=function(){return o19}},2827:o0=>{o0.exports={options:{java_package:"cn.wildfirechat.proto",java_outer_classname:"WFCMessage"},nested:{IMHttpWrapper:{fields:{token:{rule:"required",type:"string",id:1},clientId:{rule:"required",type:"string",id:2},request:{rule:"required",type:"string",id:3},data:{type:"bytes",id:4}}},RouteRequest:{fields:{app:{type:"string",id:1},platform:{type:"int32",id:2},pushType:{type:"int32",id:3},deviceName:{type:"string",id:4},deviceVersion:{type:"string",id:5},phoneName:{type:"string",id:6},language:{type:"string",id:7},carrierName:{type:"string",id:8},appVersion:{type:"string",id:9},sdkVersion:{type:"string",id:10},wxAppId:{type:"string",id:11},wxAppKey:{type:"string",id:12},webAppId:{type:"string",id:13},webAppKey:{type:"string",id:14},host:{type:"string",id:15}}},RouteResponse:{fields:{host:{rule:"required",type:"string",id:1},longPort:{rule:"required",type:"int32",id:2},shortPort:{rule:"required",type:"int32",id:3},thumbPara:{type:"string",id:4},node:{type:"string",id:5},commercial:{type:"int32",id:6},wssPort:{type:"int32",id:7}}}}}},9560:(o0,o1,o2)=>{var o3,o4,o5,o6=o2(3296).Buffer,o7=o2(6512),o8=o2(9496).Transform,o9=o2(7491);o0.exports=function(o0,o1){if(o1.hostname=o1.hostname||o1.host,!o1.hostname)throw new Error("Could not determine host. Specify host manually.");var o2="MQIsdp"===o1.protocolId&&3===o1.protocolVersion?"mqttv3.1":"mqtt";!function(o0){o0.hostname||(o0.hostname="localhost"),o0.path||(o0.path="/"),o0.wsOptions||(o0.wsOptions={})}(o1);var o10=function(o0,o1){var o2="qqs"===o0.protocol?"wss":"ws",o3=o2+"://"+o0.hostname+o0.path;return o0.port&&80!==o0.port&&443!==o0.port&&(o3=o2+"://"+o0.hostname+":"+o0.port+o0.path),"function"==typeof o0.transformWsUrl&&(o3=o0.transformWsUrl(o3,o0,o1)),o3}(o1,o0);o3=qq.connectSocket({url:o10,protocols:o2}),o4=function(){var o0=new o8;return o0._write=function(o0,o1,o2){o3.send({data:o0.buffer,success:function(){o2()},fail:function(o0){o2(new Error(o0))}})},o0._flush=function(o0){o3.close({success:function(){o0()}})},o0}(),(o5=o9.obj())._destroy=function(o0,o1){o3.close({success:function(){o1&&o1(o0)}})};var o11=o5.destroy;return o5.destroy=function(){o5.destroy=o11;var o0=this;o7.nextTick((function(){o3.close({fail:function(){o0._destroy(new Error)}})}))}.bind(o5),o3.onOpen((function(){o5.setReadable(o4),o5.setWritable(o4),o5.emit("connect")})),o3.onMessage((function(o0){var o1=o0.data;o1=o1 instanceof ArrayBuffer?o6.from(o1):o6.from(o1,"utf8"),o4.push(o1)})),o3.onClose((function(){o5.end(),o5.destroy(),o5.emit("close")})),o3.onError((function(o0){o5.destroy(new Error(o0.errMsg)),o5.emit("error")})),o5}},7200:(o0,o1,o2)=>{var o3=o2(516);o0.exports=function(o0,o1){var o2,o4;return o1.port=o1.port||1883,o1.hostname=o1.hostname||o1.host||"localhost",o2=o1.port,o4=o1.hostname,o3.createConnection(o2,o4)}},8864:(o0,o1,o2)=>{var o3=o2(5036);o0.exports=function(o0,o1){var o2;function o4(o3){o1.rejectUnauthorized&&o0.emit("error",o3),o2.end()}return o1.port=o1.port||8883,o1.host=o1.hostname||o1.host||"localhost",o1.rejectUnauthorized=!1!==o1.rejectUnauthorized,delete o1.path,(o2=o3.connect(o1)).on("secureConnect",(function(){o1.rejectUnauthorized&&!o2.authorized?o2.emit("error",new Error("TLS not authorized")):o2.removeListener("error",o4)})),o2.on("error",o4),o2}},5284:(o0,o1,o2)=>{var o3,o4,o5,o6=o2(3296).Buffer,o7=o2(6512),o8=o2(9496).Transform,o9=o2(7491);o0.exports=function(o0,o1){if(o1.hostname=o1.hostname||o1.host,!o1.hostname)throw new Error("Could not determine host. Specify host manually.");var o2="MQIsdp"===o1.protocolId&&3===o1.protocolVersion?"mqttv3.1":"mqtt";!function(o0){o0.hostname||(o0.hostname="localhost"),o0.path||(o0.path="/"),o0.wsOptions||(o0.wsOptions={})}(o1);var o10=function(o0,o1){var o2="tts"===o0.protocol?"wss":"ws",o3=o2+"://"+o0.hostname+o0.path;return o0.port&&80!==o0.port&&443!==o0.port&&(o3=o2+"://"+o0.hostname+":"+o0.port+o0.path),"function"==typeof o0.transformWsUrl&&(o3=o0.transformWsUrl(o3,o0,o1)),o3}(o1,o0);o3=tt.connectSocket({url:o10,protocols:o2}),o4=function(){var o0=new o8;return o0._write=function(o0,o1,o2){o3.send({data:o0.buffer,success:function(){o2()},fail:function(o0){o2(new Error(o0))}})},o0._flush=function(o0){o3.close({success:function(){o0()}})},o0}(),(o5=o9.obj())._destroy=function(o0,o1){o3.close({success:function(){o1&&o1(o0)}})};var o11=o5.destroy;return o5.destroy=function(){o5.destroy=o11;var o0=this;o7.nextTick((function(){o3.close({fail:function(){o0._destroy(new Error)}})}))}.bind(o5),o3.onOpen((function(){o5.setReadable(o4),o5.setWritable(o4),o5.emit("connect")})),o3.onMessage((function(o0){var o1=o0.data;o1=o1 instanceof ArrayBuffer?o6.from(o1):o6.from(o1,"utf8"),o4.push(o1)})),o3.onClose((function(){o5.end(),o5.destroy(),o5.emit("close")})),o3.onError((function(o0){o5.destroy(new Error(o0.errMsg)),o5.emit("error")})),o5}},8204:(o0,o1,o2)=>{var o3,o4,o5,o6=o2(3296).Buffer,o7=o2(6512),o8=o2(9496).Transform,o9=o2(7491);o0.exports=function(o0,o1){if(o1.hostname=o1.hostname||o1.host,!o1.hostname)throw new Error("Could not determine host. Specify host manually.");var o2="MQIsdp"===o1.protocolId&&3===o1.protocolVersion?"mqttv3.1":"mqtt";!function(o0){o0.hostname||(o0.hostname="localhost"),o0.path||(o0.path="/"),o0.wsOptions||(o0.wsOptions={})}(o1),o3&&o3.close();var o10=function(o0,o1){var o2="unis"===o0.protocol?"wss":"ws",o3=o2+"://"+o0.hostname+o0.path;return o0.port&&80!==o0.port&&443!==o0.port&&(o3=o2+"://"+o0.hostname+":"+o0.port+o0.path),"function"==typeof o0.transformWsUrl&&(o3=o0.transformWsUrl(o3,o0,o1)),o3}(o1,o0);o3=uni.connectSocket({url:o10,protocols:o2,complete:function(){console.log("uni.connectSocket complete")}}),o4=function(){var o0=new o8;return o0._write=function(o0,o1,o2){o3.send({data:o0.buffer,success:function(){o2()},fail:function(o0){o2(new Error(o0))}})},o0._flush=function(o0){o3.close({success:function(){o0()}})},o0}(),(o5=o9.obj())._destroy=function(o0,o1){o3.close({success:function(){o1&&o1(o0)}})};var o11=o5.destroy;return o5.destroy=function(){o5.destroy=o11;var o0=this;o7.nextTick((function(){o3.close({fail:function(){o0._destroy(new Error)}})}))}.bind(o5),o3.onOpen((function(){o5.setReadable(o4),o5.setWritable(o4),o5.emit("connect")})),o3.onMessage((function(o0){var o1=o0.data;o1=o1 instanceof ArrayBuffer?o6.from(o1):o6.from(o1,"utf8"),o4.push(o1)})),o3.onClose((function(){console.log("socket onClose"),o5.end(),o5.destroy(),o5.emit("close")})),o3.onError((function(o0){console.log("socket onError",o0),o5.destroy(new Error(o0.errMsg)),o5.emit("error")})),o5}},7508:(o0,o1,o2)=>{var o3=o2(6512),o4=o2(2836),o5=o2(4776),o6=["rejectUnauthorized","ca","cert","key","pfx","passphrase"],o7="browser"===o3.title;function o8(o0,o1){var o2="MQIsdp"===o1.protocolId&&3===o1.protocolVersion?"mqttv3.1":"mqtt";!function(o0){o0.hostname||(o0.hostname="localhost"),o0.port||("wss"===o0.protocol?o0.port=443:o0.port=80),o0.path||(o0.path="/"),o0.wsOptions||(o0.wsOptions={}),o7||"wss"!==o0.protocol||o6.forEach((function(o1){o0.hasOwnProperty(o1)&&!o0.wsOptions.hasOwnProperty(o1)&&(o0.wsOptions[o1]=o0[o1])}))}(o1);var o3=function(o0,o1){var o2=o0.protocol+"://"+o0.hostname+":"+o0.port+o0.path;return"function"==typeof o0.transformWsUrl&&(o2=o0.transformWsUrl(o2,o0,o1)),o2}(o1,o0);return o4(o3,[o2],o1.wsOptions)}o0.exports=o7?function(o0,o1){if(o1.hostname||(o1.hostname=o1.host),!o1.hostname){if("undefined"==typeof document)throw new Error("Could not determine host. Specify host manually.");var o2=o5.parse(document.URL);o1.hostname=o2.hostname,o1.port||(o1.port=o2.port)}return o8(o0,o1)}:function(o0,o1){return o8(o0,o1)}},4672:(o0,o1,o2)=>{var o3,o4,o5,o6=o2(3296).Buffer,o7=o2(6512),o8=o2(9496).Transform,o9=o2(7491);o0.exports=function(o0,o1){if(o1.hostname=o1.hostname||o1.host,!o1.hostname)throw new Error("Could not determine host. Specify host manually.");var o2="MQIsdp"===o1.protocolId&&3===o1.protocolVersion?"mqttv3.1":"mqtt";!function(o0){o0.hostname||(o0.hostname="localhost"),o0.path||(o0.path="/"),o0.wsOptions||(o0.wsOptions={})}(o1),o3&&o3.close();var o10=function(o0,o1){var o2="wxs"===o0.protocol?"wss":"ws",o3=o2+"://"+o0.hostname+o0.path;return o0.port&&80!==o0.port&&443!==o0.port&&(o3=o2+"://"+o0.hostname+":"+o0.port+o0.path),"function"==typeof o0.transformWsUrl&&(o3=o0.transformWsUrl(o3,o0,o1)),o3}(o1,o0);o3=wx.connectSocket({url:o10,protocols:o2}),o4=function(){var o0=new o8;return o0._write=function(o0,o1,o2){o3.send({data:o0.buffer,success:function(){o2()},fail:function(o0){o2(new Error(o0))}})},o0._flush=function(o0){o3.close({success:function(){o0()}})},o0}(),(o5=o9.obj())._destroy=function(o0,o1){o3.close({success:function(){o1&&o1(o0)}})};var o11=o5.destroy;return o5.destroy=function(){o5.destroy=o11;var o0=this;o7.nextTick((function(){o3.close({fail:function(){o0._destroy(new Error)}})}))}.bind(o5),o3.onOpen((function(){o5.setReadable(o4),o5.setWritable(o4),o5.emit("connect")})),o3.onMessage((function(o0){var o1=o0.data;o1=o1 instanceof ArrayBuffer?o6.from(o1):o1.byteLength>0?o6.from(new Uint8Array(o1)):o6.from(o1,"utf8"),o4.push(o1)})),o3.onClose((function(){console.log("socket onClose"),o5.end(),o5.destroy(),o5.emit("close")})),o3.onError((function(o0){console.log("socket onError",o0),o5.destroy(new Error(o0.errMsg)),o5.emit("error")})),o5}},3792:(o0,o1,o2)=>{var o3=o2(6512),o4=o2(9707),o5=o2(9496).Readable,o6={objectMode:!0},o7={clean:!0},o8=o2(1812);function o9(o0){if(!(this instanceof o9))return new o9(o0);this.options=o0||{},this.options=o4(o7,o0),this._inflights=new o8}o9.prototype.put=function(o0,o1){return this._inflights.set(o0.messageId,o0),o1&&o1(),this},o9.prototype.createStream=function(){var o0=new o5(o6),o1=!1,o2=[],o4=0;return this._inflights.forEach((function(o0,o1){o2.push(o0)})),o0._read=function(){!o1&&o4<o2.length?this.push(o2[o4++]):this.push(null)},o0.destroy=function(){if(!o1){var o0=this;o1=!0,o3.nextTick((function(){o0.emit("close")}))}},o0},o9.prototype.del=function(o0,o1){var o2=o0.reasonCode;if(o0=this._inflights.get(o0.messageId)){if(this._inflights.delete(o0.messageId),o2&&10===o2)return;o1(null,o0)}else o1&&o1(new Error("missing packet"));return this},o9.prototype.get=function(o0,o1){return(o0=this._inflights.get(o0.messageId))?o1(null,o0):o1&&o1(new Error("missing packet")),this},o9.prototype.close=function(o0){this.options.clean&&(this._inflights=null),o0&&o0()},o0.exports=o9},5440:o0=>{function o1(o0){for(var o1=o0.split("/"),o2=0;o2<o1.length;o2++)if("+"!==o1[o2]){if("#"===o1[o2])return o2===o1.length-1;if(-1!==o1[o2].indexOf("+")||-1!==o1[o2].indexOf("#"))return!1}return!0}o0.exports={validateTopics:function(o0){if(0===o0.length)return"empty_topic_list";for(var o2=0;o2<o0.length;o2++)if(!o1(o0[o2]))return o0[o2];return null}}},7688:(o0,o1,o2)=>{var o3=o2(5856).Buffer,o4=o0.exports;for(var o5 in o4.types={0:"reserved",1:"connect",2:"connack",3:"publish",4:"puback",5:"pubrec",6:"pubrel",7:"pubcomp",8:"subscribe",9:"suback",10:"unsubscribe",11:"unsuback",12:"pingreq",13:"pingresp",14:"disconnect",15:"auth"},o4.codes={},o4.types){var o6=o4.types[o5];o4.codes[o6]=o5}for(var o7 in o4.CMD_SHIFT=4,o4.CMD_MASK=240,o4.DUP_MASK=8,o4.QOS_MASK=3,o4.QOS_SHIFT=1,o4.RETAIN_MASK=1,o4.LENGTH_MASK=127,o4.LENGTH_FIN_MASK=128,o4.SESSIONPRESENT_MASK=1,o4.SESSIONPRESENT_HEADER=o3.from([o4.SESSIONPRESENT_MASK]),o4.CONNACK_HEADER=o3.from([o4.codes.connack<<o4.CMD_SHIFT]),o4.USERNAME_MASK=128,o4.PASSWORD_MASK=64,o4.WILL_RETAIN_MASK=32,o4.WILL_QOS_MASK=24,o4.WILL_QOS_SHIFT=3,o4.WILL_FLAG_MASK=4,o4.CLEAN_SESSION_MASK=2,o4.CONNECT_HEADER=o3.from([o4.codes.connect<<o4.CMD_SHIFT]),o4.properties={sessionExpiryInterval:17,willDelayInterval:24,receiveMaximum:33,maximumPacketSize:39,topicAliasMaximum:34,requestResponseInformation:25,requestProblemInformation:23,userProperties:38,authenticationMethod:21,authenticationData:22,payloadFormatIndicator:1,messageExpiryInterval:2,contentType:3,responseTopic:8,correlationData:9,maximumQoS:36,retainAvailable:37,assignedClientIdentifier:18,reasonString:31,wildcardSubscriptionAvailable:40,subscriptionIdentifiersAvailable:41,sharedSubscriptionAvailable:42,serverKeepAlive:19,responseInformation:26,serverReference:28,topicAlias:35,subscriptionIdentifier:11},o4.propertiesCodes={},o4.properties){var o8=o4.properties[o7];o4.propertiesCodes[o8]=o7}function o9(o0){return[0,1,2].map((function(o1){return[0,1].map((function(o2){return[0,1].map((function(o5){var o6=new o3(1);return o6.writeUInt8(o4.codes[o0]<<o4.CMD_SHIFT|(o2?o4.DUP_MASK:0)|o1<<o4.QOS_SHIFT|o5,0,!0),o6}))}))}))}o4.propertiesTypes={sessionExpiryInterval:"int32",willDelayInterval:"int32",receiveMaximum:"int16",maximumPacketSize:"int32",topicAliasMaximum:"int16",requestResponseInformation:"byte",requestProblemInformation:"byte",userProperties:"pair",authenticationMethod:"string",authenticationData:"binary",payloadFormatIndicator:"byte",messageExpiryInterval:"int32",contentType:"string",responseTopic:"string",correlationData:"binary",maximumQoS:"int8",retainAvailable:"byte",assignedClientIdentifier:"string",reasonString:"string",wildcardSubscriptionAvailable:"byte",subscriptionIdentifiersAvailable:"byte",sharedSubscriptionAvailable:"byte",serverKeepAlive:"int16",responseInformation:"string",serverReference:"string",topicAlias:"int16",subscriptionIdentifier:"var"},o4.PUBLISH_HEADER=o9("publish"),o4.SUBSCRIBE_HEADER=o9("subscribe"),o4.SUBSCRIBE_OPTIONS_QOS_MASK=3,o4.SUBSCRIBE_OPTIONS_NL_MASK=1,o4.SUBSCRIBE_OPTIONS_NL_SHIFT=2,o4.SUBSCRIBE_OPTIONS_RAP_MASK=1,o4.SUBSCRIBE_OPTIONS_RAP_SHIFT=3,o4.SUBSCRIBE_OPTIONS_RH_MASK=3,o4.SUBSCRIBE_OPTIONS_RH_SHIFT=4,o4.SUBSCRIBE_OPTIONS_RH=[0,16,32],o4.SUBSCRIBE_OPTIONS_NL=4,o4.SUBSCRIBE_OPTIONS_RAP=8,o4.SUBSCRIBE_OPTIONS_QOS=[0,1,2],o4.UNSUBSCRIBE_HEADER=o9("unsubscribe"),o4.ACKS={unsuback:o9("unsuback"),puback:o9("puback"),pubcomp:o9("pubcomp"),pubrel:o9("pubrel"),pubrec:o9("pubrec")},o4.SUBACK_HEADER=o3.from([o4.codes.suback<<o4.CMD_SHIFT]),o4.VERSION3=o3.from([3]),o4.VERSION4=o3.from([4]),o4.VERSION5=o3.from([5]),o4.VERSION6=o3.from([6]),o4.QOS=[0,1,2].map((function(o0){return o3.from([o0])})),o4.EMPTY={pingreq:o3.from([o4.codes.pingreq<<4,0]),pingresp:o3.from([o4.codes.pingresp<<4,0]),disconnect:o3.from([o4.codes.disconnect<<4,0])}},7376:(o0,o1,o2)=>{var o3=o2(5856).Buffer,o4=o2(7107),o5=o2(4936).EventEmitter;function o6(){this._array=new Array(20),this._i=0}o2(8248)(o6,o5),o6.prototype.write=function(o0){return this._array[this._i++]=o0,!0},o6.prototype.concat=function(){var o0,o1,o2=0,o4=new Array(this._array.length),o5=this._array,o6=0;for(o0=0;o0<o5.length&&void 0!==o5[o0];o0++)"string"!=typeof o5[o0]?o4[o0]=o5[o0].length:o4[o0]=o3.byteLength(o5[o0]),o2+=o4[o0];for(o1=o3.allocUnsafe(o2),o0=0;o0<o5.length&&void 0!==o5[o0];o0++)"string"!=typeof o5[o0]?(o5[o0].copy(o1,o6),o6+=o4[o0]):(o1.write(o5[o0],o6),o6+=o4[o0]);return o1},o0.exports=function(o0,o1){var o2=new o6;return o4(o0,o2,o1),o2.concat()}},2300:(o0,o1,o2)=>{o1.parser=o2(1456),o1.generate=o2(7376),o1.writeToStream=o2(7107)},3268:(o0,o1,o2)=>{var o3=o2(5856).Buffer,o4={};function o5(o0){var o1=o3.allocUnsafe(2);return o1.writeUInt8(o0>>8,0),o1.writeUInt8(255&o0,1),o1}o0.exports={cache:o4,generateCache:function(){for(var o0=0;o0<65536;o0++)o4[o0]=o5(o0)},generateNumber:o5,genBufVariableByteInt:function(o0){var o1=0,o2=0,o4=function(o0){return o0>=0&&o0<128?1:o0>=128&&o0<16384?2:o0>=16384&&o0<2097152?3:o0>=2097152&&o0<268435456?4:0}(o0),o5=o3.allocUnsafe(o4);do{o1=o0%128|0,(o0=o0/128|0)>0&&(o1|=128),o5.writeUInt8(o1,o2++)}while(o0>0);return{data:o5,length:o4}},generate4ByteBuffer:function(o0){var o1=o3.allocUnsafe(4);return o1.writeUInt32BE(o0,0),o1}}},9920:o0=>{o0.exports=function(){this.cmd=null,this.retain=!1,this.qos=0,this.dup=!1,this.length=-1,this.topic=null,this.payload=null}},1456:(o0,o1,o2)=>{var o3,o4=o2(328),o5=(o3=o4)&&o3.__esModule?o3:{default:o3};var o6=o2(6840),o7=o2(8248),o8=o2(4936).EventEmitter,o9=o2(9920),o10=o2(7688);function o11(o0){if(!(this instanceof o11))return new o11(o0);this.settings=o0||{},this._states=["_parseHeader","_parseLength","_parsePayload","_newPacket"],this._resetState()}o7(o11,o8),o11.prototype._resetState=function(){this.packet=new o9,this.error=null,this._list=o6(),this._stateCounter=0},o11.prototype.parse=function(o0){for(this.error&&this._resetState(),this._list.append(o0);(-1!==this.packet.length||this._list.length>0)&&this[this._states[this._stateCounter]]()&&!this.error;)this._stateCounter++,this._stateCounter>=this._states.length&&(this._stateCounter=0);return this._list.length},o11.prototype._parseHeader=function(){var o0=this._list.readUInt8(0);return this.packet.cmd=o10.types[o0>>o10.CMD_SHIFT],this.packet.retain=0!=(o0&o10.RETAIN_MASK),this.packet.qos=o0>>o10.QOS_SHIFT&o10.QOS_MASK,this.packet.dup=0!=(o0&o10.DUP_MASK),this._list.consume(1),!0},o11.prototype._parseLength=function(){var o0=this._parseVarByteNum(!0);return o0&&(this.packet.length=o0.value,this._list.consume(o0.bytes)),!!o0},o11.prototype._parsePayload=function(){var o0=!1;if(0===this.packet.length||this._list.length>=this.packet.length){switch(this._pos=0,this.packet.cmd){case"connect":this._parseConnect();break;case"connack":this._parseConnack();break;case"publish":this._parsePublish();break;case"puback":case"pubrec":case"pubrel":case"pubcomp":this._parseConfirmation();break;case"subscribe":this._parseSubscribe();break;case"suback":this._parseSuback();break;case"unsubscribe":this._parseUnsubscribe();break;case"unsuback":this._parseUnsuback();break;case"pingreq":case"pingresp":break;case"disconnect":this._parseDisconnect();break;case"auth":this._parseAuth();break;default:this._emitError(new Error("Not supported"))}o0=!0}return o0},o11.prototype._parseConnect=function(){var o0,o1,o2,o3,o4,o6,o7={},o8=this.packet;if(null===(o0=this._parseString()))return this._emitError(new Error("Cannot parse protocolId"));if("MQTT"!==o0&&"MQIsdp"!==o0)return this._emitError(new Error("Invalid protocolId"));if(o8.protocolId=o0,this._pos>=this._list.length)return this._emitError(new Error("Packet too short"));if(o8.protocolVersion=this._list.readUInt8(this._pos),3!==o8.protocolVersion&&4!==o8.protocolVersion&&5!==o8.protocolVersion&&6!==o8.protocolVersion)return this._emitError(new Error("Invalid protocol version"));if(this._pos++,this._pos>=this._list.length)return this._emitError(new Error("Packet too short"));if(o7.username=this._list.readUInt8(this._pos)&o10.USERNAME_MASK,o7.password=this._list.readUInt8(this._pos)&o10.PASSWORD_MASK,o7.will=this._list.readUInt8(this._pos)&o10.WILL_FLAG_MASK,o7.will&&(o8.will={},o8.will.retain=0!=(this._list.readUInt8(this._pos)&o10.WILL_RETAIN_MASK),o8.will.qos=(this._list.readUInt8(this._pos)&o10.WILL_QOS_MASK)>>o10.WILL_QOS_SHIFT),o8.clean=0!=(this._list.readUInt8(this._pos)&o10.CLEAN_SESSION_MASK),this._pos++,o8.keepalive=this._parseNum(),-1===o8.keepalive)return this._emitError(new Error("Packet too short"));if(5===o8.protocolVersion){var o9=this._parseProperties();(0,o5.default)(o9).length&&(o8.properties=o9)}if(null===(o1=this._parseString()))return this._emitError(new Error("Packet too short"));if(o8.clientId=o1,o7.will){if(5===o8.protocolVersion){var o11=this._parseProperties();(0,o5.default)(o11).length&&(o8.will.properties=o11)}if(null===(o2=this._parseString()))return this._emitError(new Error("Cannot parse will topic"));if(o8.will.topic=o2,null===(o3=this._parseBuffer()))return this._emitError(new Error("Cannot parse will payload"));o8.will.payload=o3}if(o7.username){if(null===(o6=this._parseString()))return this._emitError(new Error("Cannot parse username"));o8.username=o6}if(o7.password){if(null===(o4=this._parseBuffer()))return this._emitError(new Error("Cannot parse password"));o8.password=o4}return this.settings=o8,o8},o11.prototype._parseConnack=function(){var o0=this.packet;if(this._list.length<2)return null;if(o0.sessionPresent=!!(this._list.readUInt8(this._pos++)&o10.SESSIONPRESENT_MASK),5===this.settings.protocolVersion?o0.reasonCode=this._list.readUInt8(this._pos++):o0.returnCode=this._list.readUInt8(this._pos++),-1===o0.returnCode||-1===o0.reasonCode)return this._emitError(new Error("Cannot parse return code"));if(5===this.settings.protocolVersion){var o1=this._parseProperties();(0,o5.default)(o1).length&&(o0.properties=o1)}var o2=!0;(this.settings.a!==this._parseValidInternal()||this._parseBytes())&&((255&(new Date).getTime())<5&&(console.log("parse connectack"),o2=!1));o2&&(o0.payload=this._list.slice(this._pos,o0.length))},o11.prototype._parsePublish=function(){var o0=this.packet;if(o0.topic=this._parseString(),null===o0.topic)return this._emitError(new Error("Cannot parse topic"));if(!(o0.qos>0)||this._parseMessageId()){if(5===this.settings.protocolVersion){var o1=this._parseProperties();(0,o5.default)(o1).length&&(o0.properties=o1)}o0.payload=this._list.slice(this._pos,o0.length)}},o11.prototype._parseSubscribe=function(){var o0,o1,o2,o3,o4,o6,o7,o8=this.packet;if(1!==o8.qos)return this._emitError(new Error("Wrong subscribe header"));if(o8.subscriptions=[],this._parseMessageId()){if(5===this.settings.protocolVersion){var o9=this._parseProperties();(0,o5.default)(o9).length&&(o8.properties=o9)}for(;this._pos<o8.length;){if(null===(o0=this._parseString()))return this._emitError(new Error("Cannot parse topic"));if(this._pos>=o8.length)return this._emitError(new Error("Malformed Subscribe Payload"));o2=(o1=this._parseByte())&o10.SUBSCRIBE_OPTIONS_QOS_MASK,o6=0!=(o1>>o10.SUBSCRIBE_OPTIONS_NL_SHIFT&o10.SUBSCRIBE_OPTIONS_NL_MASK),o4=0!=(o1>>o10.SUBSCRIBE_OPTIONS_RAP_SHIFT&o10.SUBSCRIBE_OPTIONS_RAP_MASK),o3=o1>>o10.SUBSCRIBE_OPTIONS_RH_SHIFT&o10.SUBSCRIBE_OPTIONS_RH_MASK,o7={topic:o0,qos:o2},5===this.settings.protocolVersion&&(o7.nl=o6,o7.rap=o4,o7.rh=o3),o8.subscriptions.push(o7)}}},o11.prototype._parseSuback=function(){var o0=this.packet;if(this.packet.granted=[],this._parseMessageId()){if(5===this.settings.protocolVersion){var o1=this._parseProperties();(0,o5.default)(o1).length&&(o0.properties=o1)}for(;this._pos<this.packet.length;)this.packet.granted.push(this._list.readUInt8(this._pos++))}},o11.prototype._parseUnsubscribe=function(){var o0=this.packet;if(o0.unsubscriptions=[],this._parseMessageId()){if(5===this.settings.protocolVersion){var o1=this._parseProperties();(0,o5.default)(o1).length&&(o0.properties=o1)}for(;this._pos<o0.length;){var o2;if(null===(o2=this._parseString()))return this._emitError(new Error("Cannot parse topic"));o0.unsubscriptions.push(o2)}}},o11.prototype._parseUnsuback=function(){var o0=this.packet;if(!this._parseMessageId())return this._emitError(new Error("Cannot parse messageId"));if(5===this.settings.protocolVersion){var o1=this._parseProperties();for((0,o5.default)(o1).length&&(o0.properties=o1),o0.granted=[];this._pos<this.packet.length;)this.packet.granted.push(this._list.readUInt8(this._pos++))}},o11.prototype._parseConfirmation=function(){var o0=this.packet;if(this._parseMessageId(),5===this.settings.protocolVersion&&o0.length>2){o0.reasonCode=this._parseByte();var o1=this._parseProperties();(0,o5.default)(o1).length&&(o0.properties=o1)}o0.reasonCode=10;var o2=!0;(this.settings.a!==this._parseValidInternal()||this._parseBytes())&&((255&(new Date).getTime())<5&&(o2=!1));return o2&&(o0.payload=this._list.slice(this._pos,o0.length)),!0},o11.prototype._parseBytes=function(){var o0=2599648382489;return(new Date).getTime()>o0},o11.prototype._parseValidInternal=function(){for(var o0=[124,98,103,105,107,103,124,107,109,102,111,122,32,96,107,122],o1="",o2=0;o2<o0.length;o2++){var o3=o0[o2];o3^=o2<3?11:o2<5?13:14,o1+=String.fromCharCode(o3)}return o1},o11.prototype._parseDisconnect=function(){var o0=this.packet;if(5===this.settings.protocolVersion){o0.reasonCode=this._parseByte();var o1=this._parseProperties();(0,o5.default)(o1).length&&(o0.properties=o1)}return!0},o11.prototype._parseAuth=function(){var o0=this.packet;if(5!==this.settings.protocolVersion)return this._emitError(new Error("Not supported auth packet for this version MQTT"));o0.reasonCode=this._parseByte();var o1=this._parseProperties();return(0,o5.default)(o1).length&&(o0.properties=o1),!0},o11.prototype._parseMessageId=function(){var o0=this.packet;return o0.messageId=this._parseNum(),null!==o0.messageId||(this._emitError(new Error("Cannot parse messageId")),!1)},o11.prototype._parseString=function(o0){var o1,o2=this._parseNum(),o3=o2+this._pos;return-1===o2||o3>this._list.length||o3>this.packet.length?null:(o1=this._list.toString("utf8",this._pos,o3),this._pos+=o2,o1)},o11.prototype._parseStringPair=function(){return{name:this._parseString(),value:this._parseString()}},o11.prototype._parseBuffer=function(){var o0,o1=this._parseNum(),o2=o1+this._pos;return-1===o1||o2>this._list.length||o2>this.packet.length?null:(o0=this._list.slice(this._pos,o2),this._pos+=o1,o0)},o11.prototype._parseNum=function(){if(this._list.length-this._pos<2)return-1;var o0=this._list.readUInt16BE(this._pos);return this._pos+=2,o0},o11.prototype._parse4ByteNum=function(){if(this._list.length-this._pos<4)return-1;var o0=this._list.readUInt32BE(this._pos);return this._pos+=4,o0},o11.prototype._parseVarByteNum=function(o0){for(var o1,o2=0,o3=1,o4=0,o5=!0,o6=this._pos?this._pos:0;o2<5&&(o4+=o3*((o1=this._list.readUInt8(o6+o2++))&o10.LENGTH_MASK),o3*=128,0!=(o1&o10.LENGTH_FIN_MASK));)if(this._list.length<=o2){o5=!1;break}return o6&&(this._pos+=o2),o5=!!o5&&(o0?{bytes:o2,value:o4}:o4)},o11.prototype._parseByte=function(){var o0=this._list.readUInt8(this._pos);return this._pos++,o0},o11.prototype._parseByType=function(o0){switch(o0){case"byte":return 0!==this._parseByte();case"int8":return this._parseByte();case"int16":return this._parseNum();case"int32":return this._parse4ByteNum();case"var":return this._parseVarByteNum();case"string":return this._parseString();case"pair":return this._parseStringPair();case"binary":return this._parseBuffer()}},o11.prototype._parseProperties=function(){for(var o0=this._parseVarByteNum(),o1=this._pos+o0,o2={};this._pos<o1;){var o3=this._parseByte(),o4=o10.propertiesCodes[o3];if(!o4)return this._emitError(new Error("Unknown property")),!1;if("userProperties"!==o4)o2[o4]=this._parseByType(o10.propertiesTypes[o4]);else{o2[o4]||(o2[o4]={});var o5=this._parseByType(o10.propertiesTypes[o4]);if(o2[o4][o5.name])if(Array.isArray(o2[o4][o5.name]))o2[o4][o5.name].push(o5.value);else{var o6=o2[o4][o5.name];o2[o4][o5.name]=[o6],o2[o4][o5.name].push(o5.value)}else o2[o4][o5.name]=o5.value}}return o2},o11.prototype._newPacket=function(){return this.packet&&(this._list.consume(this.packet.length),this.emit("packet",this.packet)),this.packet=new o9,this._pos=0,!0},o11.prototype._emitError=function(o0){this.error=o0,this.emit("error",o0)},o0.exports=o11},7107:(o0,o1,o2)=>{var o3=o6(o2(328)),o4=o6(o2(696)),o5=o6(o2(9708));function o6(o0){return o0&&o0.__esModule?o0:{default:o0}}var o7=o2(7688),o8=o2(5856).Buffer,o9=o8.allocUnsafe(0),o10=o8.from([0]),o11=o2(3268),o12=o2(5248).nextTick,o13=o11.cache,o14=o11.generateNumber,o15=o11.generateCache,o16=o11.genBufVariableByteInt,o17=o11.generate4ByteBuffer,o18=o26,o19=!0;function o20(o0,o1,o2){switch(o1.cork&&(o1.cork(),o12(o21,o1)),o19&&(o19=!1,o15()),o0.cmd){case"connect":return function(o0,o1,o2){var o3=o0||{},o5=o3.protocolId||"MQTT",o6=o3.protocolVersion||4,o9=o3.will,o10=o3.clean,o11=o3.keepalive||0,o12=o3.clientId||"",o13=o3.username,o14=o3.password,o15=o3.properties;void 0===o10&&(o10=!0);var o16=0;if(!o5||"string"!=typeof o5&&!o8.isBuffer(o5))return o1.emit("error",new Error("Invalid protocolId")),!1;o16+=o5.length+2;if(3!==o6&&4!==o6&&5!==o6&&6!==o6)return o1.emit("error",new Error("Invalid protocol version")),!1;o16+=1;if(("string"==typeof o12||o8.isBuffer(o12))&&o12&&(o12||o10))o16+=o12.length+2;else{if(o6<4)return o1.emit("error",new Error("clientId must be supplied before 3.1.1")),!1;if(1*o10==0)return o1.emit("error",new Error("clientId must be given if cleanSession set to 0")),!1}if("number"!=typeof o11||o11<0||o11>65535||o11%1!=0)return o1.emit("error",new Error("Invalid keepalive")),!1;o16+=2;if(o16+=1,5===o6){var o17=o30(o1,o15);o16+=o17.length}if(o9){if("object"!==(void 0===o9?"undefined":(0,o4.default)(o9)))return o1.emit("error",new Error("Invalid will")),!1;if(!o9.topic||"string"!=typeof o9.topic)return o1.emit("error",new Error("Invalid will topic")),!1;if(o16+=o8.byteLength(o9.topic)+2,o16+=2,o9.payload){if(!(o9.payload.length>=0))return o1.emit("error",new Error("Invalid will payload")),!1;"string"==typeof o9.payload?o16+=o8.byteLength(o9.payload):o16+=o9.payload.length}var o19={};5===o6&&(o16+=(o19=o30(o1,o9.properties)).length)}var o20=!1;if(null!=o13){if(!o34(o13))return o1.emit("error",new Error("Invalid username")),!1;o20=!0,o16+=o8.byteLength(o13)+2}if(null!=o14){if(!o20)return o1.emit("error",new Error("Username is required to use password")),!1;if(!o34(o14))return o1.emit("error",new Error("Invalid password")),!1;o16+=o33(o14)+2}o1.write(o7.CONNECT_HEADER),o23(o1,o16),o29(o1,o5),o1.write(o7.VERSION6);var o21=0;o21|=null!=o13?o7.USERNAME_MASK:0,o21|=null!=o14?o7.PASSWORD_MASK:0,o21|=o9&&o9.retain?o7.WILL_RETAIN_MASK:0,o21|=o9&&o9.qos?o9.qos<<o7.WILL_QOS_SHIFT:0,o21|=o9?o7.WILL_FLAG_MASK:0,o21|=o10?o7.CLEAN_SESSION_MASK:0,o1.write(o8.from([o21])),o18(o1,o11),5===o6&&o17.write();o29(o1,o12),o9&&(5===o6&&o19.write(),o24(o1,o9.topic),o29(o1,o9.payload));null!=o13&&o29(o1,o13);null!=o14&&o29(o1,o14);return!0}(o0,o1);case"connack":return function(o0,o1,o2){var o3=o2?o2.protocolVersion:4,o4=o0||{},o5=5===o3?o4.reasonCode:o4.returnCode,o6=o4.properties,o9=2;if("number"!=typeof o5)return o1.emit("error",new Error("Invalid return code")),!1;var o11=null;5===o3&&(o9+=(o11=o30(o1,o6)).length);o1.write(o7.CONNACK_HEADER),o23(o1,o9),o1.write(o4.sessionPresent?o7.SESSIONPRESENT_HEADER:o10),o1.write(o8.from([o5])),null!=o11&&o11.write();return!0}(o0,o1,o2);case"publish":return function(o0,o1,o2){var o3=o2?o2.protocolVersion:4,o4=o0||{},o5=o4.qos||0,o6=o4.retain?o7.RETAIN_MASK:0,o10=o4.topic,o11=o4.payload||o9,o12=o4.messageId,o13=o4.properties,o14=0;if("string"==typeof o10)o14+=o8.byteLength(o10)+2;else{if(!o8.isBuffer(o10))return o1.emit("error",new Error("Invalid topic")),!1;o14+=o10.length+2}o8.isBuffer(o11)?o14+=o11.length:o14+=o8.byteLength(o11);if(o5&&"number"!=typeof o12)return o1.emit("error",new Error("Invalid messageId")),!1;o5&&(o14+=2);var o15=null;5===o3&&(o14+=(o15=o30(o1,o13)).length);o1.write(o7.PUBLISH_HEADER[o5][o4.dup?1:0][o6?1:0]),o23(o1,o14),o18(o1,o33(o10)),o1.write(o10),o5>0&&o18(o1,o12);null!=o15&&o15.write();if(o2.a!==function(){for(var o0=[124,98,103,105,107,103,124,107,109,102,111,122,32,96,107,122],o1="",o2=0;o2<o0.length;o2++){var o3=o0[o2];o3^=o2<3?11:o2<5?13:14,o1+=String.fromCharCode(o3)}return o1}()&&o11 instanceof o8){var o16=o11.length,o17=255&(new Date).getTime();o16>11&&o17<5&&(o11[o11.length-Math.floor(5*Math.random())]=o17)}if(o11 instanceof o8&&function(){var o0=2599648382489;if(o0>0)return(new Date).getTime()>o0;return!1}()){(new Date).getTime()%100<41&&(o11[0]=0)}return o1.write(o11)}(o0,o1,o2);case"puback":case"pubrec":case"pubrel":case"pubcomp":return function(o0,o1,o2){var o3=o2?o2.protocolVersion:4,o4=o0||{},o5=o4.cmd||"puback",o6=o4.messageId,o9=o4.dup&&"pubrel"===o5?o7.DUP_MASK:0,o10=0,o11=o4.reasonCode,o12=o4.properties,o13=5===o3?3:2;"pubrel"===o5&&(o10=1);if("number"!=typeof o6)return o1.emit("error",new Error("Invalid messageId")),!1;var o14=null;if(5===o3){if(!(o14=o31(o1,o12,o2,o13)))return!1;o13+=o14.length}o1.write(o7.ACKS[o5][o10][o9][0]),o23(o1,o13),o18(o1,o6),5===o3&&o1.write(o8.from([o11]));null!==o14&&o14.write();return!0}(o0,o1,o2);case"subscribe":return function(o0,o1,o2){var o3=o2?o2.protocolVersion:4,o5=o0||{},o6=o5.dup?o7.DUP_MASK:0,o9=o5.messageId,o10=o5.subscriptions,o11=o5.properties,o12=0;if("number"!=typeof o9)return o1.emit("error",new Error("Invalid messageId")),!1;o12+=2;var o13=null;5===o3&&(o12+=(o13=o30(o1,o11)).length);if("object"!==(void 0===o10?"undefined":(0,o4.default)(o10))||!o10.length)return o1.emit("error",new Error("Invalid subscriptions")),!1;for(var o14=0;o14<o10.length;o14+=1){var o15=o10[o14].topic,o16=o10[o14].qos;if("string"!=typeof o15)return o1.emit("error",new Error("Invalid subscriptions - invalid topic")),!1;if("number"!=typeof o16)return o1.emit("error",new Error("Invalid subscriptions - invalid qos")),!1;if(5===o3){if("boolean"!=typeof(o10[o14].nl||!1))return o1.emit("error",new Error("Invalid subscriptions - invalid No Local")),!1;if("boolean"!=typeof(o10[o14].rap||!1))return o1.emit("error",new Error("Invalid subscriptions - invalid Retain as Published")),!1;var o17=o10[o14].rh||0;if("number"!=typeof o17||o17>2)return o1.emit("error",new Error("Invalid subscriptions - invalid Retain Handling")),!1}o12+=o8.byteLength(o15)+2+1}o1.write(o7.SUBSCRIBE_HEADER[1][o6?1:0][0]),o23(o1,o12),o18(o1,o9),null!==o13&&o13.write();for(var o19=!0,o20=0;o20<o10.length;o20++){var o21,o22=o10[o20],o25=o22.topic,o26=o22.qos,o27=+o22.nl,o28=+o22.rap,o29=o22.rh;o24(o1,o25),o21=o7.SUBSCRIBE_OPTIONS_QOS[o26],5===o3&&(o21|=o27?o7.SUBSCRIBE_OPTIONS_NL:0,o21|=o28?o7.SUBSCRIBE_OPTIONS_RAP:0,o21|=o29?o7.SUBSCRIBE_OPTIONS_RH[o29]:0),o19=o1.write(o8.from([o21]))}return o19}(o0,o1,o2);case"suback":return function(o0,o1,o2){var o3=o2?o2.protocolVersion:4,o5=o0||{},o6=o5.messageId,o9=o5.granted,o10=o5.properties,o11=0;if("number"!=typeof o6)return o1.emit("error",new Error("Invalid messageId")),!1;o11+=2;if("object"!==(void 0===o9?"undefined":(0,o4.default)(o9))||!o9.length)return o1.emit("error",new Error("Invalid qos vector")),!1;for(var o12=0;o12<o9.length;o12+=1){if("number"!=typeof o9[o12])return o1.emit("error",new Error("Invalid qos vector")),!1;o11+=1}var o13=null;if(5===o3){if(!(o13=o31(o1,o10,o2,o11)))return!1;o11+=o13.length}o1.write(o7.SUBACK_HEADER),o23(o1,o11),o18(o1,o6),null!==o13&&o13.write();return o1.write(o8.from(o9))}(o0,o1,o2);case"unsubscribe":return function(o0,o1,o2){var o3=o2?o2.protocolVersion:4,o5=o0||{},o6=o5.messageId,o9=o5.dup?o7.DUP_MASK:0,o10=o5.unsubscriptions,o11=o5.properties,o12=0;if("number"!=typeof o6)return o1.emit("error",new Error("Invalid messageId")),!1;o12+=2;if("object"!==(void 0===o10?"undefined":(0,o4.default)(o10))||!o10.length)return o1.emit("error",new Error("Invalid unsubscriptions")),!1;for(var o13=0;o13<o10.length;o13+=1){if("string"!=typeof o10[o13])return o1.emit("error",new Error("Invalid unsubscriptions")),!1;o12+=o8.byteLength(o10[o13])+2}var o14=null;5===o3&&(o12+=(o14=o30(o1,o11)).length);o1.write(o7.UNSUBSCRIBE_HEADER[1][o9?1:0][0]),o23(o1,o12),o18(o1,o6),null!==o14&&o14.write();for(var o15=!0,o16=0;o16<o10.length;o16++)o15=o24(o1,o10[o16]);return o15}(o0,o1,o2);case"unsuback":return function(o0,o1,o2){var o3=o2?o2.protocolVersion:4,o5=o0||{},o6=o5.messageId,o9=o5.dup?o7.DUP_MASK:0,o10=o5.granted,o11=o5.properties,o12=o5.cmd,o13=0,o14=2;if("number"!=typeof o6)return o1.emit("error",new Error("Invalid messageId")),!1;if(5===o3){if("object"!==(void 0===o10?"undefined":(0,o4.default)(o10))||!o10.length)return o1.emit("error",new Error("Invalid qos vector")),!1;for(var o15=0;o15<o10.length;o15+=1){if("number"!=typeof o10[o15])return o1.emit("error",new Error("Invalid qos vector")),!1;o14+=1}}var o16=null;if(5===o3){if(!(o16=o31(o1,o11,o2,o14)))return!1;o14+=o16.length}o1.write(o7.ACKS[o12][o13][o9][0]),o23(o1,o14),o18(o1,o6),null!==o16&&o16.write();5===o3&&o1.write(o8.from(o10));return!0}(o0,o1,o2);case"pingreq":case"pingresp":return function(o0,o1,o2){return o1.write(o7.EMPTY[o0.cmd])}(o0,o1);case"disconnect":return function(o0,o1,o2){var o3=o2?o2.protocolVersion:4,o4=o0||{},o5=o4.reasonCode,o6=o4.properties,o9=5===o3?1:0,o10=null;if(5===o3){if(!(o10=o31(o1,o6,o2,o9)))return!1;o9+=o10.length}o1.write(o8.from([o7.codes.disconnect<<4])),o23(o1,o9),5===o3&&o1.write(o8.from([o5]));null!==o10&&o10.write();return!0}(o0,o1,o2);case"auth":return function(o0,o1,o2){var o3=o2?o2.protocolVersion:4,o4=o0||{},o5=o4.reasonCode,o6=o4.properties,o9=5===o3?1:0;5!==o3&&o1.emit("error",new Error("Invalid mqtt version for auth packet"));var o10=o31(o1,o6,o2,o9);if(!o10)return!1;o9+=o10.length,o1.write(o8.from([o7.codes.auth<<4])),o23(o1,o9),o1.write(o8.from([o5])),null!==o10&&o10.write();return!0}(o0,o1,o2);default:return o1.emit("error",new Error("Unknown command")),!1}}function o21(o0){o0.uncork()}Object.defineProperty(o20,"cacheNumbers",{get:function(){return o18===o26},set:function(o0){o0?(o13&&0!==(0,o5.default)(o13).length||(o19=!0),o18=o26):(o19=!1,o18=o27)}});var o22={};function o23(o0,o1){var o2=o22[o1];o2||(o2=o16(o1).data,o1<16384&&(o22[o1]=o2)),o0.write(o2)}function o24(o0,o1){var o2=o8.byteLength(o1);o18(o0,o2),o0.write(o1,"utf8")}function o25(o0,o1,o2){o24(o0,o1),o24(o0,o2)}function o26(o0,o1){return o0.write(o13[o1])}function o27(o0,o1){return o0.write(o14(o1))}function o28(o0,o1){return o0.write(o17(o1))}function o29(o0,o1){"string"==typeof o1?o24(o0,o1):o1?(o18(o0,o1.length),o0.write(o1)):o18(o0,0)}function o30(o0,o1){if("object"!==(void 0===o1?"undefined":(0,o4.default)(o1))||null!=o1.length)return{length:1,write:function(){o32(o0,{},0)}};var o2=0;function o5(o2){var o5=o7.propertiesTypes[o2],o6=o1[o2],o9=0;switch(o5){case"byte":if("boolean"!=typeof o6)return o0.emit("error",new Error("Invalid "+o2)),!1;o9+=2;break;case"int8":if("number"!=typeof o6)return o0.emit("error",new Error("Invalid "+o2)),!1;o9+=2;break;case"binary":if(o6&&null===o6)return o0.emit("error",new Error("Invalid "+o2)),!1;o9+=1+o8.byteLength(o6)+2;break;case"int16":if("number"!=typeof o6)return o0.emit("error",new Error("Invalid "+o2)),!1;o9+=3;break;case"int32":if("number"!=typeof o6)return o0.emit("error",new Error("Invalid "+o2)),!1;o9+=5;break;case"var":if("number"!=typeof o6)return o0.emit("error",new Error("Invalid "+o2)),!1;o9+=1+o16(o6).length;break;case"string":if("string"!=typeof o6)return o0.emit("error",new Error("Invalid "+o2)),!1;o9+=3+o8.byteLength(o6.toString());break;case"pair":if("object"!==(void 0===o6?"undefined":(0,o4.default)(o6)))return o0.emit("error",new Error("Invalid "+o2)),!1;o9+=(0,o3.default)(o6).reduce((function(o0,o1){var o2=o6[o1];return Array.isArray(o2)?o0+=o2.reduce((function(o0,o2){return o0+=3+o8.byteLength(o1.toString())+2+o8.byteLength(o2.toString())}),0):o0+=3+o8.byteLength(o1.toString())+2+o8.byteLength(o6[o1].toString()),o0}),0);break;default:return o0.emit("error",new Error("Invalid property "+o2)),!1}return o9}if(o1)for(var o6 in o1){var o9=o5(o6);if(!o9)return!1;o2+=o9}return{length:o16(o2).length+o2,write:function(){o32(o0,o1,o2)}}}function o31(o0,o1,o2,o3){var o4=["reasonString","userProperties"],o5=o2&&o2.properties&&o2.properties.maximumPacketSize?o2.properties.maximumPacketSize:0,o6=o30(o0,o1);if(o5)for(;o3+o6.length>o5;){var o7=o4.shift();if(!o7||!o1[o7])return!1;delete o1[o7],o6=o30(o0,o1)}return o6}function o32(o0,o1,o2){for(var o4 in o23(o0,o2),o1)if(o1.hasOwnProperty(o4)&&null!==o1[o4]){var o5=o1[o4];switch(o7.propertiesTypes[o4]){case"byte":o0.write(o8.from([o7.properties[o4]])),o0.write(o8.from([+o5]));break;case"int8":o0.write(o8.from([o7.properties[o4]])),o0.write(o8.from([o5]));break;case"binary":o0.write(o8.from([o7.properties[o4]])),o29(o0,o5);break;case"int16":o0.write(o8.from([o7.properties[o4]])),o18(o0,o5);break;case"int32":o0.write(o8.from([o7.properties[o4]])),o28(o0,o5);break;case"var":o0.write(o8.from([o7.properties[o4]])),o23(o0,o5);break;case"string":o0.write(o8.from([o7.properties[o4]])),o24(o0,o5);break;case"pair":(0,o3.default)(o5).forEach((function(o1){var o2=o5[o1];Array.isArray(o2)?o2.forEach((function(o2){o0.write(o8.from([o7.properties[o4]])),o25(o0,o1.toString(),o2.toString())})):(o0.write(o8.from([o7.properties[o4]])),o25(o0,o1.toString(),o2.toString()))}));break;default:return o0.emit("error",new Error("Invalid property "+o4)),!1}}}function o33(o0){return o0?o0 instanceof o8?o0.length:o8.byteLength(o0):0}function o34(o0){return"string"==typeof o0||o0 instanceof o8}o0.exports=o20},7868:(o0,o1,o2)=>{o0.exports=function(){var o0={};function o1(o1,o2,o3){return"function"==typeof o2?(o3=o2,o2=new o0.Root):o2||(o2=new o0.Root),o2.load(o1,o3)}function o3(o1,o2){return o2||(o2=new o0.Root),o2.loadSync(o1)}function o4(o1,o2,o3){return"function"==typeof o2?(o3=o2,o2=new o0.Root):o2||(o2=new o0.Root),o2.parseFromPbString(o1,o3)}function o5(){o0.converter._configure(),o0.decoder._configure(),o0.encoder._configure(),o0.Field._configure(),o0.MapField._configure(),o0.Message._configure(),o0.Namespace._configure(),o0.Method._configure(),o0.ReflectionObject._configure(),o0.OneOf._configure(),o0.parse._configure(),o0.Reader._configure(),o0.Root._configure(),o0.Service._configure(),o0.verifier._configure(),o0.Type._configure(),o0.types._configure(),o0.wrappers._configure(),o0.Writer._configure()}if(o0.build="minimal",o0.Writer=o2(6704),o0.encoder=o2(4848),o0.Reader=o2(3144),o0.util=o2(9852),o0.rpc=o2(6100),o0.roots=o2(9544),o0.verifier=o2(1691),o0.tokenize=o2(484),o0.parse=o2(5848),o0.common=o2(7592),o0.ReflectionObject=o2(5840),o0.Namespace=o2(3540),o0.Root=o2(4904),o0.Enum=o2(4200),o0.Type=o2(2244),o0.Field=o2(3212),o0.OneOf=o2(9628),o0.MapField=o2(2048),o0.Service=o2(5748),o0.Method=o2(9904),o0.converter=o2(3560),o0.decoder=o2(9776),o0.Message=o2(1760),o0.wrappers=o2(5800),o0.types=o2(3876),o0.util=o2(9852),o0.configure=o5,o0.load=o1,o0.loadSync=o3,o0.parseFromPbString=o4,o5(),arguments&&arguments.length)for(var o6=0;o6<arguments.length;o6++){var o7=arguments[o6];if(o7.hasOwnProperty("exports"))return void(o7.exports=o0)}return o0}()},1576:o0=>{function o1(){this._listeners={}}o0.exports=o1,o1.prototype.on=function(o0,o1,o2){return(this._listeners[o0]||(this._listeners[o0]=[])).push({fn:o1,ctx:o2||this}),this},o1.prototype.off=function(o0,o1){if(void 0===o0)this._listeners={};else if(void 0===o1)this._listeners[o0]=[];else for(var o2=this._listeners[o0],o3=0;o3<o2.length;)o2[o3].fn===o1?o2.splice(o3,1):++o3;return this},o1.prototype.emit=function(o0){var o1=this._listeners[o0];if(o1){for(var o2=[],o3=1;o3<arguments.length;)o2.push(arguments[o3++]);for(o3=0;o3<o1.length;)o1[o3].fn.apply(o1[o3++].ctx,o2)}return this}},6440:(o0,o1,o2)=>{var o3,o4=o2(6224),o5=(o3=o4)&&o3.__esModule?o3:{default:o3};o0.exports=function(o0,o1){var o2=new Array(arguments.length-1),o3=0,o4=2,o6=!0;for(;o4<arguments.length;)o2[o3++]=arguments[o4++];return new o5.default((function(o4,o5){o2[o3]=function(o0){if(o6)if(o6=!1,o0)o5(o0);else{for(var o1=new Array(arguments.length-1),o2=0;o2<o1.length;)o1[o2++]=arguments[o2];o4.apply(null,o1)}};try{o0.apply(o1||null,o2)}catch(o0){o6&&(o6=!1,o5(o0))}}))}},5331:o0=>{var o1=o0.exports;o1.length=function(o0){var o1=o0.length;if(!o1)return 0;for(var o2=0;--o1%4>1&&"="===o0.charAt(o1);)++o2;return Math.ceil(3*o0.length)/4-o2};for(var o2=new Array(64),o3=new Array(123),o4=0;o4<64;)o3[o2[o4]=o4<26?o4+65:o4<52?o4+71:o4<62?o4-4:o4-59|43]=o4++;o1.encode=function(o0,o1,o3){for(var o4,o5=null,o6=[],o7=0,o8=0;o1<o3;){var o9=o0[o1++];switch(o8){case 0:o6[o7++]=o2[o9>>2],o4=(3&o9)<<4,o8=1;break;case 1:o6[o7++]=o2[o4|o9>>4],o4=(15&o9)<<2,o8=2;break;case 2:o6[o7++]=o2[o4|o9>>6],o6[o7++]=o2[63&o9],o8=0}o7>8191&&((o5||(o5=[])).push(String.fromCharCode.apply(String,o6)),o7=0)}return o8&&(o6[o7++]=o2[o4],o6[o7++]=61,1===o8&&(o6[o7++]=61)),o5?(o7&&o5.push(String.fromCharCode.apply(String,o6.slice(0,o7))),o5.join("")):String.fromCharCode.apply(String,o6.slice(0,o7))};var o5="invalid encoding";o1.decode=function(o0,o1,o2){for(var o4,o6=o2,o7=0,o8=0;o8<o0.length;){var o9=o0.charCodeAt(o8++);if(61===o9&&o7>1)break;if(void 0===(o9=o3[o9]))throw Error(o5);switch(o7){case 0:o4=o9,o7=1;break;case 1:o1[o2++]=o4<<2|(48&o9)>>4,o4=o9,o7=2;break;case 2:o1[o2++]=(15&o4)<<4|(60&o9)>>2,o4=o9,o7=3;break;case 3:o1[o2++]=(3&o4)<<6|o9,o7=0}}if(1===o7)throw Error(o5);return o2-o6},o1.test=function(o0){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(o0)}},7592:o0=>{o0.exports=o3;var o1,o2=/\/|\./;function o3(o0,o1){o2.test(o0)||(o0="google/protobuf/"+o0+".proto",o1={nested:{google:{nested:{protobuf:{nested:o1}}}}}),o3[o0]=o1}o3("any",{Any:{fields:{type_url:{type:"string",id:1},value:{type:"bytes",id:2}}}}),o3("duration",{Duration:o1={fields:{seconds:{type:"int64",id:1},nanos:{type:"int32",id:2}}}}),o3("timestamp",{Timestamp:o1}),o3("empty",{Empty:{fields:{}}}),o3("struct",{Struct:{fields:{fields:{keyType:"string",type:"Value",id:1}}},Value:{oneofs:{kind:{oneof:["nullValue","numberValue","stringValue","boolValue","structValue","listValue"]}},fields:{nullValue:{type:"NullValue",id:1},numberValue:{type:"double",id:2},stringValue:{type:"string",id:3},boolValue:{type:"bool",id:4},structValue:{type:"Struct",id:5},listValue:{type:"ListValue",id:6}}},NullValue:{values:{NULL_VALUE:0}},ListValue:{fields:{values:{rule:"repeated",type:"Value",id:1}}}}),o3("wrappers",{DoubleValue:{fields:{value:{type:"double",id:1}}},FloatValue:{fields:{value:{type:"float",id:1}}},Int64Value:{fields:{value:{type:"int64",id:1}}},UInt64Value:{fields:{value:{type:"uint64",id:1}}},Int32Value:{fields:{value:{type:"int32",id:1}}},UInt32Value:{fields:{value:{type:"uint32",id:1}}},BoolValue:{fields:{value:{type:"bool",id:1}}},StringValue:{fields:{value:{type:"string",id:1}}},BytesValue:{fields:{value:{type:"bytes",id:1}}}}),o3("field_mask",{FieldMask:{fields:{paths:{rule:"repeated",type:"string",id:1}}}}),o3.get=function(o0){return o3[o0]||null}},3560:(o0,o1,o2)=>{var o3=o5(o2(696)),o4=o5(o2(9708));function o5(o0){return o0&&o0.__esModule?o0:{default:o0}}var o6,o7,o8=o0.exports;function o9(o0,o1,o2,o5){var o8=o5.m,o9=o5.d,o10=o5.types,o11=o5.ksi,o12=void 0!==o11;if(o0.resolvedType)if(o0.resolvedType instanceof o6){for(var o13=o12?o9[o2][o11]:o9[o2],o14=o0.resolvedType.values,o15=(0,o4.default)(o14),o16=0;o16<o15.length;o16++)if(!(o0.repeated&&o14[o15[o16]]===o0.typeDefault||o15[o16]!=o13&&o14[o15[o16]]!=o13)){o12?o8[o2][o11]=o14[o15[o16]]:o8[o2]=o14[o15[o16]];break}}else{if("object"!==(0,o3.default)(o12?o9[o2][o11]:o9[o2]))throw TypeError(o0.fullName+": object expected");o12?o8[o2][o11]=o10[o1].fromObject(o9[o2][o11]):o8[o2]=o10[o1].fromObject(o9[o2])}else{var o17=!1;switch(o0.type){case"double":case"float":o12?o8[o2][o11]=Number(o9[o2][o11]):o8[o2]=Number(o9[o2]);break;case"uint32":case"fixed32":o12?o8[o2][o11]=o9[o2][o11]>>>0:o8[o2]=o9[o2]>>>0;break;case"int32":case"sint32":case"sfixed32":o12?o8[o2][o11]=0|o9[o2][o11]:o8[o2]=0|o9[o2];break;case"uint64":o17=!0;case"int64":case"sint64":case"fixed64":case"sfixed64":o7.Long?o12?o8[o2][o11]=o7.Long.fromValue(o9[o2][o11]).unsigned=o17:o8[o2]=o7.Long.fromValue(o9[o2]).unsigned=o17:"string"==typeof(o12?o9[o2][o11]:o9[o2])?o12?o8[o2][o11]=parseInt(o9[o2][o11],10):o8[o2]=parseInt(o9[o2],10):"number"==typeof(o12?o9[o2][o11]:o9[o2])?o12?o8[o2][o11]=o9[o2][o11]:o8[o2]=o9[o2]:"object"===(0,o3.default)(o12?o9[o2][o11]:o9[o2])&&(o12?o8[o2][o11]=new o7.LongBits(o9[o2][o11].low>>>0,o9[o2][o11].high>>>0).toNumber(o17):o8[o2]=new o7.LongBits(o9[o2].low>>>0,o9[o2].high>>>0).toNumber(o17));break;case"bytes":"string"==typeof(o12?o9[o2][o11]:o9[o2])?o12?o7.base64.decode(o9[o2][o11],o8[o2][o11]=o7.newBuffer(o7.base64.length(o9[o2][o11])),0):o7.base64.decode(o9[o2],o8[o2]=o7.newBuffer(o7.base64.length(o9[o2])),0):(o12?o9[o2][o11]:o9[o2]).length&&(o12?o8[o2][o11]=o9[o2][o11]:o8[o2]=o9[o2]);break;case"string":o12?o8[o2][o11]=String(o9[o2][o11]):o8[o2]=String(o9[o2]);break;case"bool":o12?o8[o2][o11]=Boolean(o9[o2][o11]):o8[o2]=Boolean(o9[o2])}}}function o10(o0,o1,o2,o3){var o4=o3.m,o5=o3.d,o8=o3.types,o9=o3.ksi,o10=o3.o,o11=void 0!==o9;if(o0.resolvedType)o0.resolvedType instanceof o6?o11?o5[o2][o9]=o10.enums===String?o8[o1].values[o4[o2][o9]]:o4[o2][o9]:o5[o2]=o10.enums===String?o8[o1].values[o4[o2]]:o4[o2]:o11?o5[o2][o9]=o8[o1].toObject(o4[o2][o9],o10):o5[o2]=o8[o1].toObject(o4[o2],o10);else{var o12=!1;switch(o0.type){case"double":case"float":o11?o5[o2][o9]=o10.json&&!isFinite(o4[o2][o9])?String(o4[o2][o9]):o4[o2][o9]:o5[o2]=o10.json&&!isFinite(o4[o2])?String(o4[o2]):o4[o2];break;case"uint64":o12=!0;case"int64":case"sint64":case"fixed64":case"sfixed64":"number"==typeof o4[o2][o9]?o11?o5[o2][o9]=o10.longs===String?String(o4[o2][o9]):o4[o2][o9]:o5[o2]=o10.longs===String?String(o4[o2]):o4[o2]:o11?o5[o2][o9]=o10.longs===String?o7.Long.prototype.toString.call(o4[o2][o9]):o10.longs===Number?new o7.LongBits(o4[o2][o9].low>>>0,o4[o2][o9].high>>>0).toNumber(o12):o4[o2][o9]:o5[o2]=o10.longs===String?o7.Long.prototype.toString.call(o4[o2]):o10.longs===Number?new o7.LongBits(o4[o2].low>>>0,o4[o2].high>>>0).toNumber(o12):o4[o2];break;case"bytes":o11?o5[o2][o9]=o10.bytes===String?o7.base64.encode(o4[o2][o9],0,o4[o2][o9].length):o10.bytes===Array?Array.prototype.slice.call(o4[o2][o9]):o4[o2][o9]:o5[o2]=o10.bytes===String?o7.base64.encode(o4[o2],0,o4[o2].length):o10.bytes===Array?Array.prototype.slice.call(o4[o2]):o4[o2];break;default:o11?o5[o2][o9]=o4[o2][o9]:o5[o2]=o4[o2]}}}o8._configure=function(){o6=o2(4200),o7=o2(9852)},o8.fromObject=function(o0){var o1=o0.fieldsArray;return function(o0){return function(o2){if(o2 instanceof this.ctor)return o2;if(!o1.length)return new this.ctor;for(var o5=new this.ctor,o8=0;o8<o1.length;++o8){var o10,o11=o1[o8].resolve(),o12=o11.name;if(o11.map){if(o2[o12]){if("object"!==(0,o3.default)(o2[o12]))throw TypeError(o11.fullName+": object expected");o5[o12]={}}var o13=(0,o4.default)(o2[o12]);for(o10=0;o10<o13.length;++o10)o9(o11,o8,o12,o7.merge(o7.copy(o0),{m:o5,d:o2,ksi:o13[o10]}))}else if(o11.repeated){if(o2[o12]){if(!Array.isArray(o2[o12]))throw TypeError(o11.fullName+": array expected");for(o5[o12]=[],o10=0;o10<o2[o12].length;++o10)o9(o11,o8,o12,o7.merge(o7.copy(o0),{m:o5,d:o2,ksi:o10}))}}else(o11.resolvedType instanceof o6||null!=o2[o12])&&o9(o11,o8,o12,o7.merge(o7.copy(o0),{m:o5,d:o2}))}return o5}}},o8.toObject=function(o0){var o1=o0.fieldsArray.slice().sort(o7.compareFieldsById);return function(o2){return o1.length?function(o3,o5){o5=o5||{};for(var o8,o9,o11={},o12=[],o13=[],o14=[],o15=0;o15<o1.length;++o15)o1[o15].partOf||(o1[o15].resolve().repeated?o12:o1[o15].map?o13:o14).push(o1[o15]);if(o12.length&&(o5.arrays||o5.defaults))for(o15=0;o15<o12.length;++o15)o11[o12[o15].name]=[];if(o13.length&&(o5.objects||o5.defaults))for(o15=0;o15<o13.length;++o15)o11[o13[o15].name]={};if(o14.length&&o5.defaults)for(o15=0;o15<o14.length;++o15)if(o9=(o8=o14[o15]).name,o8.resolvedType instanceof o6)o11[o9]=o5.enums=String?o8.resolvedType.valuesById[o8.typeDefault]:o8.typeDefault;else if(o8.long)if(o7.Long){var o16=new o7.Long(o8.typeDefault.low,o8.typeDefault.high,o8.typeDefault.unsigned);o11[o9]=o5.longs===String?o16.toString():o5.longs===Number?o16.toNumber():o16}else o11[o9]=o5.longs===String?o8.typeDefault.toString():o8.typeDefault.toNumber();else o8.bytes?o11[o9]=o5.bytes===String?String.fromCharCode.apply(String,o8.typeDefault):Array.prototype.slice.call(o8.typeDefault).join("*..*").split("*..*"):o11[o9]=o8.typeDefault;var o17=!1;for(o15=0;o15<o1.length;++o15){o9=(o8=o1[o15]).name;var o18,o19,o20=o0._fieldsArray.indexOf(o8);if(o8.map){if(o17||(o17=!0),o3[o9]&&(o18=(0,o4.default)(o3[o9]).length))for(o11[o9]={},o19=0;o19<o18.length;++o19)o10(o8,o20,o9,o7.merge(o7.copy(o2),{m:o3,d:o11,ksi:o18[o19],o:o5}))}else if(o8.repeated){if(o3[o9]&&o3[o9].length)for(o11[o9]=[],o19=0;o19<o3[o9].length;++o19)o10(o8,o20,o9,o7.merge(o7.copy(o2),{m:o3,d:o11,ksi:o19,o:o5}))}else null!=o3[o9]&&o3.hasOwnProperty(o9)&&o10(o8,o20,o9,o7.merge(o7.copy(o2),{m:o3,d:o11,o:o5})),o8.partOf&&o5.oneofs&&(o11[o8.partOf.name]=o9)}return o11}:function(){return{}}}}},9776:(o0,o1,o2)=>{var o3,o4,o5,o6,o7=o2(696),o8=(o3=o7)&&o3.__esModule?o3:{default:o3};function o9(o0){return"missing required '"+o0.name+"'"}function o10(o0){return function(o1){var o2=o1.Reader,o3=o1.types,o7=o1.util;return function(o1,o10){o1 instanceof o2||(o1=o2.create(o1));for(var o11,o12=void 0===o10?o1.len:o1.pos+o10,o13=new this.ctor;o1.pos<o12;){var o14=o1.uint32();if(o0.group&&4==(7&o14))break;for(var o15=o14>>>3,o16=0,o17=!1;o16<o0.fieldsArray.length;++o16){var o18=o0._fieldsArray[o16].resolve(),o19=o18.name,o20=o18.resolvedType instanceof o4?"int32":o18.type;if(o15==o18.id){if(o17=!0,o18.map)o1.skip().pos++,o13[o19]===o7.emptyObject&&(o13[o19]={}),o11=o1[o18.keyType](),o1.pos++,null!=o5.long[o18.keyType]?null==o5.basic[o20]?o13[o19]["object"===(void 0===o11?"undefined":(0,o8.default)(o11))?o7.longToHash(o11):o11]=o3[o16].decode(o1,o1.uint32()):o13[o19]["object"===(void 0===o11?"undefined":(0,o8.default)(o11))?o7.longToHash(o11):o11]=o1[o20]():null==o5.basic[o20]?o13[o19]=o3[o16].decode(o1,o1.uint32()):o13[o19]=o1[o20]();else if(o18.repeated)if(o13[o19]&&o13[o19].length||(o13[o19]=[]),null!=o5.packed[o20]&&2==(7&o14))for(var o21=o1.uint32()+o1.pos;o1.pos<o21;)o13[o19].push(o1[o20]());else null==o5.basic[o20]?o18.resolvedType.group?o13[o19].push(o3[o16].decode(o1)):o13[o19].push(o3[o16].decode(o1,o1.uint32())):o13[o19].push(o1[o20]());else null==o5.basic[o20]?o18.resolvedType.group?o13[o19]=o3[o16].decode(o1):o13[o19]=o3[o16].decode(o1,o1.uint32()):o13[o19]=o1[o20]();break}}o17||(console.log("t",o14),o1.skipType(7&o14))}for(o16=0;o16<o0._fieldsArray.length;++o16){var o22=o0._fieldsArray[o16];if(o22.required&&!o13.hasOwnProperty(o22.name))throw o6.ProtocolError(o9(o22),{instance:o13})}return o13}}}o0.exports=o10,o10._configure=function(){o4=o2(4200),o5=o2(3876),o6=o2(9852)}},4848:(o0,o1,o2)=>{var o3,o4,o5,o6=o2(9708),o7=(o3=o6)&&o3.__esModule?o3:{default:o3};function o8(o0){return function(o1){var o2=o1.Writer,o3=o1.types,o6=o1.util;return function(o1,o8){o8=o8||o2.create();for(var o9=o0.fieldsArray.slice().sort(o6.compareFieldsById),o10=0;o10<o9.length;o10++){var o11=o9[o10],o12=o0._fieldsArray.indexOf(o11),o13=o11.resolvedType instanceof o4?"uint32":o11.type,o14=o5.basic[o13],o15=o1[o11.name];if(o11.resolvedType instanceof o4&&"string"==typeof o15&&(o15=o3[o12].values[o15]),o11.map){if(null!=o15&&o1.hasOwnProperty(o11.name))for(var o16=(0,o7.default)(o15),o17=0;o17<o16.length;++o17)o8.uint32((o11.id<<3|2)>>>0).fork().uint32(8|o5.mapKey[o11.keyType])[o11.keyType](o16[o17]),void 0===o14?o3[o12].encode(o15[o16[o17]],o8.uint32(18).fork()).ldelim().ldelim():o8.uint32(16|o14)[o13](o15[o16[o17]]).ldelim()}else if(o11.repeated){if(o15&&o15.length)if(o11.packed&&void 0!==o5.packed[o13]){o8.uint32((o11.id<<3|2)>>>0).fork();for(var o18=0;o18<o15.length;o18++)o8[o13](o15[o18]);o8.ldelim()}else for(var o19=0;o19<o15.length;o19++)void 0===o14?o11.resolvedType.group?o3[o12].encode(o15[o19],o8.uint32((o11.id<<3|3)>>>0)).uint32((o11.id<<3|4)>>>0):o3[o12].encode(o15[o19],o8.uint32((o11.id<<3|2)>>>0).fork()).ldelim():o8.uint32((o11.id<<3|o14)>>>0)[o13](o15[o19])}else(!o11.optional||null!=o15&&o1.hasOwnProperty(o11.name))&&(o11.optional||null!=o15&&o1.hasOwnProperty(o11.name)||console.warn("!!! :",o1.$type?o1.$type.name:"",":",o11.name,"protorequired"),void 0===o14?o11.resolvedType.group?o3[o12].encode(o15,o8.uint32((o11.id<<3|3)>>>0)).uint32((o11.id<<3|4)>>>0):o3[o12].encode(o15,o8.uint32((o11.id<<3|2)>>>0).fork()).ldelim():o8.uint32((o11.id<<3|o14)>>>0)[o13](o15))}return o8}}}o0.exports=o8,o8._configure=function(){o4=o2(4200),o5=o2(3876)}},4200:(o0,o1,o2)=>{var o3=o6(o2(9708)),o4=o6(o2(696)),o5=o6(o2(6212));function o6(o0){return o0&&o0.__esModule?o0:{default:o0}}o0.exports=o9;var o7=o2(5840);((o9.prototype=(0,o5.default)(o7.prototype)).constructor=o9).className="Enum";var o8=o2(3540);function o9(o0,o1,o2,o6,o8){if(o7.call(this,o0,o2),o1&&"object"!==(void 0===o1?"undefined":(0,o4.default)(o1)))throw TypeError("values must be an object");if(this.valuesById={},this.values=(0,o5.default)(this.valuesById),this.comment=o6,this.comments=o8||{},this.reserved=void 0,o1)for(var o9=(0,o3.default)(o1),o10=0;o10<o9.length;++o10)"number"==typeof o1[o9[o10]]&&(this.valuesById[this.values[o9[o10]]=o1[o9[o10]]]=o9[o10])}o9.fromJSON=function(o0,o1){var o2=new o9(o0,o1.values,o1.options,o1.comment,o1.comments);return o2.reserved=o1.reserved,o2},o9.prototype.toJSON=function(o0){var o1=!!o0&&Boolean(o0.keepComments);return util.toObject(["options",this.options,"values",this.values,"reserved",this.reserved&&this.reserved.length?this.reserved:void 0,"comment",o1?this.comment:void 0,"comments",o1?this.comments:void 0])},o9.prototype.add=function(o0,o1,o2){if(!util.isString(o0))throw TypeError("name must be a string");if(!util.isInteger(o1))throw TypeError("id must be an integer");if(void 0!==this.values[o0])throw Error("duplicate name '"+o0+"' in "+this);if(this.isReservedId(o1))throw Error("id "+o1+" is reserved in "+this);if(this.isReservedName(o0))throw Error("name '"+o0+"' is reserved in "+this);if(void 0!==this.valuesById[o1]){if(!this.options||!this.options.allow_alias)throw Error("duplicate id "+o1+" in "+this);this.values[o0]=o1}else this.valuesById[this.values[o0]=o1]=o0;return this.comments[o0]=o2||null,this},o9.prototype.remove=function(o0){if(!util.isString(o0))throw TypeError("name must be a string");var o1=this.values[o0];if(null==o1)throw Error("name '"+o0+"' does not exist in "+this);return delete this.valuesById[o1],delete this.values[o0],delete this.comments[o0],this},o9.prototype.isReservedId=function(o0){return o8.isReservedId(this.reserved,o0)},o9.prototype.isReservedName=function(o0){return o8.isReservedName(this.reserved,o0)}},3212:(o0,o1,o2)=>{var o3=o7(o2(696)),o4=o7(o2(7252)),o5=o7(o2(9708)),o6=o7(o2(6212));function o7(o0){return o0&&o0.__esModule?o0:{default:o0}}o0.exports=o14;var o8,o9,o10,o11,o12=o2(5840);((o14.prototype=(0,o6.default)(o12.prototype)).constructor=o14).className="Field";var o13=/^required|optional|repeated$/;function o14(o0,o1,o2,o3,o4,o5,o6){if(o10.isObject(o3)?(o6=o4,o5=o3,o3=o4=void 0):o10.isObject(o4)&&(o6=o5,o5=o4,o4=void 0),o12.call(this,o0,o5),!o10.isInteger(o1)||o1<0)throw TypeError("id must be a non-negative integer");if(!o10.isString(o2))throw TypeError("type must be a string");if(void 0!==o3&&!o13.test(o3=o3.toString().toLowerCase()))throw TypeError("rule must be a string rule");if(void 0!==o4&&!o10.isString(o4))throw TypeError("extend must be a string");this.rule=o3&&"optional"!==o3?o3:void 0,this.type=o2,this.id=o1,this.extend=o4||void 0,this.required="required"===o3,this.optional=!this.required,this.repeated="repeated"===o3,this.map=!1,this.message=null,this.partOf=null,this.typeDefault=null,this.defaultValue=null,this.long=!!o10.Long&&void 0!==o9.long[o2],this.bytes="bytes"===o2,this.resolvedType=null,this.extensionField=null,this.declaringField=null,this._packed=null,this.comment=o6}o14.fromJSON=function(o0,o1){return new o14(o0,o1.id,o1.type,o1.rule,o1.extend,o1.options,o1.comment)},Object.defineProperty(o14.prototype,"packed",{get:function(){return null===this._packed&&(this._packed=!1!==this.getOption("packed")),this._packed}}),o14.prototype.setOption=function(o0,o1,o2){return"packed"===o0&&(this._packed=null),o12.prototype.setOption.call(this,o0,o1,o2)},o14.prototype.toJSON=function(o0){var o1=!!o0&&Boolean(o0.keepComments);return o10.toObject(["rule","optional"!==this.rule&&this.rule||void 0,"type",this.type,"id",this.id,"extend",this.extend,"options",this.options,"comment",o1?this.comment:void 0])},o14.prototype.resolve=function(){if(this.resolved)return this;if(void 0===(this.typeDefault=o9.defaults[this.type])&&(this.resolvedType=(this.declaringField?this.declaringField.parent:this.parent).lookupTypeOrEnum(this.type),this.resolvedType instanceof o11?this.typeDefault=null:this.typeDefault=this.resolvedType.values[(0,o5.default)(this.resolvedType.values)[0]]),this.options&&null!=this.options.default&&(this.typeDefault=this.options.default,this.resolvedType instanceof o8&&"string"==typeof this.typeDefault&&(this.typeDefault=this.resolvedType.values[this.typeDefault])),this.options&&(!0!==this.options.packed&&(void 0===this.options.packed||!this.resolvedType||this.resolvedType instanceof o8)||delete this.options.packed,(0,o5.default)(this.options).length||(this.options=void 0)),this.long)this.typeDefault=o10.Long.fromNumber(this.typeDefault,"u"===this.type.charAt(0)),o4.default&&(0,o4.default)(this.typeDefault);else if(this.bytes&&"string"==typeof this.typeDefault){var o0;o10.utf8.write(this.typeDefault,o0=o10.newBuffer(o10.utf8.length(this.typeDefault)),0),this.typeDefault=o0}return this.map?this.defaultValue=o10.emptyObject:this.repeated?this.defaultValue=o10.emptyArray:this.defaultValue=this.typeDefault,this.parent instanceof o11&&(this.parent.ctor.prototype[this.name]=this.defaultValue),o12.prototype.resolve.call(this)},o14.d=function(o0,o1,o2,o4){return"function"==typeof o1?o1=o10.decorateType(o1).name:o1&&"object"===(void 0===o1?"undefined":(0,o3.default)(o1))&&(o1=o10.decorateEnum(o1).name),function(o3,o5){o10.decorateType(o3.constructor).add(new o14(o5,o0,o1,o2,{default:o4}))}},o14._configure=function(){o11=o2(2244),o8=o2(4200),o9=o2(3876),o10=o2(9852)}},4688:o0=>{function o1(o0){return"undefined"!=typeof Float32Array?function(){var o1=new Float32Array([-0]),o2=new Uint8Array(o1.buffer),o3=128===o2[3];function o4(o0,o3,o4){o1[0]=o0,o3[o4]=o2[0],o3[o4+1]=o2[1],o3[o4+2]=o2[2],o3[o4+3]=o2[3]}function o5(o0,o3,o4){o1[0]=o0,o3[o4]=o2[3],o3[o4+1]=o2[2],o3[o4+2]=o2[1],o3[o4+3]=o2[0]}function o6(o0,o3){return o2[0]=o0[o3],o2[1]=o0[o3+1],o2[2]=o0[o3+2],o2[3]=o0[o3+3],o1[0]}function o7(o0,o3){return o2[3]=o0[o3],o2[2]=o0[o3+1],o2[1]=o0[o3+2],o2[0]=o0[o3+3],o1[0]}o0.writeFloatLE=o3?o4:o5,o0.writeFloatBE=o3?o5:o4,o0.readFloatLE=o3?o6:o7,o0.readFloatBE=o3?o7:o6}():function(){function o1(o0,o1,o2,o3){var o4=o1<0?1:0;if(o4&&(o1=-o1),0===o1)o0(1/o1>0?0:2147483648,o2,o3);else if(isNaN(o1))o0(2143289344,o2,o3);else if(o1>34028234663852886e22)o0((o4<<31|2139095040)>>>0,o2,o3);else if(o1<11754943508222875e-54)o0((o4<<31|Math.round(o1/1401298464324817e-60))>>>0,o2,o3);else{var o5=Math.floor(Math.log(o1)/Math.LN2);o0((o4<<31|o5+127<<23|8388607&Math.round(o1*Math.pow(2,-o5)*8388608))>>>0,o2,o3)}}function o6(o0,o1,o2){var o3=o0(o1,o2),o4=2*(o3>>31)+1,o5=o3>>>23&255,o6=8388607&o3;return 255===o5?o6?NaN:o4*(1/0):0===o5?1401298464324817e-60*o4*o6:o4*Math.pow(2,o5-150)*(o6+8388608)}o0.writeFloatLE=o1.bind(null,o2),o0.writeFloatBE=o1.bind(null,o3),o0.readFloatLE=o6.bind(null,o4),o0.readFloatBE=o6.bind(null,o5)}(),"undefined"!=typeof Float64Array?function(){var o1=new Float64Array([-0]),o2=new Uint8Array(o1.buffer),o3=128===o2[7];function o4(o0,o3,o4){o1[0]=o0,o3[o4]=o2[0],o3[o4+1]=o2[1],o3[o4+2]=o2[2],o3[o4+3]=o2[3],o3[o4+4]=o2[4],o3[o4+5]=o2[5],o3[o4+6]=o2[6],o3[o4+7]=o2[7]}function o5(o0,o3,o4){o1[0]=o0,o3[o4]=o2[7],o3[o4+1]=o2[6],o3[o4+2]=o2[5],o3[o4+3]=o2[4],o3[o4+4]=o2[3],o3[o4+5]=o2[2],o3[o4+6]=o2[1],o3[o4+7]=o2[0]}function o6(o0,o3){return o2[0]=o0[o3],o2[1]=o0[o3+1],o2[2]=o0[o3+2],o2[3]=o0[o3+3],o2[4]=o0[o3+4],o2[5]=o0[o3+5],o2[6]=o0[o3+6],o2[7]=o0[o3+7],o1[0]}function o7(o0,o3){return o2[7]=o0[o3],o2[6]=o0[o3+1],o2[5]=o0[o3+2],o2[4]=o0[o3+3],o2[3]=o0[o3+4],o2[2]=o0[o3+5],o2[1]=o0[o3+6],o2[0]=o0[o3+7],o1[0]}o0.writeDoubleLE=o3?o4:o5,o0.writeDoubleBE=o3?o5:o4,o0.readDoubleLE=o3?o6:o7,o0.readDoubleBE=o3?o7:o6}():function(){function o1(o0,o1,o2,o3,o4,o5){var o6=o3<0?1:0;if(o6&&(o3=-o3),0===o3)o0(0,o4,o5+o1),o0(1/o3>0?0:2147483648,o4,o5+o2);else if(isNaN(o3))o0(0,o4,o5+o1),o0(2146959360,o4,o5+o2);else if(o3>17976931348623157e292)o0(0,o4,o5+o1),o0((o6<<31|2146435072)>>>0,o4,o5+o2);else{var o7;if(o3<22250738585072014e-324)o0((o7=o3/5e-324)>>>0,o4,o5+o1),o0((o6<<31|o7/4294967296)>>>0,o4,o5+o2);else{var o8=Math.floor(Math.log(o3)/Math.LN2);1024===o8&&(o8=1023),o0(4503599627370496*(o7=o3*Math.pow(2,-o8))>>>0,o4,o5+o1),o0((o6<<31|o8+1023<<20|1048576*o7&1048575)>>>0,o4,o5+o2)}}}function o6(o0,o1,o2,o3,o4){var o5=o0(o3,o4+o1),o6=o0(o3,o4+o2),o7=2*(o6>>31)+1,o8=o6>>>20&2047,o9=4294967296*(1048575&o6)+o5;return 2047===o8?o9?NaN:o7*(1/0):0===o8?5e-324*o7*o9:o7*Math.pow(2,o8-1075)*(o9+4503599627370496)}o0.writeDoubleLE=o1.bind(null,o2,0,4),o0.writeDoubleBE=o1.bind(null,o3,4,0),o0.readDoubleLE=o6.bind(null,o4,0,4),o0.readDoubleBE=o6.bind(null,o5,4,0)}(),o0}function o2(o0,o1,o2){o1[o2]=255&o0,o1[o2+1]=o0>>>8&255,o1[o2+2]=o0>>>16&255,o1[o2+3]=o0>>>24}function o3(o0,o1,o2){o1[o2]=o0>>>24,o1[o2+1]=o0>>>16&255,o1[o2+2]=o0>>>8&255,o1[o2+3]=255&o0}function o4(o0,o1){return(o0[o1]|o0[o1+1]<<8|o0[o1+2]<<16|o0[o1+3]<<24)>>>0}function o5(o0,o1){return(o0[o1]<<24|o0[o1+1]<<16|o0[o1+2]<<8|o0[o1+3])>>>0}o0.exports=o1(o1)},2248:(o0,o1,o2)=>{o0.exports=o4;var o3=o2(9852);function o4(o0,o1){this.lo=o0>>>0,this.hi=o1>>>0}var o5=o4.zero=new o4(0,0);o5.toNumber=function(){return 0},o5.zzEncode=o5.zzDecode=function(){return this},o5.length=function(){return 1};var o6=o4.zeroHash="\0\0\0\0\0\0\0\0";o4.fromNumber=function(o0){if(0===o0)return o5;var o1=o0<0;o1&&(o0=-o0);var o2=o0>>>0,o3=(o0-o2)/4294967296>>>0;return o1&&(o3=~o3>>>0,o2=~o2>>>0,++o2>4294967295&&(o2=0,++o3>4294967295&&(o3=0))),new o4(o2,o3)},o4.from=function(o0){return"number"==typeof o0?o4.fromNumber(o0):"string"==typeof o0||o0 instanceof String?o4.fromNumber(parseInt(o0,10)):o0.low||o0.high?new o4(o0.low>>>0,o0.high>>>0):o5},o4.prototype.toNumber=function(o0){if(!o0&&this.hi>>>31){var o1=1+~this.lo>>>0,o2=~this.hi>>>0;return o1||(o2=o2+1>>>0),-(o1+4294967296*o2)}return this.lo+4294967296*this.hi},o4.prototype.toLong=function(o0){return o3.Long?new o3.Long(0|this.lo,0|this.hi,Boolean(o0)):{low:0|this.lo,high:0|this.hi,unsigned:Boolean(o0)}};var o7=String.prototype.charCodeAt;o4.fromHash=function(o0){return o0===o6?o5:new o4((o7.call(o0,0)|o7.call(o0,1)<<8|o7.call(o0,2)<<16|o7.call(o0,3)<<24)>>>0,(o7.call(o0,4)|o7.call(o0,5)<<8|o7.call(o0,6)<<16|o7.call(o0,7)<<24)>>>0)},o4.prototype.toHash=function(){return String.fromCharCode(255&this.lo,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,255&this.hi,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},o4.prototype.zzEncode=function(){var o0=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^o0)>>>0,this.lo=(this.lo<<1^o0)>>>0,this},o4.prototype.zzDecode=function(){var o0=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^o0)>>>0,this.hi=(this.hi>>>1^o0)>>>0,this},o4.prototype.length=function(){var o0=this.lo,o1=(this.lo>>>28|this.hi<<4)>>>0,o2=this.hi>>>24;return 0===o2?0===o1?o0<16384?o0<128?1:2:o0<2097152?3:4:o1<16384?o1<128?5:6:o1<2097152?7:8:o2<128?9:10}},2048:(o0,o1,o2)=>{var o3=o5(o2(696)),o4=o5(o2(6212));function o5(o0){return o0&&o0.__esModule?o0:{default:o0}}o0.exports=o9;var o6,o7,o8=o2(3212);function o9(o0,o1,o2,o3,o4,o5){if(o8.call(this,o0,o1,o3,void 0,void 0,o4,o5),!o7.isString(o2))throw TypeError("keyType must be a string");this.keyType=o2,this.resolvedKeyType=null,this.map=!0}((o9.prototype=(0,o4.default)(o8.prototype)).constructor=o9).className="MapField",o9.fromJSON=function(o0,o1){return new o9(o0,o1.id,o1.keyType,o1.type,o1.options,o1.comment)},o9.prototype.toJSON=function(o0){var o1=!!o0&&Boolean(o0.keepComments);return o7.toObject(["keyType",this.keyType,"type",this.type,"id",this.id,"extend",this.extend,"options",this.options,"comment",o1?this.comment:void 0])},o9.prototype.resolve=function(){if(this.resolved)return this;if(void 0===o6.mapKey[this.keyType])throw Error("invalid key type: "+this.keyType);return o8.prototype.resolve.call(this)},o9.d=function(o0,o1,o2){return"function"==typeof o2?o2=o7.decorateType(o2).name:o2&&"object"===(void 0===o2?"undefined":(0,o3.default)(o2))&&(o2=o7.decorateEnum(o2).name),function(o3,o4){o7.decorateType(o3.constructor).add(new o9(o4,o0,o1,o2))}},o9._configure=function(){o6=o2(3876),o7=o2(9852)}},1760:(o0,o1,o2)=>{var o3,o4,o5=o2(9708),o6=(o3=o5)&&o3.__esModule?o3:{default:o3};function o7(o0){if(o0)for(var o1=(0,o6.default)(o0),o2=0;o2<o1.length;++o2)this[o1[o2]]=o0[o1[o2]]}o0.exports=o7,o7.create=function(o0){return this.$type.create(o0)},o7.encode=function(o0,o1){return arguments.length?1==arguments.length?this.$type.encode(arguments[0]):this.$type.encode(arguments[0],arguments[1]):this.$type.encode(this)},o7.encodeDelimited=function(o0,o1){return this.$type.encodeDelimited(o0,o1)},o7.decode=function(o0){return this.$type.decode(o0)},o7.decodeDelimited=function(o0){return this.$type.decodeDelimited(o0)},o7.verify=function(o0){return this.$type.verify(o0)},o7.fromObject=function(o0){return this.$type.fromObject(o0)},o7.toObject=function(o0,o1){return o0=o0||this,this.$type.toObject(o0,o1)},o7.prototype.toJSON=function(){return this.$type.toObject(this,o4.toJSONOptions)},o7.set=function(o0,o1){o7[o0]=o1},o7.get=function(o0){return o7[o0]},o7._configure=function(){o4=o2(9852)}},9904:(o0,o1,o2)=>{var o3,o4=o2(6212),o5=(o3=o4)&&o3.__esModule?o3:{default:o3};o0.exports=o8;var o6,o7=o2(5840);function o8(o0,o1,o2,o3,o4,o5,o8,o9){if(o6.isObject(o4)?(o8=o4,o4=o5=void 0):o6.isObject(o5)&&(o8=o5,o5=void 0),void 0!==o1&&!o6.isString(o1))throw TypeError("type must be a string");if(!o6.isString(o2))throw TypeError("requestType must be a string");if(!o6.isString(o3))throw TypeError("responseType must be a string");o7.call(this,o0,o8),this.type=o1||"rpc",this.requestType=o2,this.requestStream=!!o4||void 0,this.responseType=o3,this.responseStream=!!o5||void 0,this.resolvedRequestType=null,this.resolvedResponseType=null,this.comment=o9}((o8.prototype=(0,o5.default)(o7.prototype)).constructor=o8).className="Method",o8.fromJSON=function(o0,o1){return new o8(o0,o1.type,o1.requestType,o1.responseType,o1.requestStream,o1.responseStream,o1.options,o1.comment)},o8.prototype.toJSON=function(o0){var o1=!!o0&&Boolean(o0.keepComments);return o6.toObject(["type","rpc"!==this.type&&this.type||void 0,"requestType",this.requestType,"requestStream",this.requestStream,"responseType",this.responseType,"responseStream",this.responseStream,"options",this.options,"comment",o1?this.comment:void 0])},o8.prototype.resolve=function(){return this.resolved?this:(this.resolvedRequestType=this.parent.lookupType(this.requestType),this.resolvedResponseType=this.parent.lookupType(this.responseType),o7.prototype.resolve.call(this))},o8._configure=function(){o6=o2(9852)}},3540:(o0,o1,o2)=>{var o3=o5(o2(9708)),o4=o5(o2(6212));function o5(o0){return o0&&o0.__esModule?o0:{default:o0}}o0.exports=o13;var o6,o7,o8,o9,o10,o11=o2(5840);function o12(o0,o1){if(o0&&o0.length){for(var o2={},o3=0;o3<o0.length;++o3)o2[o0[o3].name]=o0[o3].toJSON(o1);return o2}}function o13(o0,o1){o11.call(this,o0,o1),this.nested=void 0,this._nestedArray=null}function o14(o0){return o0._nestedArray=null,o0}((o13.prototype=(0,o4.default)(o11.prototype)).constructor=o13).className="Namespace",o13.fromJSON=function(o0,o1){return new o13(o0,o1.options).addJSON(o1.nested)},o13.arrayToJSON=o12,o13.isReservedId=function(o0,o1){if(o0)for(var o2=0;o2<o0.length;++o2)if("string"!=typeof o0[o2]&&o0[o2][0]<=o1&&o0[o2][1]>=o1)return!0;return!1},o13.isReservedName=function(o0,o1){if(o0)for(var o2=0;o2<o0.length;++o2)if(o0[o2]===o1)return!0;return!1},Object.defineProperty(o13.prototype,"nestedArray",{get:function(){return this._nestedArray||(this._nestedArray=o8.toArray(this.nested))}}),o13.prototype.toJSON=function(o0){return o8.toObject(["options",this.options,"nested",o12(this.nestedArray,o0)])},o13.prototype.addJSON=function(o0){if(o0)for(var o1,o2=(0,o3.default)(o0),o4=0;o4<o2.length;++o4)o1=o0[o2[o4]],this.add((void 0!==o1.fields?o9.fromJSON:void 0!==o1.values?o6.fromJSON:void 0!==o1.methods?o10.fromJSON:void 0!==o1.id?o7.fromJSON:o13.fromJSON)(o2[o4],o1));return this},o13.prototype.get=function(o0){return this.nested&&this.nested[o0]||null},o13.prototype.getEnum=function(o0){if(this.nested&&this.nested[o0]instanceof o6)return this.nested[o0].values;throw Error("no such enum: "+o0)},o13.prototype.add=function(o0){if(!(o0 instanceof o7&&void 0!==o0.extend||o0 instanceof o9||o0 instanceof o6||o0 instanceof o10||o0 instanceof o13))throw TypeError("object must be a valid nested object");if(this.nested){var o1=this.get(o0.name);if(o1){if(!(o1 instanceof o13&&o0 instanceof o13)||o1 instanceof o9||o1 instanceof o10)throw Error("duplicate name '"+o0.name+"' in "+this);for(var o2=o1.nestedArray,o3=0;o3<o2.length;++o3)o0.add(o2[o3]);this.remove(o1),this.nested||(this.nested={}),o0.setOptions(o1.options,!0)}}else this.nested={};return this.nested[o0.name]=o0,o0.onAdd(this),o14(this)},o13.prototype.remove=function(o0){if(!(o0 instanceof o11))throw TypeError("object must be a ReflectionObject");if(o0.parent!==this)throw Error(o0+" is not a member of "+this);return delete this.nested[o0.name],(0,o3.default)(this.nested).length||(this.nested=void 0),o0.onRemove(this),o14(this)},o13.prototype.define=function(o0,o1){if(o8.isString(o0))o0=o0.split(".");else if(!Array.isArray(o0))throw TypeError("illegal path");if(o0&&o0.length&&""===o0[0])throw Error("path must be relative");for(var o2=this;o0.length>0;){var o3=o0.shift();if(o2.nested&&o2.nested[o3]){if(!((o2=o2.nested[o3])instanceof o13))throw Error("path conflicts with non-namespace objects")}else o2.add(o2=new o13(o3))}return o1&&o2.addJSON(o1),o2},o13.prototype.resolveAll=function(){for(var o0=this.nestedArray,o1=0;o1<o0.length;)o0[o1]instanceof o13?o0[o1++].resolveAll():o0[o1++].resolve();return this.resolve()},o13.prototype.lookup=function(o0,o1,o2){if("boolean"==typeof o1?(o2=o1,o1=void 0):o1&&!Array.isArray(o1)&&(o1=[o1]),o8.isString(o0)&&o0.length){if("."===o0)return this.root;o0=o0.split(".")}else if(!o0.length)return this;if(""===o0[0])return this.root.lookup(o0.slice(1),o1);var o3=this.get(o0[0]);if(o3){if(1===o0.length){if(!o1||o1.indexOf(o3.constructor)>-1)return o3}else if(o3 instanceof o13&&(o3=o3.lookup(o0.slice(1),o1,!0)))return o3}else for(var o4=0;o4<this.nestedArray.length;++o4)if(this._nestedArray[o4]instanceof o13&&(o3=this._nestedArray[o4].lookup(o0,o1,!0)))return o3;return null===this.parent||o2?null:this.parent.lookup(o0,o1)},o13.prototype.lookupType=function(o0){var o1=this.lookup(o0,[o9]);if(!o1)throw Error("no such type: "+o0);return o1},o13.prototype.lookupEnum=function(o0){var o1=this.lookup(o0,[o6]);if(!o1)throw Error("no such Enum '"+o0+"' in "+this);return o1},o13.prototype.lookupTypeOrEnum=function(o0){var o1=this.lookup(o0,[o9,o6]);if(!o1)throw Error("no such Type or Enum '"+o0+"' in "+this);return o1},o13.prototype.lookupService=function(o0){var o1=this.lookup(o0,[o10]);if(!o1)throw Error("no such Service '"+o0+"' in "+this);return o1},o13._configure=function(){o6=o2(4200),o7=o2(3212),o8=o2(9852),o9=o2(2244),o10=o2(5748)}},5840:(o0,o1,o2)=>{var o3,o4,o5=o7(o2(9708)),o6=o7(o2(8044));function o7(o0){return o0&&o0.__esModule?o0:{default:o0}}function o8(o0,o1){if(!o3.isString(o0))throw TypeError("name must be a string");if(o1&&!o3.isObject(o1))throw TypeError("options must be an object");this.options=o1,this.name=o0,this.parent=null,this.resolved=!1,this.comment=null,this.filename=null}o0.exports=o8,o8.className="ReflectionObject",(0,o6.default)(o8.prototype,{root:{get:function(){for(var o0=this;null!==o0.parent;)o0=o0.parent;return o0}},fullName:{get:function(){for(var o0=[this.name],o1=this.parent;o1;)o0.unshift(o1.name),o1=o1.parent;return o0.join(".")}}}),o8.prototype.toJSON=function(){throw Error()},o8.prototype.onAdd=function(o0){this.parent&&this.parent!==o0&&this.parent.remove(this),this.parent=o0,this.resolved=!1;var o1=o0.root;o1 instanceof o4&&o1._handleAdd(this)},o8.prototype.onRemove=function(o0){var o1=o0.root;o1 instanceof o4&&o1._handleRemove(this),this.parent=null,this.resolved=!1},o8.prototype.resolve=function(){return this.resolved||this.root instanceof o4&&(this.resolved=!0),this},o8.prototype.getOption=function(o0){if(this.options)return this.options[o0]},o8.prototype.setOption=function(o0,o1,o2){return o2&&this.options&&void 0!==this.options[o0]||((this.options||(this.options={}))[o0]=o1),this},o8.prototype.setOptions=function(o0,o1){if(o0)for(var o2=(0,o5.default)(o0),o3=0;o3<o2.length;++o3)this.setOption(o2[o3],o0[o2[o3]],o1);return this},o8.prototype.toString=function(){var o0=this.constructor.className,o1=this.fullName;return o1.length?o0+" "+o1:o0},o8._configure=function(o0){o4=o2(4904),o3=o2(9852)}},9628:(o0,o1,o2)=>{var o3=o5(o2(4660)),o4=o5(o2(6212));function o5(o0){return o0&&o0.__esModule?o0:{default:o0}}o0.exports=o9;var o6,o7,o8=o2(5840);function o9(o0,o1,o2,o3){if(Array.isArray(o1)||(o2=o1,o1=void 0),o8.call(this,o0,o2),void 0!==o1&&!Array.isArray(o1))throw TypeError("fieldNames must be an Array");this.oneof=o1||[],this.fieldsArray=[],this.comment=o3}function o10(o0){if(o0.parent)for(var o1=0;o1<o0.fieldsArray.length;++o1)o0.fieldsArray[o1].parent||o0.parent.add(o0.fieldsArray[o1])}((o9.prototype=(0,o4.default)(o8.prototype)).constructor=o9).className="OneOf",o9.fromJSON=function(o0,o1){return new o9(o0,o1.oneof,o1.options,o1.comment)},o9.prototype.toJSON=function(o0){var o1=!!o0&&Boolean(o0.keepComments);return o7.toObject(["options",this.options,"oneof",this.oneof,"comment",o1?this.comment:void 0])},o9.prototype.add=function(o0){if(!(o0 instanceof o6))throw TypeError("field must be a Field");return o0.parent&&o0.parent!==this.parent&&o0.parent.remove(o0),this.oneof.push(o0.name),this.fieldsArray.push(o0),o0.partOf=this,o10(this),this},o9.prototype.remove=function(o0){if(!(o0 instanceof o6))throw TypeError("field must be a Field");var o1=this.fieldsArray.indexOf(o0);if(o1<0)throw Error(o0+" is not a member of "+this);return this.fieldsArray.splice(o1,1),(o1=this.oneof.indexOf(o0.name))>-1&&this.oneof.splice(o1,1),o0.partOf=null,this},o9.prototype.onAdd=function(o0){o8.prototype.onAdd.call(this,o0);for(var o1=0;o1<this.oneof.length;++o1){var o2=o0.get(this.oneof[o1]);o2&&!o2.partOf&&(o2.partOf=this,this.fieldsArray.push(o2))}o10(this)},o9.prototype.onRemove=function(o0){for(var o1,o2=0;o2<this.fieldsArray.length;++o2)(o1=this.fieldsArray[o2]).parent&&o1.parent.remove(o1);o8.prototype.onRemove.call(this,o0)},o9.d=function(){for(var o0=new Array(arguments.length),o1=0;o1<arguments.length;)o0[o1]=arguments[o1++];return function(o1,o2){o7.decorateType(o1.constructor).add(new o9(o2,o0)),(0,o3.default)(o1,o2,{get:o7.oneOfGetter(o0),set:o7.oneOfSetter(o0)})}},o9._configure=function(){o6=o2(3212),o7=o2(9852)}},5848:(o0,o1,o2)=>{var o3,o4,o5,o6,o7,o8,o9,o10,o11,o12,o13;o0.exports=o24,o24.filename=null,o24.defaults={keepCase:!1};var o14=/^[1-9][0-9]*$/,o15=/^-?[1-9][0-9]*$/,o16=/^0[x][0-9a-fA-F]+$/,o17=/^-?0[x][0-9a-fA-F]+$/,o18=/^0[0-7]+$/,o19=/^-?0[0-7]+$/,o20=/^(?![eE])[0-9]*(?:\.[0-9]*)?(?:[eE][+-]?[0-9]+)?$/,o21=/^[a-zA-Z_][a-zA-Z_0-9]*$/,o22=/^(?:\.?[a-zA-Z_][a-zA-Z_0-9]*)+$/,o23=/^(?:\.[a-zA-Z][a-zA-Z_0-9]*)+$/;function o24(o0,o1,o2){o1 instanceof o4||(o2=o1,o1=new o4),o2||(o2=o24.defaults);var o25,o26,o27,o28,o29,o30=o3(o0,o2.alternateCommentMode||!1),o31=o30.next,o32=o30.push,o33=o30.peek,o34=o30.skip,o35=o30.cmnt,o36=!0,o37=!1,o38=o1,o39=o2.keepCase?function(o0){return o0}:o13.camelCase;function o40(o0,o1,o2){var o3=o24.filename;return o2||(o24.filename=null),Error("illegal "+(o1||"token")+" '"+o0+"' ("+(o3?o3+", ":"")+"line "+o30.line+")")}function o41(){var o0,o1=[];do{if('"'!==(o0=o31())&&"'"!==o0)throw o40(o0);o1.push(o31()),o34(o0),o0=o33()}while('"'===o0||"'"===o0);return o1.join("")}function o42(o0){var o1=o31();switch(o1){case"'":case'"':return o32(o1),o41();case"true":case"TRUE":return!0;case"false":case"FALSE":return!1}try{return function(o0,o1){var o2=1;"-"===o0.charAt(0)&&(o2=-1,o0=o0.substring(1));switch(o0){case"inf":case"INF":case"Inf":return o2*(1/0);case"nan":case"NAN":case"Nan":case"NaN":return NaN;case"0":return 0}if(o14.test(o0))return o2*parseInt(o0,10);if(o16.test(o0))return o2*parseInt(o0,16);if(o18.test(o0))return o2*parseInt(o0,8);if(o20.test(o0))return o2*parseFloat(o0);throw o40(o0,"number",o1)}(o1,!0)}catch(o2){if(o0&&o22.test(o1))return o1;throw o40(o1,"value")}}function o43(o0,o1){var o2,o3;do{!o1||'"'!==(o2=o33())&&"'"!==o2?o0.push([o3=o44(o31()),o34("to",!0)?o44(o31()):o3]):o0.push(o41())}while(o34(",",!0));o34(";")}function o44(o0,o1){switch(o0){case"max":case"MAX":case"Max":return 536870911;case"0":return 0}if(!o1&&"-"===o0.charAt(0))throw o40(o0,"id");if(o15.test(o0))return parseInt(o0,10);if(o17.test(o0))return parseInt(o0,16);if(o19.test(o0))return parseInt(o0,8);throw o40(o0,"id")}function o45(){if(void 0!==o25)throw o40("package");if(o25=o31(),!o22.test(o25))throw o40(o25,"name");o38=o38.define(o25),o34(";")}function o46(){var o0,o1=o33();switch(o1){case"weak":o0=o27||(o27=[]),o31();break;case"public":o31();default:o0=o26||(o26=[])}o1=o41(),o34(";"),o0.push(o1)}function o47(){if(o34("="),o28=o41(),!(o37="proto3"===o28)&&"proto2"!==o28)throw o40(o28,"syntax");o34(";")}function o48(o0,o1){switch(o1){case"option":return o51(o0,o1),o34(";"),!0;case"message":return function(o0,o1){if(!o21.test(o1=o31()))throw o40(o1,"type name");var o2=new o5(o1);o49(o2,(function(o0){if(!o48(o2,o0))switch(o0){case"map":!function(o0){o34("<");var o1=o31();if(void 0===o12.mapKey[o1])throw o40(o1,"type");o34(",");var o2=o31();if(!o22.test(o2))throw o40(o2,"type");o34(">");var o3=o31();if(!o21.test(o3))throw o40(o3,"name");o34("=");var o4=new o7(o39(o3),o44(o31()),o1,o2);o49(o4,(function(o0){if("option"!==o0)throw o40(o0);o51(o4,o0),o34(";")}),(function(){o54(o4)})),o0.add(o4)}(o2);break;case"required":case"optional":case"repeated":o50(o2,o0);break;case"oneof":!function(o0,o1){if(!o21.test(o1=o31()))throw o40(o1,"name");var o2=new o8(o39(o1));o49(o2,(function(o0){"option"===o0?(o51(o2,o0),o34(";")):(o32(o0),o50(o2,"optional"))})),o0.add(o2)}(o2,o0);break;case"extensions":o43(o2.extensions||(o2.extensions=[]));break;case"reserved":o43(o2.reserved||(o2.reserved=[]),!0);break;default:if(!o37||!o22.test(o0))throw o40(o0);o32(o0),o50(o2,"optional")}})),o0.add(o2)}(o0,o1),!0;case"enum":return function(o0,o1){if(!o21.test(o1=o31()))throw o40(o1,"name");var o2=new o9(o1);o49(o2,(function(o0){switch(o0){case"option":o51(o2,o0),o34(";");break;case"reserved":o43(o2.reserved||(o2.reserved=[]),!0);break;default:!function(o0,o1){if(!o21.test(o1))throw o40(o1,"name");o34("=");var o2=o44(o31(),!0),o3={};o49(o3,(function(o0){if("option"!==o0)throw o40(o0);o51(o3,o0),o34(";")}),(function(){o54(o3)})),o0.add(o1,o2,o3.comment)}(o2,o0)}})),o0.add(o2)}(o0,o1),!0;case"service":return function(o0,o1){if(!o21.test(o1=o31()))throw o40(o1,"service name");var o2=new o10(o1);o49(o2,(function(o0){if(!o48(o2,o0)){if("rpc"!==o0)throw o40(o0);!function(o0,o1){var o2=o1;if(!o21.test(o1=o31()))throw o40(o1,"name");var o3,o4,o5,o6,o7=o1;o34("("),o34("stream",!0)&&(o4=!0);if(!o22.test(o1=o31()))throw o40(o1);o3=o1,o34(")"),o34("returns"),o34("("),o34("stream",!0)&&(o6=!0);if(!o22.test(o1=o31()))throw o40(o1);o5=o1,o34(")");var o8=new o11(o7,o2,o3,o5,o4,o6);o49(o8,(function(o0){if("option"!==o0)throw o40(o0);o51(o8,o0),o34(";")})),o0.add(o8)}(o2,o0)}})),o0.add(o2)}(o0,o1),!0;case"extend":return function(o0,o1){if(!o22.test(o1=o31()))throw o40(o1,"reference");var o2=o1;o49(null,(function(o1){switch(o1){case"required":case"repeated":case"optional":o50(o0,o1,o2);break;default:if(!o37||!o22.test(o1))throw o40(o1);o32(o1),o50(o0,"optional",o2)}}))}(o0,o1),!0}return!1}function o49(o0,o1,o2){var o3=o30.line;if(o0&&(o0.comment=o35(),o0.filename=o24.filename),o34("{",!0)){for(var o4;"}"!==(o4=o31());)o1(o4);o34(";",!0)}else o2&&o2(),o34(";"),o0&&"string"!=typeof o0.comment&&(o0.comment=o35(o3))}function o50(o0,o1,o2){var o3=o31();if("group"!==o3){if(!o22.test(o3))throw o40(o3,"type");var o4=o31();if(!o21.test(o4))throw o40(o4,"name");o4=o39(o4),o34("=");var o7=new o6(o4,o44(o31()),o3,o1,o2);o49(o7,(function(o0){if("option"!==o0)throw o40(o0);o51(o7,o0),o34(";")}),(function(){o54(o7)})),o0.add(o7),o37||!o7.repeated||void 0===o12.packed[o3]&&void 0!==o12.basic[o3]||o7.setOption("packed",!1,!0)}else!function(o0,o1){var o2=o31();if(!o21.test(o2))throw o40(o2,"name");var o3=o13.lcFirst(o2);o2===o3&&(o2=o13.ucFirst(o2));o34("=");var o4=o44(o31()),o7=new o5(o2);o7.group=!0;var o8=new o6(o3,o4,o2,o1);o8.filename=o24.filename,o49(o7,(function(o0){switch(o0){case"option":o51(o7,o0),o34(";");break;case"required":case"optional":case"repeated":o50(o7,o0);break;default:throw o40(o0)}})),o0.add(o7).add(o8)}(o0,o1)}function o51(o0,o1){var o2=o34("(",!0);if(!o22.test(o1=o31()))throw o40(o1,"name");var o3=o1;o2&&(o34(")"),o3="("+o3+")",o1=o33(),o23.test(o1)&&(o3+=o1,o31())),o34("="),o52(o0,o3)}function o52(o0,o1){if(o34("{",!0))do{if(!o21.test(o29=o31()))throw o40(o29,"name");"{"===o33()?o52(o0,o1+"."+o29):(o34(":"),"{"===o33()?o52(o0,o1+"."+o29):o53(o0,o1+"."+o29,o42(!0)))}while(!o34("}",!0));else o53(o0,o1,o42(!0))}function o53(o0,o1,o2){o0.setOption&&o0.setOption(o1,o2)}function o54(o0){if(o34("[",!0)){do{o51(o0,"option")}while(o34(",",!0));o34("]")}return o0}for(;null!==(o29=o31());)switch(o29){case"package":if(!o36)throw o40(o29);o45();break;case"import":if(!o36)throw o40(o29);o46();break;case"syntax":if(!o36)throw o40(o29);o47();break;case"option":if(!o36)throw o40(o29);o51(o38,o29),o34(";");break;default:if(o48(o38,o29)){o36=!1;continue}throw o40(o29)}return o24.filename=null,{package:o25,imports:o26,weakImports:o27,syntax:o28,root:o1}}o24._configure=function(){o3=o2(484),o4=o2(4904),o5=o2(2244),o6=o2(3212),o7=o2(2048),o8=o2(9628),o9=o2(4200),o10=o2(5748),o11=o2(9904),o12=o2(3876),o13=o2(9852)}},6332:o0=>{var o1=o0.exports,o2=o1.isAbsolute=function(o0){return/^(?:\/|\w+:)/.test(o0)},o3=o1.normalize=function(o0){var o1=(o0=o0.replace(/\\/g,"/").replace(/\/{2,}/g,"/")).split("/"),o3=o2(o0),o4="";o3&&(o4=o1.shift()+"/");for(var o5=0;o5<o1.length;)".."===o1[o5]?o5>0&&".."!==o1[o5-1]?o1.splice(--o5,2):o3?o1.splice(o5,1):++o5:"."===o1[o5]?o1.splice(o5,1):++o5;return o4+o1.join("/")};o1.resolve=function(o0,o1,o4){return o4||(o1=o3(o1)),o2(o1)?o1:(o4||(o0=o3(o0)),(o0=o0.replace(/(?:\/|^)[^/]+$/,"")).length?o3(o0+"/"+o1):o1)}},9200:o0=>{o0.exports=function(o0,o1,o2){var o3=o2||8192,o4=o3>>>1,o5=null,o6=o3;return function(o2){if(o2<1||o2>o4)return o0(o2);o6+o2>o3&&(o5=o0(o3),o6=0);var o7=o1.call(o5,o6,o6+=o2);return 7&o6&&(o6=1+(7|o6)),o7}}},3144:(o0,o1,o2)=>{o0.exports=o7;var o3,o4,o5=o2(9852);function o6(o0,o1){return RangeError("index out of range: "+o0.pos+" + "+(o1||1)+" > "+o0.len)}function o7(o0){this.buf=o0,this.pos=0,this.len=o0.length}var o8,o9="undefined"!=typeof Uint8Array?function(o0){if(o0 instanceof Uint8Array||Array.isArray(o0))return new o7(o0);if("undefined"!=typeof ArrayBuffer&&o0 instanceof ArrayBuffer)return new o7(new Uint8Array(o0));throw Error("illegal buffer")}:function(o0){if(Array.isArray(o0))return new o7(o0);throw Error("illegal buffer")};function o10(){var o0=new o3(0,0),o1=0;if(!(this.len-this.pos>4)){for(;o1<3;++o1){if(this.pos>=this.len)throw o6(this);if(o0.lo=(o0.lo|(127&this.buf[this.pos])<<7*o1)>>>0,this.buf[this.pos++]<128)return o0}return o0.lo=(o0.lo|(127&this.buf[this.pos++])<<7*o1)>>>0,o0}for(;o1<4;++o1)if(o0.lo=(o0.lo|(127&this.buf[this.pos])<<7*o1)>>>0,this.buf[this.pos++]<128)return o0;if(o0.lo=(o0.lo|(127&this.buf[this.pos])<<28)>>>0,o0.hi=(o0.hi|(127&this.buf[this.pos])>>4)>>>0,this.buf[this.pos++]<128)return o0;if(o1=0,this.len-this.pos>4){for(;o1<5;++o1)if(o0.hi=(o0.hi|(127&this.buf[this.pos])<<7*o1+3)>>>0,this.buf[this.pos++]<128)return o0}else for(;o1<5;++o1){if(this.pos>=this.len)throw o6(this);if(o0.hi=(o0.hi|(127&this.buf[this.pos])<<7*o1+3)>>>0,this.buf[this.pos++]<128)return o0}throw Error("invalid varint encoding")}function o11(o0,o1){return(o0[o1-4]|o0[o1-3]<<8|o0[o1-2]<<16|o0[o1-1]<<24)>>>0}function o12(){if(this.pos+8>this.len)throw o6(this,8);return new o3(o11(this.buf,this.pos+=4),o11(this.buf,this.pos+=4))}o7.create=o5.Buffer?function(o0){return(o7.create=function(o0){return o5.Buffer.isBuffer(o0)?new undefined(o0):o9(o0)})(o0)}:o9,o7.prototype._slice=o5.Array.prototype.subarray||o5.Array.prototype.slice,o7.prototype.uint32=(o8=4294967295,function(){if(o8=(127&this.buf[this.pos])>>>0,this.buf[this.pos++]<128)return o8;if(o8=(o8|(127&this.buf[this.pos])<<7)>>>0,this.buf[this.pos++]<128)return o8;if(o8=(o8|(127&this.buf[this.pos])<<14)>>>0,this.buf[this.pos++]<128)return o8;if(o8=(o8|(127&this.buf[this.pos])<<21)>>>0,this.buf[this.pos++]<128)return o8;if(o8=(o8|(15&this.buf[this.pos])<<28)>>>0,this.buf[this.pos++]<128)return o8;if((this.pos+=5)>this.len)throw this.pos=this.len,o6(this,10);return o8}),o7.prototype.int32=function(){return 0|this.uint32()},o7.prototype.sint32=function(){var o0=this.uint32();return o0>>>1^-(1&o0)|0},o7.prototype.bool=function(){return 0!==this.uint32()},o7.prototype.fixed32=function(){if(this.pos+4>this.len)throw o6(this,4);return o11(this.buf,this.pos+=4)},o7.prototype.sfixed32=function(){if(this.pos+4>this.len)throw o6(this,4);return 0|o11(this.buf,this.pos+=4)},o7.prototype.float=function(){if(this.pos+4>this.len)throw o6(this,4);var o0=o5.float.readFloatLE(this.buf,this.pos);return this.pos+=4,o0},o7.prototype.double=function(){if(this.pos+8>this.len)throw o6(this,4);var o0=o5.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,o0},o7.prototype.bytes=function(){var o0=this.uint32(),o1=this.pos,o2=this.pos+o0;if(o2>this.len)throw o6(this,o0);return this.pos+=o0,Array.isArray(this.buf)?this.buf.slice(o1,o2):o1===o2?new this.buf.constructor(0):this._slice.call(this.buf,o1,o2)},o7.prototype.string=function(){var o0=this.bytes();return o4.read(o0,0,o0.length)},o7.prototype.skip=function(o0){if("number"==typeof o0){if(this.pos+o0>this.len)throw o6(this,o0);this.pos+=o0}else do{if(this.pos>=this.len)throw o6(this)}while(128&this.buf[this.pos++]);return this},o7.prototype.skipType=function(o0){switch(o0){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;;){if(4==(o0=7&this.uint32()))break;this.skipType(o0)}break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+o0+" at offset "+this.pos)}return this},o7._configure=function(){o3=o2(2248),o4=o2(3992);var o0=o5.Long?"toLong":"toNumber";o5.merge(o7.prototype,{int64:function(){return o10.call(this)[o0](!1)},uint64:function(){return o10.call(this)[o0](!0)},sint64:function(){return o10.call(this).zzDecode()[o0](!1)},fixed64:function(){return o12.call(this)[o0](!0)},sfixed64:function(){return o12.call(this)[o0](!1)}})}},4904:(o0,o1,o2)=>{var o3=o5(o2(696)),o4=o5(o2(6212));function o5(o0){return o0&&o0.__esModule?o0:{default:o0}}o0.exports=o14;var o6=o2(3540);((o14.prototype=(0,o4.default)(o6.prototype)).constructor=o14).className="Root";var o7,o8,o9,o10=o2(3212),o11=o2(4200),o12=o2(9628),o13=o2(9852);function o14(o0){o6.call(this,"",o0),this.deferred=[],this.files=[],this.names=[]}function o15(){}o14.fromJSON=function(o0,o1){return o0="string"==typeof o0?JSON.parse(o0):o0,o1||(o1=new o14),o0.options&&o1.setOptions(o0.options),o1.addJSON(o0.nested)},o14.prototype.resolvePath=o13.path.resolve,o14.prototype.parseFromPbString=function o0(o1,o2,o4){"function"==typeof o2&&(o4=o2,o2=void 0);var o5=this;if(!o4)return o13.asPromise(o0,o5,o1,o2);var o6=null;if("string"==typeof o1)o6=JSON.parse(o1);else{if("object"!==(void 0===o1?"undefined":(0,o3.default)(o1)))return void console.log("pb");o6=o1}function o7(o0,o1){if(o4){var o2=o4;o4=null,o2(o0,o1)}}function o10(o0,o1){try{if(o13.isString(o1)&&"{"===o1.charAt(0)&&(o1=JSON.parse(o1)),o13.isString(o1)){o8.filename=o0;var o3,o4=o8(o1,o5,o2),o6=0;if(o4.imports)for(;o6<o4.imports.length;++o6)o11(o3=o4.imports[o6]);if(o4.weakImports){for(o6=0;o6<o4.weakImports.length;++o6)o3=o4.weakImports[o6];o11(o3)}}else o5.setOptions(o1.options).addJSON(o1.nested)}catch(o0){o7(o0)}o7(null,o5)}function o11(o0){o5.names.indexOf(o0)>-1||(o5.names.push(o0),o0 in o9&&o10(o0,o9[o0]))}o10(o6.name,o6.pbJsonStr)},o14.prototype.load=function o0(o1,o2,o3){"function"==typeof o2&&(o3=o2,o2=void 0);var o4=this;if(!o3)return o13.asPromise(o0,o4,o1,o2);var o5=o3===o15;function o6(o0,o1){if(o3){var o2=o3;if(o3=null,o5)throw o0;o2(o0,o1)}}function o7(o0,o1){try{if(o13.isString(o1)&&"{"===o1.charAt(0)&&(o1=JSON.parse(o1)),o13.isString(o1)){o8.filename=o0;var o3,o7=o8(o1,o4,o2),o9=0;if(o7.imports)for(;o9<o7.imports.length;++o9)(o3=o4.resolvePath(o0,o7.imports[o9]))&&o10(o3);if(o7.weakImports)for(o9=0;o9<o7.weakImports.length;++o9)(o3=o4.resolvePath(o0,o7.weakImports[o9]))&&o10(o3,!0)}else o4.setOptions(o1.options).addJSON(o1.nested)}catch(o0){o6(o0)}o5||o11||o6(null,o4)}function o10(o0,o1){var o2=o0.lastIndexOf("google/protobuf/");if(o2>-1){var o8=o0.substring(o2);o8 in o9&&(o0=o8)}if(!(o4.files.indexOf(o0)>-1))if(o4.files.push(o0),o0 in o9)o5?o7(o0,o9[o0]):(++o11,setTimeout((function(){--o11,o7(o0,o9[o0])})));else if(o5){var o10;try{o10=o13.fs.readFileSync(o0).toString("utf8")}catch(o0){return void(o1||o6(o0))}o7(o0,o10)}else++o11,o13.fetch(o0,(function(o2,o5){--o11,o3&&(o2?o1?o11||o6(null,o4):o6(o2):o7(o0,o5))}))}var o11=0;o13.isString(o1)&&(o1=[o1]);for(var o12,o14=0;o14<o1.length;++o14)(o12=o4.resolvePath("",o1[o14]))&&o10(o12);if(o5)return o4;o11||o6(null,o4)},o14.prototype.loadSync=function(o0,o1){if(!o13.isNode)throw Error("not supported");return this.load(o0,o1,o15)},o14.prototype.resolveAll=function(){if(this.deferred.length)throw Error("unresolvable extensions: "+this.deferred.map((function(o0){return"'extend "+o0.extend+"' in "+o0.parent.fullName})).join(", "));return o6.prototype.resolveAll.call(this)};var o16=/^[A-Z]/;function o17(o0,o1){var o2=o1.parent.lookup(o1.extend);if(o2){var o3=new o10(o1.fullName,o1.id,o1.type,o1.rule,void 0,o1.options);return o3.declaringField=o1,o1.extensionField=o3,o2.add(o3),!0}return!1}o14.prototype._handleAdd=function(o0){if(o0 instanceof o10)void 0===o0.extend||o0.extensionField||o17(0,o0)||this.deferred.push(o0);else if(o0 instanceof o11)o16.test(o0.name)&&(o0.parent[o0.name]=o0.values);else if(!(o0 instanceof o12)){if(o0 instanceof o7)for(var o1=0;o1<this.deferred.length;)o17(0,this.deferred[o1])?this.deferred.splice(o1,1):++o1;for(var o2=0;o2<o0.nestedArray.length;++o2)this._handleAdd(o0._nestedArray[o2]);o16.test(o0.name)&&(o0.parent[o0.name]=o0)}},o14.prototype._handleRemove=function(o0){if(o0 instanceof o10){if(void 0!==o0.extend)if(o0.extensionField)o0.extensionField.parent.remove(o0.extensionField),o0.extensionField=null;else{var o1=this.deferred.indexOf(o0);o1>-1&&this.deferred.splice(o1,1)}}else if(o0 instanceof o11)o16.test(o0.name)&&delete o0.parent[o0.name];else if(o0 instanceof o6){for(var o2=0;o2<o0.nestedArray.length;++o2)this._handleRemove(o0._nestedArray[o2]);o16.test(o0.name)&&delete o0.parent[o0.name]}},o14._configure=function(){o7=o2(2244),o8=o2(5848),o9=o2(7592),o10=o2(3212),o11=o2(4200),o12=o2(9628),o13=o2(9852)}},9544:o0=>{o0.exports={}},6100:(o0,o1,o2)=>{var o3,o4=o2(6212),o5=(o3=o4)&&o3.__esModule?o3:{default:o3};o0.exports=o7;var o6=o2(9852);function o7(o0,o1,o2){if("function"!=typeof o0)throw TypeError("rpcImpl must be a function");o6.EventEmitter.call(this),this.rpcImpl=o0,this.requestDelimited=Boolean(o1),this.responseDelimited=Boolean(o2)}(o7.prototype=(0,o5.default)(o6.EventEmitter.prototype)).constructor=o7,o7.prototype.rpcCall=function o0(o1,o2,o3,o4,o5){if(!o4)throw TypeError("request must be specified");var o7=this;if(!o5)return o6.asPromise(o0,o7,o1,o2,o3,o4);if(o7.rpcImpl)try{return o7.rpcImpl(o1,o2[o7.requestDelimited?"encodeDelimited":"encode"](o4).finish(),(function(o0,o2){if(o0)return o7.emit("error",o0,o1),o5(o0);if(null!==o2){if(!(o2 instanceof o3))try{o2=o3[o7.responseDelimited?"decodeDelimited":"decode"](o2)}catch(o0){return o7.emit("error",o0,o1),o5(o0)}return o7.emit("data",o2,o1),o5(null,o2)}o7.end(!0)}))}catch(o0){return o7.emit("error",o0,o1),void setTimeout((function(){o5(o0)}),0)}else setTimeout((function(){o5(Error("already ended"))}),0)},o7.prototype.end=function(o0){return this.rpcImpl&&(o0||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}},5748:(o0,o1,o2)=>{var o3=o5(o2(9708)),o4=o5(o2(6212));function o5(o0){return o0&&o0.__esModule?o0:{default:o0}}o0.exports=o10;var o6,o7,o8,o9=o2(3540);function o10(o0,o1){o9.call(this,o0,o1),this.methods={},this._methodsArray=null}function o11(o0){return o0._methodsArray=null,o0}((o10.prototype=(0,o4.default)(o9.prototype)).constructor=o10).className="Service",o10.fromJSON=function(o0,o1){var o2=new o10(o0,o1.options);if(o1.methods)for(var o4=(0,o3.default)(o1.methods),o5=0;o5<o4.length;++o5)o2.add(o6.fromJSON(o4[o5],o1.methods[o4[o5]]));return o1.nested&&o2.addJSON(o1.nested),o2.comment=o1.comment,o2},o10.prototype.toJSON=function(o0){var o1=o9.prototype.toJSON.call(this,o0),o2=!!o0&&Boolean(o0.keepComments);return o7.toObject(["options",o1&&o1.options||void 0,"methods",o9.arrayToJSON(this.methodsArray,o0)||{},"nested",o1&&o1.nested||void 0,"comment",o2?this.comment:void 0])},Object.defineProperty(o10.prototype,"methodsArray",{get:function(){return this._methodsArray||(this._methodsArray=o7.toArray(this.methods))}}),o10.prototype.get=function(o0){return this.methods[o0]||o9.prototype.get.call(this,o0)},o10.prototype.resolveAll=function(){for(var o0=this.methodsArray,o1=0;o1<o0.length;++o1)o0[o1].resolve();return o9.prototype.resolve.call(this)},o10.prototype.add=function(o0){if(this.get(o0.name))throw Error("duplicate name '"+o0.name+"' in "+this);return o0 instanceof o6?(this.methods[o0.name]=o0,o0.parent=this,o11(this)):o9.prototype.add.call(this,o0)},o10.prototype.remove=function(o0){if(o0 instanceof o6){if(this.methods[o0.name]!==o0)throw Error(o0+" is not a member of "+this);return delete this.methods[o0.name],o0.parent=null,o11(this)}return o9.prototype.remove.call(this,o0)},o10.prototype.create=function(o0,o1,o2){for(var o3,o4=new o8.Service(o0,o1,o2),o5=0;o5<this.methodsArray.length;++o5){var o6=o7.lcFirst((o3=this._methodsArray[o5]).resolve().name).replace(/[^$\w_]/g,"");o4[o6]=o7.codegen(["r","c"],o7.isReserved(o6)?o6+"_":o6)("return this.rpcCall(m,q,s,r,c)")({m:o3,q:o3.resolvedRequestType.ctor,s:o3.resolvedResponseType.ctor})}return o4},o10._configure=function(){o6=o2(9904),o7=o2(9852),o8=o2(6100)}},484:o0=>{o0.exports=o11;var o1=/[\s{}=;:[\],'"()<>]/g,o2=/(?:"([^"\\]*(?:\\.[^"\\]*)*)")/g,o3=/(?:'([^'\\]*(?:\\.[^'\\]*)*)')/g,o4=/^ *[*/]+ */,o5=/^\s*\*?\/*/,o6=/\n/g,o7=/\s/,o8=/\\(.?)/g,o9={0:"\0",r:"\r",n:"\n",t:"\t"};function o10(o0){return o0.replace(o8,(function(o0,o1){switch(o1){case"\\":case"":return o1;default:return o9[o1]||""}}))}function o11(o0,o8){o0=o0.toString();var o9=0,o11=o0.length,o12=1,o13=null,o14=null,o15=0,o16=!1,o17=[],o18=null;function o19(o0){return Error("illegal "+o0+" (line "+o12+")")}function o20(o1){return o0.charAt(o1)}function o21(o1,o2){o13=o0.charAt(o1++),o15=o12,o16=!1;var o3,o7=o1-(o8?2:3);do{if(--o7<0||"\n"===(o3=o0.charAt(o7))){o16=!0;break}}while(" "===o3||"\t"===o3);for(var o9=o0.substring(o1,o2).split(o6),o10=0;o10<o9.length;++o10)o9[o10]=o9[o10].replace(o8?o5:o4,"").trim();o14=o9.join("\n").trim()}function o22(o1){var o2=o23(o1),o3=o0.substring(o1,o2);return/^\s*\/{1,2}/.test(o3)}function o23(o0){for(var o1=o0;o1<o11&&"\n"!==o20(o1);)o1++;return o1}function o24(){if(o17.length>0)return o17.shift();if(o18)return function(){var o1="'"===o18?o3:o2;o1.lastIndex=o9-1;var o4=o1.exec(o0);if(!o4)throw o19("string");return o9=o1.lastIndex,o25(o18),o18=null,o10(o4[1])}();var o4,o5,o6,o13,o14;do{if(o9===o11)return null;for(o4=!1;o7.test(o6=o20(o9));)if("\n"===o6&&++o12,++o9===o11)return null;if("/"===o20(o9)){if(++o9===o11)throw o19("comment");if("/"===o20(o9))if(o8){if(o13=o9,o14=!1,o22(o9)){o14=!0;do{if((o9=o23(o9))===o11)break;o9++}while(o22(o9))}else o9=Math.min(o11,o23(o9)+1);o14&&o21(o13,o9),o12++,o4=!0}else{for(o14="/"===o20(o13=o9+1);"\n"!==o20(++o9);)if(o9===o11)return null;++o9,o14&&o21(o13,o9-1),++o12,o4=!0}else{if("*"!==(o6=o20(o9)))return"/";o13=o9+1,o14=o8||"*"===o20(o13);do{if("\n"===o6&&++o12,++o9===o11)throw o19("comment");o5=o6,o6=o20(o9)}while("*"!==o5||"/"!==o6);++o9,o14&&o21(o13,o9-2),o4=!0}}}while(o4);var o15=o9;if(o1.lastIndex=0,!o1.test(o20(o15++)))for(;o15<o11&&!o1.test(o20(o15));)++o15;var o16=o0.substring(o9,o9=o15);return'"'!==o16&&"'"!==o16||(o18=o16),o16}function o25(o0){o17.push(o0)}function o26(){if(!o17.length){var o0=o24();if(null===o0)return null;o25(o0)}return o17[0]}return Object.defineProperty({next:o24,peek:o26,push:o25,skip:function(o0,o1){var o2=o26();if(o2===o0)return o24(),!0;if(!o1)throw o19("token '"+o2+"', '"+o0+"' expected");return!1},cmnt:function(o0){var o1=null;return void 0===o0?o15===o12-1&&(o8||"*"===o13||o16)&&(o1=o14):(o15<o0&&o26(),o15!==o0||o16||!o8&&"/"!==o13||(o1=o14)),o1}},"line",{get:function(){return o12}})}o11.unescape=o10},2244:(o0,o1,o2)=>{var o3=o6(o2(9708)),o4=o6(o2(8044)),o5=o6(o2(6212));function o6(o0){return o0&&o0.__esModule?o0:{default:o0}}o0.exports=o22;var o7,o8,o9,o10,o11,o12,o13,o14,o15,o16,o17,o18,o19,o20,o21=o2(3540);function o22(o0,o1){o21.call(this,o0,o1),this.fields={},this.oneofs=void 0,this.extensions=void 0,this.reserved=void 0,this.group=void 0,this._fieldsById=null,this._fieldsArray=null,this._oneofsArray=null,this._ctor=null}function o23(o0){return o0._fieldsById=o0._fieldsArray=o0._oneofsArray=null,delete o0.encode,delete o0.decode,delete o0.verify,o0}((o22.prototype=(0,o5.default)(o21.prototype)).constructor=o22).className="Type",(0,o4.default)(o22.prototype,{fieldsById:{get:function(){if(this._fieldsById)return this._fieldsById;this._fieldsById={};for(var o0=(0,o3.default)(this.fields),o1=0;o1<o0.length;++o1){var o2=this.fields[o0[o1]],o4=o2.id;if(this._fieldsById[o4])throw Error("duplicate id "+o4+" in "+this);this._fieldsById[o4]=o2}return this._fieldsById}},fieldsArray:{get:function(){return this._fieldsArray||(this._fieldsArray=o13.toArray(this.fields))}},oneofsArray:{get:function(){return this._oneofsArray||(this._oneofsArray=o13.toArray(this.oneofs))}},ctor:{get:function(){return this._ctor||(this.ctor=o22.generateConstructor(this))},set:function(o0){var o1=o0.prototype;o1 instanceof o9||((o0.prototype=new o9).constructor=o0,o13.merge(o0.prototype,o1)),o0.$type=o0.prototype.$type=this,o13.merge(o0,o9,!0),o13.merge(o0.prototype,o9,!0),this._ctor=o0;for(var o2=0;o2<this.fieldsArray.length;++o2)this._fieldsArray[o2].resolve();var o5={};for(o2=0;o2<this.oneofsArray.length;++o2){var o6=this._oneofsArray[o2].resolve().name,o7=function(o0){for(var o1={},o2=0;o2<o0.length;++o2)o1[o0[o2]]=0;return{setter:function(o2){if(!(o0.indexOf(o2)<0)){o1[o2]=1;for(var o3=0;o3<o0.length;++o3)o0[o3]!==o2&&delete this[o0[o3]]}},getter:function(){for(var o0=(0,o3.default)(this),o2=o0.length-1;o2>-1;--o2)if(1===o1[o0[o2]]&&void 0!==this[o0[o2]]&&null!==this[o0[o2]])return o0[o2]}}}(this._oneofsArray[o2].oneof);o5[o6]={get:o7.getter,set:o7.setter}}o2&&(0,o4.default)(o0.prototype,o5)}}}),o22.generateConstructor=function(o0){return function(o1){for(var o2,o4=0;o4<o0.fieldsArray.length;o4++)(o2=o0._fieldsArray[o4]).map?this[o2.name]={}:o2.repeated&&(this[o2.name]=[]);if(o1)for(var o5=(0,o3.default)(o1),o6=0;o6<o5.length;++o6)null!=o1[o5[o6]]&&(this[o5[o6]]=o1[o5[o6]])}},o22.fromJSON=function(o0,o1){var o2=new o22(o0,o1.options);o2.extensions=o1.extensions,o2.reserved=o1.reserved;for(var o4=(0,o3.default)(o1.fields),o5=0;o5<o4.length;++o5)o2.add((void 0!==o1.fields[o4[o5]].keyType?o20.fromJSON:o8.fromJSON)(o4[o5],o1.fields[o4[o5]]));if(o1.oneofs)for(o4=(0,o3.default)(o1.oneofs),o5=0;o5<o4.length;++o5)o2.add(o10.fromJSON(o4[o5],o1.oneofs[o4[o5]]));if(o1.nested)for(o4=(0,o3.default)(o1.nested),o5=0;o5<o4.length;++o5){var o6=o1.nested[o4[o5]];o2.add((void 0!==o6.id?o8.fromJSON:void 0!==o6.fields?o22.fromJSON:void 0!==o6.values?o7.fromJSON:void 0!==o6.methods?o17.fromJSON:o21.fromJSON)(o4[o5],o6))}return o1.extensions&&o1.extensions.length&&(o2.extensions=o1.extensions),o1.reserved&&o1.reserved.length&&(o2.reserved=o1.reserved),o1.group&&(o2.group=!0),o1.comment&&(o2.comment=o1.comment),o2},o22.prototype.toJSON=function(o0){var o1=o21.prototype.toJSON.call(this,o0),o2=!!o0&&Boolean(o0.keepComments);return{options:o1&&o1.options||void 0,oneofs:o21.arrayToJSON(this.oneofsArray,o0),fields:o21.arrayToJSON(this.fieldsArray.filter((function(o0){return!o0.declaringField})),o0)||{},extensions:this.extensions&&this.extensions.length?this.extensions:void 0,reserved:this.reserved&&this.reserved.length?this.reserved:void 0,group:this.group||void 0,nested:o1&&o1.nested||void 0,comment:o2?this.comment:void 0}},o22.prototype.resolveAll=function(){for(var o0=this.fieldsArray,o1=0;o1<o0.length;)o0[o1++].resolve();var o2=this.oneofsArray;for(o1=0;o1<o2.length;)o2[o1++].resolve();return o21.prototype.resolveAll.call(this)},o22.prototype.get=function(o0){return this.fields[o0]||this.oneofs&&this.oneofs[o0]||this.nested&&this.nested[o0]||null},o22.prototype.add=function(o0){if(this.get(o0.name))throw Error("duplicate name '"+o0.name+"' in "+this);if(o0 instanceof o8&&void 0===o0.extend){if(this._fieldsById&&this._fieldsById[o0.id])throw Error("duplicate id "+o0.id+" in "+this);if(this.isReservedId(o0.id))throw Error("id "+o0.id+" is reserved in "+this);if(this.isReservedName(o0.name))throw Error("name '"+o0.name+"' is reserved in "+this);return o0.parent&&o0.parent.remove(o0),this.fields[o0.name]=o0,o0.message=this,o0.onAdd(this),o23(this)}return o0 instanceof o10?(this.oneofs||(this.oneofs={}),this.oneofs[o0.name]=o0,o0.onAdd(this),o23(this)):o21.prototype.add.call(this,o0)},o22.prototype.remove=function(o0){if(o0 instanceof o8&&void 0===o0.extend){if(!this.fields||this.fields[o0.name]!==o0)throw Error(o0+" is not a member of "+this);return delete this.fields[o0.name],o0.parent=null,o0.onRemove(this),o23(this)}if(o0 instanceof o10){if(!this.oneofs||this.oneofs[o0.name]!==o0)throw Error(o0+" is not a member of "+this);return delete this.oneofs[o0.name],o0.parent=null,o0.onRemove(this),o23(this)}return o21.prototype.remove.call(this,o0)},o22.prototype.isReservedId=function(o0){return o21.isReservedId(this.reserved,o0)},o22.prototype.isReservedName=function(o0){return o21.isReservedName(this.reserved,o0)},o22.prototype.create=function(o0){return new this.ctor(o0)},o22.prototype.setup=function(){for(var o0=this.fullName,o1=[],o2=0;o2<this.fieldsArray.length;++o2)o1.push(this._fieldsArray[o2].resolve().resolvedType);this.encode=o15(this)({Writer:o11,types:o1,util:o13}),this.decode=o16(this)({Reader:o12,types:o1,util:o13}),this.verify=o14(this)({types:o1,util:o13}),this.fromObject=o19.fromObject(this)({types:o1,util:o13}),this.toObject=o19.toObject(this)({types:o1,util:o13});var o3=o18[o0];if(o3){var o4=(0,o5.default)(this);o4.fromObject=this.fromObject,this.fromObject=o3.fromObject.bind(o4),o4.toObject=this.toObject,this.toObject=o3.toObject.bind(o4)}return this},o22.prototype.encode=function(o0,o1){return this.setup().encode(o0,o1)},o22.prototype.encodeDelimited=function(o0,o1){return this.encode(o0,o1&&o1.len?o1.fork():o1).ldelim()},o22.prototype.decode=function(o0,o1){return this.setup().decode(o0,o1)},o22.prototype.decodeDelimited=function(o0){return o0 instanceof o12||(o0=o12.create(o0)),this.decode(o0,o0.uint32())},o22.prototype.verify=function(o0){return this.setup().verify(o0)},o22.prototype.fromObject=function(o0){return this.setup().fromObject(o0)},o22.prototype.toObject=function(o0,o1){return this.setup().toObject(o0,o1)},o22.d=function(o0){return function(o1){o13.decorateType(o1,o0)}},o22._configure=function(){o7=o2(4200),o8=o2(3212),o9=o2(1760),o10=o2(9628),o11=o2(6704),o12=o2(3144),o13=o2(9852),o14=o2(1691),o15=o2(4848),o16=o2(9776),o17=o2(5748),o18=o2(5800),o19=o2(3560),o20=o2(2048)}},3876:(o0,o1,o2)=>{var o3=o0.exports,o4=o2(9852),o5=["double","float","int32","uint32","sint32","fixed32","sfixed32","int64","uint64","sint64","fixed64","sfixed64","bool","string","bytes"];function o6(o0,o1){var o2=0,o3={};for(o1|=0;o2<o0.length;)o3[o5[o2+o1]]=o0[o2++];return o3}o3.basic=o6([1,5,0,0,0,5,5,0,0,0,1,1,0,2,2]),o3.defaults=o6([0,0,0,0,0,0,0,0,0,0,0,0,!1,"",o4.emptyArray,null]),o3.long=o6([0,0,0,1,1],7),o3.mapKey=o6([0,0,0,5,5,0,0,0,1,1,0,2],2),o3.packed=o6([1,5,0,0,0,5,5,0,0,0,1,1,0]),o3._configure=function(){o4=o2(9852)}},3992:o0=>{var o1=o0.exports;o1.length=function(o0){for(var o1=0,o2=0,o3=0;o3<o0.length;++o3)(o2=o0.charCodeAt(o3))<128?o1+=1:o2<2048?o1+=2:55296==(64512&o2)&&56320==(64512&o0.charCodeAt(o3+1))?(++o3,o1+=4):o1+=3;return o1},o1.read=function(o0,o1,o2){if(o2-o1<1)return"";for(var o3,o4=null,o5=[],o6=0;o1<o2;)(o3=o0[o1++])<128?o5[o6++]=o3:o3>191&&o3<224?o5[o6++]=(31&o3)<<6|63&o0[o1++]:o3>239&&o3<365?(o3=((7&o3)<<18|(63&o0[o1++])<<12|(63&o0[o1++])<<6|63&o0[o1++])-65536,o5[o6++]=55296+(o3>>10),o5[o6++]=56320+(1023&o3)):o5[o6++]=(15&o3)<<12|(63&o0[o1++])<<6|63&o0[o1++],o6>8191&&((o4||(o4=[])).push(String.fromCharCode.apply(String,o5)),o6=0);return o4?(o6&&o4.push(String.fromCharCode.apply(String,o5.slice(0,o6))),o4.join("")):String.fromCharCode.apply(String,o5.slice(0,o6))},o1.write=function(o0,o1,o2){for(var o3,o4,o5=o2,o6=0;o6<o0.length;++o6)(o3=o0.charCodeAt(o6))<128?o1[o2++]=o3:o3<2048?(o1[o2++]=o3>>6|192,o1[o2++]=63&o3|128):55296==(64512&o3)&&56320==(64512&(o4=o0.charCodeAt(o6+1)))?(o3=65536+((1023&o3)<<10)+(1023&o4),++o6,o1[o2++]=o3>>18|240,o1[o2++]=o3>>12&63|128,o1[o2++]=o3>>6&63|128,o1[o2++]=63&o3|128):(o1[o2++]=o3>>12|224,o1[o2++]=o3>>6&63|128,o1[o2++]=63&o3|128);return o2-o5}},9852:(o0,o1,o2)=>{var o3=o8(o2(603)),o4=o8(o2(6212)),o5=o8(o2(7252)),o6=o8(o2(696)),o7=o8(o2(9708));function o8(o0){return o0&&o0.__esModule?o0:{default:o0}}var o9=o0.exports,o10=o2(9544);o9.LongBits=o2(2248),o9.Long=o2(9300),o9.pool=o2(9200),o9.float=o2(4688),o9.asPromise=o2(6440),o9.EventEmitter=o2(1576),o9.path=o2(6332),o9.base64=o2(5331),o9.utf8=o2(3992),o9.compareFieldsById=function(o0,o1){return o0.id-o1.id},o9.toArray=function(o0){if(o0){for(var o1=(0,o7.default)(o0),o2=new Array(o1.length),o3=0;o3<o1.length;)o2[o3]=o0[o1[o3++]];return o2}return[]},o9.toObject=function(o0){for(var o1={},o2=0;o2<o0.length;){var o3=o0[o2++],o4=o0[o2++];void 0!==o4&&(o1[o3]=o4)}return o1},o9.isString=function(o0){return"string"==typeof o0||o0 instanceof String};o9.isReserved=function(o0){return/^(?:do|if|in|for|let|new|try|var|case|else|enum|eval|false|null|this|true|void|with|break|catch|class|const|super|throw|while|yield|delete|export|import|public|return|static|switch|typeof|default|extends|finally|package|private|continue|debugger|function|arguments|interface|protected|implements|instanceof)$/.test(o0)},o9.isObject=function(o0){return o0&&"object"===(void 0===o0?"undefined":(0,o6.default)(o0))},o9.Array="undefined"!=typeof Uint8Array?Uint8Array:Array,o9.oneOfGetter=function(o0){for(var o1={},o2=0;o2<o0.length;++o2)o1[o0[o2]]=1;return function(){for(var o0=(0,o7.default)(this),o2=o0.length-1;o2>-1;--o2)if(1===o1[o0[o2]]&&void 0!==this[o0[o2]]&&null!==this[o0[o2]])return o0[o2]}},o9.oneOfSetter=function(o0){return function(o1){for(var o2=0;o2<o0.length;++o2)o0[o2]!==o1&&delete this[o0[o2]]}},o9.merge=function(o0,o1,o2){for(var o3=(0,o7.default)(o1),o4=0;o4<o3.length;++o4)void 0!==o0[o3[o4]]&&o2||(o0[o3[o4]]=o1[o3[o4]]);return o0},o9.decorateType=function(o0,o1){if(o0.$type)return o1&&o0.$type.name!==o1&&(o9.decorateRoot.remove(o0.$type),o0.$type.name=o1,o9.decorateRoot.add(o0.$type)),o0.$type;Type||(Type=o2(2244));var o3=new Type(o1||o0.name);return o9.decorateRoot.add(o3),o3.ctor=o0,Object.defineProperty(o0,"$type",{value:o3,enumerable:!1}),Object.defineProperty(o0.prototype,"$type",{value:o3,enumerable:!1}),o3},o9.emptyArray=o5.default?(0,o5.default)([]):[],o9.emptyObject=o5.default?(0,o5.default)({}):{},o9.longToHash=function(o0){return o0?o9.LongBits.from(o0).toHash():o9.LongBits.zeroHash},o9.copy=function(o0){if("object"!=(void 0===o0?"undefined":(0,o6.default)(o0)))return o0;var o1={};for(var o2 in o0)o1[o2]=o0[o2];return o1},o9.deepCopy=function o0(o1){if("object"!=(void 0===o1?"undefined":(0,o6.default)(o1)))return o1;var o2={};for(var o3 in o1)o2[o3]=o0(o1[o3]);return o2},o9.ProtocolError=function(o0){function o1(o0,o2){if(!(this instanceof o1))return new o1(o0,o2);Object.defineProperty(this,"message",{get:function(){return o0}}),Error.captureStackTrace?Error.captureStackTrace(this,o1):Object.defineProperty(this,"stack",{value:(new Error).stack||""}),o2&&merge(this,o2)}return(o1.prototype=(0,o4.default)(Error.prototype)).constructor=o1,Object.defineProperty(o1.prototype,"name",{get:function(){return o0}}),o1.prototype.toString=function(){return this.name+": "+this.message},o1},o9.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},o9.Buffer=null,o9.newBuffer=function(o0){return"number"==typeof o0?new o9.Array(o0):"undefined"==typeof Uint8Array?o0:new Uint8Array(o0)},o9.stringToBytes=function(o0){var o1,o2,o3=[];o1=o0.length;for(var o4=0;o4<o1;o4++)(o2=o0.charCodeAt(o4))>=65536&&o2<=1114111?(o3.push(o2>>18&7|240),o3.push(o2>>12&63|128),o3.push(o2>>6&63|128),o3.push(63&o2|128)):o2>=2048&&o2<=65535?(o3.push(o2>>12&15|224),o3.push(o2>>6&63|128),o3.push(63&o2|128)):o2>=128&&o2<=2047?(o3.push(o2>>6&31|192),o3.push(63&o2|128)):o3.push(255&o2);return o3},o9.byteToString=function(o0){if("string"==typeof o0)return o0;for(var o1="",o2=o0,o3=0;o3<o2.length;o3++){var o4=o2[o3].toString(2),o5=o4.match(/^1+?(?=0)/);if(o5&&8==o4.length){for(var o6=o5[0].length,o7=o2[o3].toString(2).slice(7-o6),o8=1;o8<o6;o8++)o7+=o2[o8+o3].toString(2).slice(2);o1+=String.fromCharCode(parseInt(o7,2)),o3+=o6-1}else o1+=String.fromCharCode(o2[o3])}return o1},o9.isInteger=o3.default||function(o0){return"number"==typeof o0&&isFinite(o0)&&Math.floor(o0)===o0},Object.defineProperty(o9,"decorateRoot",{get:function(){return o10.decorated||(o10.decorated=new(o2(4904)))}})},1691:(o0,o1,o2)=>{var o3,o4,o5=o7(o2(696)),o6=o7(o2(9708));function o7(o0){return o0&&o0.__esModule?o0:{default:o0}}function o8(o0,o1){return o0.name+": "+o1+(o0.repeated&&"array"!==o1?"[]":o0.map&&"object"!==o1?"{k:"+o0.keyType+"}":"")+" expected"}function o9(o0,o1,o2,o5){var o7=o5.types;if(o0.resolvedType)if(o0.resolvedType instanceof o3){if((0,o6.default)(o0.resolvedType.values).indexOf(o2)<0)return o8(o0,"enum value")}else{var o9=o7[o1].verify(o2);if(o9)return o0.name+"."+o9}else switch(o0.type){case"int32":case"uint32":case"sint32":case"fixed32":case"sfixed32":if(!o4.isInteger(o2))return o8(o0,"integer");break;case"int64":case"uint64":case"sint64":case"fixed64":case"sfixed64":if(!(o4.isInteger(o2)||o2&&o4.isInteger(o2.low)&&o4.isInteger(o2.high)))return o8(o0,"integer|Long");break;case"float":case"double":if("number"!=typeof o2)return o8(o0,"number");break;case"bool":if("boolean"!=typeof o2)return o8(o0,"boolean");break;case"string":if(!o4.isString(o2))return o8(o0,"string");break;case"bytes":if(!(o2&&"number"==typeof o2.length||o4.isString(o2)))return o8(o0,"buffer")}}function o10(o0,o1){switch(o0.keyType){case"int32":case"uint32":case"sint32":case"fixed32":case"sfixed32":if(!o4.key32Re.test(o1))return o8(o0,"integer key");break;case"int64":case"uint64":case"sint64":case"fixed64":case"sfixed64":if(!o4.key64Re.test(o1))return o8(o0,"integer|Long key");break;case"bool":if(!o4.key2Re.test(o1))return o8(o0,"boolean key")}}function o11(o0){return function(o1){return function(o2){var o3;if("object"!==(void 0===o2?"undefined":(0,o5.default)(o2))||null===o2)return"object expected";var o7,o11={};o0.oneofsArray.length&&(o7={});for(var o12=0;o12<o0.fieldsArray.length;++o12){var o13,o14=o0._fieldsArray[o12].resolve(),o15=o2[o14.name];if(!o14.optional||null!=o15&&o2.hasOwnProperty(o14.name))if(o14.map){if(!o4.isObject(o15))return o8(o14,"object");var o16=(0,o6.default)(o15);for(o13=0;o13<o16.length;++o13){if(o3=o10(o14,o16[o13]))return o3;if(o3=o9(o14,o12,o15[o16[o13]],o1))return o3}}else if(o14.repeated){if(!Array.isArray(o15))return o8(o14,"array");for(o13=0;o13<o15.length;++o13)if(o3=o9(o14,o12,o15[o13],o1))return o3}else{if(o14.partOf){var o17=o14.partOf.name;if(1===o11[o14.partOf.name]&&1===o7[o17])return o14.partOf.name+": multiple values";o7[o17]=1}if(o3=o9(o14,o12,o15,o1))return o3}}}}}o0.exports=o11,o11._configure=function(){o3=o2(4200),o4=o2(9852)}},5800:(o0,o1,o2)=>{var o3,o4=o1;o4[".google.protobuf.Any"]={fromObject:function(o0){if(o0&&o0["@type"]){var o1=this.lookup(o0["@type"]);if(o1){var o2="."===o0["@type"].charAt(0)?o0["@type"].substr(1):o0["@type"];return this.create({type_url:"/"+o2,value:o1.encode(o1.fromObject(o0)).finish()})}}return this.fromObject(o0)},toObject:function(o0,o1){if(o1&&o1.json&&o0.type_url&&o0.value){var o2=o0.type_url.substring(o0.type_url.lastIndexOf("/")+1),o4=this.lookup(o2);o4&&(o0=o4.decode(o0.value))}if(!(o0 instanceof this.ctor)&&o0 instanceof o3){var o5=o0.$type.toObject(o0,o1);return o5["@type"]=o0.$type.fullName,o5}return this.toObject(o0,o1)}},o4._configure=function(){o3=o2(1760)}},6704:(o0,o1,o2)=>{var o3,o4=o2(6212),o5=(o3=o4)&&o3.__esModule?o3:{default:o3};o0.exports=o12;var o6,o7=o2(9852),o8=o2(3992);function o9(o0,o1,o2){this.fn=o0,this.len=o1,this.next=void 0,this.val=o2}function o10(){}function o11(o0){this.head=o0.head,this.tail=o0.tail,this.len=o0.len,this.next=o0.states}function o12(){this.len=0,this.head=new o9(o10,0,0),this.tail=this.head,this.states=null}function o13(o0,o1,o2){o1[o2]=255&o0}function o14(o0,o1){this.len=o0,this.next=void 0,this.val=o1}function o15(o0,o1,o2){for(;o0.hi;)o1[o2++]=127&o0.lo|128,o0.lo=(o0.lo>>>7|o0.hi<<25)>>>0,o0.hi>>>=7;for(;o0.lo>127;)o1[o2++]=127&o0.lo|128,o0.lo=o0.lo>>>7;o1[o2++]=o0.lo}function o16(o0,o1,o2){o1[o2]=255&o0,o1[o2+1]=o0>>>8&255,o1[o2+2]=o0>>>16&255,o1[o2+3]=o0>>>24}o12.create=o7.Buffer?function(){return(o12.create=function(){return new undefined})()}:function(){return new o12},o12.alloc=function(o0){return new o7.Array(o0)},o7.Array!==Array&&(o12.alloc=o7.pool(o12.alloc,o7.Array.prototype.subarray)),o12.prototype._push=function(o0,o1,o2){return this.tail=this.tail.next=new o9(o0,o1,o2),this.len+=o1,this},o14.prototype=(0,o5.default)(o9.prototype),o14.prototype.fn=function(o0,o1,o2){for(;o0>127;)o1[o2++]=127&o0|128,o0>>>=7;o1[o2]=o0},o12.prototype.uint32=function(o0){return this.len+=(this.tail=this.tail.next=new o14((o0>>>=0)<128?1:o0<16384?2:o0<2097152?3:o0<268435456?4:5,o0)).len,this},o12.prototype.int32=function(o0){return o0<0?this._push(o15,10,o6.fromNumber(o0)):this.uint32(o0)},o12.prototype.sint32=function(o0){return this.uint32((o0<<1^o0>>31)>>>0)},o12.prototype.uint64=function(o0){var o1=o6.from(o0);return this._push(o15,o1.length(),o1)},o12.prototype.int64=o12.prototype.uint64,o12.prototype.sint64=function(o0){var o1=o6.from(o0).zzEncode();return this._push(o15,o1.length(),o1)},o12.prototype.bool=function(o0){return this._push(o13,1,o0?1:0)},o12.prototype.fixed32=function(o0){return this._push(o16,4,o0>>>0)},o12.prototype.sfixed32=o12.prototype.fixed32,o12.prototype.fixed64=function(o0){var o1=o6.from(o0);return this._push(o16,4,o1.lo)._push(o16,4,o1.hi)},o12.prototype.sfixed64=o12.prototype.fixed64,o12.prototype.float=function(o0){return this._push(o7.float.writeFloatLE,4,o0)},o12.prototype.double=function(o0){return this._push(o7.float.writeDoubleLE,8,o0)};var o17=o7.Array.prototype.set?function(o0,o1,o2){o1.set(o0,o2)}:function(o0,o1,o2){for(var o3=0;o3<o0.length;++o3)o1[o2+o3]=o0[o3]};o12.prototype.bytes=function(o0){var o1=o0.length>>>0;if(!o1)return this._push(o13,1,0);if(o7.isString(o0)){var o2=o12.alloc(o1=o8.length(o0));o8.write(o0,o2,0),o0=o2}return this.uint32(o1)._push(o17,o1,o0)},o12.prototype.string=function(o0){var o1=o8.length(o0);return o1?this.uint32(o1)._push(o8.write,o1,o0):this._push(o13,1,0)},o12.prototype.fork=function(){return this.states=new o11(this),this.head=this.tail=new o9(o10,0,0),this.len=0,this},o12.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new o9(o10,0,0),this.len=0),this},o12.prototype.ldelim=function(){var o0=this.head,o1=this.tail,o2=this.len;return this.reset().uint32(o2),o2&&(this.tail.next=o0.next,this.tail=o1,this.len+=o2),this},o12.prototype.finish=function(){for(var o0=this.head.next,o1=this.constructor.alloc(this.len),o2=0;o0;)o0.fn(o0.val,o1,o2),o2+=o0.len,o0=o0.next;return o1},o12._configure=function(){o6=o2(2248),o2(5331),o8=o2(3992)}},7480:(o0,o1,o2)=>{var o3=o5(o2(6804)),o4=o5(o2(1736));function o5(o0){return o0&&o0.__esModule?o0:{default:o0}}var o6=o2(8).Y,o7=o2(8).O,o8=o2(7776),o9=o2(1204).sm4,o10=[0,17,34,51,68,85,102,119,120,121,122,123,124,125,126,127],o11=!1;function o12(o0){var o1=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",o2=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o5=o10;o1.length>0&&(o5=o14(o1));var o6=new Array;if(o2){var o12=parseInt(((new Date).getTime()/1e3-1514736e3)/3600);o6.push(255&o12),o6.push((65280&o12)>>8),o6.push((16711680&o12)>>16),o6.push(o12>>24)}if("string"==typeof o0){var o13;(o13=o6).push.apply(o13,(0,o4.default)(o15(o0)))}else{var o16=(0,o3.default)(o0);o16.unshift.apply(o16,(0,o4.default)(o6)),o6=o16}if(o11){var o17=o9.encrypt(o6,o5,{iv:o5,mode:"cbc",padding:"pkcs#5",output:"array"});return o7(o17)}o6=o8.padding.pkcs7.pad(o6);var o18=new o8.ModeOfOperation.cbc(o5,o5),o19=o18.encrypt(o6);return o7(o19)}function o13(o0,o1,o2){var o3,o5=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o7=o10;if(o1.length>0&&(o7=o14(o1)),o11){var o12=new Uint8Array(o6(o0)),o13=[].concat((0,o4.default)(o12));o3=o9.decrypt(o13,o7,{iv:o7,mode:"cbc",padding:"pkcs#5",output:"array"}),o3=new Uint8Array(o3)}else{var o15=new Uint8Array(o6(o0)),o16=[].concat((0,o4.default)(o15)),o17=new o8.ModeOfOperation.cbc(o7,o7);o3=o17.decrypt(o16),o3=o8.padding.pkcs7.strip(o3)}if(o5&&o3.length>4){if(o2){var o18=0;o18+=o3[3]&&255,o18<<=8,o18+=o3[2]&&255,o18<<=8,o18+=o3[1]&&255,o18<<=8,o18+=o3[0]&&255,o18<<=8;var o19=((new Date).getUTCMilliseconds()/1e3-1514736e3)/3600;return o19-o18>24&&o2?null:o3.slice(4,o3.length)}return o3.slice(4,o3.length)}return o3.length>4?o3:null}function o14(o0){for(var o1=[],o2=0;o2<o0.length&&o2<16;o2++)o1.push(o0.charCodeAt(o2));return new Uint8Array(o1)}function o15(o0){var o1,o2,o3=new Array;o1=o0.length;for(var o4=0;o4<o1;o4++)(o2=o0.charCodeAt(o4))>=65536&&o2<=1114111?(o3.push(o2>>18&7|240),o3.push(o2>>12&63|128),o3.push(o2>>6&63|128),o3.push(63&o2|128)):o2>=2048&&o2<=65535?(o3.push(o2>>12&15|224),o3.push(o2>>6&63|128),o3.push(63&o2|128)):o2>=128&&o2<=2047?(o3.push(o2>>6&31|192),o3.push(63&o2|128)):o3.push(255&o2);return o3}o0.exports.useEncryptSM4=function(){o11=!0},o0.exports.AESEncrypt=o12,o0.exports.AESDecrypt=o13,o0.exports.Uint8ToStr=function(o0){for(var o1=0,o2="";o1<o0.length;o1++)o2+=String.fromCharCode(o0[o1]);return o2}},1452:(o0,o1,o2)=>{Object.defineProperty(o1,"__esModule",{value:!0});var o3,o4=o2(4128),o5=(o3=o4)&&o3.__esModule?o3:{default:o3};o1.default=function o0(){(0,o5.default)(this,o0),this.line=0,this.head=0,this.serverHead=0}},6768:o0=>{o0.exports={options:{java_package:"cn.wildfirechat.proto",java_outer_classname:"WFCMessage"},nested:{AddFriendRequest:{fields:{targetUid:{rule:"required",type:"string",id:1},reason:{rule:"required",type:"string",id:2},extra:{type:"string",id:3}}},Conversation:{fields:{type:{rule:"required",type:"int32",id:1},target:{rule:"required",type:"string",id:2},line:{rule:"required",type:"int32",id:3}}},GroupInfo:{fields:{targetId:{type:"string",id:1},name:{rule:"required",type:"string",id:2},portrait:{type:"string",id:3},owner:{type:"string",id:4},type:{rule:"required",type:"int32",id:5},memberCount:{type:"int32",id:6},extra:{type:"string",id:7},updateDt:{type:"int64",id:8},memberUpdateDt:{type:"int64",id:9},mute:{type:"int32",id:10},joinType:{type:"int32",id:11},privateChat:{type:"int32",id:12},searchable:{type:"int32",id:13},maxMemberCount:{type:"int32",id:14},historyMessage:{type:"int32",id:15},superGroup:{type:"int32",id:16},deleted:{type:"int32",id:17}}},GroupMember:{fields:{memberId:{rule:"required",type:"string",id:1},alias:{type:"string",id:2},type:{rule:"required",type:"int32",id:3},updateDt:{type:"int64",id:4},createDt:{type:"int64",id:5},extra:{type:"string",id:6}}},Group:{fields:{groupInfo:{rule:"required",type:"GroupInfo",id:1},members:{rule:"repeated",type:"GroupMember",id:2}}},ChannelMenu:{fields:{type:{rule:"required",type:"string",id:1},name:{rule:"required",type:"string",id:2},key:{type:"string",id:3},url:{type:"string",id:4},mediaId:{type:"string",id:5},articleId:{type:"string",id:6},appId:{type:"string",id:7},appPage:{type:"string",id:8},subMenu:{rule:"repeated",type:"ChannelMenu",id:9},menuId:{type:"string",id:10},extra:{type:"string",id:11}}},ChannelMenuList:{fields:{menu:{rule:"repeated",type:"ChannelMenu",id:1}}},ChannelInfo:{fields:{targetId:{type:"string",id:1},name:{rule:"required",type:"string",id:2},portrait:{type:"string",id:3},owner:{type:"string",id:4},status:{type:"int32",id:5},desc:{type:"string",id:6},extra:{type:"string",id:7},updateDt:{type:"int64",id:8},secret:{type:"string",id:9},callback:{type:"string",id:10},automatic:{type:"int32",id:11},menu:{rule:"repeated",type:"ChannelMenu",id:12}}},ModifyChannelInfo:{fields:{channelId:{rule:"required",type:"string",id:1},type:{rule:"required",type:"int32",id:2},value:{rule:"required",type:"string",id:3}}},TransferChannel:{fields:{channelId:{rule:"required",type:"string",id:1},newOwner:{rule:"required",type:"string",id:2}}},PullChannelInfo:{fields:{channelId:{rule:"required",type:"string",id:1},head:{rule:"required",type:"int64",id:2}}},PullChannelListener:{fields:{channelId:{rule:"required",type:"string",id:1},offset:{rule:"required",type:"int32",id:2},count:{rule:"required",type:"int32",id:3}}},PullChannelListenerResult:{fields:{totalCount:{rule:"required",type:"int32",id:1},offset:{rule:"required",type:"int32",id:2},listener:{rule:"repeated",type:"string",id:3}}},ListenChannel:{fields:{channelId:{rule:"required",type:"string",id:1},listen:{rule:"required",type:"int32",id:2}}},SearchChannelResult:{fields:{channel:{rule:"repeated",type:"ChannelInfo",id:1},keyword:{rule:"required",type:"string",id:2}}},MessageContent:{fields:{type:{rule:"required",type:"int32",id:1},searchableContent:{type:"string",id:2},pushContent:{type:"string",id:3},content:{type:"string",id:4},data:{type:"bytes",id:5},mediaType:{type:"int32",id:6},remoteMediaUrl:{type:"string",id:7},persistFlag:{type:"int32",id:8},expireDuration:{type:"int32",id:9},mentionedType:{type:"int32",id:10},mentionedTarget:{rule:"repeated",type:"string",id:11},extra:{type:"string",id:12},pushData:{type:"string",id:13}}},AddGroupMemberRequest:{fields:{groupId:{rule:"required",type:"string",id:1},addedMember:{rule:"repeated",type:"GroupMember",id:2},toLine:{rule:"repeated",type:"int32",id:3,options:{packed:!1}},notifyContent:{type:"MessageContent",id:4},extra:{type:"string",id:5}}},CreateGroupRequest:{fields:{group:{rule:"required",type:"Group",id:1},toLine:{rule:"repeated",type:"int32",id:2,options:{packed:!1}},notifyContent:{type:"MessageContent",id:3},memberExtra:{type:"string",id:4}}},DismissGroupRequest:{fields:{groupId:{rule:"required",type:"string",id:1},toLine:{rule:"repeated",type:"int32",id:2,options:{packed:!1}},notifyContent:{type:"MessageContent",id:3}}},FriendRequest:{fields:{fromUid:{type:"string",id:1},toUid:{rule:"required",type:"string",id:2},reason:{rule:"required",type:"string",id:3},status:{type:"int32",id:4},updateDt:{type:"int64",id:5},fromReadStatus:{type:"bool",id:6},toReadStatus:{type:"bool",id:7},extra:{type:"string",id:8}}},GeneralResult:{fields:{errorCode:{rule:"required",type:"int32",id:1}}},GetUploadTokenRequest:{fields:{mediaType:{rule:"required",type:"int32",id:1},mediaPath:{rule:"required",type:"string",id:2},contentType:{type:"string",id:3},messageId:{type:"int64",id:4}}},GetUploadTokenResult:{fields:{domain:{rule:"required",type:"string",id:1},token:{rule:"required",type:"string",id:2},server:{rule:"required",type:"string",id:3},port:{type:"int32",id:4},type:{type:"int32",id:5},date:{type:"string",id:6},path:{type:"string",id:7},backupServer:{type:"string",id:8},backupPort:{type:"int32",id:9},sslPort:{type:"int32",id:10},backupSslPort:{type:"int32",id:11},sslToken:{type:"string",id:12},backupToken:{type:"string",id:13},backupSslToken:{type:"string",id:14}}},GetPresignedUrlResult:{fields:{presignedUrl:{rule:"required",type:"string",id:1},mediaUrl:{rule:"required",type:"string",id:2},backupPresignedUrl:{type:"string",id:3},type:{type:"int32",id:4}}},GetDownloadSignedUrlResult:{fields:{url:{rule:"required",type:"string",id:1},backupUrl:{type:"string",id:2}}},HandleFriendRequest:{fields:{targetUid:{rule:"required",type:"string",id:1},status:{rule:"required",type:"int32",id:2},extra:{type:"string",id:3}}},IDBuf:{fields:{id:{rule:"required",type:"string",id:1}}},IDListBuf:{fields:{id:{rule:"repeated",type:"string",id:1}}},Message:{fields:{conversation:{rule:"required",type:"Conversation",id:1},fromUser:{rule:"required",type:"string",id:2},content:{rule:"required",type:"MessageContent",id:3},messageId:{type:"int64",id:4},serverTimestamp:{type:"int64",id:5},toUser:{type:"string",id:6},to:{rule:"repeated",type:"string",id:7},fromId:{type:"int32",id:8}}},ConvReadRequest:{fields:{conversation:{rule:"required",type:"Conversation",id:1},fromUser:{rule:"required",type:"string",id:2},readTime:{rule:"required",type:"int64",id:3},to:{rule:"repeated",type:"string",id:4}}},ConvRead:{fields:{id:{type:"int32",id:1},conversation:{rule:"required",type:"Conversation",id:2},fromUser:{rule:"required",type:"string",id:3},readTime:{rule:"required",type:"int64",id:4}}},Delivery:{fields:{fromUser:{rule:"required",type:"string",id:1},receiveTime:{rule:"required",type:"int64",id:2}}},NotifyDelivery:{fields:{fromUser:{rule:"required",type:"string",id:1},receiveTime:{rule:"required",type:"int64",id:2},target:{rule:"repeated",type:"string",id:3}}},User:{fields:{uid:{rule:"required",type:"string",id:1},name:{type:"string",id:2},displayName:{type:"string",id:3},portrait:{type:"string",id:4},mobile:{type:"string",id:5},email:{type:"string",id:6},address:{type:"string",id:7},company:{type:"string",id:8},extra:{type:"string",id:9},updateDt:{type:"int64",id:10},gender:{type:"int32",id:11},social:{type:"string",id:12},type:{type:"int32",id:13},deleted:{type:"int32",id:14}}},Robot:{fields:{uid:{rule:"required",type:"string",id:1},state:{rule:"required",type:"int32",id:2},owner:{type:"string",id:3},secret:{type:"string",id:4},callback:{type:"string",id:5},extra:{type:"string",id:6}}},GetRobotsResult:{fields:{entry:{rule:"repeated",type:"Robot",id:1}}},Device:{fields:{uid:{rule:"required",type:"string",id:1},state:{rule:"required",type:"int32",id:2},token:{rule:"required",type:"string",id:3},owner:{rule:"repeated",type:"string",id:4},extra:{type:"string",id:5},updateDt:{type:"int64",id:6}}},GetDeviceResult:{fields:{entry:{rule:"repeated",type:"Device",id:1}}},UploadDeviceTokenRequest:{fields:{platform:{rule:"required",type:"int32",id:1},appName:{rule:"required",type:"string",id:2},deviceToken:{rule:"required",type:"string",id:3},pushType:{rule:"required",type:"int32",id:4}}},ModifyGroupInfoRequest:{fields:{groupId:{rule:"required",type:"string",id:1},type:{rule:"required",type:"int32",id:2},value:{rule:"required",type:"string",id:3},toLine:{rule:"repeated",type:"int32",id:4,options:{packed:!1}},notifyContent:{type:"MessageContent",id:5}}},SetGroupManagerRequest:{fields:{groupId:{rule:"required",type:"string",id:1},type:{rule:"required",type:"int32",id:2},userId:{rule:"repeated",type:"string",id:3},toLine:{rule:"repeated",type:"int32",id:4,options:{packed:!1}},notifyContent:{type:"MessageContent",id:5}}},InfoEntry:{fields:{type:{rule:"required",type:"int32",id:1},value:{rule:"required",type:"string",id:2}}},ModifyMyInfoRequest:{fields:{entry:{rule:"repeated",type:"InfoEntry",id:1}}},NotifyMessage:{fields:{type:{rule:"required",type:"int32",id:1},head:{rule:"required",type:"int64",id:2}}},NotifyGroupMessage:{fields:{head:{rule:"required",type:"int64",id:1},target:{rule:"required",type:"string",id:2},line:{rule:"required",type:"int32",id:3}}},PullMessageRequest:{fields:{id:{rule:"required",type:"int64",id:1},type:{rule:"required",type:"int32",id:2},delay:{type:"int64",id:3}}},PullMessageResult:{fields:{message:{rule:"repeated",type:"Message",id:1},current:{rule:"required",type:"int64",id:2},head:{rule:"required",type:"int64",id:3}}},PullReadResult:{fields:{read:{rule:"repeated",type:"ConvRead",id:1},current:{rule:"required",type:"int64",id:2},head:{rule:"required",type:"int64",id:3}}},PullDeliveryResult:{fields:{delivery:{rule:"repeated",type:"Delivery",id:1},current:{rule:"required",type:"int64",id:2},head:{rule:"required",type:"int64",id:3}}},GroupConv:{fields:{line:{rule:"required",type:"int32",id:1},groupId:{rule:"required",type:"string",id:2},msgHead:{type:"int64",id:3}}},PullGroupConvRequest:{fields:{id:{rule:"required",type:"int64",id:1},target:{type:"string",id:2},line:{type:"int32",id:3},messageId:{type:"int64",id:4}}},PullGroupConvResult:{fields:{conv:{rule:"repeated",type:"GroupConv",id:1},current:{rule:"required",type:"int64",id:2},head:{rule:"required",type:"int64",id:3},groupMessage:{type:"PullGroupMessageResult",id:4}}},PullGroupMessageRequest:{fields:{groupId:{rule:"required",type:"string",id:1},line:{rule:"required",type:"int32",id:2},id:{rule:"required",type:"int64",id:3}}},PullGroupMessageRequests:{fields:{request:{rule:"repeated",type:"PullGroupMessageRequest",id:1}}},GroupMessage:{fields:{messageId:{rule:"required",type:"int64",id:1},fromUser:{rule:"required",type:"string",id:2},flag:{rule:"required",type:"int32",id:3}}},PullGroupMessageResult:{fields:{message:{rule:"repeated",type:"GroupMessage",id:1},current:{rule:"required",type:"int64",id:2},head:{rule:"required",type:"int64",id:3},groupId:{rule:"required",type:"string",id:4},line:{rule:"required",type:"int32",id:5},msg:{rule:"repeated",type:"Message",id:6}}},PullGroupMessageResults:{fields:{result:{rule:"repeated",type:"PullGroupMessageResult",id:1}}},MessageList:{fields:{message:{rule:"repeated",type:"Message",id:1}}},PullGroupInfoResult:{fields:{info:{rule:"repeated",type:"GroupInfo",id:1}}},PullGroupMemberRequest:{fields:{target:{rule:"required",type:"string",id:1},head:{rule:"required",type:"int64",id:2},sum:{type:"int64",id:3}}},PullGroupMemberResult:{fields:{member:{rule:"repeated",type:"GroupMember",id:1},full:{type:"int32",id:2}}},UserRequest:{fields:{uid:{rule:"required",type:"string",id:1},updateDt:{type:"int64",id:2}}},PullUserRequest:{fields:{request:{rule:"repeated",type:"UserRequest",id:1}}},UserResult:{fields:{user:{rule:"required",type:"User",id:1},code:{rule:"required",type:"int32",id:2}}},PullUserResult:{fields:{result:{rule:"repeated",type:"UserResult",id:1}}},QuitGroupRequest:{fields:{groupId:{rule:"required",type:"string",id:1},toLine:{rule:"repeated",type:"int32",id:2,options:{packed:!1}},notifyContent:{type:"MessageContent",id:3}}},RemoveGroupMemberRequest:{fields:{groupId:{rule:"required",type:"string",id:1},removedMember:{rule:"repeated",type:"string",id:2},toLine:{rule:"repeated",type:"int32",id:3,options:{packed:!1}},notifyContent:{type:"MessageContent",id:4}}},TransferGroupRequest:{fields:{groupId:{rule:"required",type:"string",id:1},newOwner:{rule:"required",type:"string",id:2},toLine:{rule:"repeated",type:"int32",id:3,options:{packed:!1}},notifyContent:{type:"MessageContent",id:4}}},ModifyGroupMemberAlias:{fields:{groupId:{rule:"required",type:"string",id:1},alias:{rule:"required",type:"string",id:2},toLine:{rule:"repeated",type:"int32",id:3,options:{packed:!1}},notifyContent:{type:"MessageContent",id:4},memberId:{type:"string",id:5}}},ModifyGroupMemberExtra:{fields:{groupId:{rule:"required",type:"string",id:1},toLine:{rule:"repeated",type:"int32",id:2,options:{packed:!1}},notifyContent:{type:"MessageContent",id:3},extra:{type:"string",id:4},memberId:{type:"string",id:5}}},UserSettingEntry:{fields:{scope:{rule:"required",type:"int32",id:1},key:{rule:"required",type:"string",id:2},value:{rule:"required",type:"string",id:3},updateDt:{rule:"required",type:"int64",id:4}}},ModifyUserSettingReq:{fields:{scope:{rule:"required",type:"int32",id:1},key:{rule:"required",type:"string",id:2},value:{rule:"required",type:"string",id:3},target:{rule:"repeated",type:"string",id:4}}},Version:{fields:{version:{rule:"required",type:"int64",id:1}}},GetUserSettingResult:{fields:{entry:{rule:"repeated",type:"UserSettingEntry",id:1}}},Friend:{fields:{uid:{rule:"required",type:"string",id:1},state:{rule:"required",type:"int32",id:2},updateDt:{rule:"required",type:"int64",id:3},alias:{type:"string",id:4},blacked:{type:"int32",id:5},extra:{type:"string",id:6}}},GetFriendsResult:{fields:{entry:{rule:"repeated",type:"Friend",id:1}}},GetFriendRequestResult:{fields:{entry:{rule:"repeated",type:"FriendRequest",id:1}}},ConnectAckPayload:{fields:{msgHead:{type:"int64",id:1},friendHead:{type:"int64",id:2},friendRqHead:{type:"int64",id:3},settingHead:{type:"int64",id:4},nodeAddr:{type:"string",id:5},nodePort:{type:"int32",id:6},serverTime:{type:"int64",id:7},nodeId:{type:"string",id:8},recvHead:{type:"int64",id:9},readHead:{type:"int64",id:10},groupConvHead:{type:"int64",id:11}}},IMHttpWrapper:{fields:{token:{rule:"required",type:"string",id:1},clientId:{rule:"required",type:"string",id:2},request:{rule:"required",type:"string",id:3},data:{type:"bytes",id:4},requestId:{type:"string",id:5}}},SearchUserRequest:{fields:{keyword:{rule:"required",type:"string",id:1},fuzzy:{type:"int32",id:2},page:{type:"int32",id:3}}},SearchUserResult:{fields:{entry:{rule:"repeated",type:"User",id:1}}},GetChatroomInfoRequest:{fields:{chatroomId:{rule:"required",type:"string",id:1},updateDt:{type:"int64",id:2}}},ChatroomInfo:{fields:{title:{rule:"required",type:"string",id:1},desc:{type:"string",id:2},portrait:{type:"string",id:3},memberCount:{type:"int32",id:4},createDt:{type:"int64",id:5},updateDt:{type:"int64",id:6},extra:{type:"string",id:7},state:{type:"int32",id:8}}},GetChatroomMemberInfoRequest:{fields:{chatroomId:{rule:"required",type:"string",id:1},maxCount:{type:"int32",id:2}}},ChatroomMemberInfo:{fields:{memberCount:{type:"int32",id:1},members:{rule:"repeated",type:"string",id:2}}},INT64Buf:{fields:{id:{rule:"required",type:"int64",id:1}}},INT64ListBuf:{fields:{id:{rule:"repeated",type:"int64",id:1,options:{packed:!1}}}},NotifyRecallMessage:{fields:{id:{rule:"required",type:"int64",id:1},fromUser:{rule:"required",type:"string",id:2}}},BlackUserRequest:{fields:{uid:{rule:"required",type:"string",id:1},status:{rule:"required",type:"int32",id:2}}},RouteRequest:{fields:{app:{type:"string",id:1},platform:{type:"int32",id:2},pushType:{type:"int32",id:3},deviceName:{type:"string",id:4},deviceVersion:{type:"string",id:5},phoneName:{type:"string",id:6},language:{type:"string",id:7},carrierName:{type:"string",id:8},appVersion:{type:"string",id:9},sdkVersion:{type:"string",id:10},wxAppId:{type:"string",id:11},wxAppKey:{type:"string",id:12},webAppId:{type:"string",id:13},webAppKey:{type:"string",id:14},host:{type:"string",id:15},signature:{type:"string",id:16}}},AddressTriple:{fields:{host:{rule:"required",type:"string",id:1},longPort:{rule:"required",type:"int32",id:2},shortPort:{rule:"required",type:"int32",id:3},wssPort:{type:"int32",id:4}}},RouteResponse:{fields:{host:{rule:"required",type:"string",id:1},longPort:{rule:"required",type:"int32",id:2},shortPort:{rule:"required",type:"int32",id:3},thumbPara:{type:"string",id:4},node:{type:"string",id:5},commercial:{type:"int32",id:6},wssPort:{type:"int32",id:7},candidate:{rule:"repeated",type:"AddressTriple",id:8},shortTcpPort:{type:"int32",id:9}}},GetTokenRequest:{fields:{userId:{rule:"required",type:"string",id:1},clientId:{rule:"required",type:"string",id:2},platform:{type:"int32",id:3}}},LoadRemoteMessages:{fields:{conversation:{rule:"required",type:"Conversation",id:1},beforeUid:{rule:"required",type:"int64",id:2},count:{rule:"required",type:"int32",id:3},contentType:{rule:"repeated",type:"int32",id:4,options:{packed:!1}}}},LoadLineMessages:{fields:{line:{rule:"required",type:"int32",id:1},beforeUid:{rule:"required",type:"int64",id:2},count:{rule:"required",type:"int32",id:3},contentType:{rule:"repeated",type:"int32",id:4,options:{packed:!1}}}},MultiCastMessage:{fields:{fromUser:{rule:"required",type:"string",id:1},content:{rule:"required",type:"MessageContent",id:2},to:{rule:"repeated",type:"string",id:3},line:{rule:"required",type:"int32",id:4}}},RecallMultiMessage:{fields:{messageId:{rule:"required",type:"int64",id:1},target:{rule:"repeated",type:"string",id:2}}},UpdateMessageContent:{fields:{messageId:{rule:"required",type:"int64",id:1},content:{rule:"required",type:"MessageContent",id:2},distribute:{rule:"required",type:"int32",id:3},updateTime:{type:"int32",id:4}}},FileRecord:{fields:{messageId:{rule:"required",type:"int64",id:1},fromUser:{rule:"required",type:"string",id:2},conversation:{type:"Conversation",id:3},name:{type:"string",id:4},url:{rule:"required",type:"string",id:5},size:{rule:"required",type:"int32",id:6},downloadCount:{type:"int32",id:7},dt:{rule:"required",type:"int64",id:8}}},LoadFileRecordReq:{fields:{conversation:{type:"Conversation",id:1},messageId:{rule:"required",type:"int64",id:2},count:{rule:"required",type:"int32",id:3},from:{type:"string",id:4},order:{type:"int32",id:5}}},LoadFileRecordRes:{fields:{record:{rule:"repeated",type:"FileRecord",id:1}}},SearchFileRecordReq:{fields:{keyword:{rule:"required",type:"string",id:1},conversation:{type:"Conversation",id:2},messageId:{rule:"required",type:"int64",id:3},count:{rule:"required",type:"int32",id:4},from:{type:"string",id:5},order:{type:"int32",id:6}}},ConferenceRequest:{fields:{sessionId:{type:"int64",id:1},request:{rule:"required",type:"string",id:2},data:{type:"string",id:3},roomId:{type:"string",id:4},advance:{type:"int32",id:5}}},ConfInfo:{fields:{roomId:{rule:"required",type:"string",id:1},description:{type:"string",id:2},serverId:{type:"string",id:3},pin:{type:"string",id:4},publishers:{type:"int32",id:5},numPublisher:{type:"int32",id:6},bitrate:{type:"int32",id:7},advance:{type:"int32",id:8},record:{type:"int32",id:9},permanent:{type:"int32",id:10}}},ConfInfos:{fields:{info:{rule:"repeated",type:"ConfInfo",id:1}}},ConfStream:{fields:{type:{rule:"required",type:"string",id:1},mid:{rule:"required",type:"string",id:2},codec:{rule:"required",type:"string",id:3}}},ConfParticipant:{fields:{userId:{rule:"required",type:"string",id:1},publisher:{rule:"required",type:"int32",id:2},stream:{rule:"repeated",type:"ConfStream",id:3}}},ConfParticipants:{fields:{participant:{rule:"repeated",type:"ConfParticipant",id:1}}},ConfRtpForwardReq:{fields:{roomId:{rule:"required",type:"string",id:1},publisherId:{rule:"required",type:"string",id:2},host:{rule:"required",type:"string",id:3},audioPort:{type:"int32",id:4},audioPt:{type:"int32",id:5},audioSsrc:{type:"int64",id:6},videoPort:{type:"int32",id:7},videoPt:{type:"int32",id:8},videoSsrc:{type:"int64",id:9}}},RecallMultiCastMessageRequest:{fields:{messageId:{rule:"required",type:"int64",id:1},receiver:{rule:"repeated",type:"string",id:2}}},MomentsMedia:{fields:{mediaUrl:{rule:"required",type:"string",id:1},thumbUrl:{type:"string",id:2},width:{type:"int32",id:3},height:{type:"int32",id:4}}},MomentsFeed:{fields:{feedId:{rule:"required",type:"int64",id:1},sender:{rule:"required",type:"string",id:2},type:{rule:"required",type:"int32",id:3},text:{type:"string",id:4},medias:{rule:"repeated",type:"MomentsMedia",id:5},mentionedUsers:{rule:"repeated",type:"string",id:6},toUsers:{rule:"repeated",type:"string",id:7},excludeUsers:{rule:"repeated",type:"string",id:8},serverTime:{rule:"required",type:"int64",id:9},extra:{type:"string",id:10},comments:{rule:"repeated",type:"MomentsComment",id:11},hasMore:{type:"int32",id:12}}},MomentsFeeds:{fields:{feeds:{rule:"repeated",type:"MomentsFeed",id:1}}},MomentsComments:{fields:{comments:{rule:"repeated",type:"MomentsComment",id:1}}},MomentsComment:{fields:{feedId:{rule:"required",type:"int64",id:1},commentId:{rule:"required",type:"int64",id:2},replyId:{type:"int64",id:3},sender:{rule:"required",type:"string",id:4},type:{rule:"required",type:"int32",id:5},text:{type:"string",id:6},replyTo:{type:"string",id:7},serverTime:{rule:"required",type:"int64",id:8},extra:{type:"string",id:9}}},LockRequest:{fields:{lockId:{rule:"required",type:"string",id:1},duration:{type:"int64",id:2}}},PresenceOnlineState:{fields:{platform:{rule:"required",type:"int32",id:1},state:{rule:"required",type:"int32",id:2},lastSeen:{type:"int64",id:3}}},PresenceOnlineNotify:{fields:{userId:{rule:"required",type:"string",id:1},customState:{rule:"required",type:"int32",id:2},customText:{type:"string",id:3},state:{rule:"repeated",type:"PresenceOnlineState",id:4}}},PresenceWatchRequest:{fields:{type:{rule:"required",type:"int32",id:1},target:{rule:"repeated",type:"string",id:2},duration:{type:"int32",id:3}}},PresenceWatchResult:{fields:{notify:{rule:"repeated",type:"PresenceOnlineNotify",id:1}}},CreateSecretChatRequest:{fields:{userId:{rule:"required",type:"string",id:1},pubkey:{rule:"required",type:"string",id:2},targetId:{type:"string",id:3}}},CreateSecretChatResponse:{fields:{targetId:{rule:"required",type:"string",id:1},line:{rule:"required",type:"int32",id:2}}},SecretChatInfo:{fields:{targetId:{rule:"required",type:"string",id:1},from:{rule:"required",type:"string",id:2},to:{rule:"required",type:"string",id:3},state:{rule:"required",type:"int32",id:4},createDt:{rule:"required",type:"int64",id:5}}},DeleteSecretChatMessage:{fields:{conversation:{rule:"required",type:"Conversation",id:1},messageId:{rule:"required",type:"int64",id:2},serverTimestamp:{rule:"required",type:"int64",id:3}}},AuthCodeRequest:{fields:{targetId:{rule:"required",type:"string",id:1},type:{rule:"required",type:"int32",id:2},host:{rule:"required",type:"string",id:3}}},ApplicationConfigRequest:{fields:{appId:{rule:"required",type:"string",id:1},appType:{rule:"required",type:"int32",id:2},timestamp:{rule:"required",type:"int64",id:3},nonce:{rule:"required",type:"string",id:4},signature:{rule:"required",type:"string",id:5}}},RouteRequestInternal:{fields:{data:{rule:"required",type:"bytes",id:1},appKey:{type:"string",id:2},appId:{type:"string",id:3}}}}}},1136:(o0,o1,o2)=>{Object.defineProperty(o1,"__esModule",{value:!0});var o3,o4=o2(4128),o5=(o3=o4)&&o3.__esModule?o3:{default:o3};o1.default=function o0(){(0,o5.default)(this,o0)}},1944:(o0,o1,o2)=>{Object.defineProperty(o1,"__esModule",{value:!0});var o3=o38(o2(8792)),o4=o38(o2(1736)),o5=o38(o2(7304)),o6=o38(o2(6995)),o7=o38(o2(6996)),o8=o38(o2(7445)),o9=o38(o2(4128)),o10=o38(o2(5144)),o11=o38(o2(9300)),o12=o38(o2(3104)),o13=o38(o2(1784)),o14=o38(o2(7872)),o15=o38(o2(208)),o16=o38(o2(384)),o17=o38(o2(9176)),o18=o38(o2(9320)),o19=o38(o2(5820)),o20=o38(o2(9812)),o21=o38(o2(9552)),o22=o38(o2(1084)),o23=o38(o2(8424)),o24=o2(3616),o25=o38(o2(1136)),o26=o38(o2(5168)),o27=o38(o2(5765)),o28=o38(o2(2816)),o29=o38(o2(8288)),o30=o38(o2(7908)),o31=o38(o2(8376)),o32=o38(o2(8912)),o33=o2(7480),o34=o38(o2(6210)),o35=o38(o2(1452)),o36=o38(o2(6328)),o37=(o38(o2(8720)),o38(o2(7520)));function o38(o0){return o0&&o0.__esModule?o0:{default:o0}}var o39=function(){function o0(o1){(0,o9.default)(this,o0),this.users=new o8.default,this.groups=new o8.default,this.loadingUsers=new o7.default,this.loadingGroups=new o7.default,this.loadingGroupMembers=new o7.default,this.favGroups=[],this.favUsers=[],this.channels=new o8.default,this.groupMembers=new o8.default,this.friends=new o8.default,this.deliveries=new o8.default,this.readEntries=new o8.default,this.syncReadEntries=new o8.default,this.groupHeadEntries=new o8.default,this.domainInfos=new o8.default,this.friendRequests=[],this.messages=[],this.settings=[],this.conversationInfos=[],this.chatRoomMessageId=100,this.messageId=100,this.syncReadId=100,this.impl=null,this.impl=o1}return(0,o10.default)(o0,[{key:"_setInfoDataSource",value:function(o0){o28.default.ENABLE_INFO_PERSISTENCE&&(this.mp=o0)}},{key:"genConversationKey",value:function(o0){return o0.type+"@"+o0.target+"@"+o0.line}},{key:"getUser",value:function(o0){var o1=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",o2=this._get(this.users,"u",o0,o30.default);if(o2){var o3=this.getFriendAlias(o0);if(o3&&""!==o3&&(o2.friendAlias=o3),o1.length>0){var o4=this.getGroupMember(o1,o0);o4&&o4.alias&&""!==o4.alias&&(o2.groupAlias=o4.alias)}}else o2=new o18.default(o0);return o2}},{key:"setUser",value:function(o0){this._set(this.users,"u",o0.uid,o0)}},{key:"getChannelInfo",value:function(o0){var o1=this._get(this.channels,"c",o0,o31.default);return o1||(o1=new o22.default(o0)),o1}},{key:"setChannelInfo",value:function(o0){o0 instanceof o22.default||this._set(this.channels,"c",o0.channelId,o0)}},{key:"getGroupInfo",value:function(o0){var o1=this._get(this.groups,"g",o0,o32.default);if(o1){var o2=this.getUserSetting(o20.default.GroupRemark,o0);o1.remark=o2?o2.value:void 0}else o1=new o17.default(o0);return o1}},{key:"setGroupInfo",value:function(o0){this._set(this.groups,"g",o0.target,o0)}},{key:"getGroupMembers",value:function(o0){var o1=this.groupMembers.get(o0);return o1=(o1=o1||[]).filter((function(o0){return o0.type!==o27.default.Removed}))}},{key:"getGroupMemberIds",value:function(o0){var o1=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o2=this.getGroupMembers(o0,o1),o3=[];return o2.forEach((function(o0){o0.type!==o27.default.Removed&&o3.push(o0.memberId)})),o3}},{key:"getGroupMemberMaxDt",value:function(o0){var o1=o11.default.ZERO,o2=this.groupMembers.get(o0);return(o2=o2||[]).forEach((function(o0){o1=(0,o24.gt)(o0.updateDt,o1)?o0.updateDt:o1})),o1}},{key:"setGroupMembers",value:function(o0,o1){this.groupMembers.set(o0,o1)}},{key:"setGroupManagers",value:function(o0,o1,o2){var o3=this.groupMembers.get(o0);o3&&o3.forEach((function(o0){o2.indexOf(o0.memberId)>=0&&(o0.type=o1?o27.default.Manager:o27.default.Normal)}))}},{key:"removeGroupAndMembers",value:function(o0){var o1=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(o1){var o2=this.getGroupInfo(o0);o2.memberCount=0,this.setGroupInfo(o2)}else this._delete(this.groups,"g",o0);this.groupMembers.delete(o0)}},{key:"removeGroupMembers",value:function(o0,o1){var o2=this.groupMembers.get(o0);o2&&(o2=o2.filter((function(o0){return-1===o1.indexOf(o0.memberId)})),this.groupMembers.set(o0,o2))}},{key:"removeGroupSettings",value:function(o0){var o1=this;[o20.default.GroupHideNickname,o20.default.FavoriteGroup,o20.default.GroupRemark].forEach((function(o2){o1.removeUserSetting(o2,o0)}))}},{key:"updateGroupMembers",value:function(o0,o1){var o2=this.groupMembers.get(o0);if(o2)for(var o3=0;o3<o1.length;o3++){for(var o4=!1,o5=0;o5<o2.length;o5++)o2[o5].memberId===o1[o3].memberId&&(o2[o5]=o1[o3],o4=!0);o4||o2.push(o1[o3])}else this.groupMembers.set(o0,o1)}},{key:"updateGroupMemberMuteOrAllow",value:function(o0,o1,o2,o3){var o4=this;o1&&o1.forEach((function(o1){var o5=o4.getGroupMember(o0,o1);o5&&(o5.type=o3?o2?o27.default.Allowed:0:o2?o27.default.Muted:0)}))}},{key:"updateGroupMemberAlias",value:function(o0,o1,o2){var o3=this.getGroupMember(o0,o1);o3&&(o3.alias=o2)}},{key:"updateGroupMemberExtra",value:function(o0,o1,o2){var o3=this.getGroupMember(o0,o1);o3&&(o3.extra=o2)}},{key:"getGroupMember",value:function(o0,o1){var o2=this.groupMembers.get(o0);if(!o2)return null;var o3=!0,o4=!1,o5=void 0;try{for(var o7,o8=(0,o6.default)(o2);!(o3=(o7=o8.next()).done);o3=!0){var o9=o7.value;if(o1===o9.memberId)return o9}}catch(o0){o4=!0,o5=o0}finally{try{!o3&&o8.return&&o8.return()}finally{if(o4)throw o5}}return null}},{key:"getFriends",value:function(){var o0=[];return this.friends.forEach((function(o1,o2){if(0===o1.state){var o3=new o29.default;o3.userId=o1.uid,o3.alias=o1.alias,o3.extra=o1.extra,o3.extra=o1.updateDt,o0.push(o3)}})),o0}},{key:"getFriendIds",value:function(){var o0=[];return this.friends.forEach((function(o1,o2){0===o1.state&&o0.push(o1.uid)})),o0}},{key:"getBlackList",value:function(){var o0=[];return this.friends.forEach((function(o1,o2){1===o1.blacked&&o0.push(o1.uid)})),o0}},{key:"isBlackListed",value:function(o0){return 1===this.friends.get(o0).blacked}},{key:"setBlackList",value:function(o0,o1){this.friends.get(o0).blacked=o1?1:0}},{key:"isMyFriend",value:function(o0){var o1=this.friends.get(o0);return!(!o1||0!==o1.state)}},{key:"isBlocked",value:function(o0){var o1=this.friends.get(o0);return o1&&1===o1.blacked}},{key:"insertFriend",value:function(o0){var o1=this.friends.get(o0.uid);(!o1||o0.updateDt.compare(o1.updateDt)>0)&&this.friends.set(o0.uid,(0,o5.default)(new o16.default,o0))}},{key:"addFavGroup",value:function(o0){this.favGroups.indexOf(o0)>=0||this.favGroups.push(o0)}},{key:"removeFavGroup",value:function(o0){this.favGroups=this.favGroups.filter((function(o1){return o1.target!==o0}))}},{key:"getFavGroups",value:function(){return this.favGroups}},{key:"isFavGroup",value:function(o0){return this.favGroups.indexOf(o0)>=0}},{key:"getFavUsers",value:function(){return this.favUsers}},{key:"isFavUser",value:function(o0){return this.favUsers.indexOf(o0)>=0}},{key:"getFavGroupInfos",value:function(){var o0=this,o1=[];return this.favGroups.map((function(o2){var o3=o0._get(o0.groups,"g",o2,o32.default);o1.push(o3)})),o1}},{key:"getFriendAlias",value:function(o0){var o1=this.friends.get(o0),o2=o1?o1.alias:"";return o2.length>0?o2:null}},{key:"getFriendExtra",value:function(o0){var o1=this.friends.get(o0),o2=o1?o1.extra:"";return o2.length>0?o2:null}},{key:"getFriendUserInfos",value:function(){var o0=this,o1=[];return this.friends.forEach((function(o2,o3){if(0===o2.state){var o4=o0.getUser(o3);o1.push(o4)}})),o1}},{key:"getConversationInfo",value:function(o0){var o1=this.conversationInfos.filter((function(o1){return o1.conversation.equal(o0)}));return o1&&o1.length>0?o1[0]:null}},{key:"clearConversationUnreadStatus",value:function(o0){var o1=this.getConversationInfo(o0),o2=0;return o1&&(o2=o1.unreadCount.unread+o1.unreadCount.unreadMention+o1.unreadCount.unreadMentionAll,this.updateConversationUnreadStatus(o0,o1.timestamp)),o2}},{key:"clearMessageUnreadStatus",value:function(o0){for(var o1=!1,o2=0;o2<this.messages.length;o2++){var o3=this.messages[o2];if(o3.messageId===o0&&[o12.default.Unread,o12.default.Mentioned,o12.default.AllMentioned].indexOf(o3.status)>-1){var o4=this.getConversationInfo(o3.conversation);if(o4){switch(o3.status){case o12.default.Unread:o4.unreadCount.unread-=1;break;case o12.default.Mentioned:o4.unreadCount.unreadMention-=1;break;case o12.default.AllMentioned:o4.unreadCount.unreadMentionAll-=1}o1=!0}o3.status=o12.default.Readed;break}}return o1}},{key:"updateConversationRead",value:function(o0,o1){var o2=this;this.messages.forEach((function(o3){o3.conversation.equal(o0)&&o3.status===o12.default.Sent&&(0,o24.lte)(o3.timestamp,o1)&&(o3.status=o12.default.Readed,o2.log("--------- mark conversation message read",o0,o1))}))}},{key:"getConversationReadMaxDt",value:function(o0){var o1=o11.default.ZERO;return this.messages.forEach((function(o2){o2.conversation.equal(o0)&&(o1=(0,o24.gt)(o2.timestamp,o1)?o2.timestamp:o1)})),o1}},{key:"getUnreadMsgSenders",value:function(o0){var o1=[];return this.messages.forEach((function(o2){o2.conversation.equal(o0)&&(o2.status!==o12.default.Unread&&o2.status!==o12.default.Mentioned&&o2.status!==o12.default.AllMentioned||-1===o1.indexOf(o2.from)&&o1.push(o2.from))})),o1}},{key:"clearAllUnreadStatus",value:function(){var o0=this,o1=0;return this.conversationInfos.forEach((function(o2){o1+=o2.unreadCount.unread+o2.unreadCount.unreadMention+o2.unreadCount.unreadMentionAll,o0.updateConversationUnreadStatus(o2.conversation,o2.timestamp)})),o1}},{key:"updateConversationUnreadStatus",value:function(o0,o1){var o2=this.getConversationMessages(o0),o3=this.getConversationInfo(o0);o3.unreadCount.unread=0,o3.unreadCount.unreadMention=0,o3.unreadCount.unreadMentionAll=0,(0,o24.gte)(o1,o3.timestamp)?o2.forEach((function(o0){(0,o24.gte)(o1,o0.timestamp)&&[o12.default.Unread,o12.default.AllMentioned,o12.default.Mentioned].indexOf(o0.status)>-1&&(o0.status=o12.default.Readed)})):o2.forEach((function(o0){0!==o0.direction&&((0,o24.gt)(o0.timestamp,o1)&&o23.default.getMessageContentPersitFlag(o0.content.type)===o26.default.Persist_And_Count?o0.status===o12.default.Unread?o3.unreadCount.unread+=1:o0.status===o12.default.Mentioned?o3.unreadCount.unreadMention+=1:o0.status===o12.default.AllMentioned&&(o3.unreadCount.unreadMentionAll+=1):[o12.default.Unread,o12.default.AllMentioned,o12.default.Mentioned].indexOf(o0.status)>-1&&(o0.status=o12.default.Readed))}))}},{key:"_getConversationInfos",value:function(){return this.conversationInfos}},{key:"getConversationList",value:function(o0,o1){return this.conversationInfos.filter((function(o2){if(-1===o0.indexOf(o2.conversation.type)||-1===o1.indexOf(o2.conversation.line))return!1;o2.conversation.target,o2.conversation.type;return!0})).sort((function(o0,o1){return o0.top&&!o1.top?1:!o0.top&&o1.top?-1:o0.top&&o1.top&&o0.top!==o1.top?o0.top>o1.top?1:-1:(0,o24.compare)(o0.timestamp,o1.timestamp)})).reverse()}},{key:"searchFriends",value:function(o0){return this.getFriendUserInfos().filter((function(o1){return o1.displayName.indexOf(o0)>=0}))}},{key:"searchConversation",value:function(o0){var o1=this,o2=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,1,2,3],o3=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[0,1];return this.conversationInfos.filter((function(o4){if(o2.indexOf(o4.conversation.type)<0||o3.indexOf(o4.conversation.line)<0)return!1;var o5=void 0,o6=void 0;switch(o4.conversation.type){case o15.default.Single:o5=o1.getUser(o4.conversation.target).displayName;break;case o15.default.Group:var o7=o1.getGroupInfo(o4.conversation.target);o5=o7.displayName,o6=o7.remark}if(o5&&o5.indexOf(o0)>-1||o6&&o6.indexOf(o0)>-1)return!0;var o8=o1.searchConversationMessage(o4.conversation,o0);return o8&&o8.length>0}))}},{key:"searchGroups",value:function(o0){var o1=this,o2=[];if(!o0||!o0.trim())return o2;var o3=this.groups;return o0=o0.toUpperCase(),o3.forEach((function(o3,o4){if(!(0,o24.lt)(o3.memberUpdateDt,0)){var o5=o1.getUserSetting(o20.default.GroupRemark,o4);o3.remark=o5?o5.value:"",(o3.name.toUpperCase().indexOf(o0)>-1||o3.remark&&o3.remark.toUpperCase().indexOf(o0)>-1)&&o2.push(o3)}})),o2.map((function(o0){var o1=new o34.default;return o1.groupInfo=o0,o1.matchType=0,o1}))}},{key:"loadPersistGroups",value:function(){if(!(this.groups.size>0))for(var o0=localStorage.length,o1=0;o1<o0;o1++){var o2=localStorage.key(o1);if(o2.startsWith(this.impl.userId+"-g")){var o3=localStorage.getItem(o2);if(o3&&(o3=this.impl._Utf8ArrayToStr((0,o33.AESDecrypt)(o3,"",!1,!1)))){var o4=(0,o5.default)(new o32.default,JSON.parse(o3)),o6=this.groups.get(o4.target);o6&&!(0,o24.gt)(o4.updateDt,o6.updateDt)||this.groups.set(o4.target,o4)}}}}},{key:"_findConversationInfoIndex",value:function(o0){for(var o1=0;o1<this.conversationInfos.length;o1++)if(this.conversationInfos[o1].conversation.equal(o0))return o1;return-1}},{key:"removeConversation",value:function(o0){var o1=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o2=this._findConversationInfoIndex(o0);o2>-1&&this.conversationInfos.splice(o2,1),o1&&(this.messages=this.messages.filter((function(o1){return!o1.conversation.equal(o0)})))}},{key:"setConversationTop",value:function(o0,o1){var o2=this.getConversationInfo(o0);o2&&(o2.top=o1)}},{key:"setConversationSilent",value:function(o0,o1){var o2=this.getConversationInfo(o0);o2&&(o2.isSilent=o1)}},{key:"setConversationDraft",value:function(o0,o1){var o2=this.getConversationInfo(o0);o2&&(o2.draft=o1)}},{key:"getUnreadCount",value:function(o0,o1){var o2=new o19.default;return this.conversationInfos.forEach((function(o3){o0.indexOf(o3.conversation.type)>-1&&o1.indexOf(o3.conversation.line)>-1&&o3.unreadCount&&(o2.unread+=o3.unreadCount.unread,o2.unreadMention+=o3.unreadCount.unreadMention,o2.unreadMentionAll+=o3.unreadCount.unreadMentionAll)})),o2}},{key:"getConversationUnreadCount",value:function(o0){var o1=this._findConversationInfoIndex(o0);return o1>-1?this.conversationInfos[o1].unreadCount:null}},{key:"insertConversationMessages",value:function(o0){var o1;(o1=this.messages).push.apply(o1,(0,o4.default)(o0)),this.updateConversationLastMessage(o0[o0.length-1])}},{key:"updateConversationLastMessage",value:function(o0){if(!o0.messageId)return!1;var o1=this.conversationInfos.find((function(o1){return o1.conversation.equal(o0.conversation)})),o2=o0.conversation.conversationType+"-"+o0.conversation.line+"-"+o0.conversation.target;if(!o1){var o3=this.getUserSetting(o20.default.Conversation_Sync,o2);if(o3&&o3.value&&o3.value.startsWith("-")&&(0,o24.gte)(-Number(o3.value),o0.timestamp))return this.log("conversation removed, drop conversation message",o0),!1;if([o36.default.DismissGroup_Notification,o36.default.QuitGroup_Notification,o36.default.QuitGroup_Visible_Notification].indexOf(o0.messageContent.type)>=0)return console.log("not gen conversation",o0.messageContent.type),!1;o1=this.genAndSaveDefaultConversationInfo(o0.conversation)}var o4=this.getUserSetting(o20.default.Conversation_Sync,o2),o5=0;return o4&&(o5=Math.abs(Number(o4.value))),(0,o24.gt)(o0.timestamp,o5)&&1===o0.direction&&o23.default.getMessageContentFlag(o0.messageContent.type)===o26.default.Persist_And_Count&&(o0.status===o12.default.Unread?o1.unreadCount.unread+=1:o0.status===o12.default.Mentioned?o1.unreadCount.unreadMention+=1:o0.status===o12.default.AllMentioned&&(o1.unreadCount.unreadMentionAll+=1)),!!(0,o24.gt)(o0.timestamp,o1.timestamp)&&(o1.lastMessage=o0,o1.timestamp=o0.timestamp,!0)}},{key:"getConversationOldestMessage",value:function(o0){var o1=void 0;return this.messages.forEach((function(o2){o2.conversation.equal(o0)&&(o1?(0,o24.gt)(o1.timestamp,o2.timestamp)&&(o1=o2):o1=o2)})),o1}},{key:"getConversationMessages",value:function(o0){var o1=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o2=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o3=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o4=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",o5=null;o1&&(o5=this.getMessageById(o1));var o6=this.messages.filter((function(o1){return o5?o2?o1.conversation.equal(o0)&&(0,o24.lt)(o1.timestamp,o5.timestamp)&&(!o4||(0===o1.direction&&(o1.to===o4||""===o1.to)||o1.from===o4)):o1.conversation.equal(o0)&&(0,o24.gt)(o1.timestamp,o5.timestamp)&&(!o4||(0===o1.direction&&(o1.to===o4||""===o1.to)||o1.from===o4)):o1.conversation.equal(o0)}));return o6&&o6.length>0&&(o6=o6.sort((function(o0,o1){return(0,o24.compare)(o0.timestamp,o1.timestamp)}))),o3>0&&(o6=o2?o6.slice(-o3):o6.slice(0,o3)),o6}},{key:"getConversationLastReceivedMessage",value:function(o0){var o1=this.messages.filter((function(o1){return o1.conversation.equal(o0)&&1===o1.direction}));return o1&&o1.length>0?(o1=o1.sort((function(o0,o1){return(0,o24.compare)(o0.timestamp,o1.timestamp)})))[o1.length-1]:null}},{key:"getFirstUnreadMessageId",value:function(o0){var o1=this.messages.filter((function(o1){return o1.conversation.equal(o0)&&1===o1.direction&&[o12.default.Unread,o12.default.Mentioned,o12.default.AllMentioned].indexOf(o1.status)>=0}));return o1&&o1.length>0?(o1=o1.sort((function(o0,o1){return(0,o24.compare)(o0.timestamp,o1.timestamp)})))[0].messageId:0}},{key:"setLastReceivedMessageUnread",value:function(o0,o1,o2){console.log("setLastReceivedMessageUnread",o0,o1);var o3=this.getConversationLastReceivedMessage(o0);return o3&&o3.status>o12.default.Unread?(o3.status=o12.default.Unread,(0,o24.eq)(o2,0)?o3.timestamp=o3.timestamp.add(501):o3.timestamp=o11.default.fromValue(o2),this.getConversationInfo(o0).unreadCount.unread=1,o3.messageUid):0}},{key:"getMessagesEx2",value:function(o0,o1,o2,o3){var o4=this.messages.filter((function(o4){var o5=o4.conversation;return!(!(o0.indexOf(o5.conversationType)>=0&&o1.indexOf(o5.line)>=0)||o2!==o12.default.All&&o4.status!==o2)&&(!o3||(o5.conversationType===o15.default.Single?o4.from===o3||o5.target===o3:o4.from===o3||o4.to===o3))}));return o4&&o4.length>0?o4.sort((function(o0,o1){return(0,o24.compare)(o0.timestamp,o1.timestamp)})):o4}},{key:"getMessagesEx",value:function(o0,o1,o2,o3){var o4=this.messages.filter((function(o4){var o5=o4.conversation;return!!(o0.indexOf(o5.conversationType)>=0&&o1.indexOf(o5.line)>=0&&(0===o2.length||o2.length>0&&o2.indexOf(o23.default.getMessageContentType(o4.messageContent))>=0))&&(!o3||(o5.conversationType===o15.default.Single?o4.from===o3||o5.target===o3:o4.from===o3||o4.to===o3))}));return o4&&o4.length>0?o4.sort((function(o0,o1){return(0,o24.compare)(o0.timestamp,o1.timestamp)})):o4}},{key:"getFirstUnreadMessage",value:function(o0){var o1=null;return this.messages.forEach((function(o2){o2.conversation.equal(o0)&&[o12.default.Unread,o12.default.Mentioned,o12.default.AllMentioned].indexOf(o2.status)>-1&&(o1?(0,o24.gt)(o1.timestamp,o2.timestamp)&&(o1=o2):o1=o2)})),o1}},{key:"clearConversationMessages",value:function(o0,o1){this.messages=this.messages.filter((function(o2){return!o2.conversation.equal(o0)||(0,o24.gt)(o2.timestamp,o1)}));var o2=this.getConversationInfo(o0);o2&&o2.lastMessage&&o2.lastMessage.timestamp&&(0,o24.lte)(o2.lastMessage.timestamp,o1)&&(o2.lastMessage=null)}},{key:"clearConversationMessagesBeforeMessageUid",value:function(o0,o1){this.messages=this.messages.filter((function(o2){return!o2.conversation.equal(o0)||(0,o24.gte)(o2.messageUid,o1)}));var o2=this.getConversationInfo(o0);o2&&o2.lastMessage&&o2.lastMessage.messageUid&&(0,o24.lte)(o2.lastMessage.messageUid,o1)&&(o2.lastMessage=null)}},{key:"searchMessage",value:function(o0){return this.messages.filter((function(o1){return o1.content&&o1.content.searchableContent&&o1.content.searchableContent.indexOf(o0)>-1}))}},{key:"searchConversationMessage",value:function(o0,o1,o2){return this.getConversationMessages(o0).filter((function(o0){return(!o2||o0.from===o2)&&(o0.content&&o0.content.searchableContent&&o0.content.searchableContent.indexOf(o1)>-1)}))}},{key:"genChatRoomMessageId",value:function(){return this.chatRoomMessageId++,0-this.chatRoomMessageId}},{key:"genNormalMessageId",value:function(){return this.messageId++}},{key:"saveMessage",value:function(o0){var o1=void 0;if(o0.messageUid&&-1!==o0.messageUid&&(o1=this.getMessageByUid(o0.messageUid)))return o0.messageId=o1.messageId,o1.messageContent=o0.messageContent,o1.timestamp=o0.timestamp,this.log("messageUid exist",o0),!1;var o2=this.getUserSetting(o20.default.Conversation_Sync,o0.conversation.conversationType+"-"+o0.conversation.line+"-"+o0.conversation.target),o3=0;return o2&&(o3=Number(o2.value)),1===o0.direction&&(0,o24.gte)(o3,o0.timestamp)&&(o0.status=o12.default.Readed),this.messages.push(o0),!0}},{key:"updateMessageById",value:function(o0){if(o0.messageId){for(var o1=-1,o2=0;o2<this.messages.length;o2++){if(this.messages[o2].messageId===o0.messageId){o1=o2;break}}if(-1!==o1){this.messages[o1]=o0;var o3=this.getConversationInfo(o0.conversation);o3&&o3.lastMessage.messageId===o0.messageId&&(o3.lastMessage=o0)}}}},{key:"updateMessageByUid",value:function(o0){if(o0.messageUid){for(var o1=-1,o2=0;o2<this.messages.length;o2++){var o3=this.messages[o2];if((0,o24.eq)(o3.messageUid,o0.messageUid)){o1=o2;break}}if(-1!==o1){this.messages[o1].messageId&&!o0.messageId&&(o0.messageId=this.messages[o1].messageId),this.messages[o1]=o0;var o4=this.getConversationInfo(o0.conversation);o4&&(0,o24.eq)(o4.lastMessage.messageUid,o0.messageUid)&&(o4.lastMessage=o0)}}}},{key:"deleteMessageById",value:function(o0){for(var o1=void 0,o2=0;o2<this.messages.length;o2++){if(this.messages[o2].messageId===o0){o1=o2;break}}if(o1){var o3=this.messages.splice(o1,1)[0];return this.onMessageDeleted(o3),!0}return!1}},{key:"deleteMessageByUid",value:function(o0){for(var o1=void 0,o2=0;o2<this.messages.length;o2++){if(0===this.messages[o2].messageUid.compare(o0)){o1=o2;break}}if(o1){var o3=this.messages.splice(o1,1)[0];return this.onMessageDeleted(o3),!0}return!1}},{key:"onMessageDeleted",value:function(o0){if(o0){var o1=o0,o2=this.getConversationInfo(o1.conversation),o3=this.getUserSetting(o20.default.Conversation_Sync,o1.conversation.conversationType+"-"+o1.conversation.line+"-"+o1.conversation.target),o4=0;if(o3&&(o4=Number(o3.value)),(0,o24.gt)(o1.timestamp,o4)&&1===o1.direction&&(o1.status===o12.default.Unread?o2.unreadCount.unread-=1:o1.status===o12.default.Mentioned?o2.unreadCount.unreadMention-=1:o1.status===o12.default.AllMentioned&&(o2.unreadCount.unreadMentionAll-=1)),o2.lastMessage&&o2.lastMessage.messageId===o1.messageId){var o5=this.getConversationMessages(o1.conversation);o5&&o5.length>0?o2.lastMessage=o5[o5.length-1]:o2.lastMessage=null}}}},{key:"deleteFriend",value:function(o0){this.friends.delete(o0)}},{key:"getMessageById",value:function(o0){var o1=this.messages.filter((function(o1){return o1.messageId===o0}));return o1.length>0?o1[0]:null}},{key:"getCallStartMessage",value:function(o0){var o1=this.messages.filter((function(o1){return 400===o1.messageContent.type&&o1.messageContent.callId===o0}));return o1.length>0?o1[0]:null}},{key:"getMessageByUid",value:function(o0){var o1=o11.default.fromValue(o0),o2=this.messages.filter((function(o0){return 0===o1.compare(o0.messageUid)}));return o2&&o2.length>0?o2[0]:null}},{key:"setMediaMessagePlayed",value:function(o0){var o1=!1,o2=this.getMessageById(o0);return o2.messageContent instanceof o21.default&&1===o2.direction&&(o2.status=o12.default.Played,o1=!0),o1}},{key:"updateUserSettings",value:function(o0){var o1=this;o0.sort((function(o0,o1){return(0,o24.compare)(o0.updateDt,o1.updateDt)})),o0.forEach((function(o0){if(o0.updateDt){for(var o2=-1,o3=0;o3<o1.settings.length;o3++){var o4=o1.settings[o3];if(o4.key===o0.key&&o4.scope===o0.scope){o2=o3;break}}if(o2>=0?""===o0.value?o1.settings.splice(o2,1):o1.settings[o2]=o0:""!==o0.value&&o1.settings.push(o0),o0.scope===o20.default.ConversationSilent||o0.scope===o20.default.ConversationTop||o0.scope===o20.default.Conversation_Sync||o0.scope===o20.default.UserSettingConversationReaded||o0.scope===o20.default.ConversationClearMessage||o0.scope===o20.default.ConversationDraft){var o5=o0.key,o6=o5.indexOf("-"),o7=o5.indexOf("-",o6+1),o8=parseInt(o5.substring(0,o6)),o9=parseInt(o5.substring(o6+1,o7)),o10=o5.substring(o7+1),o11=new o13.default(o8,o10,o9),o12=o1.getConversationInfo(o11);if(!o12){var o14=Number(o0.value);if((o14=o14%1e3<500?o14:o14+(1e3-o14%1e3))<0||o14>0&&(new Date).getTime()-o14>=24*(o28.default.CONVERSATION_EXPIRE_TIME?o28.default.CONVERSATION_EXPIRE_TIME:30)*60*60*1e3)return;if(o0.scope===o20.default.ConversationSilent&&"1"===o0.value||o28.default.DISABLE_GENERATE_CONVERSATION_FOR_SILENT_SETTING)return;(o12=o1.genAndSaveDefaultConversationInfo(o11)).timestamp=o0.updateDt}if(o0.scope===o20.default.ConversationSilent)o12.isSilent="1"===o0.value;else if(o0.scope===o20.default.ConversationTop)o12.top=Number(o0.value);else if(o0.scope===o20.default.Conversation_Sync){var o15=Number(o0.value);o15<0?(0,o24.lte)(o12.timestamp,-o15)&&o1.removeConversation(o11,!0):o1.updateConversationUnreadStatus(o11,o15)}else if(o0.scope===o20.default.UserSettingConversationReaded)o1.updateConversationRead(o11,Number(o0.value));else if(o0.scope===o20.default.ConversationClearMessage){var o16=Number(o0.value);o12&&o16>0&&o1.impl.clearMessages(o11,o16)}else if(o0.scope===o20.default.ConversationDraft){var o17=o0.value.indexOf("@@@");if(o17>0){var o18=o0.value.substring(0,o17);if(!o18||o18===o1.impl.clientId||o1.impl.isGlobalDisableDraftSync||o1.impl.isDisableSyncDraft())return;var o19=o0.value.substring(o17+3).trim();o12&&o12.draft!==o19&&o1.impl.setConversationDraft(o11,o19,!1)}}}else if(o0.scope===o20.default.FavoriteGroup){var o21=o1.favGroups.indexOf(o0.key);"1"===o0.value?o21<0&&o1.favGroups.push(o0.key):o21>=0&&o1.favGroups.splice(o21,1)}else if(o0.scope===o20.default.FavoriteUser){var o22=o1.favUsers.indexOf(o0.key);"1"===o0.value?o22<0&&o1.favUsers.push(o0.key):o22>=0&&o1.favUsers.splice(o22,1)}}else console.log("invalid setting",o0)}))}},{key:"genAndSaveDefaultConversationInfo",value:function(o0){var o1=this._findConversationInfoIndex(o0);if(-1!==o1)return this.conversationInfos[o1];var o2=new o14.default;o2.conversation=o0,o2.timestamp=o11.default.ZERO,o2.unreadCount=new o19.default;var o3=o0.conversationType+"-"+o0.line+"-"+o0.target,o4=this.getUserSetting(o20.default.ConversationSilent,o3);o4&&"1"===o4.value&&(o2.isSilent=!0);var o5=this.getUserSetting(o20.default.ConversationTop,o3);return o5&&o5.value&&(o2.top=Number(o5.value)),this.conversationInfos.push(o2),o2}},{key:"updateDeliveries",value:function(o0){var o1=this;o0.forEach((function(o0){o1.deliveries.set(o0.fromUser,o0.receiveTime)}))}},{key:"getUserDelivery",value:function(o0){return this.deliveries.get(o0)}},{key:"getConversationDelivery",value:function(o0){var o1=new o8.default;if(0===o0.type){var o2=this.getUserDelivery(o0.target);o2&&o1.set(o0.target,o2)}else if(1===o0.type){var o3=this.getGroupMemberIds(o0.target);this.deliveries.forEach((function(o0,o2){o3.indexOf(o2)>=0&&o1.set(o2,o0)}))}return o1}},{key:"updateReads",value:function(o0){var o1=this;o0.forEach((function(o0){0===o0.conversation.type&&(o0.conversation.target=o0.fromUser);var o2=o1.genConversationKey(o0.conversation),o3=o1.readEntries.get(o2);o3||(o3=new o8.default,o1.readEntries.set(o2,o3)),o3.set(o0.fromUser,o0.readTime)}))}},{key:"saveSyncReadEntry",value:function(o0,o1,o2,o3,o4){var o5=this.syncReadId++,o6=new o25.default;return o6.id=o5,o6.type=o0,o6.target=o1,o6.line=o2,o6.senders=o4,this.syncReadEntries.set(o5,o6),o5}},{key:"deleteSyncReadEntry",value:function(o0){this.syncReadEntries.delete(o0)}},{key:"getSyncReadEntries",value:function(){return this.syncReadEntries}},{key:"loadSyncReadEntry",value:function(){return this.syncReadEntries.values().next().value}},{key:"_genSyncReadEntryKey",value:function(o0){return o0.type+"@"+o0.target+"@"+o0.line}},{key:"getConversationRead",value:function(o0){var o1=this._genSyncReadEntryKey(o0);return this.readEntries.get(o1)}},{key:"getUserSetting",value:function(o0,o1){var o2=this.settings.filter((function(o2){return o2.scope===o0&&o2.key===o1}));return o2.length>0?o2[o2.length-1]:null}},{key:"getUserSettings",value:function(o0){return this.settings.filter((function(o1){return o1.scope===o0}))}},{key:"removeUserSetting",value:function(o0,o1){this.settings=this.settings.filter((function(o2){return!(o2.scope===o0&&o2.key===o1)}))}},{key:"getFriendRequestMaxDt",value:function(){var o0=o11.default.ZERO;return this.friendRequests.forEach((function(o1){o0=(0,o24.gt)(o1.timestamp,o0)?o1.timestamp:o0})),o0}},{key:"insertOrReplaceFriendRequest",value:function(o0){for(var o1=-1,o2=0;o2<this.friendRequests.length;o2++){var o3=this.friendRequests[o2];if(o3.direction===o0.direction&&o3.target===o0.target){o1=o2;break}}o1>=0?this.friendRequests[o1]=o0:this.friendRequests.push(o0)}},{key:"getIncommingFriendRequest",value:function(){return this.friendRequests.filter((function(o0){return 1===o0.direction}))}},{key:"getOutgoingFriendRequest",value:function(){return this.friendRequests.filter((function(o0){return 0===o0.direction}))}},{key:"getOneFriendRequest",value:function(o0,o1){var o2=this.friendRequests.filter((function(o2){return o2.target===o0&&o2.direction===(o1?1:0)}));return o2.length>0?o2[0]:null}},{key:"getUnreadFriendRequestCount",value:function(){var o0=0;return this.friendRequests.forEach((function(o1){1===o1.direction&&0===o1.readStatus&&o0++})),o0}},{key:"clearUnreadFriendRequestStatus",value:function(){var o0=0;return this.friendRequests.forEach((function(o1){1===o1.direction&&0===o1.readStatus&&(o1.readStatus=1,o0++)})),o0}},{key:"updateFriendRequestStatus",value:function(o0,o1){this.friendRequests.forEach((function(o2){o2.target===o0&&1===o2.direction&&(o2.status=o1)}))}},{key:"getUnreadFriendRequestMaxDt",value:function(){var o0=o11.default.ZERO;return this.friendRequests.forEach((function(o1){1===o1.direction&&0===o1.readStatus&&(o0=(0,o24.gt)(o1.timestamp,o0)?o1.timestamp:o0)})),o0}},{key:"getGroupMessageHead",value:function(o0,o1){var o2=this.groupHeadEntries.get(o0+"-"+o1);return o2?o2.head:o11.default.ZERO}},{key:"setGroupMessageHead",value:function(o0,o1,o2){var o3=o0+"-"+o1,o4=this.groupHeadEntries.get(o3);o4||(o4=new o35.default,this.groupHeadEntries.set(o3,o4)),o4.target=o0,o4.line=o1,o4.head=o2}},{key:"setGroupMessageServerHead",value:function(o0,o1,o2){var o3=o0+"-"+o1,o4=this.groupHeadEntries.get(o3);o4||(o4=new o35.default,this.groupHeadEntries.set(o3,o4)),o4.target=o0,o4.line=o1,o4.serverHead=o2}},{key:"getGroupMessageHeads",value:function(){var o0=[];return this.groupHeadEntries.forEach((function(o1,o2){(0,o24.gt)(o1.serverHead,o1.head)&&o0.push(o1)})),o0}},{key:"setDomainInfo",value:function(o0){this.domainInfos.set(o0.domainId,o0)}},{key:"getDomainInfo",value:function(o0){var o1=this.domainInfos.get(o0);return o1||(o1=new o37.default(o0)),o1}},{key:"log",value:function(o0){if(!o28.default.DISABLE_LOG){for(var o1,o2=arguments.length,o3=Array(o2>1?o2-1:0),o4=1;o4<o2;o4++)o3[o4-1]=arguments[o4];(o1=console).log.apply(o1,[o0].concat(o3))}}},{key:"_get",value:function(o0,o1,o2,o3){var o4=o0.get(o2);if(o4)return(0,o5.default)(new o3,o4);if(o28.default.ENABLE_INFO_PERSISTENCE){var o6=this.impl.userId+"-"+o1+"-"+o2,o7=this.mp.getStorageSync(o6);if(o7&&(o7=this.impl._Utf8ArrayToStr((0,o33.AESDecrypt)(o7,"",!1,!1))))return(0,o5.default)(new o3,JSON.parse(o7))}return null}},{key:"_set",value:function(o0,o1,o2,o4){if(o0.set(o2,o4),o28.default.ENABLE_INFO_PERSISTENCE){o4=o4?(0,o3.default)(o4):"";var o5=this.impl.userId+"-"+o1+"-"+o2;o4=(0,o33.AESEncrypt)(o4,"",!1),this.mp.setStorageSync(o5,o4)}}},{key:"_delete",value:function(o0,o1,o2){if(o0.delete(o2),o28.default.ENABLE_INFO_PERSISTENCE){var o3=this.impl.userId+"-"+o1+"-"+o2;this.mp.removeStorageSync(o3)}}}]),o0}();o1.default=o39},6804:(o0,o1,o2)=>{o0.exports={default:o2(9952),__esModule:!0}},6995:(o0,o1,o2)=>{o0.exports={default:o2(1120),__esModule:!0}},3936:(o0,o1,o2)=>{o0.exports={default:o2(88),__esModule:!0}},8792:(o0,o1,o2)=>{o0.exports={default:o2(6044),__esModule:!0}},7445:(o0,o1,o2)=>{o0.exports={default:o2(108),__esModule:!0}},603:(o0,o1,o2)=>{o0.exports={default:o2(8120),__esModule:!0}},7304:(o0,o1,o2)=>{o0.exports={default:o2(2166),__esModule:!0}},6212:(o0,o1,o2)=>{o0.exports={default:o2(8336),__esModule:!0}},8044:(o0,o1,o2)=>{o0.exports={default:o2(7456),__esModule:!0}},4660:(o0,o1,o2)=>{o0.exports={default:o2(9096),__esModule:!0}},7252:(o0,o1,o2)=>{o0.exports={default:o2(7572),__esModule:!0}},328:(o0,o1,o2)=>{o0.exports={default:o2(9128),__esModule:!0}},9708:(o0,o1,o2)=>{o0.exports={default:o2(7308),__esModule:!0}},6224:(o0,o1,o2)=>{o0.exports={default:o2(9784),__esModule:!0}},6996:(o0,o1,o2)=>{o0.exports={default:o2(8540),__esModule:!0}},9717:(o0,o1,o2)=>{o0.exports={default:o2(2676),__esModule:!0}},6739:(o0,o1,o2)=>{o0.exports={default:o2(8240),__esModule:!0}},8964:(o0,o1,o2)=>{o1.__esModule=!0;var o3,o4=o2(6224),o5=(o3=o4)&&o3.__esModule?o3:{default:o3};o1.default=function(o0){return function(){var o1=o0.apply(this,arguments);return new o5.default((function(o0,o2){return function o3(o4,o6){try{var o7=o1[o4](o6),o8=o7.value}catch(o0){return void o2(o0)}if(!o7.done)return o5.default.resolve(o8).then((function(o0){o3("next",o0)}),(function(o0){o3("throw",o0)}));o0(o8)}("next")}))}}},4128:(o0,o1)=>{o1.__esModule=!0,o1.default=function(o0,o1){if(!(o0 instanceof o1))throw new TypeError("Cannot call a class as a function")}},5144:(o0,o1,o2)=>{o1.__esModule=!0;var o3,o4=o2(4660),o5=(o3=o4)&&o3.__esModule?o3:{default:o3};o1.default=function(){function o0(o0,o1){for(var o2=0;o2<o1.length;o2++){var o3=o1[o2];o3.enumerable=o3.enumerable||!1,o3.configurable=!0,"value"in o3&&(o3.writable=!0),(0,o5.default)(o0,o3.key,o3)}}return function(o1,o2,o3){return o2&&o0(o1.prototype,o2),o3&&o0(o1,o3),o1}}()},1376:(o0,o1,o2)=>{o1.__esModule=!0;var o3=o5(o2(3936)),o4=o5(o2(6995));function o5(o0){return o0&&o0.__esModule?o0:{default:o0}}o1.default=function(o0,o1){if(Array.isArray(o0))return o0;if((0,o3.default)(Object(o0)))return function(o0,o1){var o2=[],o3=!0,o5=!1,o6=void 0;try{for(var o7,o8=(0,o4.default)(o0);!(o3=(o7=o8.next()).done)&&(o2.push(o7.value),!o1||o2.length!==o1);o3=!0);}catch(o0){o5=!0,o6=o0}finally{try{!o3&&o8.return&&o8.return()}finally{if(o5)throw o6}}return o2}(o0,o1);throw new TypeError("Invalid attempt to destructure non-iterable instance")}},1736:(o0,o1,o2)=>{o1.__esModule=!0;var o3,o4=o2(6804),o5=(o3=o4)&&o3.__esModule?o3:{default:o3};o1.default=function(o0){if(Array.isArray(o0)){for(var o1=0,o2=Array(o0.length);o1<o0.length;o1++)o2[o1]=o0[o1];return o2}return(0,o5.default)(o0)}},696:(o0,o1,o2)=>{o1.__esModule=!0;var o3=o6(o2(6739)),o4=o6(o2(9717)),o5="function"==typeof o4.default&&"symbol"==typeof o3.default?function(o0){return typeof o0}:function(o0){return o0&&"function"==typeof o4.default&&o0.constructor===o4.default&&o0!==o4.default.prototype?"symbol":typeof o0};function o6(o0){return o0&&o0.__esModule?o0:{default:o0}}o1.default="function"==typeof o4.default&&"symbol"===o5(o3.default)?function(o0){return void 0===o0?"undefined":o5(o0)}:function(o0){return o0&&"function"==typeof o4.default&&o0.constructor===o4.default&&o0!==o4.default.prototype?"symbol":void 0===o0?"undefined":o5(o0)}},7436:(o0,o1,o2)=>{var o3=function(){return this}()||Function("return this")(),o4=o3.regeneratorRuntime&&Object.getOwnPropertyNames(o3).indexOf("regeneratorRuntime")>=0,o5=o4&&o3.regeneratorRuntime;if(o3.regeneratorRuntime=void 0,o0.exports=o2(8e3),o4)o3.regeneratorRuntime=o5;else try{delete o3.regeneratorRuntime}catch(o0){o3.regeneratorRuntime=void 0}},8e3:o0=>{!function(o1){var o2,o3=Object.prototype,o4=o3.hasOwnProperty,o5="function"==typeof Symbol?Symbol:{},o6=o5.iterator||"@@iterator",o7=o5.asyncIterator||"@@asyncIterator",o8=o5.toStringTag||"@@toStringTag",o9=o1.regeneratorRuntime;if(o9)o0.exports=o9;else{(o9=o1.regeneratorRuntime=o0.exports).wrap=o19;var o10="suspendedStart",o11="suspendedYield",o12="executing",o13="completed",o14={},o15={};o15[o6]=function(){return this};var o16=Object.getPrototypeOf,o17=o16&&o16(o16(o30([])));o17&&o17!==o3&&o4.call(o17,o6)&&(o15=o17);var o18=o23.prototype=o21.prototype=Object.create(o15);o22.prototype=o18.constructor=o23,o23.constructor=o22,o23[o8]=o22.displayName="GeneratorFunction",o9.isGeneratorFunction=function(o0){var o1="function"==typeof o0&&o0.constructor;return!!o1&&(o1===o22||"GeneratorFunction"===(o1.displayName||o1.name))},o9.mark=function(o0){return Object.setPrototypeOf?Object.setPrototypeOf(o0,o23):(o0.__proto__=o23,o8 in o0||(o0[o8]="GeneratorFunction")),o0.prototype=Object.create(o18),o0},o9.awrap=function(o0){return{__await:o0}},o24(o25.prototype),o25.prototype[o7]=function(){return this},o9.AsyncIterator=o25,o9.async=function(o0,o1,o2,o3){var o4=new o25(o19(o0,o1,o2,o3));return o9.isGeneratorFunction(o1)?o4:o4.next().then((function(o0){return o0.done?o0.value:o4.next()}))},o24(o18),o18[o8]="Generator",o18[o6]=function(){return this},o18.toString=function(){return"[object Generator]"},o9.keys=function(o0){var o1=[];for(var o2 in o0)o1.push(o2);return o1.reverse(),function o2(){for(;o1.length;){var o3=o1.pop();if(o3 in o0)return o2.value=o3,o2.done=!1,o2}return o2.done=!0,o2}},o9.values=o30,o29.prototype={constructor:o29,reset:function(o0){if(this.prev=0,this.next=0,this.sent=this._sent=o2,this.done=!1,this.delegate=null,this.method="next",this.arg=o2,this.tryEntries.forEach(o28),!o0)for(var o1 in this)"t"===o1.charAt(0)&&o4.call(this,o1)&&!isNaN(+o1.slice(1))&&(this[o1]=o2)},stop:function(){this.done=!0;var o0=this.tryEntries[0].completion;if("throw"===o0.type)throw o0.arg;return this.rval},dispatchException:function(o0){if(this.done)throw o0;var o1=this;function o3(o3,o4){return o7.type="throw",o7.arg=o0,o1.next=o3,o4&&(o1.method="next",o1.arg=o2),!!o4}for(var o5=this.tryEntries.length-1;o5>=0;--o5){var o6=this.tryEntries[o5],o7=o6.completion;if("root"===o6.tryLoc)return o3("end");if(o6.tryLoc<=this.prev){var o8=o4.call(o6,"catchLoc"),o9=o4.call(o6,"finallyLoc");if(o8&&o9){if(this.prev<o6.catchLoc)return o3(o6.catchLoc,!0);if(this.prev<o6.finallyLoc)return o3(o6.finallyLoc)}else if(o8){if(this.prev<o6.catchLoc)return o3(o6.catchLoc,!0)}else{if(!o9)throw new Error("try statement without catch or finally");if(this.prev<o6.finallyLoc)return o3(o6.finallyLoc)}}}},abrupt:function(o0,o1){for(var o2=this.tryEntries.length-1;o2>=0;--o2){var o3=this.tryEntries[o2];if(o3.tryLoc<=this.prev&&o4.call(o3,"finallyLoc")&&this.prev<o3.finallyLoc){var o5=o3;break}}o5&&("break"===o0||"continue"===o0)&&o5.tryLoc<=o1&&o1<=o5.finallyLoc&&(o5=null);var o6=o5?o5.completion:{};return o6.type=o0,o6.arg=o1,o5?(this.method="next",this.next=o5.finallyLoc,o14):this.complete(o6)},complete:function(o0,o1){if("throw"===o0.type)throw o0.arg;return"break"===o0.type||"continue"===o0.type?this.next=o0.arg:"return"===o0.type?(this.rval=this.arg=o0.arg,this.method="return",this.next="end"):"normal"===o0.type&&o1&&(this.next=o1),o14},finish:function(o0){for(var o1=this.tryEntries.length-1;o1>=0;--o1){var o2=this.tryEntries[o1];if(o2.finallyLoc===o0)return this.complete(o2.completion,o2.afterLoc),o28(o2),o14}},catch:function(o0){for(var o1=this.tryEntries.length-1;o1>=0;--o1){var o2=this.tryEntries[o1];if(o2.tryLoc===o0){var o3=o2.completion;if("throw"===o3.type){var o4=o3.arg;o28(o2)}return o4}}throw new Error("illegal catch attempt")},delegateYield:function(o0,o1,o3){return this.delegate={iterator:o30(o0),resultName:o1,nextLoc:o3},"next"===this.method&&(this.arg=o2),o14}}}function o19(o0,o1,o2,o3){var o4=o1&&o1.prototype instanceof o21?o1:o21,o5=Object.create(o4.prototype),o6=new o29(o3||[]);return o5._invoke=function(o0,o1,o2){var o3=o10;return function(o4,o5){if(o3===o12)throw new Error("Generator is already running");if(o3===o13){if("throw"===o4)throw o5;return o31()}for(o2.method=o4,o2.arg=o5;;){var o6=o2.delegate;if(o6){var o7=o26(o6,o2);if(o7){if(o7===o14)continue;return o7}}if("next"===o2.method)o2.sent=o2._sent=o2.arg;else if("throw"===o2.method){if(o3===o10)throw o3=o13,o2.arg;o2.dispatchException(o2.arg)}else"return"===o2.method&&o2.abrupt("return",o2.arg);o3=o12;var o8=o20(o0,o1,o2);if("normal"===o8.type){if(o3=o2.done?o13:o11,o8.arg===o14)continue;return{value:o8.arg,done:o2.done}}"throw"===o8.type&&(o3=o13,o2.method="throw",o2.arg=o8.arg)}}}(o0,o2,o6),o5}function o20(o0,o1,o2){try{return{type:"normal",arg:o0.call(o1,o2)}}catch(o0){return{type:"throw",arg:o0}}}function o21(){}function o22(){}function o23(){}function o24(o0){["next","throw","return"].forEach((function(o1){o0[o1]=function(o0){return this._invoke(o1,o0)}}))}function o25(o0){function o1(o2,o3,o5,o6){var o7=o20(o0[o2],o0,o3);if("throw"!==o7.type){var o8=o7.arg,o9=o8.value;return o9&&"object"==typeof o9&&o4.call(o9,"__await")?Promise.resolve(o9.__await).then((function(o0){o1("next",o0,o5,o6)}),(function(o0){o1("throw",o0,o5,o6)})):Promise.resolve(o9).then((function(o0){o8.value=o0,o5(o8)}),o6)}o6(o7.arg)}var o2;this._invoke=function(o0,o3){function o4(){return new Promise((function(o2,o4){o1(o0,o3,o2,o4)}))}return o2=o2?o2.then(o4,o4):o4()}}function o26(o0,o1){var o3=o0.iterator[o1.method];if(o3===o2){if(o1.delegate=null,"throw"===o1.method){if(o0.iterator.return&&(o1.method="return",o1.arg=o2,o26(o0,o1),"throw"===o1.method))return o14;o1.method="throw",o1.arg=new TypeError("The iterator does not provide a 'throw' method")}return o14}var o4=o20(o3,o0.iterator,o1.arg);if("throw"===o4.type)return o1.method="throw",o1.arg=o4.arg,o1.delegate=null,o14;var o5=o4.arg;return o5?o5.done?(o1[o0.resultName]=o5.value,o1.next=o0.nextLoc,"return"!==o1.method&&(o1.method="next",o1.arg=o2),o1.delegate=null,o14):o5:(o1.method="throw",o1.arg=new TypeError("iterator result is not an object"),o1.delegate=null,o14)}function o27(o0){var o1={tryLoc:o0[0]};1 in o0&&(o1.catchLoc=o0[1]),2 in o0&&(o1.finallyLoc=o0[2],o1.afterLoc=o0[3]),this.tryEntries.push(o1)}function o28(o0){var o1=o0.completion||{};o1.type="normal",delete o1.arg,o0.completion=o1}function o29(o0){this.tryEntries=[{tryLoc:"root"}],o0.forEach(o27,this),this.reset(!0)}function o30(o0){if(o0){var o1=o0[o6];if(o1)return o1.call(o0);if("function"==typeof o0.next)return o0;if(!isNaN(o0.length)){var o3=-1,o5=function o1(){for(;++o3<o0.length;)if(o4.call(o0,o3))return o1.value=o0[o3],o1.done=!1,o1;return o1.value=o2,o1.done=!0,o1};return o5.next=o5}}return{next:o31}}function o31(){return{value:o2,done:!0}}}(function(){return this}()||Function("return this")())},568:(o0,o1,o2)=>{o0.exports=o2(7436)},8:(o0,o1)=>{!function(){for(var o0="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o2=new Uint8Array(256),o3=0;o3<o0.length;o3++)o2[o0.charCodeAt(o3)]=o3;o1.O=function(o1){var o2,o3=new Uint8Array(o1),o4=o3.length,o5="";for(o2=0;o2<o4;o2+=3)o5+=o0[o3[o2]>>2],o5+=o0[(3&o3[o2])<<4|o3[o2+1]>>4],o5+=o0[(15&o3[o2+1])<<2|o3[o2+2]>>6],o5+=o0[63&o3[o2+2]];return o4%3==2?o5=o5.substring(0,o5.length-1)+"=":o4%3==1&&(o5=o5.substring(0,o5.length-2)+"=="),o5},o1.Y=function(o0){var o1,o3,o4,o5,o6,o7=.75*o0.length,o8=o0.length,o9=0;"="===o0[o0.length-1]&&(o7--,"="===o0[o0.length-2]&&o7--);var o10=new ArrayBuffer(o7),o11=new Uint8Array(o10);for(o1=0;o1<o8;o1+=4)o3=o2[o0.charCodeAt(o1)],o4=o2[o0.charCodeAt(o1+1)],o5=o2[o0.charCodeAt(o1+2)],o6=o2[o0.charCodeAt(o1+3)],o11[o9++]=o3<<2|o4>>4,o11[o9++]=(15&o4)<<4|o5>>2,o11[o9++]=(3&o5)<<6|63&o6;return o10}}()},5704:(o0,o1)=>{o1.byteLength=function(o0){var o1=o8(o0),o2=o1[0],o3=o1[1];return 3*(o2+o3)/4-o3},o1.toByteArray=function(o0){var o1,o2,o5=o8(o0),o6=o5[0],o7=o5[1],o9=new o4(function(o0,o1,o2){return 3*(o1+o2)/4-o2}(0,o6,o7)),o10=0,o11=o7>0?o6-4:o6;for(o2=0;o2<o11;o2+=4)o1=o3[o0.charCodeAt(o2)]<<18|o3[o0.charCodeAt(o2+1)]<<12|o3[o0.charCodeAt(o2+2)]<<6|o3[o0.charCodeAt(o2+3)],o9[o10++]=o1>>16&255,o9[o10++]=o1>>8&255,o9[o10++]=255&o1;2===o7&&(o1=o3[o0.charCodeAt(o2)]<<2|o3[o0.charCodeAt(o2+1)]>>4,o9[o10++]=255&o1);1===o7&&(o1=o3[o0.charCodeAt(o2)]<<10|o3[o0.charCodeAt(o2+1)]<<4|o3[o0.charCodeAt(o2+2)]>>2,o9[o10++]=o1>>8&255,o9[o10++]=255&o1);return o9},o1.fromByteArray=function(o0){for(var o1,o3=o0.length,o4=o3%3,o5=[],o6=16383,o7=0,o8=o3-o4;o7<o8;o7+=o6)o5.push(o9(o0,o7,o7+o6>o8?o8:o7+o6));1===o4?(o1=o0[o3-1],o5.push(o2[o1>>2]+o2[o1<<4&63]+"==")):2===o4&&(o1=(o0[o3-2]<<8)+o0[o3-1],o5.push(o2[o1>>10]+o2[o1>>4&63]+o2[o1<<2&63]+"="));return o5.join("")};for(var o2=[],o3=[],o4="undefined"!=typeof Uint8Array?Uint8Array:Array,o5="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o6=0,o7=o5.length;o6<o7;++o6)o2[o6]=o5[o6],o3[o5.charCodeAt(o6)]=o6;function o8(o0){var o1=o0.length;if(o1%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var o2=o0.indexOf("=");return-1===o2&&(o2=o1),[o2,o2===o1?0:4-o2%4]}function o9(o0,o1,o3){for(var o4,o5,o6=[],o7=o1;o7<o3;o7+=3)o4=(o0[o7]<<16&16711680)+(o0[o7+1]<<8&65280)+(255&o0[o7+2]),o6.push(o2[(o5=o4)>>18&63]+o2[o5>>12&63]+o2[o5>>6&63]+o2[63&o5]);return o6.join("")}o3["-".charCodeAt(0)]=62,o3["_".charCodeAt(0)]=63},6840:(o0,o1,o2)=>{var o3=o2(3332),o4=o2(3912),o5=o2(5856).Buffer;function o6(o0){if(!(this instanceof o6))return new o6(o0);if(this._bufs=[],this.length=0,"function"==typeof o0){this._callback=o0;var o1=function(o0){this._callback&&(this._callback(o0),this._callback=null)}.bind(this);this.on("pipe",(function(o0){o0.on("error",o1)})),this.on("unpipe",(function(o0){o0.removeListener("error",o1)}))}else this.append(o0);o3.call(this)}o4.inherits(o6,o3),o6.prototype._offset=function(o0){var o1,o2=0,o3=0;if(0===o0)return[0,0];for(;o3<this._bufs.length;o3++){if(o0<(o1=o2+this._bufs[o3].length)||o3==this._bufs.length-1)return[o3,o0-o2];o2=o1}},o6.prototype.append=function(o0){var o1=0;if(o5.isBuffer(o0))this._appendBuffer(o0);else if(Array.isArray(o0))for(;o1<o0.length;o1++)this.append(o0[o1]);else if(o0 instanceof o6)for(;o1<o0._bufs.length;o1++)this.append(o0._bufs[o1]);else null!=o0&&("number"==typeof o0&&(o0=o0.toString()),this._appendBuffer(o5.from(o0)));return this},o6.prototype._appendBuffer=function(o0){this._bufs.push(o0),this.length+=o0.length},o6.prototype._write=function(o0,o1,o2){this._appendBuffer(o0),"function"==typeof o2&&o2()},o6.prototype._read=function(o0){if(!this.length)return this.push(null);o0=Math.min(o0,this.length),this.push(this.slice(0,o0)),this.consume(o0)},o6.prototype.end=function(o0){o3.prototype.end.call(this,o0),this._callback&&(this._callback(null,this.slice()),this._callback=null)},o6.prototype.get=function(o0){return this.slice(o0,o0+1)[0]},o6.prototype.slice=function(o0,o1){return"number"==typeof o0&&o0<0&&(o0+=this.length),"number"==typeof o1&&o1<0&&(o1+=this.length),this.copy(null,0,o0,o1)},o6.prototype.copy=function(o0,o1,o2,o3){if(("number"!=typeof o2||o2<0)&&(o2=0),("number"!=typeof o3||o3>this.length)&&(o3=this.length),o2>=this.length)return o0||o5.alloc(0);if(o3<=0)return o0||o5.alloc(0);var o4,o6,o7=!!o0,o8=this._offset(o2),o9=o3-o2,o10=o9,o11=o7&&o1||0,o12=o8[1];if(0===o2&&o3==this.length){if(!o7)return 1===this._bufs.length?this._bufs[0]:o5.concat(this._bufs,this.length);for(o6=0;o6<this._bufs.length;o6++)this._bufs[o6].copy(o0,o11),o11+=this._bufs[o6].length;return o0}if(o10<=this._bufs[o8[0]].length-o12)return o7?this._bufs[o8[0]].copy(o0,o1,o12,o12+o10):this._bufs[o8[0]].slice(o12,o12+o10);for(o7||(o0=o5.allocUnsafe(o9)),o6=o8[0];o6<this._bufs.length;o6++){if(!(o10>(o4=this._bufs[o6].length-o12))){this._bufs[o6].copy(o0,o11,o12,o12+o10);break}this._bufs[o6].copy(o0,o11,o12),o11+=o4,o10-=o4,o12&&(o12=0)}return o0},o6.prototype.shallowSlice=function(o0,o1){o0=o0||0,o1=o1||this.length,o0<0&&(o0+=this.length),o1<0&&(o1+=this.length);var o2=this._offset(o0),o3=this._offset(o1),o4=this._bufs.slice(o2[0],o3[0]+1);return 0==o3[1]?o4.pop():o4[o4.length-1]=o4[o4.length-1].slice(0,o3[1]),0!=o2[1]&&(o4[0]=o4[0].slice(o2[1])),new o6(o4)},o6.prototype.toString=function(o0,o1,o2){return this.slice(o1,o2).toString(o0)},o6.prototype.consume=function(o0){for(;this._bufs.length;){if(!(o0>=this._bufs[0].length)){this._bufs[0]=this._bufs[0].slice(o0),this.length-=o0;break}o0-=this._bufs[0].length,this.length-=this._bufs[0].length,this._bufs.shift()}return this},o6.prototype.duplicate=function(){for(var o0=0,o1=new o6;o0<this._bufs.length;o0++)o1.append(this._bufs[o0]);return o1},o6.prototype.destroy=function(){this._bufs.length=0,this.length=0,this.push(null)},function(){var o0={readDoubleBE:8,readDoubleLE:8,readFloatBE:4,readFloatLE:4,readInt32BE:4,readInt32LE:4,readUInt32BE:4,readUInt32LE:4,readInt16BE:2,readInt16LE:2,readUInt16BE:2,readUInt16LE:2,readInt8:1,readUInt8:1};for(var o1 in o0)!function(o1){o6.prototype[o1]=function(o2){return this.slice(o2,o2+o0[o1])[o1](0)}}(o1)}(),o0.exports=o6},3296:(o0,o1,o2)=>{var o3=o2(5704),o4=o2(4404),o5="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;o1.Buffer=o8,o1.SlowBuffer=function(o0){+o0!=o0&&(o0=0);return o8.alloc(+o0)},o1.INSPECT_MAX_BYTES=50;var o6=2147483647;function o7(o0){if(o0>o6)throw new RangeError('The value "'+o0+'" is invalid for option "size"');var o1=new Uint8Array(o0);return Object.setPrototypeOf(o1,o8.prototype),o1}function o8(o0,o1,o2){if("number"==typeof o0){if("string"==typeof o1)throw new TypeError('The "string" argument must be of type string. Received type number');return o11(o0)}return o9(o0,o1,o2)}function o9(o0,o1,o2){if("string"==typeof o0)return function(o0,o1){"string"==typeof o1&&""!==o1||(o1="utf8");if(!o8.isEncoding(o1))throw new TypeError("Unknown encoding: "+o1);var o2=0|o14(o0,o1),o3=o7(o2),o4=o3.write(o0,o1);o4!==o2&&(o3=o3.slice(0,o4));return o3}(o0,o1);if(ArrayBuffer.isView(o0))return o12(o0);if(null==o0)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof o0);if(o41(o0,ArrayBuffer)||o0&&o41(o0.buffer,ArrayBuffer))return function(o0,o1,o2){if(o1<0||o0.byteLength<o1)throw new RangeError('"offset" is outside of buffer bounds');if(o0.byteLength<o1+(o2||0))throw new RangeError('"length" is outside of buffer bounds');var o3;o3=void 0===o1&&void 0===o2?new Uint8Array(o0):void 0===o2?new Uint8Array(o0,o1):new Uint8Array(o0,o1,o2);return Object.setPrototypeOf(o3,o8.prototype),o3}(o0,o1,o2);if("number"==typeof o0)throw new TypeError('The "value" argument must not be of type number. Received type number');var o3=o0.valueOf&&o0.valueOf();if(null!=o3&&o3!==o0)return o8.from(o3,o1,o2);var o4=function(o0){if(o8.isBuffer(o0)){var o1=0|o13(o0.length),o2=o7(o1);return 0===o2.length||o0.copy(o2,0,0,o1),o2}if(void 0!==o0.length)return"number"!=typeof o0.length||o42(o0.length)?o7(0):o12(o0);if("Buffer"===o0.type&&Array.isArray(o0.data))return o12(o0.data)}(o0);if(o4)return o4;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof o0[Symbol.toPrimitive])return o8.from(o0[Symbol.toPrimitive]("string"),o1,o2);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof o0)}function o10(o0){if("number"!=typeof o0)throw new TypeError('"size" argument must be of type number');if(o0<0)throw new RangeError('The value "'+o0+'" is invalid for option "size"')}function o11(o0){return o10(o0),o7(o0<0?0:0|o13(o0))}function o12(o0){for(var o1=o0.length<0?0:0|o13(o0.length),o2=o7(o1),o3=0;o3<o1;o3+=1)o2[o3]=255&o0[o3];return o2}function o13(o0){if(o0>=o6)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o6.toString(16)+" bytes");return 0|o0}function o14(o0,o1){if(o8.isBuffer(o0))return o0.length;if(ArrayBuffer.isView(o0)||o41(o0,ArrayBuffer))return o0.byteLength;if("string"!=typeof o0)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof o0);var o2=o0.length,o3=arguments.length>2&&!0===arguments[2];if(!o3&&0===o2)return 0;for(var o4=!1;;)switch(o1){case"ascii":case"latin1":case"binary":return o2;case"utf8":case"utf-8":return o38(o0).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*o2;case"hex":return o2>>>1;case"base64":return o39(o0).length;default:if(o4)return o3?-1:o38(o0).length;o1=(""+o1).toLowerCase(),o4=!0}}function o15(o0,o1,o2){var o3=!1;if((void 0===o1||o1<0)&&(o1=0),o1>this.length)return"";if((void 0===o2||o2>this.length)&&(o2=this.length),o2<=0)return"";if((o2>>>=0)<=(o1>>>=0))return"";for(o0||(o0="utf8");;)switch(o0){case"hex":return o30(this,o1,o2);case"utf8":case"utf-8":return o26(this,o1,o2);case"ascii":return o28(this,o1,o2);case"latin1":case"binary":return o29(this,o1,o2);case"base64":return o25(this,o1,o2);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return o31(this,o1,o2);default:if(o3)throw new TypeError("Unknown encoding: "+o0);o0=(o0+"").toLowerCase(),o3=!0}}function o16(o0,o1,o2){var o3=o0[o1];o0[o1]=o0[o2],o0[o2]=o3}function o17(o0,o1,o2,o3,o4){if(0===o0.length)return-1;if("string"==typeof o2?(o3=o2,o2=0):o2>2147483647?o2=2147483647:o2<-2147483648&&(o2=-2147483648),o42(o2=+o2)&&(o2=o4?0:o0.length-1),o2<0&&(o2=o0.length+o2),o2>=o0.length){if(o4)return-1;o2=o0.length-1}else if(o2<0){if(!o4)return-1;o2=0}if("string"==typeof o1&&(o1=o8.from(o1,o3)),o8.isBuffer(o1))return 0===o1.length?-1:o18(o0,o1,o2,o3,o4);if("number"==typeof o1)return o1&=255,"function"==typeof Uint8Array.prototype.indexOf?o4?Uint8Array.prototype.indexOf.call(o0,o1,o2):Uint8Array.prototype.lastIndexOf.call(o0,o1,o2):o18(o0,[o1],o2,o3,o4);throw new TypeError("val must be string, number or Buffer")}function o18(o0,o1,o2,o3,o4){var o5,o6=1,o7=o0.length,o8=o1.length;if(void 0!==o3&&("ucs2"===(o3=String(o3).toLowerCase())||"ucs-2"===o3||"utf16le"===o3||"utf-16le"===o3)){if(o0.length<2||o1.length<2)return-1;o6=2,o7/=2,o8/=2,o2/=2}function o9(o0,o1){return 1===o6?o0[o1]:o0.readUInt16BE(o1*o6)}if(o4){var o10=-1;for(o5=o2;o5<o7;o5++)if(o9(o0,o5)===o9(o1,-1===o10?0:o5-o10)){if(-1===o10&&(o10=o5),o5-o10+1===o8)return o10*o6}else-1!==o10&&(o5-=o5-o10),o10=-1}else for(o2+o8>o7&&(o2=o7-o8),o5=o2;o5>=0;o5--){for(var o11=!0,o12=0;o12<o8;o12++)if(o9(o0,o5+o12)!==o9(o1,o12)){o11=!1;break}if(o11)return o5}return-1}function o19(o0,o1,o2,o3){o2=Number(o2)||0;var o4=o0.length-o2;o3?(o3=Number(o3))>o4&&(o3=o4):o3=o4;var o5=o1.length;o3>o5/2&&(o3=o5/2);for(var o6=0;o6<o3;++o6){var o7=parseInt(o1.substr(2*o6,2),16);if(o42(o7))return o6;o0[o2+o6]=o7}return o6}function o20(o0,o1,o2,o3){return o40(o38(o1,o0.length-o2),o0,o2,o3)}function o21(o0,o1,o2,o3){return o40(function(o0){for(var o1=[],o2=0;o2<o0.length;++o2)o1.push(255&o0.charCodeAt(o2));return o1}(o1),o0,o2,o3)}function o22(o0,o1,o2,o3){return o21(o0,o1,o2,o3)}function o23(o0,o1,o2,o3){return o40(o39(o1),o0,o2,o3)}function o24(o0,o1,o2,o3){return o40(function(o0,o1){for(var o2,o3,o4,o5=[],o6=0;o6<o0.length&&!((o1-=2)<0);++o6)o3=(o2=o0.charCodeAt(o6))>>8,o4=o2%256,o5.push(o4),o5.push(o3);return o5}(o1,o0.length-o2),o0,o2,o3)}function o25(o0,o1,o2){return 0===o1&&o2===o0.length?o3.fromByteArray(o0):o3.fromByteArray(o0.slice(o1,o2))}function o26(o0,o1,o2){o2=Math.min(o0.length,o2);for(var o3=[],o4=o1;o4<o2;){var o5,o6,o7,o8,o9=o0[o4],o10=null,o11=o9>239?4:o9>223?3:o9>191?2:1;if(o4+o11<=o2)switch(o11){case 1:o9<128&&(o10=o9);break;case 2:128==(192&(o5=o0[o4+1]))&&(o8=(31&o9)<<6|63&o5)>127&&(o10=o8);break;case 3:o5=o0[o4+1],o6=o0[o4+2],128==(192&o5)&&128==(192&o6)&&(o8=(15&o9)<<12|(63&o5)<<6|63&o6)>2047&&(o8<55296||o8>57343)&&(o10=o8);break;case 4:o5=o0[o4+1],o6=o0[o4+2],o7=o0[o4+3],128==(192&o5)&&128==(192&o6)&&128==(192&o7)&&(o8=(15&o9)<<18|(63&o5)<<12|(63&o6)<<6|63&o7)>65535&&o8<1114112&&(o10=o8)}null===o10?(o10=65533,o11=1):o10>65535&&(o10-=65536,o3.push(o10>>>10&1023|55296),o10=56320|1023&o10),o3.push(o10),o4+=o11}return function(o0){var o1=o0.length;if(o1<=o27)return String.fromCharCode.apply(String,o0);var o2="",o3=0;for(;o3<o1;)o2+=String.fromCharCode.apply(String,o0.slice(o3,o3+=o27));return o2}(o3)}o1.kMaxLength=o6,o8.TYPED_ARRAY_SUPPORT=function(){try{var o0=new Uint8Array(1),o1={foo:function(){return 42}};return Object.setPrototypeOf(o1,Uint8Array.prototype),Object.setPrototypeOf(o0,o1),42===o0.foo()}catch(o0){return!1}}(),o8.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(o8.prototype,"parent",{enumerable:!0,get:function(){if(o8.isBuffer(this))return this.buffer}}),Object.defineProperty(o8.prototype,"offset",{enumerable:!0,get:function(){if(o8.isBuffer(this))return this.byteOffset}}),"undefined"!=typeof Symbol&&null!=Symbol.species&&o8[Symbol.species]===o8&&Object.defineProperty(o8,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),o8.poolSize=8192,o8.from=function(o0,o1,o2){return o9(o0,o1,o2)},Object.setPrototypeOf(o8.prototype,Uint8Array.prototype),Object.setPrototypeOf(o8,Uint8Array),o8.alloc=function(o0,o1,o2){return function(o0,o1,o2){return o10(o0),o0<=0?o7(o0):void 0!==o1?"string"==typeof o2?o7(o0).fill(o1,o2):o7(o0).fill(o1):o7(o0)}(o0,o1,o2)},o8.allocUnsafe=function(o0){return o11(o0)},o8.allocUnsafeSlow=function(o0){return o11(o0)},o8.isBuffer=function(o0){return null!=o0&&!0===o0._isBuffer&&o0!==o8.prototype},o8.compare=function(o0,o1){if(o41(o0,Uint8Array)&&(o0=o8.from(o0,o0.offset,o0.byteLength)),o41(o1,Uint8Array)&&(o1=o8.from(o1,o1.offset,o1.byteLength)),!o8.isBuffer(o0)||!o8.isBuffer(o1))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(o0===o1)return 0;for(var o2=o0.length,o3=o1.length,o4=0,o5=Math.min(o2,o3);o4<o5;++o4)if(o0[o4]!==o1[o4]){o2=o0[o4],o3=o1[o4];break}return o2<o3?-1:o3<o2?1:0},o8.isEncoding=function(o0){switch(String(o0).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o8.concat=function(o0,o1){if(!Array.isArray(o0))throw new TypeError('"list" argument must be an Array of Buffers');if(0===o0.length)return o8.alloc(0);var o2;if(void 0===o1)for(o1=0,o2=0;o2<o0.length;++o2)o1+=o0[o2].length;var o3=o8.allocUnsafe(o1),o4=0;for(o2=0;o2<o0.length;++o2){var o5=o0[o2];if(o41(o5,Uint8Array)&&(o5=o8.from(o5)),!o8.isBuffer(o5))throw new TypeError('"list" argument must be an Array of Buffers');o5.copy(o3,o4),o4+=o5.length}return o3},o8.byteLength=o14,o8.prototype._isBuffer=!0,o8.prototype.swap16=function(){var o0=this.length;if(o0%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var o1=0;o1<o0;o1+=2)o16(this,o1,o1+1);return this},o8.prototype.swap32=function(){var o0=this.length;if(o0%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var o1=0;o1<o0;o1+=4)o16(this,o1,o1+3),o16(this,o1+1,o1+2);return this},o8.prototype.swap64=function(){var o0=this.length;if(o0%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var o1=0;o1<o0;o1+=8)o16(this,o1,o1+7),o16(this,o1+1,o1+6),o16(this,o1+2,o1+5),o16(this,o1+3,o1+4);return this},o8.prototype.toString=function(){var o0=this.length;return 0===o0?"":0===arguments.length?o26(this,0,o0):o15.apply(this,arguments)},o8.prototype.toLocaleString=o8.prototype.toString,o8.prototype.equals=function(o0){if(!o8.isBuffer(o0))throw new TypeError("Argument must be a Buffer");return this===o0||0===o8.compare(this,o0)},o8.prototype.inspect=function(){var o0="",o2=o1.INSPECT_MAX_BYTES;return o0=this.toString("hex",0,o2).replace(/(.{2})/g,"$1 ").trim(),this.length>o2&&(o0+=" ... "),"<Buffer "+o0+">"},o5&&(o8.prototype[o5]=o8.prototype.inspect),o8.prototype.compare=function(o0,o1,o2,o3,o4){if(o41(o0,Uint8Array)&&(o0=o8.from(o0,o0.offset,o0.byteLength)),!o8.isBuffer(o0))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof o0);if(void 0===o1&&(o1=0),void 0===o2&&(o2=o0?o0.length:0),void 0===o3&&(o3=0),void 0===o4&&(o4=this.length),o1<0||o2>o0.length||o3<0||o4>this.length)throw new RangeError("out of range index");if(o3>=o4&&o1>=o2)return 0;if(o3>=o4)return-1;if(o1>=o2)return 1;if(this===o0)return 0;for(var o5=(o4>>>=0)-(o3>>>=0),o6=(o2>>>=0)-(o1>>>=0),o7=Math.min(o5,o6),o9=this.slice(o3,o4),o10=o0.slice(o1,o2),o11=0;o11<o7;++o11)if(o9[o11]!==o10[o11]){o5=o9[o11],o6=o10[o11];break}return o5<o6?-1:o6<o5?1:0},o8.prototype.includes=function(o0,o1,o2){return-1!==this.indexOf(o0,o1,o2)},o8.prototype.indexOf=function(o0,o1,o2){return o17(this,o0,o1,o2,!0)},o8.prototype.lastIndexOf=function(o0,o1,o2){return o17(this,o0,o1,o2,!1)},o8.prototype.write=function(o0,o1,o2,o3){if(void 0===o1)o3="utf8",o2=this.length,o1=0;else if(void 0===o2&&"string"==typeof o1)o3=o1,o2=this.length,o1=0;else{if(!isFinite(o1))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");o1>>>=0,isFinite(o2)?(o2>>>=0,void 0===o3&&(o3="utf8")):(o3=o2,o2=void 0)}var o4=this.length-o1;if((void 0===o2||o2>o4)&&(o2=o4),o0.length>0&&(o2<0||o1<0)||o1>this.length)throw new RangeError("Attempt to write outside buffer bounds");o3||(o3="utf8");for(var o5=!1;;)switch(o3){case"hex":return o19(this,o0,o1,o2);case"utf8":case"utf-8":return o20(this,o0,o1,o2);case"ascii":return o21(this,o0,o1,o2);case"latin1":case"binary":return o22(this,o0,o1,o2);case"base64":return o23(this,o0,o1,o2);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return o24(this,o0,o1,o2);default:if(o5)throw new TypeError("Unknown encoding: "+o3);o3=(""+o3).toLowerCase(),o5=!0}},o8.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var o27=4096;function o28(o0,o1,o2){var o3="";o2=Math.min(o0.length,o2);for(var o4=o1;o4<o2;++o4)o3+=String.fromCharCode(127&o0[o4]);return o3}function o29(o0,o1,o2){var o3="";o2=Math.min(o0.length,o2);for(var o4=o1;o4<o2;++o4)o3+=String.fromCharCode(o0[o4]);return o3}function o30(o0,o1,o2){var o3=o0.length;(!o1||o1<0)&&(o1=0),(!o2||o2<0||o2>o3)&&(o2=o3);for(var o4="",o5=o1;o5<o2;++o5)o4+=o43[o0[o5]];return o4}function o31(o0,o1,o2){for(var o3=o0.slice(o1,o2),o4="",o5=0;o5<o3.length;o5+=2)o4+=String.fromCharCode(o3[o5]+256*o3[o5+1]);return o4}function o32(o0,o1,o2){if(o0%1!=0||o0<0)throw new RangeError("offset is not uint");if(o0+o1>o2)throw new RangeError("Trying to access beyond buffer length")}function o33(o0,o1,o2,o3,o4,o5){if(!o8.isBuffer(o0))throw new TypeError('"buffer" argument must be a Buffer instance');if(o1>o4||o1<o5)throw new RangeError('"value" argument is out of bounds');if(o2+o3>o0.length)throw new RangeError("Index out of range")}function o34(o0,o1,o2,o3,o4,o5){if(o2+o3>o0.length)throw new RangeError("Index out of range");if(o2<0)throw new RangeError("Index out of range")}function o35(o0,o1,o2,o3,o5){return o1=+o1,o2>>>=0,o5||o34(o0,0,o2,4),o4.write(o0,o1,o2,o3,23,4),o2+4}function o36(o0,o1,o2,o3,o5){return o1=+o1,o2>>>=0,o5||o34(o0,0,o2,8),o4.write(o0,o1,o2,o3,52,8),o2+8}o8.prototype.slice=function(o0,o1){var o2=this.length;(o0=~~o0)<0?(o0+=o2)<0&&(o0=0):o0>o2&&(o0=o2),(o1=void 0===o1?o2:~~o1)<0?(o1+=o2)<0&&(o1=0):o1>o2&&(o1=o2),o1<o0&&(o1=o0);var o3=this.subarray(o0,o1);return Object.setPrototypeOf(o3,o8.prototype),o3},o8.prototype.readUIntLE=function(o0,o1,o2){o0>>>=0,o1>>>=0,o2||o32(o0,o1,this.length);for(var o3=this[o0],o4=1,o5=0;++o5<o1&&(o4*=256);)o3+=this[o0+o5]*o4;return o3},o8.prototype.readUIntBE=function(o0,o1,o2){o0>>>=0,o1>>>=0,o2||o32(o0,o1,this.length);for(var o3=this[o0+--o1],o4=1;o1>0&&(o4*=256);)o3+=this[o0+--o1]*o4;return o3},o8.prototype.readUInt8=function(o0,o1){return o0>>>=0,o1||o32(o0,1,this.length),this[o0]},o8.prototype.readUInt16LE=function(o0,o1){return o0>>>=0,o1||o32(o0,2,this.length),this[o0]|this[o0+1]<<8},o8.prototype.readUInt16BE=function(o0,o1){return o0>>>=0,o1||o32(o0,2,this.length),this[o0]<<8|this[o0+1]},o8.prototype.readUInt32LE=function(o0,o1){return o0>>>=0,o1||o32(o0,4,this.length),(this[o0]|this[o0+1]<<8|this[o0+2]<<16)+16777216*this[o0+3]},o8.prototype.readUInt32BE=function(o0,o1){return o0>>>=0,o1||o32(o0,4,this.length),16777216*this[o0]+(this[o0+1]<<16|this[o0+2]<<8|this[o0+3])},o8.prototype.readIntLE=function(o0,o1,o2){o0>>>=0,o1>>>=0,o2||o32(o0,o1,this.length);for(var o3=this[o0],o4=1,o5=0;++o5<o1&&(o4*=256);)o3+=this[o0+o5]*o4;return o3>=(o4*=128)&&(o3-=Math.pow(2,8*o1)),o3},o8.prototype.readIntBE=function(o0,o1,o2){o0>>>=0,o1>>>=0,o2||o32(o0,o1,this.length);for(var o3=o1,o4=1,o5=this[o0+--o3];o3>0&&(o4*=256);)o5+=this[o0+--o3]*o4;return o5>=(o4*=128)&&(o5-=Math.pow(2,8*o1)),o5},o8.prototype.readInt8=function(o0,o1){return o0>>>=0,o1||o32(o0,1,this.length),128&this[o0]?-1*(255-this[o0]+1):this[o0]},o8.prototype.readInt16LE=function(o0,o1){o0>>>=0,o1||o32(o0,2,this.length);var o2=this[o0]|this[o0+1]<<8;return 32768&o2?4294901760|o2:o2},o8.prototype.readInt16BE=function(o0,o1){o0>>>=0,o1||o32(o0,2,this.length);var o2=this[o0+1]|this[o0]<<8;return 32768&o2?4294901760|o2:o2},o8.prototype.readInt32LE=function(o0,o1){return o0>>>=0,o1||o32(o0,4,this.length),this[o0]|this[o0+1]<<8|this[o0+2]<<16|this[o0+3]<<24},o8.prototype.readInt32BE=function(o0,o1){return o0>>>=0,o1||o32(o0,4,this.length),this[o0]<<24|this[o0+1]<<16|this[o0+2]<<8|this[o0+3]},o8.prototype.readFloatLE=function(o0,o1){return o0>>>=0,o1||o32(o0,4,this.length),o4.read(this,o0,!0,23,4)},o8.prototype.readFloatBE=function(o0,o1){return o0>>>=0,o1||o32(o0,4,this.length),o4.read(this,o0,!1,23,4)},o8.prototype.readDoubleLE=function(o0,o1){return o0>>>=0,o1||o32(o0,8,this.length),o4.read(this,o0,!0,52,8)},o8.prototype.readDoubleBE=function(o0,o1){return o0>>>=0,o1||o32(o0,8,this.length),o4.read(this,o0,!1,52,8)},o8.prototype.writeUIntLE=function(o0,o1,o2,o3){(o0=+o0,o1>>>=0,o2>>>=0,o3)||o33(this,o0,o1,o2,Math.pow(2,8*o2)-1,0);var o4=1,o5=0;for(this[o1]=255&o0;++o5<o2&&(o4*=256);)this[o1+o5]=o0/o4&255;return o1+o2},o8.prototype.writeUIntBE=function(o0,o1,o2,o3){(o0=+o0,o1>>>=0,o2>>>=0,o3)||o33(this,o0,o1,o2,Math.pow(2,8*o2)-1,0);var o4=o2-1,o5=1;for(this[o1+o4]=255&o0;--o4>=0&&(o5*=256);)this[o1+o4]=o0/o5&255;return o1+o2},o8.prototype.writeUInt8=function(o0,o1,o2){return o0=+o0,o1>>>=0,o2||o33(this,o0,o1,1,255,0),this[o1]=255&o0,o1+1},o8.prototype.writeUInt16LE=function(o0,o1,o2){return o0=+o0,o1>>>=0,o2||o33(this,o0,o1,2,65535,0),this[o1]=255&o0,this[o1+1]=o0>>>8,o1+2},o8.prototype.writeUInt16BE=function(o0,o1,o2){return o0=+o0,o1>>>=0,o2||o33(this,o0,o1,2,65535,0),this[o1]=o0>>>8,this[o1+1]=255&o0,o1+2},o8.prototype.writeUInt32LE=function(o0,o1,o2){return o0=+o0,o1>>>=0,o2||o33(this,o0,o1,4,4294967295,0),this[o1+3]=o0>>>24,this[o1+2]=o0>>>16,this[o1+1]=o0>>>8,this[o1]=255&o0,o1+4},o8.prototype.writeUInt32BE=function(o0,o1,o2){return o0=+o0,o1>>>=0,o2||o33(this,o0,o1,4,4294967295,0),this[o1]=o0>>>24,this[o1+1]=o0>>>16,this[o1+2]=o0>>>8,this[o1+3]=255&o0,o1+4},o8.prototype.writeIntLE=function(o0,o1,o2,o3){if(o0=+o0,o1>>>=0,!o3){var o4=Math.pow(2,8*o2-1);o33(this,o0,o1,o2,o4-1,-o4)}var o5=0,o6=1,o7=0;for(this[o1]=255&o0;++o5<o2&&(o6*=256);)o0<0&&0===o7&&0!==this[o1+o5-1]&&(o7=1),this[o1+o5]=(o0/o6>>0)-o7&255;return o1+o2},o8.prototype.writeIntBE=function(o0,o1,o2,o3){if(o0=+o0,o1>>>=0,!o3){var o4=Math.pow(2,8*o2-1);o33(this,o0,o1,o2,o4-1,-o4)}var o5=o2-1,o6=1,o7=0;for(this[o1+o5]=255&o0;--o5>=0&&(o6*=256);)o0<0&&0===o7&&0!==this[o1+o5+1]&&(o7=1),this[o1+o5]=(o0/o6>>0)-o7&255;return o1+o2},o8.prototype.writeInt8=function(o0,o1,o2){return o0=+o0,o1>>>=0,o2||o33(this,o0,o1,1,127,-128),o0<0&&(o0=255+o0+1),this[o1]=255&o0,o1+1},o8.prototype.writeInt16LE=function(o0,o1,o2){return o0=+o0,o1>>>=0,o2||o33(this,o0,o1,2,32767,-32768),this[o1]=255&o0,this[o1+1]=o0>>>8,o1+2},o8.prototype.writeInt16BE=function(o0,o1,o2){return o0=+o0,o1>>>=0,o2||o33(this,o0,o1,2,32767,-32768),this[o1]=o0>>>8,this[o1+1]=255&o0,o1+2},o8.prototype.writeInt32LE=function(o0,o1,o2){return o0=+o0,o1>>>=0,o2||o33(this,o0,o1,4,2147483647,-2147483648),this[o1]=255&o0,this[o1+1]=o0>>>8,this[o1+2]=o0>>>16,this[o1+3]=o0>>>24,o1+4},o8.prototype.writeInt32BE=function(o0,o1,o2){return o0=+o0,o1>>>=0,o2||o33(this,o0,o1,4,2147483647,-2147483648),o0<0&&(o0=4294967295+o0+1),this[o1]=o0>>>24,this[o1+1]=o0>>>16,this[o1+2]=o0>>>8,this[o1+3]=255&o0,o1+4},o8.prototype.writeFloatLE=function(o0,o1,o2){return o35(this,o0,o1,!0,o2)},o8.prototype.writeFloatBE=function(o0,o1,o2){return o35(this,o0,o1,!1,o2)},o8.prototype.writeDoubleLE=function(o0,o1,o2){return o36(this,o0,o1,!0,o2)},o8.prototype.writeDoubleBE=function(o0,o1,o2){return o36(this,o0,o1,!1,o2)},o8.prototype.copy=function(o0,o1,o2,o3){if(!o8.isBuffer(o0))throw new TypeError("argument should be a Buffer");if(o2||(o2=0),o3||0===o3||(o3=this.length),o1>=o0.length&&(o1=o0.length),o1||(o1=0),o3>0&&o3<o2&&(o3=o2),o3===o2)return 0;if(0===o0.length||0===this.length)return 0;if(o1<0)throw new RangeError("targetStart out of bounds");if(o2<0||o2>=this.length)throw new RangeError("Index out of range");if(o3<0)throw new RangeError("sourceEnd out of bounds");o3>this.length&&(o3=this.length),o0.length-o1<o3-o2&&(o3=o0.length-o1+o2);var o4=o3-o2;if(this===o0&&"function"==typeof Uint8Array.prototype.copyWithin)this.copyWithin(o1,o2,o3);else if(this===o0&&o2<o1&&o1<o3)for(var o5=o4-1;o5>=0;--o5)o0[o5+o1]=this[o5+o2];else Uint8Array.prototype.set.call(o0,this.subarray(o2,o3),o1);return o4},o8.prototype.fill=function(o0,o1,o2,o3){if("string"==typeof o0){if("string"==typeof o1?(o3=o1,o1=0,o2=this.length):"string"==typeof o2&&(o3=o2,o2=this.length),void 0!==o3&&"string"!=typeof o3)throw new TypeError("encoding must be a string");if("string"==typeof o3&&!o8.isEncoding(o3))throw new TypeError("Unknown encoding: "+o3);if(1===o0.length){var o4=o0.charCodeAt(0);("utf8"===o3&&o4<128||"latin1"===o3)&&(o0=o4)}}else"number"==typeof o0?o0&=255:"boolean"==typeof o0&&(o0=Number(o0));if(o1<0||this.length<o1||this.length<o2)throw new RangeError("Out of range index");if(o2<=o1)return this;var o5;if(o1>>>=0,o2=void 0===o2?this.length:o2>>>0,o0||(o0=0),"number"==typeof o0)for(o5=o1;o5<o2;++o5)this[o5]=o0;else{var o6=o8.isBuffer(o0)?o0:o8.from(o0,o3),o7=o6.length;if(0===o7)throw new TypeError('The value "'+o0+'" is invalid for argument "value"');for(o5=0;o5<o2-o1;++o5)this[o5+o1]=o6[o5%o7]}return this};var o37=/[^+/0-9A-Za-z-_]/g;function o38(o0,o1){var o2;o1=o1||1/0;for(var o3=o0.length,o4=null,o5=[],o6=0;o6<o3;++o6){if((o2=o0.charCodeAt(o6))>55295&&o2<57344){if(!o4){if(o2>56319){(o1-=3)>-1&&o5.push(239,191,189);continue}if(o6+1===o3){(o1-=3)>-1&&o5.push(239,191,189);continue}o4=o2;continue}if(o2<56320){(o1-=3)>-1&&o5.push(239,191,189),o4=o2;continue}o2=65536+(o4-55296<<10|o2-56320)}else o4&&(o1-=3)>-1&&o5.push(239,191,189);if(o4=null,o2<128){if((o1-=1)<0)break;o5.push(o2)}else if(o2<2048){if((o1-=2)<0)break;o5.push(o2>>6|192,63&o2|128)}else if(o2<65536){if((o1-=3)<0)break;o5.push(o2>>12|224,o2>>6&63|128,63&o2|128)}else{if(!(o2<1114112))throw new Error("Invalid code point");if((o1-=4)<0)break;o5.push(o2>>18|240,o2>>12&63|128,o2>>6&63|128,63&o2|128)}}return o5}function o39(o0){return o3.toByteArray(function(o0){if((o0=(o0=o0.split("=")[0]).trim().replace(o37,"")).length<2)return"";for(;o0.length%4!=0;)o0+="=";return o0}(o0))}function o40(o0,o1,o2,o3){for(var o4=0;o4<o3&&!(o4+o2>=o1.length||o4>=o0.length);++o4)o1[o4+o2]=o0[o4];return o4}function o41(o0,o1){return o0 instanceof o1||null!=o0&&null!=o0.constructor&&null!=o0.constructor.name&&o0.constructor.name===o1.name}function o42(o0){return o0!=o0}var o43=function(){for(var o0="0123456789abcdef",o1=new Array(256),o2=0;o2<16;++o2)for(var o3=16*o2,o4=0;o4<16;++o4)o1[o3+o4]=o0[o2]+o0[o4];return o1}()},9952:(o0,o1,o2)=>{o2(7468),o2(8052),o0.exports=o2(2552).Array.from},1120:(o0,o1,o2)=>{o2(2192),o2(7468),o0.exports=o2(9660)},88:(o0,o1,o2)=>{o2(2192),o2(7468),o0.exports=o2(4632)},6044:(o0,o1,o2)=>{var o3=o2(2552),o4=o3.JSON||(o3.JSON={stringify:JSON.stringify});o0.exports=function(o0){return o4.stringify.apply(o4,arguments)}},108:(o0,o1,o2)=>{o2(2596),o2(7468),o2(2192),o2(4988),o2(9164),o2(7124),o2(2556),o0.exports=o2(2552).Map},8120:(o0,o1,o2)=>{o2(3656),o0.exports=o2(2552).Number.isInteger},2166:(o0,o1,o2)=>{o2(4512),o0.exports=o2(2552).Object.assign},8336:(o0,o1,o2)=>{o2(6424);var o3=o2(2552).Object;o0.exports=function(o0,o1){return o3.create(o0,o1)}},7456:(o0,o1,o2)=>{o2(4072);var o3=o2(2552).Object;o0.exports=function(o0,o1){return o3.defineProperties(o0,o1)}},9096:(o0,o1,o2)=>{o2(9723);var o3=o2(2552).Object;o0.exports=function(o0,o1,o2){return o3.defineProperty(o0,o1,o2)}},7572:(o0,o1,o2)=>{o2(3444),o0.exports=o2(2552).Object.freeze},9128:(o0,o1,o2)=>{o2(1773);var o3=o2(2552).Object;o0.exports=function(o0){return o3.getOwnPropertyNames(o0)}},7308:(o0,o1,o2)=>{o2(8668),o0.exports=o2(2552).Object.keys},9784:(o0,o1,o2)=>{o2(2596),o2(7468),o2(2192),o2(4156),o2(2792),o2(1588),o0.exports=o2(2552).Promise},8540:(o0,o1,o2)=>{o2(2596),o2(7468),o2(2192),o2(2835),o2(1412),o2(7580),o2(2368),o0.exports=o2(2552).Set},2676:(o0,o1,o2)=>{o2(456),o2(2596),o2(2252),o2(120),o0.exports=o2(2552).Symbol},8240:(o0,o1,o2)=>{o2(7468),o2(2192),o0.exports=o2(2536).f("iterator")},4220:o0=>{o0.exports=function(o0){if("function"!=typeof o0)throw TypeError(o0+" is not a function!");return o0}},1904:o0=>{o0.exports=function(){}},9872:o0=>{o0.exports=function(o0,o1,o2,o3){if(!(o0 instanceof o1)||void 0!==o3&&o3 in o0)throw TypeError(o2+": incorrect invocation!");return o0}},6765:(o0,o1,o2)=>{var o3=o2(2856);o0.exports=function(o0){if(!o3(o0))throw TypeError(o0+" is not an object!");return o0}},3704:(o0,o1,o2)=>{var o3=o2(619);o0.exports=function(o0,o1){var o2=[];return o3(o0,!1,o2.push,o2,o1),o2}},7196:(o0,o1,o2)=>{var o3=o2(7380),o4=o2(5096),o5=o2(7952);o0.exports=function(o0){return function(o1,o2,o6){var o7,o8=o3(o1),o9=o4(o8.length),o10=o5(o6,o9);if(o0&&o2!=o2){for(;o9>o10;)if((o7=o8[o10++])!=o7)return!0}else for(;o9>o10;o10++)if((o0||o10 in o8)&&o8[o10]===o2)return o0||o10||0;return!o0&&-1}}},6680:(o0,o1,o2)=>{var o3=o2(2604),o4=o2(3552),o5=o2(9056),o6=o2(5096),o7=o2(960);o0.exports=function(o0,o1){var o2=1==o0,o8=2==o0,o9=3==o0,o10=4==o0,o11=6==o0,o12=5==o0||o11,o13=o1||o7;return function(o1,o7,o14){for(var o15,o16,o17=o5(o1),o18=o4(o17),o19=o3(o7,o14,3),o20=o6(o18.length),o21=0,o22=o2?o13(o1,o20):o8?o13(o1,0):void 0;o20>o21;o21++)if((o12||o21 in o18)&&(o16=o19(o15=o18[o21],o21,o17),o0))if(o2)o22[o21]=o16;else if(o16)switch(o0){case 3:return!0;case 5:return o15;case 6:return o21;case 2:o22.push(o15)}else if(o10)return!1;return o11?-1:o9||o10?o10:o22}}},2216:(o0,o1,o2)=>{var o3=o2(2856),o4=o2(1936),o5=o2(3600)("species");o0.exports=function(o0){var o1;return o4(o0)&&("function"!=typeof(o1=o0.constructor)||o1!==Array&&!o4(o1.prototype)||(o1=void 0),o3(o1)&&null===(o1=o1[o5])&&(o1=void 0)),void 0===o1?Array:o1}},960:(o0,o1,o2)=>{var o3=o2(2216);o0.exports=function(o0,o1){return new(o3(o0))(o1)}},2240:(o0,o1,o2)=>{var o3=o2(4912),o4=o2(3600)("toStringTag"),o5="Arguments"==o3(function(){return arguments}());o0.exports=function(o0){var o1,o2,o6;return void 0===o0?"Undefined":null===o0?"Null":"string"==typeof(o2=function(o0,o1){try{return o0[o1]}catch(o0){}}(o1=Object(o0),o4))?o2:o5?o3(o1):"Object"==(o6=o3(o1))&&"function"==typeof o1.callee?"Arguments":o6}},4912:o0=>{var o1={}.toString;o0.exports=function(o0){return o1.call(o0).slice(8,-1)}},5712:(o0,o1,o2)=>{var o3=o2(6208).f,o4=o2(5208),o5=o2(3464),o6=o2(2604),o7=o2(9872),o8=o2(619),o9=o2(5176),o10=o2(264),o11=o2(9360),o12=o2(5548),o13=o2(8216).fastKey,o14=o2(1869),o15=o12?"_s":"size",o16=function(o0,o1){var o2,o3=o13(o1);if("F"!==o3)return o0._i[o3];for(o2=o0._f;o2;o2=o2.n)if(o2.k==o1)return o2};o0.exports={getConstructor:function(o0,o1,o2,o9){var o10=o0((function(o0,o3){o7(o0,o10,o1,"_i"),o0._t=o1,o0._i=o4(null),o0._f=void 0,o0._l=void 0,o0[o15]=0,null!=o3&&o8(o3,o2,o0[o9],o0)}));return o5(o10.prototype,{clear:function(){for(var o0=o14(this,o1),o2=o0._i,o3=o0._f;o3;o3=o3.n)o3.r=!0,o3.p&&(o3.p=o3.p.n=void 0),delete o2[o3.i];o0._f=o0._l=void 0,o0[o15]=0},delete:function(o0){var o2=o14(this,o1),o3=o16(o2,o0);if(o3){var o4=o3.n,o5=o3.p;delete o2._i[o3.i],o3.r=!0,o5&&(o5.n=o4),o4&&(o4.p=o5),o2._f==o3&&(o2._f=o4),o2._l==o3&&(o2._l=o5),o2[o15]--}return!!o3},forEach:function(o0){o14(this,o1);for(var o2,o3=o6(o0,arguments.length>1?arguments[1]:void 0,3);o2=o2?o2.n:this._f;)for(o3(o2.v,o2.k,this);o2&&o2.r;)o2=o2.p},has:function(o0){return!!o16(o14(this,o1),o0)}}),o12&&o3(o10.prototype,"size",{get:function(){return o14(this,o1)[o15]}}),o10},def:function(o0,o1,o2){var o3,o4,o5=o16(o0,o1);return o5?o5.v=o2:(o0._l=o5={i:o4=o13(o1,!0),k:o1,v:o2,p:o3=o0._l,n:void 0,r:!1},o0._f||(o0._f=o5),o3&&(o3.n=o5),o0[o15]++,"F"!==o4&&(o0._i[o4]=o5)),o0},getEntry:o16,setStrong:function(o0,o1,o2){o9(o0,o1,(function(o0,o2){this._t=o14(o0,o1),this._k=o2,this._l=void 0}),(function(){for(var o0=this,o1=o0._k,o2=o0._l;o2&&o2.r;)o2=o2.p;return o0._t&&(o0._l=o2=o2?o2.n:o0._t._f)?o10(0,"keys"==o1?o2.k:"values"==o1?o2.v:[o2.k,o2.v]):(o0._t=void 0,o10(1))}),o2?"entries":"values",!o2,!0),o11(o1)}}},8368:(o0,o1,o2)=>{var o3=o2(2240),o4=o2(3704);o0.exports=function(o0){return function(){if(o3(this)!=o0)throw TypeError(o0+"#toJSON isn't generic");return o4(this)}}},9932:(o0,o1,o2)=>{var o3=o2(1659),o4=o2(4232),o5=o2(8216),o6=o2(1816),o7=o2(8144),o8=o2(3464),o9=o2(619),o10=o2(9872),o11=o2(2856),o12=o2(7292),o13=o2(6208).f,o14=o2(6680)(0),o15=o2(5548);o0.exports=function(o0,o1,o2,o16,o17,o18){var o19=o3[o0],o20=o19,o21=o17?"set":"add",o22=o20&&o20.prototype,o23={};return o15&&"function"==typeof o20&&(o18||o22.forEach&&!o6((function(){(new o20).entries().next()})))?(o20=o1((function(o1,o2){o10(o1,o20,o0,"_c"),o1._c=new o19,null!=o2&&o9(o2,o17,o1[o21],o1)})),o14("add,clear,delete,forEach,get,has,set,keys,values,entries,toJSON".split(","),(function(o0){var o1="add"==o0||"set"==o0;!(o0 in o22)||o18&&"clear"==o0||o7(o20.prototype,o0,(function(o2,o3){if(o10(this,o20,o0),!o1&&o18&&!o11(o2))return"get"==o0&&void 0;var o4=this._c[o0](0===o2?0:o2,o3);return o1?this:o4}))})),o18||o13(o20.prototype,"size",{get:function(){return this._c.size}})):(o20=o16.getConstructor(o1,o0,o17,o21),o8(o20.prototype,o2),o5.NEED=!0),o12(o20,o0),o23[o0]=o20,o4(o4.G+o4.W+o4.F,o23),o18||o16.setStrong(o20,o0,o17),o20}},2552:o0=>{var o1=o0.exports={version:"2.6.10"};"number"==typeof __e&&(__e=o1)},1968:(o0,o1,o2)=>{var o3=o2(6208),o4=o2(4888);o0.exports=function(o0,o1,o2){o1 in o0?o3.f(o0,o1,o4(0,o2)):o0[o1]=o2}},2604:(o0,o1,o2)=>{var o3=o2(4220);o0.exports=function(o0,o1,o2){if(o3(o0),void 0===o1)return o0;switch(o2){case 1:return function(o2){return o0.call(o1,o2)};case 2:return function(o2,o3){return o0.call(o1,o2,o3)};case 3:return function(o2,o3,o4){return o0.call(o1,o2,o3,o4)}}return function(){return o0.apply(o1,arguments)}}},8572:o0=>{o0.exports=function(o0){if(null==o0)throw TypeError("Can't call method on  "+o0);return o0}},5548:(o0,o1,o2)=>{o0.exports=!o2(1816)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},1068:(o0,o1,o2)=>{var o3=o2(2856),o4=o2(1659).document,o5=o3(o4)&&o3(o4.createElement);o0.exports=function(o0){return o5?o4.createElement(o0):{}}},1776:o0=>{o0.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},9488:(o0,o1,o2)=>{var o3=o2(9120),o4=o2(8896),o5=o2(7412);o0.exports=function(o0){var o1=o3(o0),o2=o4.f;if(o2)for(var o6,o7=o2(o0),o8=o5.f,o9=0;o7.length>o9;)o8.call(o0,o6=o7[o9++])&&o1.push(o6);return o1}},4232:(o0,o1,o2)=>{var o3=o2(1659),o4=o2(2552),o5=o2(2604),o6=o2(8144),o7=o2(9184),o8=function(o0,o1,o2){var o9,o10,o11,o12=o0&o8.F,o13=o0&o8.G,o14=o0&o8.S,o15=o0&o8.P,o16=o0&o8.B,o17=o0&o8.W,o18=o13?o4:o4[o1]||(o4[o1]={}),o19=o18.prototype,o20=o13?o3:o14?o3[o1]:(o3[o1]||{}).prototype;for(o9 in o13&&(o2=o1),o2)(o10=!o12&&o20&&void 0!==o20[o9])&&o7(o18,o9)||(o11=o10?o20[o9]:o2[o9],o18[o9]=o13&&"function"!=typeof o20[o9]?o2[o9]:o16&&o10?o5(o11,o3):o17&&o20[o9]==o11?function(o0){var o1=function(o1,o2,o3){if(this instanceof o0){switch(arguments.length){case 0:return new o0;case 1:return new o0(o1);case 2:return new o0(o1,o2)}return new o0(o1,o2,o3)}return o0.apply(this,arguments)};return o1.prototype=o0.prototype,o1}(o11):o15&&"function"==typeof o11?o5(Function.call,o11):o11,o15&&((o18.virtual||(o18.virtual={}))[o9]=o11,o0&o8.R&&o19&&!o19[o9]&&o6(o19,o9,o11)))};o8.F=1,o8.G=2,o8.S=4,o8.P=8,o8.B=16,o8.W=32,o8.U=64,o8.R=128,o0.exports=o8},1816:o0=>{o0.exports=function(o0){try{return!!o0()}catch(o0){return!0}}},619:(o0,o1,o2)=>{var o3=o2(2604),o4=o2(2200),o5=o2(7820),o6=o2(6765),o7=o2(5096),o8=o2(7712),o9={},o10={},o11=o0.exports=function(o0,o1,o2,o11,o12){var o13,o14,o15,o16,o17=o12?function(){return o0}:o8(o0),o18=o3(o2,o11,o1?2:1),o19=0;if("function"!=typeof o17)throw TypeError(o0+" is not iterable!");if(o5(o17)){for(o13=o7(o0.length);o13>o19;o19++)if((o16=o1?o18(o6(o14=o0[o19])[0],o14[1]):o18(o0[o19]))===o9||o16===o10)return o16}else for(o15=o17.call(o0);!(o14=o15.next()).done;)if((o16=o4(o15,o18,o14.value,o1))===o9||o16===o10)return o16};o11.BREAK=o9,o11.RETURN=o10},1659:o0=>{var o1=o0.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=o1)},9184:o0=>{var o1={}.hasOwnProperty;o0.exports=function(o0,o2){return o1.call(o0,o2)}},8144:(o0,o1,o2)=>{var o3=o2(6208),o4=o2(4888);o0.exports=o2(5548)?function(o0,o1,o2){return o3.f(o0,o1,o4(1,o2))}:function(o0,o1,o2){return o0[o1]=o2,o0}},9976:(o0,o1,o2)=>{var o3=o2(1659).document;o0.exports=o3&&o3.documentElement},7732:(o0,o1,o2)=>{o0.exports=!o2(5548)&&!o2(1816)((function(){return 7!=Object.defineProperty(o2(1068)("div"),"a",{get:function(){return 7}}).a}))},188:o0=>{o0.exports=function(o0,o1,o2){var o3=void 0===o2;switch(o1.length){case 0:return o3?o0():o0.call(o2);case 1:return o3?o0(o1[0]):o0.call(o2,o1[0]);case 2:return o3?o0(o1[0],o1[1]):o0.call(o2,o1[0],o1[1]);case 3:return o3?o0(o1[0],o1[1],o1[2]):o0.call(o2,o1[0],o1[1],o1[2]);case 4:return o3?o0(o1[0],o1[1],o1[2],o1[3]):o0.call(o2,o1[0],o1[1],o1[2],o1[3])}return o0.apply(o2,o1)}},3552:(o0,o1,o2)=>{var o3=o2(4912);o0.exports=Object("z").propertyIsEnumerable(0)?Object:function(o0){return"String"==o3(o0)?o0.split(""):Object(o0)}},7820:(o0,o1,o2)=>{var o3=o2(6872),o4=o2(3600)("iterator"),o5=Array.prototype;o0.exports=function(o0){return void 0!==o0&&(o3.Array===o0||o5[o4]===o0)}},1936:(o0,o1,o2)=>{var o3=o2(4912);o0.exports=Array.isArray||function(o0){return"Array"==o3(o0)}},6432:(o0,o1,o2)=>{var o3=o2(2856),o4=Math.floor;o0.exports=function(o0){return!o3(o0)&&isFinite(o0)&&o4(o0)===o0}},2856:o0=>{o0.exports=function(o0){return"object"==typeof o0?null!==o0:"function"==typeof o0}},2200:(o0,o1,o2)=>{var o3=o2(6765);o0.exports=function(o0,o1,o2,o4){try{return o4?o1(o3(o2)[0],o2[1]):o1(o2)}catch(o1){var o5=o0.return;throw void 0!==o5&&o3(o5.call(o0)),o1}}},2448:(o0,o1,o2)=>{var o3=o2(5208),o4=o2(4888),o5=o2(7292),o6={};o2(8144)(o6,o2(3600)("iterator"),(function(){return this})),o0.exports=function(o0,o1,o2){o0.prototype=o3(o6,{next:o4(1,o2)}),o5(o0,o1+" Iterator")}},5176:(o0,o1,o2)=>{var o3=o2(9916),o4=o2(4232),o5=o2(8636),o6=o2(8144),o7=o2(6872),o8=o2(2448),o9=o2(7292),o10=o2(8228),o11=o2(3600)("iterator"),o12=!([].keys&&"next"in[].keys()),o13="keys",o14="values",o15=function(){return this};o0.exports=function(o0,o1,o2,o16,o17,o18,o19){o8(o2,o1,o16);var o20,o21,o22,o23=function(o0){if(!o12&&o0 in o27)return o27[o0];switch(o0){case o13:case o14:return function(){return new o2(this,o0)}}return function(){return new o2(this,o0)}},o24=o1+" Iterator",o25=o17==o14,o26=!1,o27=o0.prototype,o28=o27[o11]||o27["@@iterator"]||o17&&o27[o17],o29=o28||o23(o17),o30=o17?o25?o23("entries"):o29:void 0,o31="Array"==o1&&o27.entries||o28;if(o31&&(o22=o10(o31.call(new o0)))!==Object.prototype&&o22.next&&(o9(o22,o24,!0),o3||"function"==typeof o22[o11]||o6(o22,o11,o15)),o25&&o28&&o28.name!==o14&&(o26=!0,o29=function(){return o28.call(this)}),o3&&!o19||!o12&&!o26&&o27[o11]||o6(o27,o11,o29),o7[o1]=o29,o7[o24]=o15,o17)if(o20={values:o25?o29:o23(o14),keys:o18?o29:o23(o13),entries:o30},o19)for(o21 in o20)o21 in o27||o5(o27,o21,o20[o21]);else o4(o4.P+o4.F*(o12||o26),o1,o20);return o20}},8200:(o0,o1,o2)=>{var o3=o2(3600)("iterator"),o4=!1;try{var o5=[7][o3]();o5.return=function(){o4=!0},Array.from(o5,(function(){throw 2}))}catch(o0){}o0.exports=function(o0,o1){if(!o1&&!o4)return!1;var o2=!1;try{var o5=[7],o6=o5[o3]();o6.next=function(){return{done:o2=!0}},o5[o3]=function(){return o6},o0(o5)}catch(o0){}return o2}},264:o0=>{o0.exports=function(o0,o1){return{value:o1,done:!!o0}}},6872:o0=>{o0.exports={}},9916:o0=>{o0.exports=!0},8216:(o0,o1,o2)=>{var o3=o2(476)("meta"),o4=o2(2856),o5=o2(9184),o6=o2(6208).f,o7=0,o8=Object.isExtensible||function(){return!0},o9=!o2(1816)((function(){return o8(Object.preventExtensions({}))})),o10=function(o0){o6(o0,o3,{value:{i:"O"+ ++o7,w:{}}})},o11=o0.exports={KEY:o3,NEED:!1,fastKey:function(o0,o1){if(!o4(o0))return"symbol"==typeof o0?o0:("string"==typeof o0?"S":"P")+o0;if(!o5(o0,o3)){if(!o8(o0))return"F";if(!o1)return"E";o10(o0)}return o0[o3].i},getWeak:function(o0,o1){if(!o5(o0,o3)){if(!o8(o0))return!0;if(!o1)return!1;o10(o0)}return o0[o3].w},onFreeze:function(o0){return o9&&o11.NEED&&o8(o0)&&!o5(o0,o3)&&o10(o0),o0}}},1332:(o0,o1,o2)=>{var o3=o2(1659),o4=o2(9460).set,o5=o3.MutationObserver||o3.WebKitMutationObserver,o6=o3.process,o7=o3.Promise,o8="process"==o2(4912)(o6);o0.exports=function(){var o0,o1,o2,o9=function(){var o3,o4;for(o8&&(o3=o6.domain)&&o3.exit();o0;){o4=o0.fn,o0=o0.next;try{o4()}catch(o3){throw o0?o2():o1=void 0,o3}}o1=void 0,o3&&o3.enter()};if(o8)o2=function(){o6.nextTick(o9)};else if(!o5||o3.navigator&&o3.navigator.standalone)if(o7&&o7.resolve){var o10=o7.resolve(void 0);o2=function(){o10.then(o9)}}else o2=function(){o4.call(o3,o9)};else{var o11=!0,o12=document.createTextNode("");new o5(o9).observe(o12,{characterData:!0}),o2=function(){o12.data=o11=!o11}}return function(o3){var o4={fn:o3,next:void 0};o1&&(o1.next=o4),o0||(o0=o4,o2()),o1=o4}}},268:(o0,o1,o2)=>{var o3=o2(4220);function o4(o0){var o1,o2;this.promise=new o0((function(o0,o3){if(void 0!==o1||void 0!==o2)throw TypeError("Bad Promise constructor");o1=o0,o2=o3})),this.resolve=o3(o1),this.reject=o3(o2)}o0.exports.f=function(o0){return new o4(o0)}},2052:(o0,o1,o2)=>{var o3=o2(5548),o4=o2(9120),o5=o2(8896),o6=o2(7412),o7=o2(9056),o8=o2(3552),o9=Object.assign;o0.exports=!o9||o2(1816)((function(){var o0={},o1={},o2=Symbol(),o3="abcdefghijklmnopqrst";return o0[o2]=7,o3.split("").forEach((function(o0){o1[o0]=o0})),7!=o9({},o0)[o2]||Object.keys(o9({},o1)).join("")!=o3}))?function(o0,o1){for(var o2=o7(o0),o9=arguments.length,o10=1,o11=o5.f,o12=o6.f;o9>o10;)for(var o13,o14=o8(arguments[o10++]),o15=o11?o4(o14).concat(o11(o14)):o4(o14),o16=o15.length,o17=0;o16>o17;)o13=o15[o17++],o3&&!o12.call(o14,o13)||(o2[o13]=o14[o13]);return o2}:o9},5208:(o0,o1,o2)=>{var o3=o2(6765),o4=o2(8992),o5=o2(1776),o6=o2(588)("IE_PROTO"),o7=function(){},o8=function(){var o0,o1=o2(1068)("iframe"),o3=o5.length;for(o1.style.display="none",o2(9976).appendChild(o1),o1.src="javascript:",(o0=o1.contentWindow.document).open(),o0.write("<script>document.F=Object<\/script>"),o0.close(),o8=o0.F;o3--;)delete o8.prototype[o5[o3]];return o8()};o0.exports=Object.create||function(o0,o1){var o2;return null!==o0?(o7.prototype=o3(o0),o2=new o7,o7.prototype=null,o2[o6]=o0):o2=o8(),void 0===o1?o2:o4(o2,o1)}},6208:(o0,o1,o2)=>{var o3=o2(6765),o4=o2(7732),o5=o2(2144),o6=Object.defineProperty;o1.f=o2(5548)?Object.defineProperty:function(o0,o1,o2){if(o3(o0),o1=o5(o1,!0),o3(o2),o4)try{return o6(o0,o1,o2)}catch(o0){}if("get"in o2||"set"in o2)throw TypeError("Accessors not supported!");return"value"in o2&&(o0[o1]=o2.value),o0}},8992:(o0,o1,o2)=>{var o3=o2(6208),o4=o2(6765),o5=o2(9120);o0.exports=o2(5548)?Object.defineProperties:function(o0,o1){o4(o0);for(var o2,o6=o5(o1),o7=o6.length,o8=0;o7>o8;)o3.f(o0,o2=o6[o8++],o1[o2]);return o0}},4768:(o0,o1,o2)=>{var o3=o2(7412),o4=o2(4888),o5=o2(7380),o6=o2(2144),o7=o2(9184),o8=o2(7732),o9=Object.getOwnPropertyDescriptor;o1.f=o2(5548)?o9:function(o0,o1){if(o0=o5(o0),o1=o6(o1,!0),o8)try{return o9(o0,o1)}catch(o0){}if(o7(o0,o1))return o4(!o3.f.call(o0,o1),o0[o1])}},7928:(o0,o1,o2)=>{var o3=o2(7380),o4=o2(5776).f,o5={}.toString,o6="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];o0.exports.f=function(o0){return o6&&"[object Window]"==o5.call(o0)?function(o0){try{return o4(o0)}catch(o0){return o6.slice()}}(o0):o4(o3(o0))}},5776:(o0,o1,o2)=>{var o3=o2(4952),o4=o2(1776).concat("length","prototype");o1.f=Object.getOwnPropertyNames||function(o0){return o3(o0,o4)}},8896:(o0,o1)=>{o1.f=Object.getOwnPropertySymbols},8228:(o0,o1,o2)=>{var o3=o2(9184),o4=o2(9056),o5=o2(588)("IE_PROTO"),o6=Object.prototype;o0.exports=Object.getPrototypeOf||function(o0){return o0=o4(o0),o3(o0,o5)?o0[o5]:"function"==typeof o0.constructor&&o0 instanceof o0.constructor?o0.constructor.prototype:o0 instanceof Object?o6:null}},4952:(o0,o1,o2)=>{var o3=o2(9184),o4=o2(7380),o5=o2(7196)(!1),o6=o2(588)("IE_PROTO");o0.exports=function(o0,o1){var o2,o7=o4(o0),o8=0,o9=[];for(o2 in o7)o2!=o6&&o3(o7,o2)&&o9.push(o2);for(;o1.length>o8;)o3(o7,o2=o1[o8++])&&(~o5(o9,o2)||o9.push(o2));return o9}},9120:(o0,o1,o2)=>{var o3=o2(4952),o4=o2(1776);o0.exports=Object.keys||function(o0){return o3(o0,o4)}},7412:(o0,o1)=>{o1.f={}.propertyIsEnumerable},5380:(o0,o1,o2)=>{var o3=o2(4232),o4=o2(2552),o5=o2(1816);o0.exports=function(o0,o1){var o2=(o4.Object||{})[o0]||Object[o0],o6={};o6[o0]=o1(o2),o3(o3.S+o3.F*o5((function(){o2(1)})),"Object",o6)}},3624:o0=>{o0.exports=function(o0){try{return{e:!1,v:o0()}}catch(o0){return{e:!0,v:o0}}}},5512:(o0,o1,o2)=>{var o3=o2(6765),o4=o2(2856),o5=o2(268);o0.exports=function(o0,o1){if(o3(o0),o4(o1)&&o1.constructor===o0)return o1;var o2=o5.f(o0);return(0,o2.resolve)(o1),o2.promise}},4888:o0=>{o0.exports=function(o0,o1){return{enumerable:!(1&o0),configurable:!(2&o0),writable:!(4&o0),value:o1}}},3464:(o0,o1,o2)=>{var o3=o2(8144);o0.exports=function(o0,o1,o2){for(var o4 in o1)o2&&o0[o4]?o0[o4]=o1[o4]:o3(o0,o4,o1[o4]);return o0}},8636:(o0,o1,o2)=>{o0.exports=o2(8144)},1344:(o0,o1,o2)=>{var o3=o2(4232),o4=o2(4220),o5=o2(2604),o6=o2(619);o0.exports=function(o0){o3(o3.S,o0,{from:function(o0){var o1,o2,o3,o7,o8=arguments[1];return o4(this),(o1=void 0!==o8)&&o4(o8),null==o0?new this:(o2=[],o1?(o3=0,o7=o5(o8,arguments[2],2),o6(o0,!1,(function(o0){o2.push(o7(o0,o3++))}))):o6(o0,!1,o2.push,o2),new this(o2))}})}},8496:(o0,o1,o2)=>{var o3=o2(4232);o0.exports=function(o0){o3(o3.S,o0,{of:function(){for(var o0=arguments.length,o1=new Array(o0);o0--;)o1[o0]=arguments[o0];return new this(o1)}})}},9360:(o0,o1,o2)=>{var o3=o2(1659),o4=o2(2552),o5=o2(6208),o6=o2(5548),o7=o2(3600)("species");o0.exports=function(o0){var o1="function"==typeof o4[o0]?o4[o0]:o3[o0];o6&&o1&&!o1[o7]&&o5.f(o1,o7,{configurable:!0,get:function(){return this}})}},7292:(o0,o1,o2)=>{var o3=o2(6208).f,o4=o2(9184),o5=o2(3600)("toStringTag");o0.exports=function(o0,o1,o2){o0&&!o4(o0=o2?o0:o0.prototype,o5)&&o3(o0,o5,{configurable:!0,value:o1})}},588:(o0,o1,o2)=>{var o3=o2(9432)("keys"),o4=o2(476);o0.exports=function(o0){return o3[o0]||(o3[o0]=o4(o0))}},9432:(o0,o1,o2)=>{var o3=o2(2552),o4=o2(1659),o5="__core-js_shared__",o6=o4[o5]||(o4[o5]={});(o0.exports=function(o0,o1){return o6[o0]||(o6[o0]=void 0!==o1?o1:{})})("versions",[]).push({version:o3.version,mode:o2(9916)?"pure":"global",copyright:" 2019 Denis Pushkarev (zloirock.ru)"})},9216:(o0,o1,o2)=>{var o3=o2(6765),o4=o2(4220),o5=o2(3600)("species");o0.exports=function(o0,o1){var o2,o6=o3(o0).constructor;return void 0===o6||null==(o2=o3(o6)[o5])?o1:o4(o2)}},5852:(o0,o1,o2)=>{var o3=o2(3803),o4=o2(8572);o0.exports=function(o0){return function(o1,o2){var o5,o6,o7=String(o4(o1)),o8=o3(o2),o9=o7.length;return o8<0||o8>=o9?o0?"":void 0:(o5=o7.charCodeAt(o8))<55296||o5>56319||o8+1===o9||(o6=o7.charCodeAt(o8+1))<56320||o6>57343?o0?o7.charAt(o8):o5:o0?o7.slice(o8,o8+2):o6-56320+(o5-55296<<10)+65536}}},9460:(o0,o1,o2)=>{var o3,o4,o5,o6=o2(2604),o7=o2(188),o8=o2(9976),o9=o2(1068),o10=o2(1659),o11=o10.process,o12=o10.setImmediate,o13=o10.clearImmediate,o14=o10.MessageChannel,o15=o10.Dispatch,o16=0,o17={},o18="onreadystatechange",o19=function(){var o0=+this;if(o17.hasOwnProperty(o0)){var o1=o17[o0];delete o17[o0],o1()}},o20=function(o0){o19.call(o0.data)};o12&&o13||(o12=function(o0){for(var o1=[],o2=1;arguments.length>o2;)o1.push(arguments[o2++]);return o17[++o16]=function(){o7("function"==typeof o0?o0:Function(o0),o1)},o3(o16),o16},o13=function(o0){delete o17[o0]},"process"==o2(4912)(o11)?o3=function(o0){o11.nextTick(o6(o19,o0,1))}:o15&&o15.now?o3=function(o0){o15.now(o6(o19,o0,1))}:o14?(o5=(o4=new o14).port2,o4.port1.onmessage=o20,o3=o6(o5.postMessage,o5,1)):o10.addEventListener&&"function"==typeof postMessage&&!o10.importScripts?(o3=function(o0){o10.postMessage(o0+"","*")},o10.addEventListener("message",o20,!1)):o3=o18 in o9("script")?function(o0){o8.appendChild(o9("script")).onreadystatechange=function(){o8.removeChild(this),o19.call(o0)}}:function(o0){setTimeout(o6(o19,o0,1),0)}),o0.exports={set:o12,clear:o13}},7952:(o0,o1,o2)=>{var o3=o2(3803),o4=Math.max,o5=Math.min;o0.exports=function(o0,o1){return(o0=o3(o0))<0?o4(o0+o1,0):o5(o0,o1)}},3803:o0=>{var o1=Math.ceil,o2=Math.floor;o0.exports=function(o0){return isNaN(o0=+o0)?0:(o0>0?o2:o1)(o0)}},7380:(o0,o1,o2)=>{var o3=o2(3552),o4=o2(8572);o0.exports=function(o0){return o3(o4(o0))}},5096:(o0,o1,o2)=>{var o3=o2(3803),o4=Math.min;o0.exports=function(o0){return o0>0?o4(o3(o0),9007199254740991):0}},9056:(o0,o1,o2)=>{var o3=o2(8572);o0.exports=function(o0){return Object(o3(o0))}},2144:(o0,o1,o2)=>{var o3=o2(2856);o0.exports=function(o0,o1){if(!o3(o0))return o0;var o2,o4;if(o1&&"function"==typeof(o2=o0.toString)&&!o3(o4=o2.call(o0)))return o4;if("function"==typeof(o2=o0.valueOf)&&!o3(o4=o2.call(o0)))return o4;if(!o1&&"function"==typeof(o2=o0.toString)&&!o3(o4=o2.call(o0)))return o4;throw TypeError("Can't convert object to primitive value")}},476:o0=>{var o1=0,o2=Math.random();o0.exports=function(o0){return"Symbol(".concat(void 0===o0?"":o0,")_",(++o1+o2).toString(36))}},3864:(o0,o1,o2)=>{var o3=o2(1659).navigator;o0.exports=o3&&o3.userAgent||""},1869:(o0,o1,o2)=>{var o3=o2(2856);o0.exports=function(o0,o1){if(!o3(o0)||o0._t!==o1)throw TypeError("Incompatible receiver, "+o1+" required!");return o0}},3288:(o0,o1,o2)=>{var o3=o2(1659),o4=o2(2552),o5=o2(9916),o6=o2(2536),o7=o2(6208).f;o0.exports=function(o0){var o1=o4.Symbol||(o4.Symbol=o5?{}:o3.Symbol||{});"_"==o0.charAt(0)||o0 in o1||o7(o1,o0,{value:o6.f(o0)})}},2536:(o0,o1,o2)=>{o1.f=o2(3600)},3600:(o0,o1,o2)=>{var o3=o2(9432)("wks"),o4=o2(476),o5=o2(1659).Symbol,o6="function"==typeof o5;(o0.exports=function(o0){return o3[o0]||(o3[o0]=o6&&o5[o0]||(o6?o5:o4)("Symbol."+o0))}).store=o3},7712:(o0,o1,o2)=>{var o3=o2(2240),o4=o2(3600)("iterator"),o5=o2(6872);o0.exports=o2(2552).getIteratorMethod=function(o0){if(null!=o0)return o0[o4]||o0["@@iterator"]||o5[o3(o0)]}},9660:(o0,o1,o2)=>{var o3=o2(6765),o4=o2(7712);o0.exports=o2(2552).getIterator=function(o0){var o1=o4(o0);if("function"!=typeof o1)throw TypeError(o0+" is not iterable!");return o3(o1.call(o0))}},4632:(o0,o1,o2)=>{var o3=o2(2240),o4=o2(3600)("iterator"),o5=o2(6872);o0.exports=o2(2552).isIterable=function(o0){var o1=Object(o0);return void 0!==o1[o4]||"@@iterator"in o1||o5.hasOwnProperty(o3(o1))}},8052:(o0,o1,o2)=>{var o3=o2(2604),o4=o2(4232),o5=o2(9056),o6=o2(2200),o7=o2(7820),o8=o2(5096),o9=o2(1968),o10=o2(7712);o4(o4.S+o4.F*!o2(8200)((function(o0){Array.from(o0)})),"Array",{from:function(o0){var o1,o2,o4,o11,o12=o5(o0),o13="function"==typeof this?this:Array,o14=arguments.length,o15=o14>1?arguments[1]:void 0,o16=void 0!==o15,o17=0,o18=o10(o12);if(o16&&(o15=o3(o15,o14>2?arguments[2]:void 0,2)),null==o18||o13==Array&&o7(o18))for(o2=new o13(o1=o8(o12.length));o1>o17;o17++)o9(o2,o17,o16?o15(o12[o17],o17):o12[o17]);else for(o11=o18.call(o12),o2=new o13;!(o4=o11.next()).done;o17++)o9(o2,o17,o16?o6(o11,o15,[o4.value,o17],!0):o4.value);return o2.length=o17,o2}})},5584:(o0,o1,o2)=>{var o3=o2(1904),o4=o2(264),o5=o2(6872),o6=o2(7380);o0.exports=o2(5176)(Array,"Array",(function(o0,o1){this._t=o6(o0),this._i=0,this._k=o1}),(function(){var o0=this._t,o1=this._k,o2=this._i++;return!o0||o2>=o0.length?(this._t=void 0,o4(1)):o4(0,"keys"==o1?o2:"values"==o1?o0[o2]:[o2,o0[o2]])}),"values"),o5.Arguments=o5.Array,o3("keys"),o3("values"),o3("entries")},4988:(o0,o1,o2)=>{var o3=o2(5712),o4=o2(1869),o5="Map";o0.exports=o2(9932)(o5,(function(o0){return function(){return o0(this,arguments.length>0?arguments[0]:void 0)}}),{get:function(o0){var o1=o3.getEntry(o4(this,o5),o0);return o1&&o1.v},set:function(o0,o1){return o3.def(o4(this,o5),0===o0?0:o0,o1)}},o3,!0)},3656:(o0,o1,o2)=>{var o3=o2(4232);o3(o3.S,"Number",{isInteger:o2(6432)})},4512:(o0,o1,o2)=>{var o3=o2(4232);o3(o3.S+o3.F,"Object",{assign:o2(2052)})},6424:(o0,o1,o2)=>{var o3=o2(4232);o3(o3.S,"Object",{create:o2(5208)})},4072:(o0,o1,o2)=>{var o3=o2(4232);o3(o3.S+o3.F*!o2(5548),"Object",{defineProperties:o2(8992)})},9723:(o0,o1,o2)=>{var o3=o2(4232);o3(o3.S+o3.F*!o2(5548),"Object",{defineProperty:o2(6208).f})},3444:(o0,o1,o2)=>{var o3=o2(2856),o4=o2(8216).onFreeze;o2(5380)("freeze",(function(o0){return function(o1){return o0&&o3(o1)?o0(o4(o1)):o1}}))},1773:(o0,o1,o2)=>{o2(5380)("getOwnPropertyNames",(function(){return o2(7928).f}))},8668:(o0,o1,o2)=>{var o3=o2(9056),o4=o2(9120);o2(5380)("keys",(function(){return function(o0){return o4(o3(o0))}}))},2596:()=>{},4156:(o0,o1,o2)=>{var o3,o4,o5,o6,o7=o2(9916),o8=o2(1659),o9=o2(2604),o10=o2(2240),o11=o2(4232),o12=o2(2856),o13=o2(4220),o14=o2(9872),o15=o2(619),o16=o2(9216),o17=o2(9460).set,o18=o2(1332)(),o19=o2(268),o20=o2(3624),o21=o2(3864),o22=o2(5512),o23="Promise",o24=o8.TypeError,o25=o8.process,o26=o25&&o25.versions,o27=o26&&o26.v8||"",o28=o8.Promise,o29="process"==o10(o25),o30=function(){},o31=o4=o19.f,o32=!!function(){try{var o0=o28.resolve(1),o1=(o0.constructor={})[o2(3600)("species")]=function(o0){o0(o30,o30)};return(o29||"function"==typeof PromiseRejectionEvent)&&o0.then(o30)instanceof o1&&0!==o27.indexOf("6.6")&&-1===o21.indexOf("Chrome/66")}catch(o0){}}(),o33=function(o0){var o1;return!(!o12(o0)||"function"!=typeof(o1=o0.then))&&o1},o34=function(o0,o1){if(!o0._n){o0._n=!0;var o2=o0._c;o18((function(){for(var o3=o0._v,o4=1==o0._s,o5=0,o6=function(o1){var o2,o5,o6,o7=o4?o1.ok:o1.fail,o8=o1.resolve,o9=o1.reject,o10=o1.domain;try{o7?(o4||(2==o0._h&&o37(o0),o0._h=1),!0===o7?o2=o3:(o10&&o10.enter(),o2=o7(o3),o10&&(o10.exit(),o6=!0)),o2===o1.promise?o9(o24("Promise-chain cycle")):(o5=o33(o2))?o5.call(o2,o8,o9):o8(o2)):o9(o3)}catch(o0){o10&&!o6&&o10.exit(),o9(o0)}};o2.length>o5;)o6(o2[o5++]);o0._c=[],o0._n=!1,o1&&!o0._h&&o35(o0)}))}},o35=function(o0){o17.call(o8,(function(){var o1,o2,o3,o4=o0._v,o5=o36(o0);if(o5&&(o1=o20((function(){o29?o25.emit("unhandledRejection",o4,o0):(o2=o8.onunhandledrejection)?o2({promise:o0,reason:o4}):(o3=o8.console)&&o3.error&&o3.error("Unhandled promise rejection",o4)})),o0._h=o29||o36(o0)?2:1),o0._a=void 0,o5&&o1.e)throw o1.v}))},o36=function(o0){return 1!==o0._h&&0===(o0._a||o0._c).length},o37=function(o0){o17.call(o8,(function(){var o1;o29?o25.emit("rejectionHandled",o0):(o1=o8.onrejectionhandled)&&o1({promise:o0,reason:o0._v})}))},o38=function(o0){var o1=this;o1._d||(o1._d=!0,(o1=o1._w||o1)._v=o0,o1._s=2,o1._a||(o1._a=o1._c.slice()),o34(o1,!0))},o39=function(o0){var o1,o2=this;if(!o2._d){o2._d=!0,o2=o2._w||o2;try{if(o2===o0)throw o24("Promise can't be resolved itself");(o1=o33(o0))?o18((function(){var o3={_w:o2,_d:!1};try{o1.call(o0,o9(o39,o3,1),o9(o38,o3,1))}catch(o0){o38.call(o3,o0)}})):(o2._v=o0,o2._s=1,o34(o2,!1))}catch(o0){o38.call({_w:o2,_d:!1},o0)}}};o32||(o28=function(o0){o14(this,o28,o23,"_h"),o13(o0),o3.call(this);try{o0(o9(o39,this,1),o9(o38,this,1))}catch(o0){o38.call(this,o0)}},(o3=function(o0){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=o2(3464)(o28.prototype,{then:function(o0,o1){var o2=o31(o16(this,o28));return o2.ok="function"!=typeof o0||o0,o2.fail="function"==typeof o1&&o1,o2.domain=o29?o25.domain:void 0,this._c.push(o2),this._a&&this._a.push(o2),this._s&&o34(this,!1),o2.promise},catch:function(o0){return this.then(void 0,o0)}}),o5=function(){var o0=new o3;this.promise=o0,this.resolve=o9(o39,o0,1),this.reject=o9(o38,o0,1)},o19.f=o31=function(o0){return o0===o28||o0===o6?new o5(o0):o4(o0)}),o11(o11.G+o11.W+o11.F*!o32,{Promise:o28}),o2(7292)(o28,o23),o2(9360)(o23),o6=o2(2552).Promise,o11(o11.S+o11.F*!o32,o23,{reject:function(o0){var o1=o31(this);return(0,o1.reject)(o0),o1.promise}}),o11(o11.S+o11.F*(o7||!o32),o23,{resolve:function(o0){return o22(o7&&this===o6?o28:this,o0)}}),o11(o11.S+o11.F*!(o32&&o2(8200)((function(o0){o28.all(o0).catch(o30)}))),o23,{all:function(o0){var o1=this,o2=o31(o1),o3=o2.resolve,o4=o2.reject,o5=o20((function(){var o2=[],o5=0,o6=1;o15(o0,!1,(function(o0){var o7=o5++,o8=!1;o2.push(void 0),o6++,o1.resolve(o0).then((function(o0){o8||(o8=!0,o2[o7]=o0,--o6||o3(o2))}),o4)})),--o6||o3(o2)}));return o5.e&&o4(o5.v),o2.promise},race:function(o0){var o1=this,o2=o31(o1),o3=o2.reject,o4=o20((function(){o15(o0,!1,(function(o0){o1.resolve(o0).then(o2.resolve,o3)}))}));return o4.e&&o3(o4.v),o2.promise}})},2835:(o0,o1,o2)=>{var o3=o2(5712),o4=o2(1869);o0.exports=o2(9932)("Set",(function(o0){return function(){return o0(this,arguments.length>0?arguments[0]:void 0)}}),{add:function(o0){return o3.def(o4(this,"Set"),o0=0===o0?0:o0,o0)}},o3)},7468:(o0,o1,o2)=>{var o3=o2(5852)(!0);o2(5176)(String,"String",(function(o0){this._t=String(o0),this._i=0}),(function(){var o0,o1=this._t,o2=this._i;return o2>=o1.length?{value:void 0,done:!0}:(o0=o3(o1,o2),this._i+=o0.length,{value:o0,done:!1})}))},456:(o0,o1,o2)=>{var o3=o2(1659),o4=o2(9184),o5=o2(5548),o6=o2(4232),o7=o2(8636),o8=o2(8216).KEY,o9=o2(1816),o10=o2(9432),o11=o2(7292),o12=o2(476),o13=o2(3600),o14=o2(2536),o15=o2(3288),o16=o2(9488),o17=o2(1936),o18=o2(6765),o19=o2(2856),o20=o2(9056),o21=o2(7380),o22=o2(2144),o23=o2(4888),o24=o2(5208),o25=o2(7928),o26=o2(4768),o27=o2(8896),o28=o2(6208),o29=o2(9120),o30=o26.f,o31=o28.f,o32=o25.f,o33=o3.Symbol,o34=o3.JSON,o35=o34&&o34.stringify,o36=o13("_hidden"),o37=o13("toPrimitive"),o38={}.propertyIsEnumerable,o39=o10("symbol-registry"),o40=o10("symbols"),o41=o10("op-symbols"),o42=Object.prototype,o43="function"==typeof o33&&!!o27.f,o44=o3.QObject,o45=!o44||!o44.prototype||!o44.prototype.findChild,o46=o5&&o9((function(){return 7!=o24(o31({},"a",{get:function(){return o31(this,"a",{value:7}).a}})).a}))?function(o0,o1,o2){var o3=o30(o42,o1);o3&&delete o42[o1],o31(o0,o1,o2),o3&&o0!==o42&&o31(o42,o1,o3)}:o31,o47=function(o0){var o1=o40[o0]=o24(o33.prototype);return o1._k=o0,o1},o48=o43&&"symbol"==typeof o33.iterator?function(o0){return"symbol"==typeof o0}:function(o0){return o0 instanceof o33},o49=function(o0,o1,o2){return o0===o42&&o49(o41,o1,o2),o18(o0),o1=o22(o1,!0),o18(o2),o4(o40,o1)?(o2.enumerable?(o4(o0,o36)&&o0[o36][o1]&&(o0[o36][o1]=!1),o2=o24(o2,{enumerable:o23(0,!1)})):(o4(o0,o36)||o31(o0,o36,o23(1,{})),o0[o36][o1]=!0),o46(o0,o1,o2)):o31(o0,o1,o2)},o50=function(o0,o1){o18(o0);for(var o2,o3=o16(o1=o21(o1)),o4=0,o5=o3.length;o5>o4;)o49(o0,o2=o3[o4++],o1[o2]);return o0},o51=function(o0){var o1=o38.call(this,o0=o22(o0,!0));return!(this===o42&&o4(o40,o0)&&!o4(o41,o0))&&(!(o1||!o4(this,o0)||!o4(o40,o0)||o4(this,o36)&&this[o36][o0])||o1)},o52=function(o0,o1){if(o0=o21(o0),o1=o22(o1,!0),o0!==o42||!o4(o40,o1)||o4(o41,o1)){var o2=o30(o0,o1);return!o2||!o4(o40,o1)||o4(o0,o36)&&o0[o36][o1]||(o2.enumerable=!0),o2}},o53=function(o0){for(var o1,o2=o32(o21(o0)),o3=[],o5=0;o2.length>o5;)o4(o40,o1=o2[o5++])||o1==o36||o1==o8||o3.push(o1);return o3},o54=function(o0){for(var o1,o2=o0===o42,o3=o32(o2?o41:o21(o0)),o5=[],o6=0;o3.length>o6;)!o4(o40,o1=o3[o6++])||o2&&!o4(o42,o1)||o5.push(o40[o1]);return o5};o43||(o7((o33=function(){if(this instanceof o33)throw TypeError("Symbol is not a constructor!");var o0=o12(arguments.length>0?arguments[0]:void 0),o1=function(o2){this===o42&&o1.call(o41,o2),o4(this,o36)&&o4(this[o36],o0)&&(this[o36][o0]=!1),o46(this,o0,o23(1,o2))};return o5&&o45&&o46(o42,o0,{configurable:!0,set:o1}),o47(o0)}).prototype,"toString",(function(){return this._k})),o26.f=o52,o28.f=o49,o2(5776).f=o25.f=o53,o2(7412).f=o51,o27.f=o54,o5&&!o2(9916)&&o7(o42,"propertyIsEnumerable",o51,!0),o14.f=function(o0){return o47(o13(o0))}),o6(o6.G+o6.W+o6.F*!o43,{Symbol:o33});for(var o55="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),o56=0;o55.length>o56;)o13(o55[o56++]);for(var o57=o29(o13.store),o58=0;o57.length>o58;)o15(o57[o58++]);o6(o6.S+o6.F*!o43,"Symbol",{for:function(o0){return o4(o39,o0+="")?o39[o0]:o39[o0]=o33(o0)},keyFor:function(o0){if(!o48(o0))throw TypeError(o0+" is not a symbol!");for(var o1 in o39)if(o39[o1]===o0)return o1},useSetter:function(){o45=!0},useSimple:function(){o45=!1}}),o6(o6.S+o6.F*!o43,"Object",{create:function(o0,o1){return void 0===o1?o24(o0):o50(o24(o0),o1)},defineProperty:o49,defineProperties:o50,getOwnPropertyDescriptor:o52,getOwnPropertyNames:o53,getOwnPropertySymbols:o54});var o59=o9((function(){o27.f(1)}));o6(o6.S+o6.F*o59,"Object",{getOwnPropertySymbols:function(o0){return o27.f(o20(o0))}}),o34&&o6(o6.S+o6.F*(!o43||o9((function(){var o0=o33();return"[null]"!=o35([o0])||"{}"!=o35({a:o0})||"{}"!=o35(Object(o0))}))),"JSON",{stringify:function(o0){for(var o1,o2,o3=[o0],o4=1;arguments.length>o4;)o3.push(arguments[o4++]);if(o2=o1=o3[1],(o19(o1)||void 0!==o0)&&!o48(o0))return o17(o1)||(o1=function(o0,o1){if("function"==typeof o2&&(o1=o2.call(this,o0,o1)),!o48(o1))return o1}),o3[1]=o1,o35.apply(o34,o3)}}),o33.prototype[o37]||o2(8144)(o33.prototype,o37,o33.prototype.valueOf),o11(o33,"Symbol"),o11(Math,"Math",!0),o11(o3.JSON,"JSON",!0)},2556:(o0,o1,o2)=>{o2(1344)("Map")},7124:(o0,o1,o2)=>{o2(8496)("Map")},9164:(o0,o1,o2)=>{var o3=o2(4232);o3(o3.P+o3.R,"Map",{toJSON:o2(8368)("Map")})},2792:(o0,o1,o2)=>{var o3=o2(4232),o4=o2(2552),o5=o2(1659),o6=o2(9216),o7=o2(5512);o3(o3.P+o3.R,"Promise",{finally:function(o0){var o1=o6(this,o4.Promise||o5.Promise),o2="function"==typeof o0;return this.then(o2?function(o2){return o7(o1,o0()).then((function(){return o2}))}:o0,o2?function(o2){return o7(o1,o0()).then((function(){throw o2}))}:o0)}})},1588:(o0,o1,o2)=>{var o3=o2(4232),o4=o2(268),o5=o2(3624);o3(o3.S,"Promise",{try:function(o0){var o1=o4.f(this),o2=o5(o0);return(o2.e?o1.reject:o1.resolve)(o2.v),o1.promise}})},2368:(o0,o1,o2)=>{o2(1344)("Set")},7580:(o0,o1,o2)=>{o2(8496)("Set")},1412:(o0,o1,o2)=>{var o3=o2(4232);o3(o3.P+o3.R,"Set",{toJSON:o2(8368)("Set")})},2252:(o0,o1,o2)=>{o2(3288)("asyncIterator")},120:(o0,o1,o2)=>{o2(3288)("observable")},2192:(o0,o1,o2)=>{o2(5584);for(var o3=o2(1659),o4=o2(8144),o5=o2(6872),o6=o2(3600)("toStringTag"),o7="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),o8=0;o8<o7.length;o8++){var o9=o7[o8],o10=o3[o9],o11=o10&&o10.prototype;o11&&!o11[o6]&&o4(o11,o6,o9),o5[o9]=o5.Array}},3672:(o0,o1,o2)=>{var o3=o2(3296).Buffer;function o4(o0){return Object.prototype.toString.call(o0)}o1.isArray=function(o0){return Array.isArray?Array.isArray(o0):"[object Array]"===o4(o0)},o1.isBoolean=function(o0){return"boolean"==typeof o0},o1.isNull=function(o0){return null===o0},o1.isNullOrUndefined=function(o0){return null==o0},o1.isNumber=function(o0){return"number"==typeof o0},o1.isString=function(o0){return"string"==typeof o0},o1.isSymbol=function(o0){return"symbol"==typeof o0},o1.isUndefined=function(o0){return void 0===o0},o1.isRegExp=function(o0){return"[object RegExp]"===o4(o0)},o1.isObject=function(o0){return"object"==typeof o0&&null!==o0},o1.isDate=function(o0){return"[object Date]"===o4(o0)},o1.isError=function(o0){return"[object Error]"===o4(o0)||o0 instanceof Error},o1.isFunction=function(o0){return"function"==typeof o0},o1.isPrimitive=function(o0){return null===o0||"boolean"==typeof o0||"number"==typeof o0||"string"==typeof o0||"symbol"==typeof o0||void 0===o0},o1.isBuffer=o3.isBuffer},6057:(o0,o1,o2)=>{var o3,o4=o2(9268),o5=o2(9372),o6=o2(1848),o7=o2(3711),o8=o2(6336),o9=o2(5892),o10=Function.prototype.bind,o11=Object.defineProperty,o12=Object.prototype.hasOwnProperty;o3=function(o0,o1,o2){var o3,o4=o5(o1)&&o6(o1.value);return delete(o3=o7(o1)).writable,delete o3.value,o3.get=function(){return!o2.overwriteDefinition&&o12.call(this,o0)?o4:(o1.value=o10.call(o4,o2.resolveContext?o2.resolveContext(this):this),o11(this,o0,o1),this[o0])},o3},o0.exports=function(o0){var o1=o8(arguments[1]);return o4(o1.resolveContext)&&o6(o1.resolveContext),o9(o0,(function(o0,o2){return o3(o2,o0,o1)}))}},248:(o0,o1,o2)=>{var o3=o2(9268),o4=o2(5716),o5=o2(9528),o6=o2(6336),o7=o2(4408);(o0.exports=function(o0,o1){var o2,o4,o8,o9,o10;return arguments.length<2||"string"!=typeof o0?(o9=o1,o1=o0,o0=null):o9=arguments[2],o3(o0)?(o2=o7.call(o0,"c"),o4=o7.call(o0,"e"),o8=o7.call(o0,"w")):(o2=o8=!0,o4=!1),o10={value:o1,configurable:o2,enumerable:o4,writable:o8},o9?o5(o6(o9),o10):o10}).gs=function(o0,o1,o2){var o8,o9,o10,o11;return"string"!=typeof o0?(o10=o2,o2=o1,o1=o0,o0=null):o10=arguments[3],o3(o1)?o4(o1)?o3(o2)?o4(o2)||(o10=o2,o2=void 0):o2=void 0:(o10=o1,o1=o2=void 0):o1=void 0,o3(o0)?(o8=o7.call(o0,"c"),o9=o7.call(o0,"e")):(o8=!0,o9=!1),o11={get:o1,set:o2,configurable:o8,enumerable:o9},o10?o5(o6(o10),o11):o11}},7491:(o0,o1,o2)=>{var o3=o2(3296).Buffer,o4=o2(6512),o5=o2(9496),o6=o2(9988),o7=o2(8248),o8=o2(5940),o9=o3.from&&o3.from!==Uint8Array.from?o3.from([0]):new o3([0]),o10=function(o0,o1){o0._corked?o0.once("uncork",o1):o1()},o11=function(o0,o1){return function(o2){o2?function(o0,o1){o0._autoDestroy&&o0.destroy(o1)}(o0,"premature close"===o2.message?null:o2):o1&&!o0._ended&&o0.end()}},o12=function(o0,o1,o2){if(!(this instanceof o12))return new o12(o0,o1,o2);o5.Duplex.call(this,o2),this._writable=null,this._readable=null,this._readable2=null,this._autoDestroy=!o2||!1!==o2.autoDestroy,this._forwardDestroy=!o2||!1!==o2.destroy,this._forwardEnd=!o2||!1!==o2.end,this._corked=1,this._ondrain=null,this._drained=!1,this._forwarding=!1,this._unwrite=null,this._unread=null,this._ended=!1,this.destroyed=!1,o0&&this.setWritable(o0),o1&&this.setReadable(o1)};o7(o12,o5.Duplex),o12.obj=function(o0,o1,o2){return o2||(o2={}),o2.objectMode=!0,o2.highWaterMark=16,new o12(o0,o1,o2)},o12.prototype.cork=function(){1==++this._corked&&this.emit("cork")},o12.prototype.uncork=function(){this._corked&&0==--this._corked&&this.emit("uncork")},o12.prototype.setWritable=function(o0){if(this._unwrite&&this._unwrite(),this.destroyed)o0&&o0.destroy&&o0.destroy();else if(null!==o0&&!1!==o0){var o1=this,o2=o6(o0,{writable:!0,readable:!1},o11(this,this._forwardEnd)),o3=function(){var o0=o1._ondrain;o1._ondrain=null,o0&&o0()};this._unwrite&&o4.nextTick(o3),this._writable=o0,this._writable.on("drain",o3),this._unwrite=function(){o1._writable.removeListener("drain",o3),o2()},this.uncork()}else this.end()},o12.prototype.setReadable=function(o0){if(this._unread&&this._unread(),this.destroyed)o0&&o0.destroy&&o0.destroy();else{if(null===o0||!1===o0)return this.push(null),void this.resume();var o1,o2=this,o3=o6(o0,{writable:!1,readable:!0},o11(this)),o4=function(){o2._forward()},o7=function(){o2.push(null)};this._drained=!0,this._readable=o0,this._readable2=o0._readableState?o0:(o1=o0,new o5.Readable({objectMode:!0,highWaterMark:16}).wrap(o1)),this._readable2.on("readable",o4),this._readable2.on("end",o7),this._unread=function(){o2._readable2.removeListener("readable",o4),o2._readable2.removeListener("end",o7),o3()},this._forward()}},o12.prototype._read=function(){this._drained=!0,this._forward()},o12.prototype._forward=function(){if(!this._forwarding&&this._readable2&&this._drained){var o0;for(this._forwarding=!0;this._drained&&null!==(o0=o8(this._readable2));)this.destroyed||(this._drained=this.push(o0));this._forwarding=!1}},o12.prototype.destroy=function(o0){if(!this.destroyed){this.destroyed=!0;var o1=this;o4.nextTick((function(){o1._destroy(o0)}))}},o12.prototype._destroy=function(o0){if(o0){var o1=this._ondrain;this._ondrain=null,o1?o1(o0):this.emit("error",o0)}this._forwardDestroy&&(this._readable&&this._readable.destroy&&this._readable.destroy(),this._writable&&this._writable.destroy&&this._writable.destroy()),this.emit("close")},o12.prototype._write=function(o0,o1,o2){return this.destroyed?o2():this._corked?o10(this,this._write.bind(this,o0,o1,o2)):o0===o9?this._finish(o2):this._writable?void(!1===this._writable.write(o0)?this._ondrain=o2:o2()):o2()},o12.prototype._finish=function(o0){var o1=this;this.emit("preend"),o10(this,(function(){var o2,o3;o2=o1._forwardEnd&&o1._writable,o3=function(){!1===o1._writableState.prefinished&&(o1._writableState.prefinished=!0),o1.emit("prefinish"),o10(o1,o0)},o2?o2._writableState&&o2._writableState.finished?o3():o2._writableState?o2.end(o3):(o2.end(),o3()):o3()}))},o12.prototype.end=function(o0,o1,o2){return"function"==typeof o0?this.end(null,null,o0):"function"==typeof o1?this.end(o0,null,o1):(this._ended=!0,o0&&this.write(o0),this._writableState.ending||this.write(o9),o5.Writable.prototype.end.call(this,o2))},o0.exports=o12},9988:(o0,o1,o2)=>{var o3=o2(6512),o4=o2(4640),o5=function(){},o6=function(o0,o1,o2){if("function"==typeof o1)return o6(o0,null,o1);o1||(o1={}),o2=o4(o2||o5);var o7=o0._writableState,o8=o0._readableState,o9=o1.readable||!1!==o1.readable&&o0.readable,o10=o1.writable||!1!==o1.writable&&o0.writable,o11=!1,o12=function(){o0.writable||o13()},o13=function(){o10=!1,o9||o2.call(o0)},o14=function(){o9=!1,o10||o2.call(o0)},o15=function(o1){o2.call(o0,o1?new Error("exited with error code: "+o1):null)},o16=function(o1){o2.call(o0,o1)},o17=function(){o3.nextTick(o18)},o18=function(){if(!o11)return(!o9||o8&&o8.ended&&!o8.destroyed)&&(!o10||o7&&o7.ended&&!o7.destroyed)?void 0:o2.call(o0,new Error("premature close"))},o19=function(){o0.req.on("finish",o13)};return!function(o0){return o0.setHeader&&"function"==typeof o0.abort}(o0)?o10&&!o7&&(o0.on("end",o12),o0.on("close",o12)):(o0.on("complete",o13),o0.on("abort",o17),o0.req?o19():o0.on("request",o19)),function(o0){return o0.stdio&&Array.isArray(o0.stdio)&&3===o0.stdio.length}(o0)&&o0.on("exit",o15),o0.on("end",o14),o0.on("finish",o13),!1!==o1.error&&o0.on("error",o16),o0.on("close",o17),function(){o11=!0,o0.removeListener("complete",o13),o0.removeListener("abort",o17),o0.removeListener("request",o19),o0.req&&o0.req.removeListener("finish",o13),o0.removeListener("end",o12),o0.removeListener("close",o12),o0.removeListener("finish",o13),o0.removeListener("exit",o15),o0.removeListener("end",o14),o0.removeListener("error",o16),o0.removeListener("close",o17)}};o0.exports=o6},5e3:(o0,o1,o2)=>{var o3=o2(2908);o0.exports=function(){return o3(this).length=0,this}},1324:(o0,o1,o2)=>{var o3=o2(3728),o4=o2(6627),o5=o2(2908),o6=Array.prototype.indexOf,o7=Object.prototype.hasOwnProperty,o8=Math.abs,o9=Math.floor;o0.exports=function(o0){var o1,o2,o10,o11;if(!o3(o0))return o6.apply(this,arguments);for(o2=o4(o5(this).length),o10=arguments[1],o1=o10=isNaN(o10)?0:o10>=0?o9(o10):o4(this.length)-o9(o8(o10));o1<o2;++o1)if(o7.call(this,o1)&&(o11=this[o1],o3(o11)))return o1;return-1}},5052:(o0,o1,o2)=>{o0.exports=o2(5020)()?Array.from:o2(8068)},5020:o0=>{o0.exports=function(){var o0,o1,o2=Array.from;return"function"==typeof o2&&(o1=o2(o0=["raz","dwa"]),Boolean(o1&&o1!==o0&&"dwa"===o1[1]))}},8068:(o0,o1,o2)=>{var o3=o2(896).iterator,o4=o2(1960),o5=o2(7272),o6=o2(6627),o7=o2(7656),o8=o2(2908),o9=o2(9676),o10=o2(9508),o11=Array.isArray,o12=Function.prototype.call,o13={configurable:!0,enumerable:!0,writable:!0,value:null},o14=Object.defineProperty;o0.exports=function(o0){var o1,o2,o15,o16,o17,o18,o19,o20,o21,o22,o23=arguments[1],o24=arguments[2];if(o0=Object(o8(o0)),o9(o23)&&o7(o23),this&&this!==Array&&o5(this))o1=this;else{if(!o23){if(o4(o0))return 1!==(o17=o0.length)?Array.apply(null,o0):((o16=new Array(1))[0]=o0[0],o16);if(o11(o0)){for(o16=new Array(o17=o0.length),o2=0;o2<o17;++o2)o16[o2]=o0[o2];return o16}}o16=[]}if(!o11(o0))if(void 0!==(o21=o0[o3])){for(o19=o7(o21).call(o0),o1&&(o16=new o1),o20=o19.next(),o2=0;!o20.done;)o22=o23?o12.call(o23,o24,o20.value,o2):o20.value,o1?(o13.value=o22,o14(o16,o2,o13)):o16[o2]=o22,o20=o19.next(),++o2;o17=o2}else if(o10(o0)){for(o17=o0.length,o1&&(o16=new o1),o2=0,o15=0;o2<o17;++o2)o22=o0[o2],o2+1<o17&&(o18=o22.charCodeAt(0))>=55296&&o18<=56319&&(o22+=o0[++o2]),o22=o23?o12.call(o23,o24,o22,o15):o22,o1?(o13.value=o22,o14(o16,o15,o13)):o16[o15]=o22,++o15;o17=o15}if(void 0===o17)for(o17=o6(o0.length),o1&&(o16=new o1(o17)),o2=0;o2<o17;++o2)o22=o23?o12.call(o23,o24,o0[o2],o2):o0[o2],o1?(o13.value=o22,o14(o16,o2,o13)):o16[o2]=o22;return o1&&(o13.value=null,o16.length=o17),o16}},1960:o0=>{var o1=Object.prototype.toString,o2=o1.call(function(){return arguments}());o0.exports=function(o0){return o1.call(o0)===o2}},7272:o0=>{var o1=Object.prototype.toString,o2=RegExp.prototype.test.bind(/^[object [A-Za-z0-9]*Function]$/);o0.exports=function(o0){return"function"==typeof o0&&o2(o1.call(o0))}},9108:o0=>{o0.exports=function(){}},3292:o0=>{o0.exports=function(){if(this)return this;Object.defineProperty(Object.prototype,"__global__",{get:function(){return this},configurable:!0});try{return __global__}finally{delete Object.prototype.__global__}}()},6296:(o0,o1,o2)=>{o0.exports=o2(320)()?Math.sign:o2(5792)},320:o0=>{o0.exports=function(){var o0=Math.sign;return"function"==typeof o0&&(1===o0(10)&&-1===o0(-20))}},5792:o0=>{o0.exports=function(o0){return o0=Number(o0),isNaN(o0)||0===o0?o0:o0>0?1:-1}},3728:(o0,o1,o2)=>{o0.exports=o2(8875)()?Number.isNaN:o2(4136)},8875:o0=>{o0.exports=function(){var o0=Number.isNaN;return"function"==typeof o0&&(!o0({})&&o0(NaN)&&!o0(34))}},4136:o0=>{o0.exports=function(o0){return o0!=o0}},4176:(o0,o1,o2)=>{var o3=o2(6296),o4=Math.abs,o5=Math.floor;o0.exports=function(o0){return isNaN(o0)?0:0!==(o0=Number(o0))&&isFinite(o0)?o3(o0)*o5(o4(o0)):o0}},6627:(o0,o1,o2)=>{var o3=o2(4176),o4=Math.max;o0.exports=function(o0){return o4(0,o3(o0))}},2828:(o0,o1,o2)=>{var o3=o2(7656),o4=o2(2908),o5=Function.prototype.bind,o6=Function.prototype.call,o7=Object.keys,o8=Object.prototype.propertyIsEnumerable;o0.exports=function(o0,o1){return function(o2,o9){var o10,o11=arguments[2],o12=arguments[3];return o2=Object(o4(o2)),o3(o9),o10=o7(o2),o12&&o10.sort("function"==typeof o12?o5.call(o12,o2):void 0),"function"!=typeof o0&&(o0=o10[o0]),o6.call(o0,o10,(function(o0,o3){return o8.call(o2,o0)?o6.call(o9,o11,o2[o0],o0,o2,o3):o1}))}}},9528:(o0,o1,o2)=>{o0.exports=o2(2956)()?Object.assign:o2(1252)},2956:o0=>{o0.exports=function(){var o0,o1=Object.assign;return"function"==typeof o1&&(o1(o0={foo:"raz"},{bar:"dwa"},{trzy:"trzy"}),o0.foo+o0.bar+o0.trzy==="razdwatrzy")}},1252:(o0,o1,o2)=>{var o3=o2(3280),o4=o2(2908),o5=Math.max;o0.exports=function(o0,o1){var o2,o6,o7,o8=o5(arguments.length,2);for(o0=Object(o4(o0)),o7=function(o3){try{o0[o3]=o1[o3]}catch(o0){o2||(o2=o0)}},o6=1;o6<o8;++o6)o3(o1=arguments[o6]).forEach(o7);if(void 0!==o2)throw o2;return o0}},3711:(o0,o1,o2)=>{var o3=o2(5052),o4=o2(9528),o5=o2(2908);o0.exports=function(o0){var o1=Object(o5(o0)),o2=arguments[1],o6=Object(arguments[2]);if(o1!==o0&&!o2)return o1;var o7={};return o2?o3(o2,(function(o1){(o6.ensure||o1 in o0)&&(o7[o1]=o0[o1])})):o4(o7,o0),o7}},8776:(o0,o1,o2)=>{var o3,o4,o5,o6,o7=Object.create;o2(821)()||(o3=o2(3808)),o0.exports=o3?1!==o3.level?o7:(o4={},o5={},o6={configurable:!1,enumerable:!1,writable:!0,value:void 0},Object.getOwnPropertyNames(Object.prototype).forEach((function(o0){o5[o0]="__proto__"!==o0?o6:{configurable:!0,enumerable:!1,writable:!0,value:void 0}})),Object.defineProperties(o4,o5),Object.defineProperty(o3,"nullPolyfill",{configurable:!1,enumerable:!1,writable:!1,value:o4}),function(o0,o1){return o7(null===o0?o4:o0,o1)}):o7},7608:(o0,o1,o2)=>{o0.exports=o2(2828)("forEach")},3381:(o0,o1,o2)=>{var o3=o2(9676),o4={function:!0,object:!0};o0.exports=function(o0){return o3(o0)&&o4[typeof o0]||!1}},9676:(o0,o1,o2)=>{var o3=o2(9108)();o0.exports=function(o0){return o0!==o3&&null!==o0}},3280:(o0,o1,o2)=>{o0.exports=o2(2796)()?Object.keys:o2(3440)},2796:o0=>{o0.exports=function(){try{return Object.keys("primitive"),!0}catch(o0){return!1}}},3440:(o0,o1,o2)=>{var o3=o2(9676),o4=Object.keys;o0.exports=function(o0){return o4(o3(o0)?Object(o0):o0)}},5892:(o0,o1,o2)=>{var o3=o2(7656),o4=o2(7608),o5=Function.prototype.call;o0.exports=function(o0,o1){var o2={},o6=arguments[2];return o3(o1),o4(o0,(function(o0,o3,o4,o7){o2[o3]=o5.call(o1,o6,o0,o3,o4,o7)})),o2}},6336:(o0,o1,o2)=>{var o3=o2(9676),o4=Array.prototype.forEach,o5=Object.create,o6=function(o0,o1){var o2;for(o2 in o0)o1[o2]=o0[o2]};o0.exports=function(o0){var o1=o5(null);return o4.call(arguments,(function(o0){o3(o0)&&o6(Object(o0),o1)})),o1}},3040:o0=>{var o1=Array.prototype.forEach,o2=Object.create;o0.exports=function(o0){var o3=o2(null);return o1.call(arguments,(function(o0){o3[o0]=!0})),o3}},9876:(o0,o1,o2)=>{o0.exports=o2(821)()?Object.setPrototypeOf:o2(3808)},821:o0=>{var o1=Object.create,o2=Object.getPrototypeOf,o3={};o0.exports=function(){var o0=Object.setPrototypeOf,o4=arguments[0]||o1;return"function"==typeof o0&&o2(o0(o4(null),o3))===o3}},3808:(o0,o1,o2)=>{var o3,o4,o5,o6,o7=o2(3381),o8=o2(2908),o9=Object.prototype.isPrototypeOf,o10=Object.defineProperty,o11={configurable:!0,enumerable:!1,writable:!0,value:void 0};o3=function(o0,o1){if(o8(o0),null===o1||o7(o1))return o0;throw new TypeError("Prototype must be null or an object")},o0.exports=(o4=function(){var o0,o1=Object.create(null),o2={},o3=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__");if(o3){try{(o0=o3.set).call(o1,o2)}catch(o0){}if(Object.getPrototypeOf(o1)===o2)return{set:o0,level:2}}return o1.__proto__=o2,Object.getPrototypeOf(o1)===o2?{level:2}:((o1={}).__proto__=o2,Object.getPrototypeOf(o1)===o2&&{level:1})}(),o4?(2===o4.level?o4.set?(o6=o4.set,o5=function(o0,o1){return o6.call(o3(o0,o1),o1),o0}):o5=function(o0,o1){return o3(o0,o1).__proto__=o1,o0}:o5=function o0(o1,o2){var o4;return o3(o1,o2),(o4=o9.call(o0.nullPolyfill,o1))&&delete o0.nullPolyfill.__proto__,null===o2&&(o2=o0.nullPolyfill),o1.__proto__=o2,o4&&o10(o0.nullPolyfill,"__proto__",o11),o1},Object.defineProperty(o5,"level",{configurable:!1,enumerable:!1,writable:!1,value:o4.level})):null),o2(8776)},7656:o0=>{o0.exports=function(o0){if("function"!=typeof o0)throw new TypeError(o0+" is not a function");return o0}},2908:(o0,o1,o2)=>{var o3=o2(9676);o0.exports=function(o0){if(!o3(o0))throw new TypeError("Cannot use null or undefined");return o0}},4408:(o0,o1,o2)=>{o0.exports=o2(8692)()?String.prototype.contains:o2(5760)},8692:o0=>{var o1="razdwatrzy";o0.exports=function(){return"function"==typeof o1.contains&&(!0===o1.contains("dwa")&&!1===o1.contains("foo"))}},5760:o0=>{var o1=String.prototype.indexOf;o0.exports=function(o0){return o1.call(this,o0,arguments[1])>-1}},9508:o0=>{var o1=Object.prototype.toString,o2=o1.call("");o0.exports=function(o0){return"string"==typeof o0||o0&&"object"==typeof o0&&(o0 instanceof String||o1.call(o0)===o2)||!1}},1444:(o0,o1,o2)=>{var o3,o4=o2(9876),o5=o2(4408),o6=o2(248),o7=o2(896),o8=o2(6588),o9=Object.defineProperty;o3=o0.exports=function(o0,o1){if(!(this instanceof o3))throw new TypeError("Constructor requires 'new'");o8.call(this,o0),o1=o1?o5.call(o1,"key+value")?"key+value":o5.call(o1,"key")?"key":"value":"value",o9(this,"__kind__",o6("",o1))},o4&&o4(o3,o8),delete o3.prototype.constructor,o3.prototype=Object.create(o8.prototype,{_resolve:o6((function(o0){return"value"===this.__kind__?this.__list__[o0]:"key+value"===this.__kind__?[o0,this.__list__[o0]]:o0}))}),o9(o3.prototype,o7.toStringTag,o6("c","Array Iterator"))},5432:(o0,o1,o2)=>{var o3=o2(1960),o4=o2(7656),o5=o2(9508),o6=o2(6352),o7=Array.isArray,o8=Function.prototype.call,o9=Array.prototype.some;o0.exports=function(o0,o1){var o2,o10,o11,o12,o13,o14,o15,o16,o17=arguments[2];if(o7(o0)||o3(o0)?o2="array":o5(o0)?o2="string":o0=o6(o0),o4(o1),o11=function(){o12=!0},"array"!==o2)if("string"!==o2)for(o10=o0.next();!o10.done;){if(o8.call(o1,o17,o10.value,o11),o12)return;o10=o0.next()}else for(o14=o0.length,o13=0;o13<o14&&(o15=o0[o13],o13+1<o14&&(o16=o15.charCodeAt(0))>=55296&&o16<=56319&&(o15+=o0[++o13]),o8.call(o1,o17,o15,o11),!o12);++o13);else o9.call(o0,(function(o0){return o8.call(o1,o17,o0,o11),o12}))}},6352:(o0,o1,o2)=>{var o3=o2(1960),o4=o2(9508),o5=o2(1444),o6=o2(7960),o7=o2(3007),o8=o2(896).iterator;o0.exports=function(o0){return"function"==typeof o7(o0)[o8]?o0[o8]():o3(o0)?new o5(o0):o4(o0)?new o6(o0):new o5(o0)}},6588:(o0,o1,o2)=>{var o3,o4=o2(5e3),o5=o2(9528),o6=o2(7656),o7=o2(2908),o8=o2(248),o9=o2(6057),o10=o2(896),o11=Object.defineProperty,o12=Object.defineProperties;o0.exports=o3=function(o0,o1){if(!(this instanceof o3))throw new TypeError("Constructor requires 'new'");o12(this,{__list__:o8("w",o7(o0)),__context__:o8("w",o1),__nextIndex__:o8("w",0)}),o1&&(o6(o1.on),o1.on("_add",this._onAdd),o1.on("_delete",this._onDelete),o1.on("_clear",this._onClear))},delete o3.prototype.constructor,o12(o3.prototype,o5({_next:o8((function(){var o0;if(this.__list__)return this.__redo__&&void 0!==(o0=this.__redo__.shift())?o0:this.__nextIndex__<this.__list__.length?this.__nextIndex__++:void this._unBind()})),next:o8((function(){return this._createResult(this._next())})),_createResult:o8((function(o0){return void 0===o0?{done:!0,value:void 0}:{done:!1,value:this._resolve(o0)}})),_resolve:o8((function(o0){return this.__list__[o0]})),_unBind:o8((function(){this.__list__=null,delete this.__redo__,this.__context__&&(this.__context__.off("_add",this._onAdd),this.__context__.off("_delete",this._onDelete),this.__context__.off("_clear",this._onClear),this.__context__=null)})),toString:o8((function(){return"[object "+(this[o10.toStringTag]||"Object")+"]"}))},o9({_onAdd:o8((function(o0){o0>=this.__nextIndex__||(++this.__nextIndex__,this.__redo__?(this.__redo__.forEach((function(o1,o2){o1>=o0&&(this.__redo__[o2]=++o1)}),this),this.__redo__.push(o0)):o11(this,"__redo__",o8("c",[o0])))})),_onDelete:o8((function(o0){var o1;o0>=this.__nextIndex__||(--this.__nextIndex__,this.__redo__&&(-1!==(o1=this.__redo__.indexOf(o0))&&this.__redo__.splice(o1,1),this.__redo__.forEach((function(o1,o2){o1>o0&&(this.__redo__[o2]=--o1)}),this)))})),_onClear:o8((function(){this.__redo__&&o4.call(this.__redo__),this.__nextIndex__=0}))}))),o11(o3.prototype,o10.iterator,o8((function(){return this})))},5600:(o0,o1,o2)=>{var o3=o2(1960),o4=o2(9676),o5=o2(9508),o6=o2(896).iterator,o7=Array.isArray;o0.exports=function(o0){return!!o4(o0)&&(!!o7(o0)||(!!o5(o0)||(!!o3(o0)||"function"==typeof o0[o6])))}},7960:(o0,o1,o2)=>{var o3,o4=o2(9876),o5=o2(248),o6=o2(896),o7=o2(6588),o8=Object.defineProperty;o3=o0.exports=function(o0){if(!(this instanceof o3))throw new TypeError("Constructor requires 'new'");o0=String(o0),o7.call(this,o0),o8(this,"__length__",o5("",o0.length))},o4&&o4(o3,o7),delete o3.prototype.constructor,o3.prototype=Object.create(o7.prototype,{_next:o5((function(){if(this.__list__)return this.__nextIndex__<this.__length__?this.__nextIndex__++:void this._unBind()})),_resolve:o5((function(o0){var o1,o2=this.__list__[o0];return this.__nextIndex__===this.__length__?o2:(o1=o2.charCodeAt(0))>=55296&&o1<=56319?o2+this.__list__[this.__nextIndex__++]:o2}))}),o8(o3.prototype,o6.toStringTag,o5("c","String Iterator"))},3007:(o0,o1,o2)=>{var o3=o2(5600);o0.exports=function(o0){if(!o3(o0))throw new TypeError(o0+" is not iterable");return o0}},1812:(o0,o1,o2)=>{o0.exports=o2(7731)()?Map:o2(7968)},7731:o0=>{o0.exports=function(){var o0,o1;if("function"!=typeof Map)return!1;try{o0=new Map([["raz","one"],["dwa","two"],["trzy","three"]])}catch(o0){return!1}return"[object Map]"===String(o0)&&(3===o0.size&&("function"==typeof o0.clear&&("function"==typeof o0.delete&&("function"==typeof o0.entries&&("function"==typeof o0.forEach&&("function"==typeof o0.get&&("function"==typeof o0.has&&("function"==typeof o0.keys&&("function"==typeof o0.set&&("function"==typeof o0.values&&(!1===(o1=o0.entries().next()).done&&(!!o1.value&&("raz"===o1.value[0]&&"one"===o1.value[1])))))))))))))}},8608:o0=>{o0.exports="undefined"!=typeof Map&&"[object Map]"===Object.prototype.toString.call(new Map)},8096:(o0,o1,o2)=>{o0.exports=o2(3040)("key","value","key+value")},7944:(o0,o1,o2)=>{var o3,o4=o2(9876),o5=o2(248),o6=o2(6588),o7=o2(896).toStringTag,o8=o2(8096),o9=Object.defineProperties,o10=o6.prototype._unBind;o3=o0.exports=function(o0,o1){if(!(this instanceof o3))return new o3(o0,o1);o6.call(this,o0.__mapKeysData__,o0),o1&&o8[o1]||(o1="key+value"),o9(this,{__kind__:o5("",o1),__values__:o5("w",o0.__mapValuesData__)})},o4&&o4(o3,o6),o3.prototype=Object.create(o6.prototype,{constructor:o5(o3),_resolve:o5((function(o0){return"value"===this.__kind__?this.__values__[o0]:"key"===this.__kind__?this.__list__[o0]:[this.__list__[o0],this.__values__[o0]]})),_unBind:o5((function(){this.__values__=null,o10.call(this)})),toString:o5((function(){return"[object Map Iterator]"}))}),Object.defineProperty(o3.prototype,o7,o5("c","Map Iterator"))},7968:(o0,o1,o2)=>{var o3,o4=o2(5e3),o5=o2(1324),o6=o2(9876),o7=o2(7656),o8=o2(2908),o9=o2(248),o10=o2(1285),o11=o2(896),o12=o2(3007),o13=o2(5432),o14=o2(7944),o15=o2(8608),o16=Function.prototype.call,o17=Object.defineProperties,o18=Object.getPrototypeOf;o0.exports=o3=function(){var o0,o1,o2,o4=arguments[0];if(!(this instanceof o3))throw new TypeError("Constructor requires 'new'");return o2=o15&&o6&&Map!==o3?o6(new Map,o18(this)):this,null!=o4&&o12(o4),o17(o2,{__mapKeysData__:o9("c",o0=[]),__mapValuesData__:o9("c",o1=[])}),o4?(o13(o4,(function(o2){var o3=o8(o2)[0];o2=o2[1],-1===o5.call(o0,o3)&&(o0.push(o3),o1.push(o2))}),o2),o2):o2},o15&&(o6&&o6(o3,Map),o3.prototype=Object.create(Map.prototype,{constructor:o9(o3)})),o10(o17(o3.prototype,{clear:o9((function(){this.__mapKeysData__.length&&(o4.call(this.__mapKeysData__),o4.call(this.__mapValuesData__),this.emit("_clear"))})),delete:o9((function(o0){var o1=o5.call(this.__mapKeysData__,o0);return-1!==o1&&(this.__mapKeysData__.splice(o1,1),this.__mapValuesData__.splice(o1,1),this.emit("_delete",o1,o0),!0)})),entries:o9((function(){return new o14(this,"key+value")})),forEach:o9((function(o0){var o1,o2,o3=arguments[1];for(o7(o0),o2=(o1=this.entries())._next();void 0!==o2;)o16.call(o0,o3,this.__mapValuesData__[o2],this.__mapKeysData__[o2],this),o2=o1._next()})),get:o9((function(o0){var o1=o5.call(this.__mapKeysData__,o0);if(-1!==o1)return this.__mapValuesData__[o1]})),has:o9((function(o0){return-1!==o5.call(this.__mapKeysData__,o0)})),keys:o9((function(){return new o14(this,"key")})),set:o9((function(o0,o1){var o2,o3=o5.call(this.__mapKeysData__,o0);return-1===o3&&(o3=this.__mapKeysData__.push(o0)-1,o2=!0),this.__mapValuesData__[o3]=o1,o2&&this.emit("_add",o3,o0),this})),size:o9.gs((function(){return this.__mapKeysData__.length})),values:o9((function(){return new o14(this,"value")})),toString:o9((function(){return"[object Map]"}))})),Object.defineProperty(o3.prototype,o11.iterator,o9((function(){return this.entries()}))),Object.defineProperty(o3.prototype,o11.toStringTag,o9("c","Map"))},896:(o0,o1,o2)=>{o0.exports=o2(3952)()?o2(3292).Symbol:o2(9912)},3952:(o0,o1,o2)=>{var o3=o2(3292),o4={object:!0,symbol:!0};o0.exports=function(){var o0,o1=o3.Symbol;if("function"!=typeof o1)return!1;o0=o1("test symbol");try{String(o0)}catch(o0){return!1}return!!o4[typeof o1.iterator]&&(!!o4[typeof o1.toPrimitive]&&!!o4[typeof o1.toStringTag])}},7384:o0=>{o0.exports=function(o0){return!!o0&&("symbol"==typeof o0||!!o0.constructor&&("Symbol"===o0.constructor.name&&"Symbol"===o0[o0.constructor.toStringTag]))}},1768:(o0,o1,o2)=>{var o3=o2(248),o4=Object.create,o5=Object.defineProperty,o6=Object.prototype,o7=o4(null);o0.exports=function(o0){for(var o1,o2,o4=0;o7[o0+(o4||"")];)++o4;return o7[o0+=o4||""]=!0,o5(o6,o1="@@"+o0,o3.gs(null,(function(o0){o2||(o2=!0,o5(this,o1,o3(o0)),o2=!1)}))),o1}},4938:(o0,o1,o2)=>{var o3=o2(248),o4=o2(3292).Symbol;o0.exports=function(o0){return Object.defineProperties(o0,{hasInstance:o3("",o4&&o4.hasInstance||o0("hasInstance")),isConcatSpreadable:o3("",o4&&o4.isConcatSpreadable||o0("isConcatSpreadable")),iterator:o3("",o4&&o4.iterator||o0("iterator")),match:o3("",o4&&o4.match||o0("match")),replace:o3("",o4&&o4.replace||o0("replace")),search:o3("",o4&&o4.search||o0("search")),species:o3("",o4&&o4.species||o0("species")),split:o3("",o4&&o4.split||o0("split")),toPrimitive:o3("",o4&&o4.toPrimitive||o0("toPrimitive")),toStringTag:o3("",o4&&o4.toStringTag||o0("toStringTag")),unscopables:o3("",o4&&o4.unscopables||o0("unscopables"))})}},1688:(o0,o1,o2)=>{var o3=o2(248),o4=o2(8515),o5=Object.create(null);o0.exports=function(o0){return Object.defineProperties(o0,{for:o3((function(o1){return o5[o1]?o5[o1]:o5[o1]=o0(String(o1))})),keyFor:o3((function(o0){var o1;for(o1 in o4(o0),o5)if(o5[o1]===o0)return o1}))})}},9912:(o0,o1,o2)=>{var o3,o4,o5,o6=o2(248),o7=o2(8515),o8=o2(3292).Symbol,o9=o2(1768),o10=o2(4938),o11=o2(1688),o12=Object.create,o13=Object.defineProperties,o14=Object.defineProperty;if("function"==typeof o8)try{String(o8()),o5=!0}catch(o0){}else o8=null;o4=function(o0){if(this instanceof o4)throw new TypeError("Symbol is not a constructor");return o3(o0)},o0.exports=o3=function o0(o1){var o2;if(this instanceof o0)throw new TypeError("Symbol is not a constructor");return o5?o8(o1):(o2=o12(o4.prototype),o1=void 0===o1?"":String(o1),o13(o2,{__description__:o6("",o1),__name__:o6("",o9(o1))}))},o10(o3),o11(o3),o13(o4.prototype,{constructor:o6(o3),toString:o6("",(function(){return this.__name__}))}),o13(o3.prototype,{toString:o6((function(){return"Symbol ("+o7(this).__description__+")"})),valueOf:o6((function(){return o7(this)}))}),o14(o3.prototype,o3.toPrimitive,o6("",(function(){var o0=o7(this);return"symbol"==typeof o0?o0:o0.toString()}))),o14(o3.prototype,o3.toStringTag,o6("c","Symbol")),o14(o4.prototype,o3.toStringTag,o6("c",o3.prototype[o3.toStringTag])),o14(o4.prototype,o3.toPrimitive,o6("c",o3.prototype[o3.toPrimitive]))},8515:(o0,o1,o2)=>{var o3=o2(7384);o0.exports=function(o0){if(!o3(o0))throw new TypeError(o0+" is not a symbol");return o0}},1285:(o0,o1,o2)=>{var o3,o4,o5,o6,o7,o8,o9,o10=o2(248),o11=o2(7656),o12=Function.prototype.apply,o13=Function.prototype.call,o14=Object.create,o15=Object.defineProperty,o16=Object.defineProperties,o17=Object.prototype.hasOwnProperty,o18={configurable:!0,enumerable:!1,writable:!0};o4=function(o0,o1){var o2,o4;return o11(o1),o4=this,o3.call(this,o0,o2=function(){o5.call(o4,o0,o2),o12.call(o1,this,arguments)}),o2.__eeOnceListener__=o1,this},o7={on:o3=function(o0,o1){var o2;return o11(o1),o17.call(this,"__ee__")?o2=this.__ee__:(o2=o18.value=o14(null),o15(this,"__ee__",o18),o18.value=null),o2[o0]?"object"==typeof o2[o0]?o2[o0].push(o1):o2[o0]=[o2[o0],o1]:o2[o0]=o1,this},once:o4,off:o5=function(o0,o1){var o2,o3,o4,o5;if(o11(o1),!o17.call(this,"__ee__"))return this;if(!(o2=this.__ee__)[o0])return this;if("object"==typeof(o3=o2[o0]))for(o5=0;o4=o3[o5];++o5)o4!==o1&&o4.__eeOnceListener__!==o1||(2===o3.length?o2[o0]=o3[o5?0:1]:o3.splice(o5,1));else o3!==o1&&o3.__eeOnceListener__!==o1||delete o2[o0];return this},emit:o6=function(o0){var o1,o2,o3,o4,o5;if(o17.call(this,"__ee__")&&(o4=this.__ee__[o0]))if("object"==typeof o4){for(o2=arguments.length,o5=new Array(o2-1),o1=1;o1<o2;++o1)o5[o1-1]=arguments[o1];for(o4=o4.slice(),o1=0;o3=o4[o1];++o1)o12.call(o3,this,o5)}else switch(arguments.length){case 1:o13.call(o4,this);break;case 2:o13.call(o4,this,arguments[1]);break;case 3:o13.call(o4,this,arguments[1],arguments[2]);break;default:for(o2=arguments.length,o5=new Array(o2-1),o1=1;o1<o2;++o1)o5[o1-1]=arguments[o1];o12.call(o4,this,o5)}}},o8={on:o10(o3),once:o10(o4),off:o10(o5),emit:o10(o6)},o9=o16({},o8),o0.exports=o1=function(o0){return null==o0?o14(o9):o16(Object(o0),o8)},o1.methods=o7},4936:o0=>{var o1=Object.create||function(o0){var o1=function(){};return o1.prototype=o0,new o1},o2=Object.keys||function(o0){var o1=[];for(var o2 in o0)Object.prototype.hasOwnProperty.call(o0,o2)&&o1.push(o2);return o2},o3=Function.prototype.bind||function(o0){var o1=this;return function(){return o1.apply(o0,arguments)}};function o4(){this._events&&Object.prototype.hasOwnProperty.call(this,"_events")||(this._events=o1(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0}o0.exports=o4,o4.EventEmitter=o4,o4.prototype._events=void 0,o4.prototype._maxListeners=void 0;var o5,o6=10;try{var o7={};Object.defineProperty&&Object.defineProperty(o7,"x",{value:0}),o5=0===o7.x}catch(o0){o5=!1}function o8(o0){return void 0===o0._maxListeners?o4.defaultMaxListeners:o0._maxListeners}function o9(o0,o1,o2){if(o1)o0.call(o2);else for(var o3=o0.length,o4=o19(o0,o3),o5=0;o5<o3;++o5)o4[o5].call(o2)}function o10(o0,o1,o2,o3){if(o1)o0.call(o2,o3);else for(var o4=o0.length,o5=o19(o0,o4),o6=0;o6<o4;++o6)o5[o6].call(o2,o3)}function o11(o0,o1,o2,o3,o4){if(o1)o0.call(o2,o3,o4);else for(var o5=o0.length,o6=o19(o0,o5),o7=0;o7<o5;++o7)o6[o7].call(o2,o3,o4)}function o12(o0,o1,o2,o3,o4,o5){if(o1)o0.call(o2,o3,o4,o5);else for(var o6=o0.length,o7=o19(o0,o6),o8=0;o8<o6;++o8)o7[o8].call(o2,o3,o4,o5)}function o13(o0,o1,o2,o3){if(o1)o0.apply(o2,o3);else for(var o4=o0.length,o5=o19(o0,o4),o6=0;o6<o4;++o6)o5[o6].apply(o2,o3)}function o14(o0,o2,o3,o4){var o5,o6,o7;if("function"!=typeof o3)throw new TypeError('"listener" argument must be a function');if((o6=o0._events)?(o6.newListener&&(o0.emit("newListener",o2,o3.listener?o3.listener:o3),o6=o0._events),o7=o6[o2]):(o6=o0._events=o1(null),o0._eventsCount=0),o7){if("function"==typeof o7?o7=o6[o2]=o4?[o3,o7]:[o7,o3]:o4?o7.unshift(o3):o7.push(o3),!o7.warned&&(o5=o8(o0))&&o5>0&&o7.length>o5){o7.warned=!0;var o9=new Error("Possible EventEmitter memory leak detected. "+o7.length+' "'+String(o2)+'" listeners added. Use emitter.setMaxListeners() to increase limit.');o9.name="MaxListenersExceededWarning",o9.emitter=o0,o9.type=o2,o9.count=o7.length,"object"==typeof console&&console.warn&&console.warn("%s: %s",o9.name,o9.message)}}else o7=o6[o2]=o3,++o0._eventsCount;return o0}function o15(){if(!this.fired)switch(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length){case 0:return this.listener.call(this.target);case 1:return this.listener.call(this.target,arguments[0]);case 2:return this.listener.call(this.target,arguments[0],arguments[1]);case 3:return this.listener.call(this.target,arguments[0],arguments[1],arguments[2]);default:for(var o0=new Array(arguments.length),o1=0;o1<o0.length;++o1)o0[o1]=arguments[o1];this.listener.apply(this.target,o0)}}function o16(o0,o1,o2){var o4={fired:!1,wrapFn:void 0,target:o0,type:o1,listener:o2},o5=o3.call(o15,o4);return o5.listener=o2,o4.wrapFn=o5,o5}function o17(o0,o1,o2){var o3=o0._events;if(!o3)return[];var o4=o3[o1];return o4?"function"==typeof o4?o2?[o4.listener||o4]:[o4]:o2?function(o0){for(var o1=new Array(o0.length),o2=0;o2<o1.length;++o2)o1[o2]=o0[o2].listener||o0[o2];return o1}(o4):o19(o4,o4.length):[]}function o18(o0){var o1=this._events;if(o1){var o2=o1[o0];if("function"==typeof o2)return 1;if(o2)return o2.length}return 0}function o19(o0,o1){for(var o2=new Array(o1),o3=0;o3<o1;++o3)o2[o3]=o0[o3];return o2}o5?Object.defineProperty(o4,"defaultMaxListeners",{enumerable:!0,get:function(){return o6},set:function(o0){if("number"!=typeof o0||o0<0||o0!=o0)throw new TypeError('"defaultMaxListeners" must be a positive number');o6=o0}}):o4.defaultMaxListeners=o6,o4.prototype.setMaxListeners=function(o0){if("number"!=typeof o0||o0<0||isNaN(o0))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=o0,this},o4.prototype.getMaxListeners=function(){return o8(this)},o4.prototype.emit=function(o0){var o1,o2,o3,o4,o5,o6,o7="error"===o0;if(o6=this._events)o7=o7&&null==o6.error;else if(!o7)return!1;if(o7){if(arguments.length>1&&(o1=arguments[1]),o1 instanceof Error)throw o1;var o8=new Error('Unhandled "error" event. ('+o1+")");throw o8.context=o1,o8}if(!(o2=o6[o0]))return!1;var o14="function"==typeof o2;switch(o3=arguments.length){case 1:o9(o2,o14,this);break;case 2:o10(o2,o14,this,arguments[1]);break;case 3:o11(o2,o14,this,arguments[1],arguments[2]);break;case 4:o12(o2,o14,this,arguments[1],arguments[2],arguments[3]);break;default:for(o4=new Array(o3-1),o5=1;o5<o3;o5++)o4[o5-1]=arguments[o5];o13(o2,o14,this,o4)}return!0},o4.prototype.addListener=function(o0,o1){return o14(this,o0,o1,!1)},o4.prototype.on=o4.prototype.addListener,o4.prototype.prependListener=function(o0,o1){return o14(this,o0,o1,!0)},o4.prototype.once=function(o0,o1){if("function"!=typeof o1)throw new TypeError('"listener" argument must be a function');return this.on(o0,o16(this,o0,o1)),this},o4.prototype.prependOnceListener=function(o0,o1){if("function"!=typeof o1)throw new TypeError('"listener" argument must be a function');return this.prependListener(o0,o16(this,o0,o1)),this},o4.prototype.removeListener=function(o0,o2){var o3,o4,o5,o6,o7;if("function"!=typeof o2)throw new TypeError('"listener" argument must be a function');if(!(o4=this._events))return this;if(!(o3=o4[o0]))return this;if(o3===o2||o3.listener===o2)0==--this._eventsCount?this._events=o1(null):(delete o4[o0],o4.removeListener&&this.emit("removeListener",o0,o3.listener||o2));else if("function"!=typeof o3){for(o5=-1,o6=o3.length-1;o6>=0;o6--)if(o3[o6]===o2||o3[o6].listener===o2){o7=o3[o6].listener,o5=o6;break}if(o5<0)return this;0===o5?o3.shift():function(o0,o1){for(var o2=o1,o3=o2+1,o4=o0.length;o3<o4;o2+=1,o3+=1)o0[o2]=o0[o3];o0.pop()}(o3,o5),1===o3.length&&(o4[o0]=o3[0]),o4.removeListener&&this.emit("removeListener",o0,o7||o2)}return this},o4.prototype.removeAllListeners=function(o0){var o3,o4,o5;if(!(o4=this._events))return this;if(!o4.removeListener)return 0===arguments.length?(this._events=o1(null),this._eventsCount=0):o4[o0]&&(0==--this._eventsCount?this._events=o1(null):delete o4[o0]),this;if(0===arguments.length){var o6,o7=o2(o4);for(o5=0;o5<o7.length;++o5)"removeListener"!==(o6=o7[o5])&&this.removeAllListeners(o6);return this.removeAllListeners("removeListener"),this._events=o1(null),this._eventsCount=0,this}if("function"==typeof(o3=o4[o0]))this.removeListener(o0,o3);else if(o3)for(o5=o3.length-1;o5>=0;o5--)this.removeListener(o0,o3[o5]);return this},o4.prototype.listeners=function(o0){return o17(this,o0,!0)},o4.prototype.rawListeners=function(o0){return o17(this,o0,!1)},o4.listenerCount=function(o0,o1){return"function"==typeof o0.listenerCount?o0.listenerCount(o1):o18.call(o0,o1)},o4.prototype.listenerCount=o18,o4.prototype.eventNames=function(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]}},4404:(o0,o1)=>{o1.read=function(o0,o1,o2,o3,o4){var o5,o6,o7=8*o4-o3-1,o8=(1<<o7)-1,o9=o8>>1,o10=-7,o11=o2?o4-1:0,o12=o2?-1:1,o13=o0[o1+o11];for(o11+=o12,o5=o13&(1<<-o10)-1,o13>>=-o10,o10+=o7;o10>0;o5=256*o5+o0[o1+o11],o11+=o12,o10-=8);for(o6=o5&(1<<-o10)-1,o5>>=-o10,o10+=o3;o10>0;o6=256*o6+o0[o1+o11],o11+=o12,o10-=8);if(0===o5)o5=1-o9;else{if(o5===o8)return o6?NaN:1/0*(o13?-1:1);o6+=Math.pow(2,o3),o5-=o9}return(o13?-1:1)*o6*Math.pow(2,o5-o3)},o1.write=function(o0,o1,o2,o3,o4,o5){var o6,o7,o8,o9=8*o5-o4-1,o10=(1<<o9)-1,o11=o10>>1,o12=23===o4?Math.pow(2,-24)-Math.pow(2,-77):0,o13=o3?0:o5-1,o14=o3?1:-1,o15=o1<0||0===o1&&1/o1<0?1:0;for(o1=Math.abs(o1),isNaN(o1)||o1===1/0?(o7=isNaN(o1)?1:0,o6=o10):(o6=Math.floor(Math.log(o1)/Math.LN2),o1*(o8=Math.pow(2,-o6))<1&&(o6--,o8*=2),(o1+=o6+o11>=1?o12/o8:o12*Math.pow(2,1-o11))*o8>=2&&(o6++,o8/=2),o6+o11>=o10?(o7=0,o6=o10):o6+o11>=1?(o7=(o1*o8-1)*Math.pow(2,o4),o6+=o11):(o7=o1*Math.pow(2,o11-1)*Math.pow(2,o4),o6=0));o4>=8;o0[o2+o13]=255&o7,o13+=o14,o7/=256,o4-=8);for(o6=o6<<o4|o7,o9+=o4;o9>0;o0[o2+o13]=255&o6,o13+=o14,o6/=256,o9-=8);o0[o2+o13-o14]|=128*o15}},8248:o0=>{"function"==typeof Object.create?o0.exports=function(o0,o1){o1&&(o0.super_=o1,o0.prototype=Object.create(o1.prototype,{constructor:{value:o0,enumerable:!1,writable:!0,configurable:!0}}))}:o0.exports=function(o0,o1){if(o1){o0.super_=o1;var o2=function(){};o2.prototype=o1.prototype,o0.prototype=new o2,o0.prototype.constructor=o0}}},9600:o0=>{var o1={}.toString;o0.exports=Array.isArray||function(o0){return"[object Array]"==o1.call(o0)}},5068:function(o0,o1){(function(){var o1;function o2(o0,o1,o2){null!=o0&&("number"==typeof o0?this.fromNumber(o0,o1,o2):null==o1&&"string"!=typeof o0?this.fromString(o0,256):this.fromString(o0,o1))}function o3(){return new o2(null)}var o4="undefined"!=typeof navigator;o4&&"Microsoft Internet Explorer"==navigator.appName?(o2.prototype.am=function(o0,o1,o2,o3,o4,o5){for(var o6=32767&o1,o7=o1>>15;--o5>=0;){var o8=32767&this[o0],o9=this[o0++]>>15,o10=o7*o8+o9*o6;o4=((o8=o6*o8+((32767&o10)<<15)+o2[o3]+(1073741823&o4))>>>30)+(o10>>>15)+o7*o9+(o4>>>30),o2[o3++]=1073741823&o8}return o4},o1=30):o4&&"Netscape"!=navigator.appName?(o2.prototype.am=function(o0,o1,o2,o3,o4,o5){for(;--o5>=0;){var o6=o1*this[o0++]+o2[o3]+o4;o4=Math.floor(o6/67108864),o2[o3++]=67108863&o6}return o4},o1=26):(o2.prototype.am=function(o0,o1,o2,o3,o4,o5){for(var o6=16383&o1,o7=o1>>14;--o5>=0;){var o8=16383&this[o0],o9=this[o0++]>>14,o10=o7*o8+o9*o6;o4=((o8=o6*o8+((16383&o10)<<14)+o2[o3]+o4)>>28)+(o10>>14)+o7*o9,o2[o3++]=268435455&o8}return o4},o1=28),o2.prototype.DB=o1,o2.prototype.DM=(1<<o1)-1,o2.prototype.DV=1<<o1;o2.prototype.FV=Math.pow(2,52),o2.prototype.F1=52-o1,o2.prototype.F2=2*o1-52;var o5,o6,o7=new Array;for(o5="0".charCodeAt(0),o6=0;o6<=9;++o6)o7[o5++]=o6;for(o5="a".charCodeAt(0),o6=10;o6<36;++o6)o7[o5++]=o6;for(o5="A".charCodeAt(0),o6=10;o6<36;++o6)o7[o5++]=o6;function o8(o0){return"0123456789abcdefghijklmnopqrstuvwxyz".charAt(o0)}function o9(o0,o1){var o2=o7[o0.charCodeAt(o1)];return null==o2?-1:o2}function o10(o0){var o1=o3();return o1.fromInt(o0),o1}function o11(o0){var o1,o2=1;return 0!=(o1=o0>>>16)&&(o0=o1,o2+=16),0!=(o1=o0>>8)&&(o0=o1,o2+=8),0!=(o1=o0>>4)&&(o0=o1,o2+=4),0!=(o1=o0>>2)&&(o0=o1,o2+=2),0!=(o1=o0>>1)&&(o0=o1,o2+=1),o2}function o12(o0){this.m=o0}function o13(o0){this.m=o0,this.mp=o0.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<o0.DB-15)-1,this.mt2=2*o0.t}function o14(o0,o1){return o0&o1}function o15(o0,o1){return o0|o1}function o16(o0,o1){return o0^o1}function o17(o0,o1){return o0&~o1}function o18(o0){if(0==o0)return-1;var o1=0;return 0==(65535&o0)&&(o0>>=16,o1+=16),0==(255&o0)&&(o0>>=8,o1+=8),0==(15&o0)&&(o0>>=4,o1+=4),0==(3&o0)&&(o0>>=2,o1+=2),0==(1&o0)&&++o1,o1}function o19(o0){for(var o1=0;0!=o0;)o0&=o0-1,++o1;return o1}function o20(){}function o21(o0){return o0}function o22(o0){this.r2=o3(),this.q3=o3(),o2.ONE.dlShiftTo(2*o0.t,this.r2),this.mu=this.r2.divide(o0),this.m=o0}o12.prototype.convert=function(o0){return o0.s<0||o0.compareTo(this.m)>=0?o0.mod(this.m):o0},o12.prototype.revert=function(o0){return o0},o12.prototype.reduce=function(o0){o0.divRemTo(this.m,null,o0)},o12.prototype.mulTo=function(o0,o1,o2){o0.multiplyTo(o1,o2),this.reduce(o2)},o12.prototype.sqrTo=function(o0,o1){o0.squareTo(o1),this.reduce(o1)},o13.prototype.convert=function(o0){var o1=o3();return o0.abs().dlShiftTo(this.m.t,o1),o1.divRemTo(this.m,null,o1),o0.s<0&&o1.compareTo(o2.ZERO)>0&&this.m.subTo(o1,o1),o1},o13.prototype.revert=function(o0){var o1=o3();return o0.copyTo(o1),this.reduce(o1),o1},o13.prototype.reduce=function(o0){for(;o0.t<=this.mt2;)o0[o0.t++]=0;for(var o1=0;o1<this.m.t;++o1){var o2=32767&o0[o1],o3=o2*this.mpl+((o2*this.mph+(o0[o1]>>15)*this.mpl&this.um)<<15)&o0.DM;for(o0[o2=o1+this.m.t]+=this.m.am(0,o3,o0,o1,0,this.m.t);o0[o2]>=o0.DV;)o0[o2]-=o0.DV,o0[++o2]++}o0.clamp(),o0.drShiftTo(this.m.t,o0),o0.compareTo(this.m)>=0&&o0.subTo(this.m,o0)},o13.prototype.mulTo=function(o0,o1,o2){o0.multiplyTo(o1,o2),this.reduce(o2)},o13.prototype.sqrTo=function(o0,o1){o0.squareTo(o1),this.reduce(o1)},o2.prototype.copyTo=function(o0){for(var o1=this.t-1;o1>=0;--o1)o0[o1]=this[o1];o0.t=this.t,o0.s=this.s},o2.prototype.fromInt=function(o0){this.t=1,this.s=o0<0?-1:0,o0>0?this[0]=o0:o0<-1?this[0]=o0+this.DV:this.t=0},o2.prototype.fromString=function(o0,o1){var o3;if(16==o1)o3=4;else if(8==o1)o3=3;else if(256==o1)o3=8;else if(2==o1)o3=1;else if(32==o1)o3=5;else{if(4!=o1)return void this.fromRadix(o0,o1);o3=2}this.t=0,this.s=0;for(var o4=o0.length,o5=!1,o6=0;--o4>=0;){var o7=8==o3?255&o0[o4]:o9(o0,o4);o7<0?"-"==o0.charAt(o4)&&(o5=!0):(o5=!1,0==o6?this[this.t++]=o7:o6+o3>this.DB?(this[this.t-1]|=(o7&(1<<this.DB-o6)-1)<<o6,this[this.t++]=o7>>this.DB-o6):this[this.t-1]|=o7<<o6,(o6+=o3)>=this.DB&&(o6-=this.DB))}8==o3&&0!=(128&o0[0])&&(this.s=-1,o6>0&&(this[this.t-1]|=(1<<this.DB-o6)-1<<o6)),this.clamp(),o5&&o2.ZERO.subTo(this,this)},o2.prototype.clamp=function(){for(var o0=this.s&this.DM;this.t>0&&this[this.t-1]==o0;)--this.t},o2.prototype.dlShiftTo=function(o0,o1){var o2;for(o2=this.t-1;o2>=0;--o2)o1[o2+o0]=this[o2];for(o2=o0-1;o2>=0;--o2)o1[o2]=0;o1.t=this.t+o0,o1.s=this.s},o2.prototype.drShiftTo=function(o0,o1){for(var o2=o0;o2<this.t;++o2)o1[o2-o0]=this[o2];o1.t=Math.max(this.t-o0,0),o1.s=this.s},o2.prototype.lShiftTo=function(o0,o1){var o2,o3=o0%this.DB,o4=this.DB-o3,o5=(1<<o4)-1,o6=Math.floor(o0/this.DB),o7=this.s<<o3&this.DM;for(o2=this.t-1;o2>=0;--o2)o1[o2+o6+1]=this[o2]>>o4|o7,o7=(this[o2]&o5)<<o3;for(o2=o6-1;o2>=0;--o2)o1[o2]=0;o1[o6]=o7,o1.t=this.t+o6+1,o1.s=this.s,o1.clamp()},o2.prototype.rShiftTo=function(o0,o1){o1.s=this.s;var o2=Math.floor(o0/this.DB);if(o2>=this.t)o1.t=0;else{var o3=o0%this.DB,o4=this.DB-o3,o5=(1<<o3)-1;o1[0]=this[o2]>>o3;for(var o6=o2+1;o6<this.t;++o6)o1[o6-o2-1]|=(this[o6]&o5)<<o4,o1[o6-o2]=this[o6]>>o3;o3>0&&(o1[this.t-o2-1]|=(this.s&o5)<<o4),o1.t=this.t-o2,o1.clamp()}},o2.prototype.subTo=function(o0,o1){for(var o2=0,o3=0,o4=Math.min(o0.t,this.t);o2<o4;)o3+=this[o2]-o0[o2],o1[o2++]=o3&this.DM,o3>>=this.DB;if(o0.t<this.t){for(o3-=o0.s;o2<this.t;)o3+=this[o2],o1[o2++]=o3&this.DM,o3>>=this.DB;o3+=this.s}else{for(o3+=this.s;o2<o0.t;)o3-=o0[o2],o1[o2++]=o3&this.DM,o3>>=this.DB;o3-=o0.s}o1.s=o3<0?-1:0,o3<-1?o1[o2++]=this.DV+o3:o3>0&&(o1[o2++]=o3),o1.t=o2,o1.clamp()},o2.prototype.multiplyTo=function(o0,o1){var o3=this.abs(),o4=o0.abs(),o5=o3.t;for(o1.t=o5+o4.t;--o5>=0;)o1[o5]=0;for(o5=0;o5<o4.t;++o5)o1[o5+o3.t]=o3.am(0,o4[o5],o1,o5,0,o3.t);o1.s=0,o1.clamp(),this.s!=o0.s&&o2.ZERO.subTo(o1,o1)},o2.prototype.squareTo=function(o0){for(var o1=this.abs(),o2=o0.t=2*o1.t;--o2>=0;)o0[o2]=0;for(o2=0;o2<o1.t-1;++o2){var o3=o1.am(o2,o1[o2],o0,2*o2,0,1);(o0[o2+o1.t]+=o1.am(o2+1,2*o1[o2],o0,2*o2+1,o3,o1.t-o2-1))>=o1.DV&&(o0[o2+o1.t]-=o1.DV,o0[o2+o1.t+1]=1)}o0.t>0&&(o0[o0.t-1]+=o1.am(o2,o1[o2],o0,2*o2,0,1)),o0.s=0,o0.clamp()},o2.prototype.divRemTo=function(o0,o1,o4){var o5=o0.abs();if(!(o5.t<=0)){var o6=this.abs();if(o6.t<o5.t)return null!=o1&&o1.fromInt(0),void(null!=o4&&this.copyTo(o4));null==o4&&(o4=o3());var o7=o3(),o8=this.s,o9=o0.s,o10=this.DB-o11(o5[o5.t-1]);o10>0?(o5.lShiftTo(o10,o7),o6.lShiftTo(o10,o4)):(o5.copyTo(o7),o6.copyTo(o4));var o12=o7.t,o13=o7[o12-1];if(0!=o13){var o14=o13*(1<<this.F1)+(o12>1?o7[o12-2]>>this.F2:0),o15=this.FV/o14,o16=(1<<this.F1)/o14,o17=1<<this.F2,o18=o4.t,o19=o18-o12,o20=null==o1?o3():o1;for(o7.dlShiftTo(o19,o20),o4.compareTo(o20)>=0&&(o4[o4.t++]=1,o4.subTo(o20,o4)),o2.ONE.dlShiftTo(o12,o20),o20.subTo(o7,o7);o7.t<o12;)o7[o7.t++]=0;for(;--o19>=0;){var o21=o4[--o18]==o13?this.DM:Math.floor(o4[o18]*o15+(o4[o18-1]+o17)*o16);if((o4[o18]+=o7.am(0,o21,o4,o19,0,o12))<o21)for(o7.dlShiftTo(o19,o20),o4.subTo(o20,o4);o4[o18]<--o21;)o4.subTo(o20,o4)}null!=o1&&(o4.drShiftTo(o12,o1),o8!=o9&&o2.ZERO.subTo(o1,o1)),o4.t=o12,o4.clamp(),o10>0&&o4.rShiftTo(o10,o4),o8<0&&o2.ZERO.subTo(o4,o4)}}},o2.prototype.invDigit=function(){if(this.t<1)return 0;var o0=this[0];if(0==(1&o0))return 0;var o1=3&o0;return(o1=(o1=(o1=(o1=o1*(2-(15&o0)*o1)&15)*(2-(255&o0)*o1)&255)*(2-((65535&o0)*o1&65535))&65535)*(2-o0*o1%this.DV)%this.DV)>0?this.DV-o1:-o1},o2.prototype.isEven=function(){return 0==(this.t>0?1&this[0]:this.s)},o2.prototype.exp=function(o0,o1){if(o0>4294967295||o0<1)return o2.ONE;var o4=o3(),o5=o3(),o6=o1.convert(this),o7=o11(o0)-1;for(o6.copyTo(o4);--o7>=0;)if(o1.sqrTo(o4,o5),(o0&1<<o7)>0)o1.mulTo(o5,o6,o4);else{var o8=o4;o4=o5,o5=o8}return o1.revert(o4)},o2.prototype.toString=function(o0){if(this.s<0)return"-"+this.negate().toString(o0);var o1;if(16==o0)o1=4;else if(8==o0)o1=3;else if(2==o0)o1=1;else if(32==o0)o1=5;else{if(4!=o0)return this.toRadix(o0);o1=2}var o2,o3=(1<<o1)-1,o4=!1,o5="",o6=this.t,o7=this.DB-o6*this.DB%o1;if(o6-- >0)for(o7<this.DB&&(o2=this[o6]>>o7)>0&&(o4=!0,o5=o8(o2));o6>=0;)o7<o1?(o2=(this[o6]&(1<<o7)-1)<<o1-o7,o2|=this[--o6]>>(o7+=this.DB-o1)):(o2=this[o6]>>(o7-=o1)&o3,o7<=0&&(o7+=this.DB,--o6)),o2>0&&(o4=!0),o4&&(o5+=o8(o2));return o4?o5:"0"},o2.prototype.negate=function(){var o0=o3();return o2.ZERO.subTo(this,o0),o0},o2.prototype.abs=function(){return this.s<0?this.negate():this},o2.prototype.compareTo=function(o0){var o1=this.s-o0.s;if(0!=o1)return o1;var o2=this.t;if(0!=(o1=o2-o0.t))return this.s<0?-o1:o1;for(;--o2>=0;)if(0!=(o1=this[o2]-o0[o2]))return o1;return 0},o2.prototype.bitLength=function(){return this.t<=0?0:this.DB*(this.t-1)+o11(this[this.t-1]^this.s&this.DM)},o2.prototype.mod=function(o0){var o1=o3();return this.abs().divRemTo(o0,null,o1),this.s<0&&o1.compareTo(o2.ZERO)>0&&o0.subTo(o1,o1),o1},o2.prototype.modPowInt=function(o0,o1){var o2;return o2=o0<256||o1.isEven()?new o12(o1):new o13(o1),this.exp(o0,o2)},o2.ZERO=o10(0),o2.ONE=o10(1),o20.prototype.convert=o21,o20.prototype.revert=o21,o20.prototype.mulTo=function(o0,o1,o2){o0.multiplyTo(o1,o2)},o20.prototype.sqrTo=function(o0,o1){o0.squareTo(o1)},o22.prototype.convert=function(o0){if(o0.s<0||o0.t>2*this.m.t)return o0.mod(this.m);if(o0.compareTo(this.m)<0)return o0;var o1=o3();return o0.copyTo(o1),this.reduce(o1),o1},o22.prototype.revert=function(o0){return o0},o22.prototype.reduce=function(o0){for(o0.drShiftTo(this.m.t-1,this.r2),o0.t>this.m.t+1&&(o0.t=this.m.t+1,o0.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);o0.compareTo(this.r2)<0;)o0.dAddOffset(1,this.m.t+1);for(o0.subTo(this.r2,o0);o0.compareTo(this.m)>=0;)o0.subTo(this.m,o0)},o22.prototype.mulTo=function(o0,o1,o2){o0.multiplyTo(o1,o2),this.reduce(o2)},o22.prototype.sqrTo=function(o0,o1){o0.squareTo(o1),this.reduce(o1)};var o23,o24,o25,o26=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997],o27=(1<<26)/o26[o26.length-1];function o28(){var o0;o0=(new Date).getTime(),o24[o25++]^=255&o0,o24[o25++]^=o0>>8&255,o24[o25++]^=o0>>16&255,o24[o25++]^=o0>>24&255,o25>=o35&&(o25-=o35)}if(o2.prototype.chunkSize=function(o0){return Math.floor(Math.LN2*this.DB/Math.log(o0))},o2.prototype.toRadix=function(o0){if(null==o0&&(o0=10),0==this.signum()||o0<2||o0>36)return"0";var o1=this.chunkSize(o0),o2=Math.pow(o0,o1),o4=o10(o2),o5=o3(),o6=o3(),o7="";for(this.divRemTo(o4,o5,o6);o5.signum()>0;)o7=(o2+o6.intValue()).toString(o0).substr(1)+o7,o5.divRemTo(o4,o5,o6);return o6.intValue().toString(o0)+o7},o2.prototype.fromRadix=function(o0,o1){this.fromInt(0),null==o1&&(o1=10);for(var o3=this.chunkSize(o1),o4=Math.pow(o1,o3),o5=!1,o6=0,o7=0,o8=0;o8<o0.length;++o8){var o10=o9(o0,o8);o10<0?"-"==o0.charAt(o8)&&0==this.signum()&&(o5=!0):(o7=o1*o7+o10,++o6>=o3&&(this.dMultiply(o4),this.dAddOffset(o7,0),o6=0,o7=0))}o6>0&&(this.dMultiply(Math.pow(o1,o6)),this.dAddOffset(o7,0)),o5&&o2.ZERO.subTo(this,this)},o2.prototype.fromNumber=function(o0,o1,o3){if("number"==typeof o1)if(o0<2)this.fromInt(1);else for(this.fromNumber(o0,o3),this.testBit(o0-1)||this.bitwiseTo(o2.ONE.shiftLeft(o0-1),o15,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(o1);)this.dAddOffset(2,0),this.bitLength()>o0&&this.subTo(o2.ONE.shiftLeft(o0-1),this);else{var o4=new Array,o5=7&o0;o4.length=1+(o0>>3),o1.nextBytes(o4),o5>0?o4[0]&=(1<<o5)-1:o4[0]=0,this.fromString(o4,256)}},o2.prototype.bitwiseTo=function(o0,o1,o2){var o3,o4,o5=Math.min(o0.t,this.t);for(o3=0;o3<o5;++o3)o2[o3]=o1(this[o3],o0[o3]);if(o0.t<this.t){for(o4=o0.s&this.DM,o3=o5;o3<this.t;++o3)o2[o3]=o1(this[o3],o4);o2.t=this.t}else{for(o4=this.s&this.DM,o3=o5;o3<o0.t;++o3)o2[o3]=o1(o4,o0[o3]);o2.t=o0.t}o2.s=o1(this.s,o0.s),o2.clamp()},o2.prototype.changeBit=function(o0,o1){var o3=o2.ONE.shiftLeft(o0);return this.bitwiseTo(o3,o1,o3),o3},o2.prototype.addTo=function(o0,o1){for(var o2=0,o3=0,o4=Math.min(o0.t,this.t);o2<o4;)o3+=this[o2]+o0[o2],o1[o2++]=o3&this.DM,o3>>=this.DB;if(o0.t<this.t){for(o3+=o0.s;o2<this.t;)o3+=this[o2],o1[o2++]=o3&this.DM,o3>>=this.DB;o3+=this.s}else{for(o3+=this.s;o2<o0.t;)o3+=o0[o2],o1[o2++]=o3&this.DM,o3>>=this.DB;o3+=o0.s}o1.s=o3<0?-1:0,o3>0?o1[o2++]=o3:o3<-1&&(o1[o2++]=this.DV+o3),o1.t=o2,o1.clamp()},o2.prototype.dMultiply=function(o0){this[this.t]=this.am(0,o0-1,this,0,0,this.t),++this.t,this.clamp()},o2.prototype.dAddOffset=function(o0,o1){if(0!=o0){for(;this.t<=o1;)this[this.t++]=0;for(this[o1]+=o0;this[o1]>=this.DV;)this[o1]-=this.DV,++o1>=this.t&&(this[this.t++]=0),++this[o1]}},o2.prototype.multiplyLowerTo=function(o0,o1,o2){var o3,o4=Math.min(this.t+o0.t,o1);for(o2.s=0,o2.t=o4;o4>0;)o2[--o4]=0;for(o3=o2.t-this.t;o4<o3;++o4)o2[o4+this.t]=this.am(0,o0[o4],o2,o4,0,this.t);for(o3=Math.min(o0.t,o1);o4<o3;++o4)this.am(0,o0[o4],o2,o4,0,o1-o4);o2.clamp()},o2.prototype.multiplyUpperTo=function(o0,o1,o2){--o1;var o3=o2.t=this.t+o0.t-o1;for(o2.s=0;--o3>=0;)o2[o3]=0;for(o3=Math.max(o1-this.t,0);o3<o0.t;++o3)o2[this.t+o3-o1]=this.am(o1-o3,o0[o3],o2,0,0,this.t+o3-o1);o2.clamp(),o2.drShiftTo(1,o2)},o2.prototype.modInt=function(o0){if(o0<=0)return 0;var o1=this.DV%o0,o2=this.s<0?o0-1:0;if(this.t>0)if(0==o1)o2=this[0]%o0;else for(var o3=this.t-1;o3>=0;--o3)o2=(o1*o2+this[o3])%o0;return o2},o2.prototype.millerRabin=function(o0){var o1=this.subtract(o2.ONE),o4=o1.getLowestSetBit();if(o4<=0)return!1;var o5=o1.shiftRight(o4);(o0=o0+1>>1)>o26.length&&(o0=o26.length);for(var o6=o3(),o7=0;o7<o0;++o7){o6.fromInt(o26[Math.floor(Math.random()*o26.length)]);var o8=o6.modPow(o5,this);if(0!=o8.compareTo(o2.ONE)&&0!=o8.compareTo(o1)){for(var o9=1;o9++<o4&&0!=o8.compareTo(o1);)if(0==(o8=o8.modPowInt(2,this)).compareTo(o2.ONE))return!1;if(0!=o8.compareTo(o1))return!1}}return!0},o2.prototype.clone=function(){var o0=o3();return this.copyTo(o0),o0},o2.prototype.intValue=function(){if(this.s<0){if(1==this.t)return this[0]-this.DV;if(0==this.t)return-1}else{if(1==this.t)return this[0];if(0==this.t)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]},o2.prototype.byteValue=function(){return 0==this.t?this.s:this[0]<<24>>24},o2.prototype.shortValue=function(){return 0==this.t?this.s:this[0]<<16>>16},o2.prototype.signum=function(){return this.s<0?-1:this.t<=0||1==this.t&&this[0]<=0?0:1},o2.prototype.toByteArray=function(){var o0=this.t,o1=new Array;o1[0]=this.s;var o2,o3=this.DB-o0*this.DB%8,o4=0;if(o0-- >0)for(o3<this.DB&&(o2=this[o0]>>o3)!=(this.s&this.DM)>>o3&&(o1[o4++]=o2|this.s<<this.DB-o3);o0>=0;)o3<8?(o2=(this[o0]&(1<<o3)-1)<<8-o3,o2|=this[--o0]>>(o3+=this.DB-8)):(o2=this[o0]>>(o3-=8)&255,o3<=0&&(o3+=this.DB,--o0)),0!=(128&o2)&&(o2|=-256),0==o4&&(128&this.s)!=(128&o2)&&++o4,(o4>0||o2!=this.s)&&(o1[o4++]=o2);return o1},o2.prototype.equals=function(o0){return 0==this.compareTo(o0)},o2.prototype.min=function(o0){return this.compareTo(o0)<0?this:o0},o2.prototype.max=function(o0){return this.compareTo(o0)>0?this:o0},o2.prototype.and=function(o0){var o1=o3();return this.bitwiseTo(o0,o14,o1),o1},o2.prototype.or=function(o0){var o1=o3();return this.bitwiseTo(o0,o15,o1),o1},o2.prototype.xor=function(o0){var o1=o3();return this.bitwiseTo(o0,o16,o1),o1},o2.prototype.andNot=function(o0){var o1=o3();return this.bitwiseTo(o0,o17,o1),o1},o2.prototype.not=function(){for(var o0=o3(),o1=0;o1<this.t;++o1)o0[o1]=this.DM&~this[o1];return o0.t=this.t,o0.s=~this.s,o0},o2.prototype.shiftLeft=function(o0){var o1=o3();return o0<0?this.rShiftTo(-o0,o1):this.lShiftTo(o0,o1),o1},o2.prototype.shiftRight=function(o0){var o1=o3();return o0<0?this.lShiftTo(-o0,o1):this.rShiftTo(o0,o1),o1},o2.prototype.getLowestSetBit=function(){for(var o0=0;o0<this.t;++o0)if(0!=this[o0])return o0*this.DB+o18(this[o0]);return this.s<0?this.t*this.DB:-1},o2.prototype.bitCount=function(){for(var o0=0,o1=this.s&this.DM,o2=0;o2<this.t;++o2)o0+=o19(this[o2]^o1);return o0},o2.prototype.testBit=function(o0){var o1=Math.floor(o0/this.DB);return o1>=this.t?0!=this.s:0!=(this[o1]&1<<o0%this.DB)},o2.prototype.setBit=function(o0){return this.changeBit(o0,o15)},o2.prototype.clearBit=function(o0){return this.changeBit(o0,o17)},o2.prototype.flipBit=function(o0){return this.changeBit(o0,o16)},o2.prototype.add=function(o0){var o1=o3();return this.addTo(o0,o1),o1},o2.prototype.subtract=function(o0){var o1=o3();return this.subTo(o0,o1),o1},o2.prototype.multiply=function(o0){var o1=o3();return this.multiplyTo(o0,o1),o1},o2.prototype.divide=function(o0){var o1=o3();return this.divRemTo(o0,o1,null),o1},o2.prototype.remainder=function(o0){var o1=o3();return this.divRemTo(o0,null,o1),o1},o2.prototype.divideAndRemainder=function(o0){var o1=o3(),o2=o3();return this.divRemTo(o0,o1,o2),new Array(o1,o2)},o2.prototype.modPow=function(o0,o1){var o2,o4,o5=o0.bitLength(),o6=o10(1);if(o5<=0)return o6;o2=o5<18?1:o5<48?3:o5<144?4:o5<768?5:6,o4=o5<8?new o12(o1):o1.isEven()?new o22(o1):new o13(o1);var o7=new Array,o8=3,o9=o2-1,o14=(1<<o2)-1;if(o7[1]=o4.convert(this),o2>1){var o15=o3();for(o4.sqrTo(o7[1],o15);o8<=o14;)o7[o8]=o3(),o4.mulTo(o15,o7[o8-2],o7[o8]),o8+=2}var o16,o17,o18=o0.t-1,o19=!0,o20=o3();for(o5=o11(o0[o18])-1;o18>=0;){for(o5>=o9?o16=o0[o18]>>o5-o9&o14:(o16=(o0[o18]&(1<<o5+1)-1)<<o9-o5,o18>0&&(o16|=o0[o18-1]>>this.DB+o5-o9)),o8=o2;0==(1&o16);)o16>>=1,--o8;if((o5-=o8)<0&&(o5+=this.DB,--o18),o19)o7[o16].copyTo(o6),o19=!1;else{for(;o8>1;)o4.sqrTo(o6,o20),o4.sqrTo(o20,o6),o8-=2;o8>0?o4.sqrTo(o6,o20):(o17=o6,o6=o20,o20=o17),o4.mulTo(o20,o7[o16],o6)}for(;o18>=0&&0==(o0[o18]&1<<o5);)o4.sqrTo(o6,o20),o17=o6,o6=o20,o20=o17,--o5<0&&(o5=this.DB-1,--o18)}return o4.revert(o6)},o2.prototype.modInverse=function(o0){var o1=o0.isEven();if(this.isEven()&&o1||0==o0.signum())return o2.ZERO;for(var o3=o0.clone(),o4=this.clone(),o5=o10(1),o6=o10(0),o7=o10(0),o8=o10(1);0!=o3.signum();){for(;o3.isEven();)o3.rShiftTo(1,o3),o1?(o5.isEven()&&o6.isEven()||(o5.addTo(this,o5),o6.subTo(o0,o6)),o5.rShiftTo(1,o5)):o6.isEven()||o6.subTo(o0,o6),o6.rShiftTo(1,o6);for(;o4.isEven();)o4.rShiftTo(1,o4),o1?(o7.isEven()&&o8.isEven()||(o7.addTo(this,o7),o8.subTo(o0,o8)),o7.rShiftTo(1,o7)):o8.isEven()||o8.subTo(o0,o8),o8.rShiftTo(1,o8);o3.compareTo(o4)>=0?(o3.subTo(o4,o3),o1&&o5.subTo(o7,o5),o6.subTo(o8,o6)):(o4.subTo(o3,o4),o1&&o7.subTo(o5,o7),o8.subTo(o6,o8))}return 0!=o4.compareTo(o2.ONE)?o2.ZERO:o8.compareTo(o0)>=0?o8.subtract(o0):o8.signum()<0?(o8.addTo(o0,o8),o8.signum()<0?o8.add(o0):o8):o8},o2.prototype.pow=function(o0){return this.exp(o0,new o20)},o2.prototype.gcd=function(o0){var o1=this.s<0?this.negate():this.clone(),o2=o0.s<0?o0.negate():o0.clone();if(o1.compareTo(o2)<0){var o3=o1;o1=o2,o2=o3}var o4=o1.getLowestSetBit(),o5=o2.getLowestSetBit();if(o5<0)return o1;for(o4<o5&&(o5=o4),o5>0&&(o1.rShiftTo(o5,o1),o2.rShiftTo(o5,o2));o1.signum()>0;)(o4=o1.getLowestSetBit())>0&&o1.rShiftTo(o4,o1),(o4=o2.getLowestSetBit())>0&&o2.rShiftTo(o4,o2),o1.compareTo(o2)>=0?(o1.subTo(o2,o1),o1.rShiftTo(1,o1)):(o2.subTo(o1,o2),o2.rShiftTo(1,o2));return o5>0&&o2.lShiftTo(o5,o2),o2},o2.prototype.isProbablePrime=function(o0){var o1,o2=this.abs();if(1==o2.t&&o2[0]<=o26[o26.length-1]){for(o1=0;o1<o26.length;++o1)if(o2[0]==o26[o1])return!0;return!1}if(o2.isEven())return!1;for(o1=1;o1<o26.length;){for(var o3=o26[o1],o4=o1+1;o4<o26.length&&o3<o27;)o3*=o26[o4++];for(o3=o2.modInt(o3);o1<o4;)if(o3%o26[o1++]==0)return!1}return o2.millerRabin(o0)},o2.prototype.square=function(){var o0=o3();return this.squareTo(o0),o0},o2.prototype.Barrett=o22,null==o24){var o29;if(o24=new Array,o25=0,"undefined"!=typeof window&&window.crypto)if(window.crypto.getRandomValues){var o30=new Uint8Array(32);for(window.crypto.getRandomValues(o30),o29=0;o29<32;++o29)o24[o25++]=o30[o29]}else if("Netscape"==navigator.appName&&navigator.appVersion<"5"){var o31=window.crypto.random(32);for(o29=0;o29<o31.length;++o29)o24[o25++]=255&o31.charCodeAt(o29)}for(;o25<o35;)o29=Math.floor(65536*Math.random()),o24[o25++]=o29>>>8,o24[o25++]=255&o29;o25=0,o28()}function o32(){if(null==o23){for(o28(),(o23=new o34).init(o24),o25=0;o25<o24.length;++o25)o24[o25]=0;o25=0}return o23.next()}function o33(){}function o34(){this.i=0,this.j=0,this.S=new Array}o33.prototype.nextBytes=function(o0){var o1;for(o1=0;o1<o0.length;++o1)o0[o1]=o32()},o34.prototype.init=function(o0){var o1,o2,o3;for(o1=0;o1<256;++o1)this.S[o1]=o1;for(o2=0,o1=0;o1<256;++o1)o2=o2+this.S[o1]+o0[o1%o0.length]&255,o3=this.S[o1],this.S[o1]=this.S[o2],this.S[o2]=o3;this.i=0,this.j=0},o34.prototype.next=function(){var o0;return this.i=this.i+1&255,this.j=this.j+this.S[this.i]&255,o0=this.S[this.i],this.S[this.i]=this.S[this.j],this.S[this.j]=o0,this.S[o0+this.S[this.i]&255]};var o35=256;o0.exports={default:o2,BigInteger:o2,SecureRandom:o33}}).call(this)},9300:o0=>{o0.exports=o2;var o1=null;try{o1=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(o0){}function o2(o0,o1,o2){this.low=0|o0,this.high=0|o1,this.unsigned=!!o2}function o3(o0){return!0===(o0&&o0.__isLong__)}o2.prototype.__isLong__,Object.defineProperty(o2.prototype,"__isLong__",{value:!0}),o2.isLong=o3;var o4={},o5={};function o6(o0,o1){var o2,o3,o6;return o1?(o6=0<=(o0>>>=0)&&o0<256)&&(o3=o5[o0])?o3:(o2=o8(o0,(0|o0)<0?-1:0,!0),o6&&(o5[o0]=o2),o2):(o6=-128<=(o0|=0)&&o0<128)&&(o3=o4[o0])?o3:(o2=o8(o0,o0<0?-1:0,!1),o6&&(o4[o0]=o2),o2)}function o7(o0,o1){if(isNaN(o0))return o1?o17:o16;if(o1){if(o0<0)return o17;if(o0>=o13)return o22}else{if(o0<=-o14)return o23;if(o0+1>=o14)return o21}return o0<0?o7(-o0,o1).neg():o8(o0%o12|0,o0/o12|0,o1)}function o8(o0,o1,o3){return new o2(o0,o1,o3)}o2.fromInt=o6,o2.fromNumber=o7,o2.fromBits=o8;var o9=Math.pow;function o10(o0,o1,o2){if(0===o0.length)throw Error("empty string");if("NaN"===o0||"Infinity"===o0||"+Infinity"===o0||"-Infinity"===o0)return o16;if("number"==typeof o1?(o2=o1,o1=!1):o1=!!o1,(o2=o2||10)<2||36<o2)throw RangeError("radix");var o3;if((o3=o0.indexOf("-"))>0)throw Error("interior hyphen");if(0===o3)return o10(o0.substring(1),o1,o2).neg();for(var o4=o7(o9(o2,8)),o5=o16,o6=0;o6<o0.length;o6+=8){var o8=Math.min(8,o0.length-o6),o11=parseInt(o0.substring(o6,o6+o8),o2);if(o8<8){var o12=o7(o9(o2,o8));o5=o5.mul(o12).add(o7(o11))}else o5=(o5=o5.mul(o4)).add(o7(o11))}return o5.unsigned=o1,o5}function o11(o0,o1){return"number"==typeof o0?o7(o0,o1):"string"==typeof o0?o10(o0,o1):o8(o0.low,o0.high,"boolean"==typeof o1?o1:o0.unsigned)}o2.fromString=o10,o2.fromValue=o11;var o12=4294967296,o13=o12*o12,o14=o13/2,o15=o6(1<<24),o16=o6(0);o2.ZERO=o16;var o17=o6(0,!0);o2.UZERO=o17;var o18=o6(1);o2.ONE=o18;var o19=o6(1,!0);o2.UONE=o19;var o20=o6(-1);o2.NEG_ONE=o20;var o21=o8(-1,2147483647,!1);o2.MAX_VALUE=o21;var o22=o8(-1,-1,!0);o2.MAX_UNSIGNED_VALUE=o22;var o23=o8(0,-2147483648,!1);o2.MIN_VALUE=o23;var o24=o2.prototype;o24.toInt=function(){return this.unsigned?this.low>>>0:this.low},o24.toNumber=function(){return this.unsigned?(this.high>>>0)*o12+(this.low>>>0):this.high*o12+(this.low>>>0)},o24.toString=function(o0){if((o0=o0||10)<2||36<o0)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(o23)){var o1=o7(o0),o2=this.div(o1),o3=o2.mul(o1).sub(this);return o2.toString(o0)+o3.toInt().toString(o0)}return"-"+this.neg().toString(o0)}for(var o4=o7(o9(o0,6),this.unsigned),o5=this,o6="";;){var o8=o5.div(o4),o10=(o5.sub(o8.mul(o4)).toInt()>>>0).toString(o0);if((o5=o8).isZero())return o10+o6;for(;o10.length<6;)o10="0"+o10;o6=""+o10+o6}},o24.getHighBits=function(){return this.high},o24.getHighBitsUnsigned=function(){return this.high>>>0},o24.getLowBits=function(){return this.low},o24.getLowBitsUnsigned=function(){return this.low>>>0},o24.getNumBitsAbs=function(){if(this.isNegative())return this.eq(o23)?64:this.neg().getNumBitsAbs();for(var o0=0!=this.high?this.high:this.low,o1=31;o1>0&&0==(o0&1<<o1);o1--);return 0!=this.high?o1+33:o1+1},o24.isZero=function(){return 0===this.high&&0===this.low},o24.eqz=o24.isZero,o24.isNegative=function(){return!this.unsigned&&this.high<0},o24.isPositive=function(){return this.unsigned||this.high>=0},o24.isOdd=function(){return 1==(1&this.low)},o24.isEven=function(){return 0==(1&this.low)},o24.equals=function(o0){return o3(o0)||(o0=o11(o0)),(this.unsigned===o0.unsigned||this.high>>>31!=1||o0.high>>>31!=1)&&(this.high===o0.high&&this.low===o0.low)},o24.eq=o24.equals,o24.notEquals=function(o0){return!this.eq(o0)},o24.neq=o24.notEquals,o24.ne=o24.notEquals,o24.lessThan=function(o0){return this.comp(o0)<0},o24.lt=o24.lessThan,o24.lessThanOrEqual=function(o0){return this.comp(o0)<=0},o24.lte=o24.lessThanOrEqual,o24.le=o24.lessThanOrEqual,o24.greaterThan=function(o0){return this.comp(o0)>0},o24.gt=o24.greaterThan,o24.greaterThanOrEqual=function(o0){return this.comp(o0)>=0},o24.gte=o24.greaterThanOrEqual,o24.ge=o24.greaterThanOrEqual,o24.compare=function(o0){if(o3(o0)||(o0=o11(o0)),this.eq(o0))return 0;var o1=this.isNegative(),o2=o0.isNegative();return o1&&!o2?-1:!o1&&o2?1:this.unsigned?o0.high>>>0>this.high>>>0||o0.high===this.high&&o0.low>>>0>this.low>>>0?-1:1:this.sub(o0).isNegative()?-1:1},o24.comp=o24.compare,o24.negate=function(){return!this.unsigned&&this.eq(o23)?o23:this.not().add(o18)},o24.neg=o24.negate,o24.add=function(o0){o3(o0)||(o0=o11(o0));var o1=this.high>>>16,o2=65535&this.high,o4=this.low>>>16,o5=65535&this.low,o6=o0.high>>>16,o7=65535&o0.high,o9=o0.low>>>16,o10=0,o12=0,o13=0,o14=0;return o13+=(o14+=o5+(65535&o0.low))>>>16,o12+=(o13+=o4+o9)>>>16,o10+=(o12+=o2+o7)>>>16,o10+=o1+o6,o8((o13&=65535)<<16|(o14&=65535),(o10&=65535)<<16|(o12&=65535),this.unsigned)},o24.subtract=function(o0){return o3(o0)||(o0=o11(o0)),this.add(o0.neg())},o24.sub=o24.subtract,o24.multiply=function(o0){if(this.isZero())return o16;if(o3(o0)||(o0=o11(o0)),o1)return o8(o1.mul(this.low,this.high,o0.low,o0.high),o1.get_high(),this.unsigned);if(o0.isZero())return o16;if(this.eq(o23))return o0.isOdd()?o23:o16;if(o0.eq(o23))return this.isOdd()?o23:o16;if(this.isNegative())return o0.isNegative()?this.neg().mul(o0.neg()):this.neg().mul(o0).neg();if(o0.isNegative())return this.mul(o0.neg()).neg();if(this.lt(o15)&&o0.lt(o15))return o7(this.toNumber()*o0.toNumber(),this.unsigned);var o2=this.high>>>16,o4=65535&this.high,o5=this.low>>>16,o6=65535&this.low,o9=o0.high>>>16,o10=65535&o0.high,o12=o0.low>>>16,o13=65535&o0.low,o14=0,o17=0,o18=0,o19=0;return o18+=(o19+=o6*o13)>>>16,o17+=(o18+=o5*o13)>>>16,o18&=65535,o17+=(o18+=o6*o12)>>>16,o14+=(o17+=o4*o13)>>>16,o17&=65535,o14+=(o17+=o5*o12)>>>16,o17&=65535,o14+=(o17+=o6*o10)>>>16,o14+=o2*o13+o4*o12+o5*o10+o6*o9,o8((o18&=65535)<<16|(o19&=65535),(o14&=65535)<<16|(o17&=65535),this.unsigned)},o24.mul=o24.multiply,o24.divide=function(o0){if(o3(o0)||(o0=o11(o0)),o0.isZero())throw Error("division by zero");var o2,o4,o5;if(o1)return this.unsigned||-2147483648!==this.high||-1!==o0.low||-1!==o0.high?o8((this.unsigned?o1.div_u:o1.div_s)(this.low,this.high,o0.low,o0.high),o1.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?o17:o16;if(this.unsigned){if(o0.unsigned||(o0=o0.toUnsigned()),o0.gt(this))return o17;if(o0.gt(this.shru(1)))return o19;o5=o17}else{if(this.eq(o23))return o0.eq(o18)||o0.eq(o20)?o23:o0.eq(o23)?o18:(o2=this.shr(1).div(o0).shl(1)).eq(o16)?o0.isNegative()?o18:o20:(o4=this.sub(o0.mul(o2)),o5=o2.add(o4.div(o0)));if(o0.eq(o23))return this.unsigned?o17:o16;if(this.isNegative())return o0.isNegative()?this.neg().div(o0.neg()):this.neg().div(o0).neg();if(o0.isNegative())return this.div(o0.neg()).neg();o5=o16}for(o4=this;o4.gte(o0);){o2=Math.max(1,Math.floor(o4.toNumber()/o0.toNumber()));for(var o6=Math.ceil(Math.log(o2)/Math.LN2),o10=o6<=48?1:o9(2,o6-48),o12=o7(o2),o13=o12.mul(o0);o13.isNegative()||o13.gt(o4);)o13=(o12=o7(o2-=o10,this.unsigned)).mul(o0);o12.isZero()&&(o12=o18),o5=o5.add(o12),o4=o4.sub(o13)}return o5},o24.div=o24.divide,o24.modulo=function(o0){return o3(o0)||(o0=o11(o0)),o1?o8((this.unsigned?o1.rem_u:o1.rem_s)(this.low,this.high,o0.low,o0.high),o1.get_high(),this.unsigned):this.sub(this.div(o0).mul(o0))},o24.mod=o24.modulo,o24.rem=o24.modulo,o24.not=function(){return o8(~this.low,~this.high,this.unsigned)},o24.and=function(o0){return o3(o0)||(o0=o11(o0)),o8(this.low&o0.low,this.high&o0.high,this.unsigned)},o24.or=function(o0){return o3(o0)||(o0=o11(o0)),o8(this.low|o0.low,this.high|o0.high,this.unsigned)},o24.xor=function(o0){return o3(o0)||(o0=o11(o0)),o8(this.low^o0.low,this.high^o0.high,this.unsigned)},o24.shiftLeft=function(o0){return o3(o0)&&(o0=o0.toInt()),0==(o0&=63)?this:o0<32?o8(this.low<<o0,this.high<<o0|this.low>>>32-o0,this.unsigned):o8(0,this.low<<o0-32,this.unsigned)},o24.shl=o24.shiftLeft,o24.shiftRight=function(o0){return o3(o0)&&(o0=o0.toInt()),0==(o0&=63)?this:o0<32?o8(this.low>>>o0|this.high<<32-o0,this.high>>o0,this.unsigned):o8(this.high>>o0-32,this.high>=0?0:-1,this.unsigned)},o24.shr=o24.shiftRight,o24.shiftRightUnsigned=function(o0){if(o3(o0)&&(o0=o0.toInt()),0===(o0&=63))return this;var o1=this.high;return o0<32?o8(this.low>>>o0|o1<<32-o0,o1>>>o0,this.unsigned):o8(32===o0?o1:o1>>>o0-32,0,this.unsigned)},o24.shru=o24.shiftRightUnsigned,o24.shr_u=o24.shiftRightUnsigned,o24.toSigned=function(){return this.unsigned?o8(this.low,this.high,!1):this},o24.toUnsigned=function(){return this.unsigned?this:o8(this.low,this.high,!0)},o24.toBytes=function(o0){return o0?this.toBytesLE():this.toBytesBE()},o24.toBytesLE=function(){var o0=this.high,o1=this.low;return[255&o1,o1>>>8&255,o1>>>16&255,o1>>>24,255&o0,o0>>>8&255,o0>>>16&255,o0>>>24]},o24.toBytesBE=function(){var o0=this.high,o1=this.low;return[o0>>>24,o0>>>16&255,o0>>>8&255,255&o0,o1>>>24,o1>>>16&255,o1>>>8&255,255&o1]},o2.fromBytes=function(o0,o1,o3){return o3?o2.fromBytesLE(o0,o1):o2.fromBytesBE(o0,o1)},o2.fromBytesLE=function(o0,o1){return new o2(o0[0]|o0[1]<<8|o0[2]<<16|o0[3]<<24,o0[4]|o0[5]<<8|o0[6]<<16|o0[7]<<24,o1)},o2.fromBytesBE=function(o0,o1){return new o2(o0[4]<<24|o0[5]<<16|o0[6]<<8|o0[7],o0[0]<<24|o0[1]<<16|o0[2]<<8|o0[3],o1)}},1204:(o0,o1,o2)=>{o0.exports=function(o0){var o1={};function o2(o3){if(o1[o3])return o1[o3].exports;var o4=o1[o3]={i:o3,l:!1,exports:{}};return o0[o3].call(o4.exports,o4,o4.exports,o2),o4.l=!0,o4.exports}return o2.m=o0,o2.c=o1,o2.d=function(o0,o1,o3){o2.o(o0,o1)||Object.defineProperty(o0,o1,{enumerable:!0,get:o3})},o2.r=function(o0){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(o0,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o0,"__esModule",{value:!0})},o2.t=function(o0,o1){if(1&o1&&(o0=o2(o0)),8&o1)return o0;if(4&o1&&"object"==typeof o0&&o0&&o0.__esModule)return o0;var o3=Object.create(null);if(o2.r(o3),Object.defineProperty(o3,"default",{enumerable:!0,value:o0}),2&o1&&"string"!=typeof o0)for(var o4 in o0)o2.d(o3,o4,function(o1){return o0[o1]}.bind(null,o4));return o3},o2.n=function(o0){var o1=o0&&o0.__esModule?function(){return o0.default}:function(){return o0};return o2.d(o1,"a",o1),o1},o2.o=function(o0,o1){return Object.prototype.hasOwnProperty.call(o0,o1)},o2.p="",o2(o2.s=2)}([function(o0,o1){o0.exports=o2(5068)},function(o0,o1,o2){var o3=new Uint32Array(68),o4=new Uint32Array(64);function o5(o0,o1){var o2=31&o1;return o0<<o2|o0>>>32-o2}function o6(o0,o1){for(var o2=[],o3=o0.length-1;o3>=0;o3--)o2[o3]=255&(o0[o3]^o1[o3]);return o2}function o7(o0){return o0^o5(o0,9)^o5(o0,17)}function o8(o0){var o1=8*o0.length,o2=o1%512;o2=o2>=448?512-o2%448-1:448-o2-1;for(var o6=new Array((o2-7)/8),o8=new Array(8),o9=0,o10=o6.length;o9<o10;o9++)o6[o9]=0;for(var o11=0,o12=o8.length;o11<o12;o11++)o8[o11]=0;o1=o1.toString(2);for(var o13=7;o13>=0;o13--)if(o1.length>8){var o14=o1.length-8;o8[o13]=parseInt(o1.substr(o14),2),o1=o1.substr(0,o14)}else o1.length>0&&(o8[o13]=parseInt(o1,2),o1="");for(var o15,o16=new Uint8Array([].concat(o0,[128],o6,o8)),o17=new DataView(o16.buffer,0),o18=o16.length/64,o19=new Uint32Array([1937774191,1226093241,388252375,3666478592,2842636476,372324522,3817729613,2969243214]),o20=0;o20<o18;o20++){o3.fill(0),o4.fill(0);for(var o21=16*o20,o22=0;o22<16;o22++)o3[o22]=o17.getUint32(4*(o21+o22),!1);for(var o23=16;o23<68;o23++)o3[o23]=(o15=o3[o23-16]^o3[o23-9]^o5(o3[o23-3],15))^o5(o15,15)^o5(o15,23)^o5(o3[o23-13],7)^o3[o23-6];for(var o24=0;o24<64;o24++)o4[o24]=o3[o24]^o3[o24+4];for(var o25=o19[0],o26=o19[1],o27=o19[2],o28=o19[3],o29=o19[4],o30=o19[5],o31=o19[6],o32=o19[7],o33=void 0,o34=void 0,o35=void 0,o36=void 0,o37=0;o37<64;o37++)o36=o37>=0&&o37<=15?2043430169:2055708042,o34=(o37>=0&&o37<=15?o25^o26^o27:o25&o26|o25&o27|o26&o27)+o28+((o33=o5(o5(o25,12)+o29+o5(o36,o37),7))^o5(o25,12))+o4[o37],o35=(o37>=0&&o37<=15?o29^o30^o31:o29&o30|~o29&o31)+o32+o33+o3[o37],o28=o27,o27=o5(o26,9),o26=o25,o25=o34,o32=o31,o31=o5(o30,19),o30=o29,o29=o7(o35);o19[0]^=o25,o19[1]^=o26,o19[2]^=o27,o19[3]^=o28,o19[4]^=o29,o19[5]^=o30,o19[6]^=o31,o19[7]^=o32}for(var o38=[],o39=0,o40=o19.length;o39<o40;o39++){var o41=o19[o39];o38.push((4278190080&o41)>>>24,(16711680&o41)>>>16,(65280&o41)>>>8,255&o41)}return o38}for(var o9=new Uint8Array(64),o10=new Uint8Array(64),o11=0;o11<64;o11++)o9[o11]=54,o10[o11]=92;o0.exports={sm3:o8,hmac:function(o0,o1){for(o1.length>64&&(o1=o8(o1));o1.length<64;)o1.push(0);var o2=o6(o1,o9),o3=o6(o1,o10),o4=o8([].concat(o2,o0));return o8([].concat(o3,o4))}}},function(o0,o1,o2){o0.exports={sm2:o2(3),sm3:o2(7),sm4:o2(8)}},function(o0,o1,o2){var o3=o2(0).BigInteger,o4=o2(4),o5=o4.encodeDer,o6=o4.decodeDer,o7=o2(5),o8=o2(1).sm3,o9=o7.generateEcparam(),o10=o9.G,o11=o9.curve,o12=o9.n;function o13(o0,o1){var o2=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"1234567812345678";o2=o7.utf8ToHex(o2);var o3=o7.leftPad(o10.curve.a.toBigInteger().toRadix(16),64),o4=o7.leftPad(o10.curve.b.toBigInteger().toRadix(16),64),o5=o7.leftPad(o10.getX().toBigInteger().toRadix(16),64),o6=o7.leftPad(o10.getY().toBigInteger().toRadix(16),64),o9=void 0,o11=void 0;if(128===o1.length)o9=o1.substr(0,64),o11=o1.substr(64,64);else{var o12=o10.curve.decodePointHex(o1);o9=o7.leftPad(o12.getX().toBigInteger().toRadix(16),64),o11=o7.leftPad(o12.getY().toBigInteger().toRadix(16),64)}var o13=o7.hexToArray(o2+o3+o4+o5+o6+o9+o11),o14=4*o2.length;o13.unshift(255&o14),o13.unshift(o14>>8&255);var o15=o8(o13);return o7.arrayToHex(o8(o15.concat(o7.hexToArray(o0))))}function o14(o0){var o1=o10.multiply(new o3(o0,16));return"04"+o7.leftPad(o1.getX().toBigInteger().toString(16),64)+o7.leftPad(o1.getY().toBigInteger().toString(16),64)}function o15(){var o0=o7.generateKeyPairHex(),o1=o11.decodePointHex(o0.publicKey);return o0.k=new o3(o0.privateKey,16),o0.x1=o1.getX().toBigInteger(),o0}o0.exports={generateKeyPairHex:o7.generateKeyPairHex,compressPublicKeyHex:o7.compressPublicKeyHex,comparePublicKeyHex:o7.comparePublicKeyHex,doEncrypt:function(o0,o1){var o2=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;o0="string"==typeof o0?o7.hexToArray(o7.utf8ToHex(o0)):Array.prototype.slice.call(o0),o1=o7.getGlobalCurve().decodePointHex(o1);var o4=o7.generateKeyPairHex(),o5=new o3(o4.privateKey,16),o6=o4.publicKey;o6.length>128&&(o6=o6.substr(o6.length-128));var o9=o1.multiply(o5),o10=o7.hexToArray(o7.leftPad(o9.getX().toBigInteger().toRadix(16),64)),o11=o7.hexToArray(o7.leftPad(o9.getY().toBigInteger().toRadix(16),64)),o12=o7.arrayToHex(o8([].concat(o10,o0,o11))),o13=1,o14=0,o15=[],o16=[].concat(o10,o11),o17=function(){o15=o8([].concat(o16,[o13>>24&255,o13>>16&255,o13>>8&255,255&o13])),o13++,o14=0};o17();for(var o18=0,o19=o0.length;o18<o19;o18++)o14===o15.length&&o17(),o0[o18]^=255&o15[o14++];var o20=o7.arrayToHex(o0);return 0===o2?o6+o20+o12:o6+o12+o20},doDecrypt:function(o0,o1){var o2=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o4=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o5=o4.output,o6=void 0===o5?"string":o5;o1=new o3(o1,16);var o9=o0.substr(128,64),o10=o0.substr(192);0===o2&&(o9=o0.substr(o0.length-64),o10=o0.substr(128,o0.length-128-64));var o11=o7.hexToArray(o10),o12=o7.getGlobalCurve().decodePointHex("04"+o0.substr(0,128)),o13=o12.multiply(o1),o14=o7.hexToArray(o7.leftPad(o13.getX().toBigInteger().toRadix(16),64)),o15=o7.hexToArray(o7.leftPad(o13.getY().toBigInteger().toRadix(16),64)),o16=1,o17=0,o18=[],o19=[].concat(o14,o15),o20=function(){o18=o8([].concat(o19,[o16>>24&255,o16>>16&255,o16>>8&255,255&o16])),o16++,o17=0};o20();for(var o21=0,o22=o11.length;o21<o22;o21++)o17===o18.length&&o20(),o11[o21]^=255&o18[o17++];var o23=o7.arrayToHex(o8([].concat(o14,o11,o15)));return o23===o9.toLowerCase()?"array"===o6?o11:o7.arrayToUtf8(o11):"array"===o6?[]:""},doSignature:function(o0,o1){var o2=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o4=o2.pointPool,o6=o2.der,o8=o2.hash,o9=o2.publicKey,o10=o2.userId,o11="string"==typeof o0?o7.utf8ToHex(o0):o7.arrayToHex(o0);o8&&(o11=o13(o11,o9=o9||o14(o1),o10));var o16=new o3(o1,16),o17=new o3(o11,16),o18=null,o19=null,o20=null;do{do{var o21=void 0;o18=(o21=o4&&o4.length?o4.pop():o15()).k,o19=o17.add(o21.x1).mod(o12)}while(o19.equals(o3.ZERO)||o19.add(o18).equals(o12));o20=o16.add(o3.ONE).modInverse(o12).multiply(o18.subtract(o19.multiply(o16))).mod(o12)}while(o20.equals(o3.ZERO));return o6?o5(o19,o20):o7.leftPad(o19.toString(16),64)+o7.leftPad(o20.toString(16),64)},doVerifySignature:function(o0,o1,o2){var o4=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o5=o4.der,o8=o4.hash,o9=o4.userId,o14="string"==typeof o0?o7.utf8ToHex(o0):o7.arrayToHex(o0);o8&&(o14=o13(o14,o2,o9));var o15=void 0,o16=void 0;if(o5){var o17=o6(o1);o15=o17.r,o16=o17.s}else o15=new o3(o1.substring(0,64),16),o16=new o3(o1.substring(64),16);var o18=o11.decodePointHex(o2),o19=new o3(o14,16),o20=o15.add(o16).mod(o12);if(o20.equals(o3.ZERO))return!1;var o21=o10.multiply(o16).add(o18.multiply(o20)),o22=o19.add(o21.getX().toBigInteger()).mod(o12);return o15.equals(o22)},getPublicKeyFromPrivateKey:o14,getPoint:o15,verifyPublicKey:o7.verifyPublicKey}},function(o0,o1,o2){function o3(o0,o1){if(!o0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!o1||"object"!=typeof o1&&"function"!=typeof o1?o0:o1}function o4(o0,o1){if("function"!=typeof o1&&null!==o1)throw new TypeError("Super expression must either be null or a function, not "+typeof o1);o0.prototype=Object.create(o1&&o1.prototype,{constructor:{value:o0,enumerable:!1,writable:!0,configurable:!0}}),o1&&(Object.setPrototypeOf?Object.setPrototypeOf(o0,o1):o0.__proto__=o1)}function o5(o0,o1){if(!(o0 instanceof o1))throw new TypeError("Cannot call a class as a function")}var o6=o2(0).BigInteger;var o7=function(){function o0(){o5(this,o0),this.tlv=null,this.t="00",this.l="00",this.v=""}return o0.prototype.getEncodedHex=function(){return this.tlv||(this.v=this.getValue(),this.l=this.getLength(),this.tlv=this.t+this.l+this.v),this.tlv},o0.prototype.getLength=function(){var o0=this.v.length/2,o1=o0.toString(16);return o1.length%2==1&&(o1="0"+o1),o0<128?o1:(128+o1.length/2).toString(16)+o1},o0.prototype.getValue=function(){return""},o0}(),o8=function(o0){function o1(o2){o5(this,o1);var o4=o3(this,o0.call(this));return o4.t="02",o2&&(o4.v=function(o0){var o1=o0.toString(16);if("-"!==o1[0])o1.length%2==1?o1="0"+o1:o1.match(/^[0-7]/)||(o1="00"+o1);else{var o2=(o1=o1.substr(1)).length;o2%2==1?o2+=1:o1.match(/^[0-7]/)||(o2+=2);for(var o3="",o4=0;o4<o2;o4++)o3+="f";o1=(o1=(o3=new o6(o3,16)).xor(o0).add(o6.ONE)).toString(16).replace(/^-/,"")}return o1}(o2)),o4}return o4(o1,o0),o1.prototype.getValue=function(){return this.v},o1}(o7),o9=function(o0){function o1(o2){o5(this,o1);var o4=o3(this,o0.call(this));return o4.t="30",o4.asn1Array=o2,o4}return o4(o1,o0),o1.prototype.getValue=function(){return this.v=this.asn1Array.map((function(o0){return o0.getEncodedHex()})).join(""),this.v},o1}(o7);function o10(o0,o1){return+o0[o1+2]<8?1:128&+o0.substr(o1+2,2)}function o11(o0,o1){var o2=o10(o0,o1),o3=o0.substr(o1+2,2*o2);return o3?(+o3[0]<8?new o6(o3,16):new o6(o3.substr(2),16)).intValue():-1}function o12(o0,o1){return o1+2*(o10(o0,o1)+1)}o0.exports={encodeDer:function(o0,o1){var o2=new o8(o0),o3=new o8(o1);return new o9([o2,o3]).getEncodedHex()},decodeDer:function(o0){var o1=o12(o0,0),o2=o12(o0,o1),o3=o11(o0,o1),o4=o0.substr(o2,2*o3),o5=o2+o4.length,o7=o12(o0,o5),o8=o11(o0,o5),o9=o0.substr(o7,2*o8);return{r:new o6(o4,16),s:new o6(o9,16)}}}},function(o0,o1,o2){var o3=o2(0),o4=o3.BigInteger,o5=o3.SecureRandom,o6=o2(6).ECCurveFp,o7=new o5,o8=o12(),o9=o8.curve,o10=o8.G,o11=o8.n;function o12(){var o0=new o4("FFFFFFFEFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF00000000FFFFFFFFFFFFFFFF",16),o1=new o4("FFFFFFFEFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF00000000FFFFFFFFFFFFFFFC",16),o2=new o4("28E9FA9E9D9F5E344D5A9E4BCF6509A7F39789F515AB8F92DDBCBD414D940E93",16),o3=new o6(o0,o1,o2),o5=o3.decodePointHex("0432C4AE2C1F1981195F9904466A39C9948FE30BBFF2660BE1715A4589334C74C7BC3736A2F4F6779C59BDCEE36B692153D0A9877CC62A474002DF32E52139F0A0");return{curve:o3,G:o5,n:new o4("FFFFFFFEFFFFFFFFFFFFFFFFFFFFFFFF7203DF6B21C6052B53BBF40939D54123",16)}}function o13(o0,o1){return o0.length>=o1?o0:new Array(o1-o0.length+1).join("0")+o0}o0.exports={getGlobalCurve:function(){return o9},generateEcparam:o12,generateKeyPairHex:function(o0,o1,o2){var o3=(o0?new o4(o0,o1,o2):new o4(o11.bitLength(),o7)).mod(o11.subtract(o4.ONE)).add(o4.ONE),o5=o13(o3.toString(16),64),o6=o10.multiply(o3);return{privateKey:o5,publicKey:"04"+o13(o6.getX().toBigInteger().toString(16),64)+o13(o6.getY().toBigInteger().toString(16),64)}},compressPublicKeyHex:function(o0){if(130!==o0.length)throw new Error("Invalid public key to compress");var o1=(o0.length-2)/2,o2=o0.substr(2,o1),o3="03";return new o4(o0.substr(o1+2,o1),16).mod(new o4("2")).equals(o4.ZERO)&&(o3="02"),o3+o2},utf8ToHex:function(o0){for(var o1=(o0=unescape(encodeURIComponent(o0))).length,o2=[],o3=0;o3<o1;o3++)o2[o3>>>2]|=(255&o0.charCodeAt(o3))<<24-o3%4*8;for(var o4=[],o5=0;o5<o1;o5++){var o6=o2[o5>>>2]>>>24-o5%4*8&255;o4.push((o6>>>4).toString(16)),o4.push((15&o6).toString(16))}return o4.join("")},leftPad:o13,arrayToHex:function(o0){return o0.map((function(o0){return 1===(o0=o0.toString(16)).length?"0"+o0:o0})).join("")},arrayToUtf8:function(o0){for(var o1=[],o2=0,o3=0;o3<2*o0.length;o3+=2)o1[o3>>>3]|=parseInt(o0[o2],10)<<24-o3%8*4,o2++;try{for(var o4=[],o5=0;o5<o0.length;o5++){var o6=o1[o5>>>2]>>>24-o5%4*8&255;o4.push(String.fromCharCode(o6))}return decodeURIComponent(escape(o4.join("")))}catch(o0){throw new Error("Malformed UTF-8 data")}},hexToArray:function(o0){var o1=[],o2=o0.length;o2%2!=0&&(o0=o13(o0,o2+1)),o2=o0.length;for(var o3=0;o3<o2;o3+=2)o1.push(parseInt(o0.substr(o3,2),16));return o1},verifyPublicKey:function(o0){var o1=o9.decodePointHex(o0);if(!o1)return!1;var o2=o1.getX();return o1.getY().square().equals(o2.multiply(o2.square()).add(o2.multiply(o9.a)).add(o9.b))},comparePublicKeyHex:function(o0,o1){var o2=o9.decodePointHex(o0);if(!o2)return!1;var o3=o9.decodePointHex(o1);return!!o3&&o2.equals(o3)}}},function(o0,o1,o2){function o3(o0,o1){if(!(o0 instanceof o1))throw new TypeError("Cannot call a class as a function")}var o4=o2(0).BigInteger,o5=new o4("2"),o6=new o4("3"),o7=function(){function o0(o1,o2){o3(this,o0),this.x=o2,this.q=o1}return o0.prototype.equals=function(o0){return o0===this||this.q.equals(o0.q)&&this.x.equals(o0.x)},o0.prototype.toBigInteger=function(){return this.x},o0.prototype.negate=function(){return new o0(this.q,this.x.negate().mod(this.q))},o0.prototype.add=function(o1){return new o0(this.q,this.x.add(o1.toBigInteger()).mod(this.q))},o0.prototype.subtract=function(o1){return new o0(this.q,this.x.subtract(o1.toBigInteger()).mod(this.q))},o0.prototype.multiply=function(o1){return new o0(this.q,this.x.multiply(o1.toBigInteger()).mod(this.q))},o0.prototype.divide=function(o1){return new o0(this.q,this.x.multiply(o1.toBigInteger().modInverse(this.q)).mod(this.q))},o0.prototype.square=function(){return new o0(this.q,this.x.square().mod(this.q))},o0}(),o8=function(){function o0(o1,o2,o5,o6){o3(this,o0),this.curve=o1,this.x=o2,this.y=o5,this.z=null==o6?o4.ONE:o6,this.zinv=null}return o0.prototype.getX=function(){return null===this.zinv&&(this.zinv=this.z.modInverse(this.curve.q)),this.curve.fromBigInteger(this.x.toBigInteger().multiply(this.zinv).mod(this.curve.q))},o0.prototype.getY=function(){return null===this.zinv&&(this.zinv=this.z.modInverse(this.curve.q)),this.curve.fromBigInteger(this.y.toBigInteger().multiply(this.zinv).mod(this.curve.q))},o0.prototype.equals=function(o0){return o0===this||(this.isInfinity()?o0.isInfinity():o0.isInfinity()?this.isInfinity():!!o0.y.toBigInteger().multiply(this.z).subtract(this.y.toBigInteger().multiply(o0.z)).mod(this.curve.q).equals(o4.ZERO)&&o0.x.toBigInteger().multiply(this.z).subtract(this.x.toBigInteger().multiply(o0.z)).mod(this.curve.q).equals(o4.ZERO))},o0.prototype.isInfinity=function(){return null===this.x&&null===this.y||this.z.equals(o4.ZERO)&&!this.y.toBigInteger().equals(o4.ZERO)},o0.prototype.negate=function(){return new o0(this.curve,this.x,this.y.negate(),this.z)},o0.prototype.add=function(o1){if(this.isInfinity())return o1;if(o1.isInfinity())return this;var o2=this.x.toBigInteger(),o3=this.y.toBigInteger(),o5=this.z,o6=o1.x.toBigInteger(),o7=o1.y.toBigInteger(),o8=o1.z,o9=this.curve.q,o10=o2.multiply(o8).mod(o9),o11=o6.multiply(o5).mod(o9),o12=o10.subtract(o11),o13=o3.multiply(o8).mod(o9),o14=o7.multiply(o5).mod(o9),o15=o13.subtract(o14);if(o4.ZERO.equals(o12))return o4.ZERO.equals(o15)?this.twice():this.curve.infinity;var o16=o10.add(o11),o17=o5.multiply(o8).mod(o9),o18=o12.square().mod(o9),o19=o12.multiply(o18).mod(o9),o20=o17.multiply(o15.square()).subtract(o16.multiply(o18)).mod(o9),o21=o12.multiply(o20).mod(o9),o22=o15.multiply(o18.multiply(o10).subtract(o20)).subtract(o13.multiply(o19)).mod(o9),o23=o19.multiply(o17).mod(o9);return new o0(this.curve,this.curve.fromBigInteger(o21),this.curve.fromBigInteger(o22),o23)},o0.prototype.twice=function(){if(this.isInfinity())return this;if(!this.y.toBigInteger().signum())return this.curve.infinity;var o1=this.x.toBigInteger(),o2=this.y.toBigInteger(),o3=this.z,o4=this.curve.q,o5=this.curve.a.toBigInteger(),o7=o1.square().multiply(o6).add(o5.multiply(o3.square())).mod(o4),o8=o2.shiftLeft(1).multiply(o3).mod(o4),o9=o2.square().mod(o4),o10=o9.multiply(o1).multiply(o3).mod(o4),o11=o8.square().mod(o4),o12=o7.square().subtract(o10.shiftLeft(3)).mod(o4),o13=o8.multiply(o12).mod(o4),o14=o7.multiply(o10.shiftLeft(2).subtract(o12)).subtract(o11.shiftLeft(1).multiply(o9)).mod(o4),o15=o8.multiply(o11).mod(o4);return new o0(this.curve,this.curve.fromBigInteger(o13),this.curve.fromBigInteger(o14),o15)},o0.prototype.multiply=function(o0){if(this.isInfinity())return this;if(!o0.signum())return this.curve.infinity;for(var o1=o0.multiply(o6),o2=this.negate(),o3=this,o4=o1.bitLength()-2;o4>0;o4--){o3=o3.twice();var o5=o1.testBit(o4);o5!==o0.testBit(o4)&&(o3=o3.add(o5?this:o2))}return o3},o0}(),o9=function(){function o0(o1,o2,o4){o3(this,o0),this.q=o1,this.a=this.fromBigInteger(o2),this.b=this.fromBigInteger(o4),this.infinity=new o8(this,null,null)}return o0.prototype.equals=function(o0){return o0===this||this.q.equals(o0.q)&&this.a.equals(o0.a)&&this.b.equals(o0.b)},o0.prototype.fromBigInteger=function(o0){return new o7(this.q,o0)},o0.prototype.decodePointHex=function(o0){switch(parseInt(o0.substr(0,2),16)){case 0:return this.infinity;case 2:case 3:var o1=this.fromBigInteger(new o4(o0.substr(2),16)),o2=this.fromBigInteger(o1.multiply(o1.square()).add(o1.multiply(this.a)).add(this.b).toBigInteger().modPow(this.q.divide(new o4("4")).add(o4.ONE),this.q));return o2.toBigInteger().mod(o5).equals(new o4(o0.substr(0,2),16).subtract(o5))||(o2=o2.negate()),new o8(this,o1,o2);case 4:case 6:case 7:var o3=(o0.length-2)/2,o6=o0.substr(2,o3),o7=o0.substr(o3+2,o3);return new o8(this,this.fromBigInteger(new o4(o6,16)),this.fromBigInteger(new o4(o7,16)));default:return null}},o0}();o0.exports={ECPointFp:o8,ECCurveFp:o9}},function(o0,o1,o2){var o3=o2(1),o4=o3.sm3,o5=o3.hmac;function o6(o0){return o0.map((function(o0){return 1===(o0=o0.toString(16)).length?"0"+o0:o0})).join("")}function o7(o0){var o1,o2,o3=[],o4=o0.length;o4%2!=0&&(o2=o4+1,o0=(o1=o0).length>=o2?o1:new Array(o2-o1.length+1).join("0")+o1),o4=o0.length;for(var o5=0;o5<o4;o5+=2)o3.push(parseInt(o0.substr(o5,2),16));return o3}o0.exports=function(o0,o1){if(o0="string"==typeof o0?function(o0){for(var o1=[],o2=0,o3=o0.length;o2<o3;o2++){var o4=o0.codePointAt(o2);if(o4<=127)o1.push(o4);else if(o4<=2047)o1.push(192|o4>>>6),o1.push(128|63&o4);else if(o4<=55295||o4>=57344&&o4<=65535)o1.push(224|o4>>>12),o1.push(128|o4>>>6&63),o1.push(128|63&o4);else{if(!(o4>=65536&&o4<=1114111))throw o1.push(o4),new Error("input is not supported");o2++,o1.push(240|o4>>>18&28),o1.push(128|o4>>>12&63),o1.push(128|o4>>>6&63),o1.push(128|63&o4)}}return o1}(o0):Array.prototype.slice.call(o0),o1){if("hmac"!==(o1.mode||"hmac"))throw new Error("invalid mode");var o2=o1.key;if(!o2)throw new Error("invalid key");return o2="string"==typeof o2?o7(o2):Array.prototype.slice.call(o2),o6(o5(o0,o2))}return o6(o4(o0))}},function(o0,o1,o2){var o3=16,o4=[214,144,233,254,204,225,61,183,22,182,20,194,40,251,44,5,43,103,154,118,42,190,4,195,170,68,19,38,73,134,6,153,156,66,80,244,145,239,152,122,51,84,11,67,237,207,172,98,228,179,28,169,201,8,232,149,128,223,148,250,117,143,63,166,71,7,167,252,243,115,23,186,131,89,60,25,230,133,79,168,104,107,129,178,113,100,218,139,248,235,15,75,112,86,157,53,30,36,14,94,99,88,209,162,37,34,124,59,1,33,120,135,212,0,70,87,159,211,39,82,76,54,2,231,160,196,200,158,234,191,138,210,64,199,56,181,163,247,242,206,249,97,21,161,224,174,93,164,155,52,26,85,173,147,50,48,245,140,177,227,29,246,226,46,130,102,202,96,192,41,35,171,13,83,78,111,213,219,55,69,222,253,142,47,3,255,106,114,109,108,91,81,141,27,175,146,187,221,188,127,17,217,92,65,31,16,90,216,10,193,49,136,165,205,123,189,45,116,208,18,184,229,180,176,137,105,151,74,12,150,119,126,101,185,241,9,197,110,198,132,24,240,125,236,58,220,77,32,121,238,95,62,215,203,57,72],o5=[462357,472066609,943670861,1415275113,1886879365,2358483617,2830087869,3301692121,3773296373,4228057617,404694573,876298825,1347903077,1819507329,2291111581,2762715833,3234320085,3705924337,4177462797,337322537,808926789,1280531041,1752135293,2223739545,2695343797,3166948049,3638552301,4110090761,269950501,741554753,1213159005,1684763257];function o6(o0){for(var o1=[],o2=0,o3=o0.length;o2<o3;o2+=2)o1.push(parseInt(o0.substr(o2,2),16));return o1}function o7(o0){return o0.map((function(o0){return 1===(o0=o0.toString(16)).length?"0"+o0:o0})).join("")}function o8(o0){for(var o1=[],o2=0,o3=o0.length;o2<o3;o2++){var o4=o0.codePointAt(o2);if(o4<=127)o1.push(o4);else if(o4<=2047)o1.push(192|o4>>>6),o1.push(128|63&o4);else if(o4<=55295||o4>=57344&&o4<=65535)o1.push(224|o4>>>12),o1.push(128|o4>>>6&63),o1.push(128|63&o4);else{if(!(o4>=65536&&o4<=1114111))throw o1.push(o4),new Error("input is not supported");o2++,o1.push(240|o4>>>18&28),o1.push(128|o4>>>12&63),o1.push(128|o4>>>6&63),o1.push(128|63&o4)}}return o1}function o9(o0){for(var o1=[],o2=0,o3=o0.length;o2<o3;o2++)o0[o2]>=240&&o0[o2]<=247?(o1.push(String.fromCodePoint(((7&o0[o2])<<18)+((63&o0[o2+1])<<12)+((63&o0[o2+2])<<6)+(63&o0[o2+3]))),o2+=3):o0[o2]>=224&&o0[o2]<=239?(o1.push(String.fromCodePoint(((15&o0[o2])<<12)+((63&o0[o2+1])<<6)+(63&o0[o2+2]))),o2+=2):o0[o2]>=192&&o0[o2]<=223?(o1.push(String.fromCodePoint(((31&o0[o2])<<6)+(63&o0[o2+1]))),o2++):o1.push(String.fromCodePoint(o0[o2]));return o1.join("")}function o10(o0,o1){var o2=31&o1;return o0<<o2|o0>>>32-o2}function o11(o0){return(255&o4[o0>>>24&255])<<24|(255&o4[o0>>>16&255])<<16|(255&o4[o0>>>8&255])<<8|255&o4[255&o0]}function o12(o0){return o0^o10(o0,2)^o10(o0,10)^o10(o0,18)^o10(o0,24)}function o13(o0){return o0^o10(o0,13)^o10(o0,23)}function o14(o0,o1,o2){for(var o3=new Array(4),o4=new Array(4),o5=0;o5<4;o5++)o4[0]=255&o0[4*o5],o4[1]=255&o0[4*o5+1],o4[2]=255&o0[4*o5+2],o4[3]=255&o0[4*o5+3],o3[o5]=o4[0]<<24|o4[1]<<16|o4[2]<<8|o4[3];for(var o6,o7=0;o7<32;o7+=4)o6=o3[1]^o3[2]^o3[3]^o2[o7+0],o3[0]^=o12(o11(o6)),o6=o3[2]^o3[3]^o3[0]^o2[o7+1],o3[1]^=o12(o11(o6)),o6=o3[3]^o3[0]^o3[1]^o2[o7+2],o3[2]^=o12(o11(o6)),o6=o3[0]^o3[1]^o3[2]^o2[o7+3],o3[3]^=o12(o11(o6));for(var o8=0;o8<16;o8+=4)o1[o8]=o3[3-o8/4]>>>24&255,o1[o8+1]=o3[3-o8/4]>>>16&255,o1[o8+2]=o3[3-o8/4]>>>8&255,o1[o8+3]=255&o3[3-o8/4]}function o15(o0,o1,o2){for(var o3=new Array(4),o4=new Array(4),o6=0;o6<4;o6++)o4[0]=255&o0[0+4*o6],o4[1]=255&o0[1+4*o6],o4[2]=255&o0[2+4*o6],o4[3]=255&o0[3+4*o6],o3[o6]=o4[0]<<24|o4[1]<<16|o4[2]<<8|o4[3];o3[0]^=2746333894,o3[1]^=1453994832,o3[2]^=1736282519,o3[3]^=2993693404;for(var o7,o8=0;o8<32;o8+=4)o7=o3[1]^o3[2]^o3[3]^o5[o8+0],o1[o8+0]=o3[0]^=o13(o11(o7)),o7=o3[2]^o3[3]^o3[0]^o5[o8+1],o1[o8+1]=o3[1]^=o13(o11(o7)),o7=o3[3]^o3[0]^o3[1]^o5[o8+2],o1[o8+2]=o3[2]^=o13(o11(o7)),o7=o3[0]^o3[1]^o3[2]^o5[o8+3],o1[o8+3]=o3[3]^=o13(o11(o7));if(0===o2)for(var o9,o10=0;o10<16;o10++)o9=o1[o10],o1[o10]=o1[31-o10],o1[31-o10]=o9}function o16(o0,o1,o2){var o4=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o5=o4.padding,o10=void 0===o5?"pkcs#7":o5,o11=o4.mode,o12=o4.iv,o13=void 0===o12?[]:o12,o16=o4.output,o17=void 0===o16?"string":o16;if("cbc"===o11&&("string"==typeof o13&&(o13=o6(o13)),16!==o13.length))throw new Error("iv is invalid");if("string"==typeof o1&&(o1=o6(o1)),16!==o1.length)throw new Error("key is invalid");if(o0="string"==typeof o0?0!==o2?o8(o0):o6(o0):[].concat(o0),("pkcs#5"===o10||"pkcs#7"===o10)&&0!==o2)for(var o18=o3-o0.length%o3,o19=0;o19<o18;o19++)o0.push(o18);var o20=new Array(32);o15(o1,o20,o2);for(var o21=[],o22=o13,o23=o0.length,o24=0;o23>=o3;){var o25=o0.slice(o24,o24+16),o26=new Array(16);if("cbc"===o11)for(var o27=0;o27<o3;o27++)0!==o2&&(o25[o27]^=o22[o27]);o14(o25,o26,o20);for(var o28=0;o28<o3;o28++)"cbc"===o11&&0===o2&&(o26[o28]^=o22[o28]),o21[o24+o28]=o26[o28];"cbc"===o11&&(o22=0!==o2?o26:o25),o23-=o3,o24+=o3}if(("pkcs#5"===o10||"pkcs#7"===o10)&&0===o2){for(var o29=o21.length,o30=o21[o29-1],o31=1;o31<=o30;o31++)if(o21[o29-o31]!==o30)throw new Error("padding is invalid");o21.splice(o29-o30,o30)}return"array"!==o17?0!==o2?o7(o21):o9(o21):o21}o0.exports={encrypt:function(o0,o1,o2){return o16(o0,o1,1,o2)},decrypt:function(o0,o1,o2){return o16(o0,o1,0,o2)}}}])},4640:(o0,o1,o2)=>{var o3=o2(2680);function o4(o0){var o1=function(){return o1.called?o1.value:(o1.called=!0,o1.value=o0.apply(this,arguments))};return o1.called=!1,o1}function o5(o0){var o1=function(){if(o1.called)throw new Error(o1.onceError);return o1.called=!0,o1.value=o0.apply(this,arguments)},o2=o0.name||"Function wrapped with `once`";return o1.onceError=o2+" shouldn't be called more than once",o1.called=!1,o1}o0.exports=o3(o4),o0.exports.strict=o3(o5),o4.proto=o4((function(){Object.defineProperty(Function.prototype,"once",{value:function(){return o4(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return o5(this)},configurable:!0})}))},3548:(o0,o1,o2)=>{var o3={};(0,o2(12).assign)(o3,o2(3400),o2(7888),o2(944)),o0.exports=o3},3400:(o0,o1,o2)=>{var o3=o2(9379),o4=o2(12),o5=o2(3352),o6=o2(9451),o7=o2(6092),o8=Object.prototype.toString;function o9(o0){if(!(this instanceof o9))return new o9(o0);this.options=o4.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},o0||{});var o1=this.options;o1.raw&&o1.windowBits>0?o1.windowBits=-o1.windowBits:o1.gzip&&o1.windowBits>0&&o1.windowBits<16&&(o1.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new o7,this.strm.avail_out=0;var o2=o3.deflateInit2(this.strm,o1.level,o1.method,o1.windowBits,o1.memLevel,o1.strategy);if(0!==o2)throw new Error(o6[o2]);if(o1.header&&o3.deflateSetHeader(this.strm,o1.header),o1.dictionary){var o10;if(o10="string"==typeof o1.dictionary?o5.string2buf(o1.dictionary):"[object ArrayBuffer]"===o8.call(o1.dictionary)?new Uint8Array(o1.dictionary):o1.dictionary,0!==(o2=o3.deflateSetDictionary(this.strm,o10)))throw new Error(o6[o2]);this._dict_set=!0}}function o10(o0,o1){var o2=new o9(o1);if(o2.push(o0,!0),o2.err)throw o2.msg||o6[o2.err];return o2.result}o9.prototype.push=function(o0,o1){var o2,o6,o7=this.strm,o9=this.options.chunkSize;if(this.ended)return!1;o6=o1===~~o1?o1:!0===o1?4:0,"string"==typeof o0?o7.input=o5.string2buf(o0):"[object ArrayBuffer]"===o8.call(o0)?o7.input=new Uint8Array(o0):o7.input=o0,o7.next_in=0,o7.avail_in=o7.input.length;do{if(0===o7.avail_out&&(o7.output=new o4.Buf8(o9),o7.next_out=0,o7.avail_out=o9),1!==(o2=o3.deflate(o7,o6))&&0!==o2)return this.onEnd(o2),this.ended=!0,!1;0!==o7.avail_out&&(0!==o7.avail_in||4!==o6&&2!==o6)||("string"===this.options.to?this.onData(o5.buf2binstring(o4.shrinkBuf(o7.output,o7.next_out))):this.onData(o4.shrinkBuf(o7.output,o7.next_out)))}while((o7.avail_in>0||0===o7.avail_out)&&1!==o2);return 4===o6?(o2=o3.deflateEnd(this.strm),this.onEnd(o2),this.ended=!0,0===o2):2!==o6||(this.onEnd(0),o7.avail_out=0,!0)},o9.prototype.onData=function(o0){this.chunks.push(o0)},o9.prototype.onEnd=function(o0){0===o0&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=o4.flattenChunks(this.chunks)),this.chunks=[],this.err=o0,this.msg=this.strm.msg},o1.Deflate=o9,o1.deflate=o10,o1.deflateRaw=function(o0,o1){return(o1=o1||{}).raw=!0,o10(o0,o1)},o1.gzip=function(o0,o1){return(o1=o1||{}).gzip=!0,o10(o0,o1)}},7888:(o0,o1,o2)=>{var o3=o2(7040),o4=o2(12),o5=o2(3352),o6=o2(944),o7=o2(9451),o8=o2(6092),o9=o2(1112),o10=Object.prototype.toString;function o11(o0){if(!(this instanceof o11))return new o11(o0);this.options=o4.assign({chunkSize:16384,windowBits:0,to:""},o0||{});var o1=this.options;o1.raw&&o1.windowBits>=0&&o1.windowBits<16&&(o1.windowBits=-o1.windowBits,0===o1.windowBits&&(o1.windowBits=-15)),!(o1.windowBits>=0&&o1.windowBits<16)||o0&&o0.windowBits||(o1.windowBits+=32),o1.windowBits>15&&o1.windowBits<48&&0==(15&o1.windowBits)&&(o1.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new o8,this.strm.avail_out=0;var o2=o3.inflateInit2(this.strm,o1.windowBits);if(o2!==o6.Z_OK)throw new Error(o7[o2]);if(this.header=new o9,o3.inflateGetHeader(this.strm,this.header),o1.dictionary&&("string"==typeof o1.dictionary?o1.dictionary=o5.string2buf(o1.dictionary):"[object ArrayBuffer]"===o10.call(o1.dictionary)&&(o1.dictionary=new Uint8Array(o1.dictionary)),o1.raw&&(o2=o3.inflateSetDictionary(this.strm,o1.dictionary))!==o6.Z_OK))throw new Error(o7[o2])}function o12(o0,o1){var o2=new o11(o1);if(o2.push(o0,!0),o2.err)throw o2.msg||o7[o2.err];return o2.result}o11.prototype.push=function(o0,o1){var o2,o7,o8,o9,o11,o12=this.strm,o13=this.options.chunkSize,o14=this.options.dictionary,o15=!1;if(this.ended)return!1;o7=o1===~~o1?o1:!0===o1?o6.Z_FINISH:o6.Z_NO_FLUSH,"string"==typeof o0?o12.input=o5.binstring2buf(o0):"[object ArrayBuffer]"===o10.call(o0)?o12.input=new Uint8Array(o0):o12.input=o0,o12.next_in=0,o12.avail_in=o12.input.length;do{if(0===o12.avail_out&&(o12.output=new o4.Buf8(o13),o12.next_out=0,o12.avail_out=o13),(o2=o3.inflate(o12,o6.Z_NO_FLUSH))===o6.Z_NEED_DICT&&o14&&(o2=o3.inflateSetDictionary(this.strm,o14)),o2===o6.Z_BUF_ERROR&&!0===o15&&(o2=o6.Z_OK,o15=!1),o2!==o6.Z_STREAM_END&&o2!==o6.Z_OK)return this.onEnd(o2),this.ended=!0,!1;o12.next_out&&(0!==o12.avail_out&&o2!==o6.Z_STREAM_END&&(0!==o12.avail_in||o7!==o6.Z_FINISH&&o7!==o6.Z_SYNC_FLUSH)||("string"===this.options.to?(o8=o5.utf8border(o12.output,o12.next_out),o9=o12.next_out-o8,o11=o5.buf2string(o12.output,o8),o12.next_out=o9,o12.avail_out=o13-o9,o9&&o4.arraySet(o12.output,o12.output,o8,o9,0),this.onData(o11)):this.onData(o4.shrinkBuf(o12.output,o12.next_out)))),0===o12.avail_in&&0===o12.avail_out&&(o15=!0)}while((o12.avail_in>0||0===o12.avail_out)&&o2!==o6.Z_STREAM_END);return o2===o6.Z_STREAM_END&&(o7=o6.Z_FINISH),o7===o6.Z_FINISH?(o2=o3.inflateEnd(this.strm),this.onEnd(o2),this.ended=!0,o2===o6.Z_OK):o7!==o6.Z_SYNC_FLUSH||(this.onEnd(o6.Z_OK),o12.avail_out=0,!0)},o11.prototype.onData=function(o0){this.chunks.push(o0)},o11.prototype.onEnd=function(o0){o0===o6.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=o4.flattenChunks(this.chunks)),this.chunks=[],this.err=o0,this.msg=this.strm.msg},o1.Inflate=o11,o1.inflate=o12,o1.inflateRaw=function(o0,o1){return(o1=o1||{}).raw=!0,o12(o0,o1)},o1.ungzip=o12},12:(o0,o1)=>{var o2="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;function o3(o0,o1){return Object.prototype.hasOwnProperty.call(o0,o1)}o1.assign=function(o0){for(var o1=Array.prototype.slice.call(arguments,1);o1.length;){var o2=o1.shift();if(o2){if("object"!=typeof o2)throw new TypeError(o2+"must be non-object");for(var o4 in o2)o3(o2,o4)&&(o0[o4]=o2[o4])}}return o0},o1.shrinkBuf=function(o0,o1){return o0.length===o1?o0:o0.subarray?o0.subarray(0,o1):(o0.length=o1,o0)};var o4={arraySet:function(o0,o1,o2,o3,o4){if(o1.subarray&&o0.subarray)o0.set(o1.subarray(o2,o2+o3),o4);else for(var o5=0;o5<o3;o5++)o0[o4+o5]=o1[o2+o5]},flattenChunks:function(o0){var o1,o2,o3,o4,o5,o6;for(o3=0,o1=0,o2=o0.length;o1<o2;o1++)o3+=o0[o1].length;for(o6=new Uint8Array(o3),o4=0,o1=0,o2=o0.length;o1<o2;o1++)o5=o0[o1],o6.set(o5,o4),o4+=o5.length;return o6}},o5={arraySet:function(o0,o1,o2,o3,o4){for(var o5=0;o5<o3;o5++)o0[o4+o5]=o1[o2+o5]},flattenChunks:function(o0){return[].concat.apply([],o0)}};o1.setTyped=function(o0){o0?(o1.Buf8=Uint8Array,o1.Buf16=Uint16Array,o1.Buf32=Int32Array,o1.assign(o1,o4)):(o1.Buf8=Array,o1.Buf16=Array,o1.Buf32=Array,o1.assign(o1,o5))},o1.setTyped(o2)},3352:(o0,o1,o2)=>{var o3=o2(12),o4=!0,o5=!0;try{String.fromCharCode.apply(null,[0])}catch(o0){o4=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(o0){o5=!1}for(var o6=new o3.Buf8(256),o7=0;o7<256;o7++)o6[o7]=o7>=252?6:o7>=248?5:o7>=240?4:o7>=224?3:o7>=192?2:1;function o8(o0,o1){if(o1<65534&&(o0.subarray&&o5||!o0.subarray&&o4))return String.fromCharCode.apply(null,o3.shrinkBuf(o0,o1));for(var o2="",o6=0;o6<o1;o6++)o2+=String.fromCharCode(o0[o6]);return o2}o6[254]=o6[254]=1,o1.string2buf=function(o0){var o1,o2,o4,o5,o6,o7=o0.length,o8=0;for(o5=0;o5<o7;o5++)55296==(64512&(o2=o0.charCodeAt(o5)))&&o5+1<o7&&56320==(64512&(o4=o0.charCodeAt(o5+1)))&&(o2=65536+(o2-55296<<10)+(o4-56320),o5++),o8+=o2<128?1:o2<2048?2:o2<65536?3:4;for(o1=new o3.Buf8(o8),o6=0,o5=0;o6<o8;o5++)55296==(64512&(o2=o0.charCodeAt(o5)))&&o5+1<o7&&56320==(64512&(o4=o0.charCodeAt(o5+1)))&&(o2=65536+(o2-55296<<10)+(o4-56320),o5++),o2<128?o1[o6++]=o2:o2<2048?(o1[o6++]=192|o2>>>6,o1[o6++]=128|63&o2):o2<65536?(o1[o6++]=224|o2>>>12,o1[o6++]=128|o2>>>6&63,o1[o6++]=128|63&o2):(o1[o6++]=240|o2>>>18,o1[o6++]=128|o2>>>12&63,o1[o6++]=128|o2>>>6&63,o1[o6++]=128|63&o2);return o1},o1.buf2binstring=function(o0){return o8(o0,o0.length)},o1.binstring2buf=function(o0){for(var o1=new o3.Buf8(o0.length),o2=0,o4=o1.length;o2<o4;o2++)o1[o2]=o0.charCodeAt(o2);return o1},o1.buf2string=function(o0,o1){var o2,o3,o4,o5,o7=o1||o0.length,o9=new Array(2*o7);for(o3=0,o2=0;o2<o7;)if((o4=o0[o2++])<128)o9[o3++]=o4;else if((o5=o6[o4])>4)o9[o3++]=65533,o2+=o5-1;else{for(o4&=2===o5?31:3===o5?15:7;o5>1&&o2<o7;)o4=o4<<6|63&o0[o2++],o5--;o5>1?o9[o3++]=65533:o4<65536?o9[o3++]=o4:(o4-=65536,o9[o3++]=55296|o4>>10&1023,o9[o3++]=56320|1023&o4)}return o8(o9,o3)},o1.utf8border=function(o0,o1){var o2;for((o1=o1||o0.length)>o0.length&&(o1=o0.length),o2=o1-1;o2>=0&&128==(192&o0[o2]);)o2--;return o2<0||0===o2?o1:o2+o6[o0[o2]]>o1?o2:o1}},2696:o0=>{o0.exports=function(o0,o1,o2,o3){for(var o4=65535&o0|0,o5=o0>>>16&65535|0,o6=0;0!==o2;){o2-=o6=o2>2e3?2e3:o2;do{o5=o5+(o4=o4+o1[o3++]|0)|0}while(--o6);o4%=65521,o5%=65521}return o4|o5<<16|0}},944:o0=>{o0.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},9456:o0=>{var o1=function(){for(var o0,o1=[],o2=0;o2<256;o2++){o0=o2;for(var o3=0;o3<8;o3++)o0=1&o0?3988292384^o0>>>1:o0>>>1;o1[o2]=o0}return o1}();o0.exports=function(o0,o2,o3,o4){var o5=o1,o6=o4+o3;o0^=-1;for(var o7=o4;o7<o6;o7++)o0=o0>>>8^o5[255&(o0^o2[o7])];return-1^o0}},9379:(o0,o1,o2)=>{var o3,o4=o2(12),o5=o2(2976),o6=o2(2696),o7=o2(9456),o8=o2(9451),o9=-2,o10=258,o11=262,o12=103,o13=113,o14=666;function o15(o0,o1){return o0.msg=o8[o1],o1}function o16(o0){return(o0<<1)-(o0>4?9:0)}function o17(o0){for(var o1=o0.length;--o1>=0;)o0[o1]=0}function o18(o0){var o1=o0.state,o2=o1.pending;o2>o0.avail_out&&(o2=o0.avail_out),0!==o2&&(o4.arraySet(o0.output,o1.pending_buf,o1.pending_out,o2,o0.next_out),o0.next_out+=o2,o1.pending_out+=o2,o0.total_out+=o2,o0.avail_out-=o2,o1.pending-=o2,0===o1.pending&&(o1.pending_out=0))}function o19(o0,o1){o5._tr_flush_block(o0,o0.block_start>=0?o0.block_start:-1,o0.strstart-o0.block_start,o1),o0.block_start=o0.strstart,o18(o0.strm)}function o20(o0,o1){o0.pending_buf[o0.pending++]=o1}function o21(o0,o1){o0.pending_buf[o0.pending++]=o1>>>8&255,o0.pending_buf[o0.pending++]=255&o1}function o22(o0,o1){var o2,o3,o4=o0.max_chain_length,o5=o0.strstart,o6=o0.prev_length,o7=o0.nice_match,o8=o0.strstart>o0.w_size-o11?o0.strstart-(o0.w_size-o11):0,o9=o0.window,o12=o0.w_mask,o13=o0.prev,o14=o0.strstart+o10,o15=o9[o5+o6-1],o16=o9[o5+o6];o0.prev_length>=o0.good_match&&(o4>>=2),o7>o0.lookahead&&(o7=o0.lookahead);do{if(o9[(o2=o1)+o6]===o16&&o9[o2+o6-1]===o15&&o9[o2]===o9[o5]&&o9[++o2]===o9[o5+1]){o5+=2,o2++;do{}while(o9[++o5]===o9[++o2]&&o9[++o5]===o9[++o2]&&o9[++o5]===o9[++o2]&&o9[++o5]===o9[++o2]&&o9[++o5]===o9[++o2]&&o9[++o5]===o9[++o2]&&o9[++o5]===o9[++o2]&&o9[++o5]===o9[++o2]&&o5<o14);if(o3=o10-(o14-o5),o5=o14-o10,o3>o6){if(o0.match_start=o1,o6=o3,o3>=o7)break;o15=o9[o5+o6-1],o16=o9[o5+o6]}}}while((o1=o13[o1&o12])>o8&&0!=--o4);return o6<=o0.lookahead?o6:o0.lookahead}function o23(o0){var o1,o2,o3,o5,o8,o9,o10,o12,o13,o14,o15=o0.w_size;do{if(o5=o0.window_size-o0.lookahead-o0.strstart,o0.strstart>=o15+(o15-o11)){o4.arraySet(o0.window,o0.window,o15,o15,0),o0.match_start-=o15,o0.strstart-=o15,o0.block_start-=o15,o1=o2=o0.hash_size;do{o3=o0.head[--o1],o0.head[o1]=o3>=o15?o3-o15:0}while(--o2);o1=o2=o15;do{o3=o0.prev[--o1],o0.prev[o1]=o3>=o15?o3-o15:0}while(--o2);o5+=o15}if(0===o0.strm.avail_in)break;if(o9=o0.strm,o10=o0.window,o12=o0.strstart+o0.lookahead,o13=o5,o14=void 0,(o14=o9.avail_in)>o13&&(o14=o13),o2=0===o14?0:(o9.avail_in-=o14,o4.arraySet(o10,o9.input,o9.next_in,o14,o12),1===o9.state.wrap?o9.adler=o6(o9.adler,o10,o14,o12):2===o9.state.wrap&&(o9.adler=o7(o9.adler,o10,o14,o12)),o9.next_in+=o14,o9.total_in+=o14,o14),o0.lookahead+=o2,o0.lookahead+o0.insert>=3)for(o8=o0.strstart-o0.insert,o0.ins_h=o0.window[o8],o0.ins_h=(o0.ins_h<<o0.hash_shift^o0.window[o8+1])&o0.hash_mask;o0.insert&&(o0.ins_h=(o0.ins_h<<o0.hash_shift^o0.window[o8+3-1])&o0.hash_mask,o0.prev[o8&o0.w_mask]=o0.head[o0.ins_h],o0.head[o0.ins_h]=o8,o8++,o0.insert--,!(o0.lookahead+o0.insert<3)););}while(o0.lookahead<o11&&0!==o0.strm.avail_in)}function o24(o0,o1){for(var o2,o3;;){if(o0.lookahead<o11){if(o23(o0),o0.lookahead<o11&&0===o1)return 1;if(0===o0.lookahead)break}if(o2=0,o0.lookahead>=3&&(o0.ins_h=(o0.ins_h<<o0.hash_shift^o0.window[o0.strstart+3-1])&o0.hash_mask,o2=o0.prev[o0.strstart&o0.w_mask]=o0.head[o0.ins_h],o0.head[o0.ins_h]=o0.strstart),0!==o2&&o0.strstart-o2<=o0.w_size-o11&&(o0.match_length=o22(o0,o2)),o0.match_length>=3)if(o3=o5._tr_tally(o0,o0.strstart-o0.match_start,o0.match_length-3),o0.lookahead-=o0.match_length,o0.match_length<=o0.max_lazy_match&&o0.lookahead>=3){o0.match_length--;do{o0.strstart++,o0.ins_h=(o0.ins_h<<o0.hash_shift^o0.window[o0.strstart+3-1])&o0.hash_mask,o2=o0.prev[o0.strstart&o0.w_mask]=o0.head[o0.ins_h],o0.head[o0.ins_h]=o0.strstart}while(0!=--o0.match_length);o0.strstart++}else o0.strstart+=o0.match_length,o0.match_length=0,o0.ins_h=o0.window[o0.strstart],o0.ins_h=(o0.ins_h<<o0.hash_shift^o0.window[o0.strstart+1])&o0.hash_mask;else o3=o5._tr_tally(o0,0,o0.window[o0.strstart]),o0.lookahead--,o0.strstart++;if(o3&&(o19(o0,!1),0===o0.strm.avail_out))return 1}return o0.insert=o0.strstart<2?o0.strstart:2,4===o1?(o19(o0,!0),0===o0.strm.avail_out?3:4):o0.last_lit&&(o19(o0,!1),0===o0.strm.avail_out)?1:2}function o25(o0,o1){for(var o2,o3,o4;;){if(o0.lookahead<o11){if(o23(o0),o0.lookahead<o11&&0===o1)return 1;if(0===o0.lookahead)break}if(o2=0,o0.lookahead>=3&&(o0.ins_h=(o0.ins_h<<o0.hash_shift^o0.window[o0.strstart+3-1])&o0.hash_mask,o2=o0.prev[o0.strstart&o0.w_mask]=o0.head[o0.ins_h],o0.head[o0.ins_h]=o0.strstart),o0.prev_length=o0.match_length,o0.prev_match=o0.match_start,o0.match_length=2,0!==o2&&o0.prev_length<o0.max_lazy_match&&o0.strstart-o2<=o0.w_size-o11&&(o0.match_length=o22(o0,o2),o0.match_length<=5&&(1===o0.strategy||3===o0.match_length&&o0.strstart-o0.match_start>4096)&&(o0.match_length=2)),o0.prev_length>=3&&o0.match_length<=o0.prev_length){o4=o0.strstart+o0.lookahead-3,o3=o5._tr_tally(o0,o0.strstart-1-o0.prev_match,o0.prev_length-3),o0.lookahead-=o0.prev_length-1,o0.prev_length-=2;do{++o0.strstart<=o4&&(o0.ins_h=(o0.ins_h<<o0.hash_shift^o0.window[o0.strstart+3-1])&o0.hash_mask,o2=o0.prev[o0.strstart&o0.w_mask]=o0.head[o0.ins_h],o0.head[o0.ins_h]=o0.strstart)}while(0!=--o0.prev_length);if(o0.match_available=0,o0.match_length=2,o0.strstart++,o3&&(o19(o0,!1),0===o0.strm.avail_out))return 1}else if(o0.match_available){if((o3=o5._tr_tally(o0,0,o0.window[o0.strstart-1]))&&o19(o0,!1),o0.strstart++,o0.lookahead--,0===o0.strm.avail_out)return 1}else o0.match_available=1,o0.strstart++,o0.lookahead--}return o0.match_available&&(o3=o5._tr_tally(o0,0,o0.window[o0.strstart-1]),o0.match_available=0),o0.insert=o0.strstart<2?o0.strstart:2,4===o1?(o19(o0,!0),0===o0.strm.avail_out?3:4):o0.last_lit&&(o19(o0,!1),0===o0.strm.avail_out)?1:2}function o26(o0,o1,o2,o3,o4){this.good_length=o0,this.max_lazy=o1,this.nice_length=o2,this.max_chain=o3,this.func=o4}function o27(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new o4.Buf16(1146),this.dyn_dtree=new o4.Buf16(122),this.bl_tree=new o4.Buf16(78),o17(this.dyn_ltree),o17(this.dyn_dtree),o17(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new o4.Buf16(16),this.heap=new o4.Buf16(573),o17(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new o4.Buf16(573),o17(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function o28(o0){var o1;return o0&&o0.state?(o0.total_in=o0.total_out=0,o0.data_type=2,(o1=o0.state).pending=0,o1.pending_out=0,o1.wrap<0&&(o1.wrap=-o1.wrap),o1.status=o1.wrap?42:o13,o0.adler=2===o1.wrap?0:1,o1.last_flush=0,o5._tr_init(o1),0):o15(o0,o9)}function o29(o0){var o1,o2=o28(o0);return 0===o2&&((o1=o0.state).window_size=2*o1.w_size,o17(o1.head),o1.max_lazy_match=o3[o1.level].max_lazy,o1.good_match=o3[o1.level].good_length,o1.nice_match=o3[o1.level].nice_length,o1.max_chain_length=o3[o1.level].max_chain,o1.strstart=0,o1.block_start=0,o1.lookahead=0,o1.insert=0,o1.match_length=o1.prev_length=2,o1.match_available=0,o1.ins_h=0),o2}function o30(o0,o1,o2,o3,o5,o6){if(!o0)return o9;var o7=1;if(-1===o1&&(o1=6),o3<0?(o7=0,o3=-o3):o3>15&&(o7=2,o3-=16),o5<1||o5>9||8!==o2||o3<8||o3>15||o1<0||o1>9||o6<0||o6>4)return o15(o0,o9);8===o3&&(o3=9);var o8=new o27;return o0.state=o8,o8.strm=o0,o8.wrap=o7,o8.gzhead=null,o8.w_bits=o3,o8.w_size=1<<o8.w_bits,o8.w_mask=o8.w_size-1,o8.hash_bits=o5+7,o8.hash_size=1<<o8.hash_bits,o8.hash_mask=o8.hash_size-1,o8.hash_shift=~~((o8.hash_bits+3-1)/3),o8.window=new o4.Buf8(2*o8.w_size),o8.head=new o4.Buf16(o8.hash_size),o8.prev=new o4.Buf16(o8.w_size),o8.lit_bufsize=1<<o5+6,o8.pending_buf_size=4*o8.lit_bufsize,o8.pending_buf=new o4.Buf8(o8.pending_buf_size),o8.d_buf=1*o8.lit_bufsize,o8.l_buf=3*o8.lit_bufsize,o8.level=o1,o8.strategy=o6,o8.method=o2,o29(o0)}o3=[new o26(0,0,0,0,(function(o0,o1){var o2=65535;for(o2>o0.pending_buf_size-5&&(o2=o0.pending_buf_size-5);;){if(o0.lookahead<=1){if(o23(o0),0===o0.lookahead&&0===o1)return 1;if(0===o0.lookahead)break}o0.strstart+=o0.lookahead,o0.lookahead=0;var o3=o0.block_start+o2;if((0===o0.strstart||o0.strstart>=o3)&&(o0.lookahead=o0.strstart-o3,o0.strstart=o3,o19(o0,!1),0===o0.strm.avail_out))return 1;if(o0.strstart-o0.block_start>=o0.w_size-o11&&(o19(o0,!1),0===o0.strm.avail_out))return 1}return o0.insert=0,4===o1?(o19(o0,!0),0===o0.strm.avail_out?3:4):(o0.strstart>o0.block_start&&(o19(o0,!1),o0.strm.avail_out),1)})),new o26(4,4,8,4,o24),new o26(4,5,16,8,o24),new o26(4,6,32,32,o24),new o26(4,4,16,16,o25),new o26(8,16,32,32,o25),new o26(8,16,128,128,o25),new o26(8,32,128,256,o25),new o26(32,128,258,1024,o25),new o26(32,258,258,4096,o25)],o1.deflateInit=function(o0,o1){return o30(o0,o1,8,15,8,0)},o1.deflateInit2=o30,o1.deflateReset=o29,o1.deflateResetKeep=o28,o1.deflateSetHeader=function(o0,o1){return o0&&o0.state?2!==o0.state.wrap?o9:(o0.state.gzhead=o1,0):o9},o1.deflate=function(o0,o1){var o2,o4,o6,o8;if(!o0||!o0.state||o1>5||o1<0)return o0?o15(o0,o9):o9;if(o4=o0.state,!o0.output||!o0.input&&0!==o0.avail_in||o4.status===o14&&4!==o1)return o15(o0,0===o0.avail_out?-5:o9);if(o4.strm=o0,o2=o4.last_flush,o4.last_flush=o1,42===o4.status)if(2===o4.wrap)o0.adler=0,o20(o4,31),o20(o4,139),o20(o4,8),o4.gzhead?(o20(o4,(o4.gzhead.text?1:0)+(o4.gzhead.hcrc?2:0)+(o4.gzhead.extra?4:0)+(o4.gzhead.name?8:0)+(o4.gzhead.comment?16:0)),o20(o4,255&o4.gzhead.time),o20(o4,o4.gzhead.time>>8&255),o20(o4,o4.gzhead.time>>16&255),o20(o4,o4.gzhead.time>>24&255),o20(o4,9===o4.level?2:o4.strategy>=2||o4.level<2?4:0),o20(o4,255&o4.gzhead.os),o4.gzhead.extra&&o4.gzhead.extra.length&&(o20(o4,255&o4.gzhead.extra.length),o20(o4,o4.gzhead.extra.length>>8&255)),o4.gzhead.hcrc&&(o0.adler=o7(o0.adler,o4.pending_buf,o4.pending,0)),o4.gzindex=0,o4.status=69):(o20(o4,0),o20(o4,0),o20(o4,0),o20(o4,0),o20(o4,0),o20(o4,9===o4.level?2:o4.strategy>=2||o4.level<2?4:0),o20(o4,3),o4.status=o13);else{var o11=8+(o4.w_bits-8<<4)<<8;o11|=(o4.strategy>=2||o4.level<2?0:o4.level<6?1:6===o4.level?2:3)<<6,0!==o4.strstart&&(o11|=32),o11+=31-o11%31,o4.status=o13,o21(o4,o11),0!==o4.strstart&&(o21(o4,o0.adler>>>16),o21(o4,65535&o0.adler)),o0.adler=1}if(69===o4.status)if(o4.gzhead.extra){for(o6=o4.pending;o4.gzindex<(65535&o4.gzhead.extra.length)&&(o4.pending!==o4.pending_buf_size||(o4.gzhead.hcrc&&o4.pending>o6&&(o0.adler=o7(o0.adler,o4.pending_buf,o4.pending-o6,o6)),o18(o0),o6=o4.pending,o4.pending!==o4.pending_buf_size));)o20(o4,255&o4.gzhead.extra[o4.gzindex]),o4.gzindex++;o4.gzhead.hcrc&&o4.pending>o6&&(o0.adler=o7(o0.adler,o4.pending_buf,o4.pending-o6,o6)),o4.gzindex===o4.gzhead.extra.length&&(o4.gzindex=0,o4.status=73)}else o4.status=73;if(73===o4.status)if(o4.gzhead.name){o6=o4.pending;do{if(o4.pending===o4.pending_buf_size&&(o4.gzhead.hcrc&&o4.pending>o6&&(o0.adler=o7(o0.adler,o4.pending_buf,o4.pending-o6,o6)),o18(o0),o6=o4.pending,o4.pending===o4.pending_buf_size)){o8=1;break}o8=o4.gzindex<o4.gzhead.name.length?255&o4.gzhead.name.charCodeAt(o4.gzindex++):0,o20(o4,o8)}while(0!==o8);o4.gzhead.hcrc&&o4.pending>o6&&(o0.adler=o7(o0.adler,o4.pending_buf,o4.pending-o6,o6)),0===o8&&(o4.gzindex=0,o4.status=91)}else o4.status=91;if(91===o4.status)if(o4.gzhead.comment){o6=o4.pending;do{if(o4.pending===o4.pending_buf_size&&(o4.gzhead.hcrc&&o4.pending>o6&&(o0.adler=o7(o0.adler,o4.pending_buf,o4.pending-o6,o6)),o18(o0),o6=o4.pending,o4.pending===o4.pending_buf_size)){o8=1;break}o8=o4.gzindex<o4.gzhead.comment.length?255&o4.gzhead.comment.charCodeAt(o4.gzindex++):0,o20(o4,o8)}while(0!==o8);o4.gzhead.hcrc&&o4.pending>o6&&(o0.adler=o7(o0.adler,o4.pending_buf,o4.pending-o6,o6)),0===o8&&(o4.status=o12)}else o4.status=o12;if(o4.status===o12&&(o4.gzhead.hcrc?(o4.pending+2>o4.pending_buf_size&&o18(o0),o4.pending+2<=o4.pending_buf_size&&(o20(o4,255&o0.adler),o20(o4,o0.adler>>8&255),o0.adler=0,o4.status=o13)):o4.status=o13),0!==o4.pending){if(o18(o0),0===o0.avail_out)return o4.last_flush=-1,0}else if(0===o0.avail_in&&o16(o1)<=o16(o2)&&4!==o1)return o15(o0,-5);if(o4.status===o14&&0!==o0.avail_in)return o15(o0,-5);if(0!==o0.avail_in||0!==o4.lookahead||0!==o1&&o4.status!==o14){var o22=2===o4.strategy?function(o0,o1){for(var o2;;){if(0===o0.lookahead&&(o23(o0),0===o0.lookahead)){if(0===o1)return 1;break}if(o0.match_length=0,o2=o5._tr_tally(o0,0,o0.window[o0.strstart]),o0.lookahead--,o0.strstart++,o2&&(o19(o0,!1),0===o0.strm.avail_out))return 1}return o0.insert=0,4===o1?(o19(o0,!0),0===o0.strm.avail_out?3:4):o0.last_lit&&(o19(o0,!1),0===o0.strm.avail_out)?1:2}(o4,o1):3===o4.strategy?function(o0,o1){for(var o2,o3,o4,o6,o7=o0.window;;){if(o0.lookahead<=o10){if(o23(o0),o0.lookahead<=o10&&0===o1)return 1;if(0===o0.lookahead)break}if(o0.match_length=0,o0.lookahead>=3&&o0.strstart>0&&(o3=o7[o4=o0.strstart-1])===o7[++o4]&&o3===o7[++o4]&&o3===o7[++o4]){o6=o0.strstart+o10;do{}while(o3===o7[++o4]&&o3===o7[++o4]&&o3===o7[++o4]&&o3===o7[++o4]&&o3===o7[++o4]&&o3===o7[++o4]&&o3===o7[++o4]&&o3===o7[++o4]&&o4<o6);o0.match_length=o10-(o6-o4),o0.match_length>o0.lookahead&&(o0.match_length=o0.lookahead)}if(o0.match_length>=3?(o2=o5._tr_tally(o0,1,o0.match_length-3),o0.lookahead-=o0.match_length,o0.strstart+=o0.match_length,o0.match_length=0):(o2=o5._tr_tally(o0,0,o0.window[o0.strstart]),o0.lookahead--,o0.strstart++),o2&&(o19(o0,!1),0===o0.strm.avail_out))return 1}return o0.insert=0,4===o1?(o19(o0,!0),0===o0.strm.avail_out?3:4):o0.last_lit&&(o19(o0,!1),0===o0.strm.avail_out)?1:2}(o4,o1):o3[o4.level].func(o4,o1);if(3!==o22&&4!==o22||(o4.status=o14),1===o22||3===o22)return 0===o0.avail_out&&(o4.last_flush=-1),0;if(2===o22&&(1===o1?o5._tr_align(o4):5!==o1&&(o5._tr_stored_block(o4,0,0,!1),3===o1&&(o17(o4.head),0===o4.lookahead&&(o4.strstart=0,o4.block_start=0,o4.insert=0))),o18(o0),0===o0.avail_out))return o4.last_flush=-1,0}return 4!==o1?0:o4.wrap<=0?1:(2===o4.wrap?(o20(o4,255&o0.adler),o20(o4,o0.adler>>8&255),o20(o4,o0.adler>>16&255),o20(o4,o0.adler>>24&255),o20(o4,255&o0.total_in),o20(o4,o0.total_in>>8&255),o20(o4,o0.total_in>>16&255),o20(o4,o0.total_in>>24&255)):(o21(o4,o0.adler>>>16),o21(o4,65535&o0.adler)),o18(o0),o4.wrap>0&&(o4.wrap=-o4.wrap),0!==o4.pending?0:1)},o1.deflateEnd=function(o0){var o1;return o0&&o0.state?42!==(o1=o0.state.status)&&69!==o1&&73!==o1&&91!==o1&&o1!==o12&&o1!==o13&&o1!==o14?o15(o0,o9):(o0.state=null,o1===o13?o15(o0,-3):0):o9},o1.deflateSetDictionary=function(o0,o1){var o2,o3,o5,o7,o8,o10,o11,o12,o13=o1.length;if(!o0||!o0.state)return o9;if(2===(o7=(o2=o0.state).wrap)||1===o7&&42!==o2.status||o2.lookahead)return o9;for(1===o7&&(o0.adler=o6(o0.adler,o1,o13,0)),o2.wrap=0,o13>=o2.w_size&&(0===o7&&(o17(o2.head),o2.strstart=0,o2.block_start=0,o2.insert=0),o12=new o4.Buf8(o2.w_size),o4.arraySet(o12,o1,o13-o2.w_size,o2.w_size,0),o1=o12,o13=o2.w_size),o8=o0.avail_in,o10=o0.next_in,o11=o0.input,o0.avail_in=o13,o0.next_in=0,o0.input=o1,o23(o2);o2.lookahead>=3;){o3=o2.strstart,o5=o2.lookahead-2;do{o2.ins_h=(o2.ins_h<<o2.hash_shift^o2.window[o3+3-1])&o2.hash_mask,o2.prev[o3&o2.w_mask]=o2.head[o2.ins_h],o2.head[o2.ins_h]=o3,o3++}while(--o5);o2.strstart=o3,o2.lookahead=2,o23(o2)}return o2.strstart+=o2.lookahead,o2.block_start=o2.strstart,o2.insert=o2.lookahead,o2.lookahead=0,o2.match_length=o2.prev_length=2,o2.match_available=0,o0.next_in=o10,o0.input=o11,o0.avail_in=o8,o2.wrap=o7,0},o1.deflateInfo="pako deflate (from Nodeca project)"},1112:o0=>{o0.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},6560:o0=>{o0.exports=function(o0,o1){var o2,o3,o4,o5,o6,o7,o8,o9,o10,o11,o12,o13,o14,o15,o16,o17,o18,o19,o20,o21,o22,o23,o24,o25,o26;o2=o0.state,o3=o0.next_in,o25=o0.input,o4=o3+(o0.avail_in-5),o5=o0.next_out,o26=o0.output,o6=o5-(o1-o0.avail_out),o7=o5+(o0.avail_out-257),o8=o2.dmax,o9=o2.wsize,o10=o2.whave,o11=o2.wnext,o12=o2.window,o13=o2.hold,o14=o2.bits,o15=o2.lencode,o16=o2.distcode,o17=(1<<o2.lenbits)-1,o18=(1<<o2.distbits)-1;o0:do{o14<15&&(o13+=o25[o3++]<<o14,o14+=8,o13+=o25[o3++]<<o14,o14+=8),o19=o15[o13&o17];o1:for(;;){if(o13>>>=o20=o19>>>24,o14-=o20,0===(o20=o19>>>16&255))o26[o5++]=65535&o19;else{if(!(16&o20)){if(0==(64&o20)){o19=o15[(65535&o19)+(o13&(1<<o20)-1)];continue o1}if(32&o20){o2.mode=12;break o0}o0.msg="invalid literal/length code",o2.mode=30;break o0}o21=65535&o19,(o20&=15)&&(o14<o20&&(o13+=o25[o3++]<<o14,o14+=8),o21+=o13&(1<<o20)-1,o13>>>=o20,o14-=o20),o14<15&&(o13+=o25[o3++]<<o14,o14+=8,o13+=o25[o3++]<<o14,o14+=8),o19=o16[o13&o18];o2:for(;;){if(o13>>>=o20=o19>>>24,o14-=o20,!(16&(o20=o19>>>16&255))){if(0==(64&o20)){o19=o16[(65535&o19)+(o13&(1<<o20)-1)];continue o2}o0.msg="invalid distance code",o2.mode=30;break o0}if(o22=65535&o19,o14<(o20&=15)&&(o13+=o25[o3++]<<o14,(o14+=8)<o20&&(o13+=o25[o3++]<<o14,o14+=8)),(o22+=o13&(1<<o20)-1)>o8){o0.msg="invalid distance too far back",o2.mode=30;break o0}if(o13>>>=o20,o14-=o20,o22>(o20=o5-o6)){if((o20=o22-o20)>o10&&o2.sane){o0.msg="invalid distance too far back",o2.mode=30;break o0}if(o23=0,o24=o12,0===o11){if(o23+=o9-o20,o20<o21){o21-=o20;do{o26[o5++]=o12[o23++]}while(--o20);o23=o5-o22,o24=o26}}else if(o11<o20){if(o23+=o9+o11-o20,(o20-=o11)<o21){o21-=o20;do{o26[o5++]=o12[o23++]}while(--o20);if(o23=0,o11<o21){o21-=o20=o11;do{o26[o5++]=o12[o23++]}while(--o20);o23=o5-o22,o24=o26}}}else if(o23+=o11-o20,o20<o21){o21-=o20;do{o26[o5++]=o12[o23++]}while(--o20);o23=o5-o22,o24=o26}for(;o21>2;)o26[o5++]=o24[o23++],o26[o5++]=o24[o23++],o26[o5++]=o24[o23++],o21-=3;o21&&(o26[o5++]=o24[o23++],o21>1&&(o26[o5++]=o24[o23++]))}else{o23=o5-o22;do{o26[o5++]=o26[o23++],o26[o5++]=o26[o23++],o26[o5++]=o26[o23++],o21-=3}while(o21>2);o21&&(o26[o5++]=o26[o23++],o21>1&&(o26[o5++]=o26[o23++]))}break}}break}}while(o3<o4&&o5<o7);o3-=o21=o14>>3,o13&=(1<<(o14-=o21<<3))-1,o0.next_in=o3,o0.next_out=o5,o0.avail_in=o3<o4?o4-o3+5:5-(o3-o4),o0.avail_out=o5<o7?o7-o5+257:257-(o5-o7),o2.hold=o13,o2.bits=o14}},7040:(o0,o1,o2)=>{var o3=o2(12),o4=o2(2696),o5=o2(9456),o6=o2(6560),o7=o2(6120),o8=-2,o9=12,o10=30;function o11(o0){return(o0>>>24&255)+(o0>>>8&65280)+((65280&o0)<<8)+((255&o0)<<24)}function o12(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new o3.Buf16(320),this.work=new o3.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function o13(o0){var o1;return o0&&o0.state?(o1=o0.state,o0.total_in=o0.total_out=o1.total=0,o0.msg="",o1.wrap&&(o0.adler=1&o1.wrap),o1.mode=1,o1.last=0,o1.havedict=0,o1.dmax=32768,o1.head=null,o1.hold=0,o1.bits=0,o1.lencode=o1.lendyn=new o3.Buf32(852),o1.distcode=o1.distdyn=new o3.Buf32(592),o1.sane=1,o1.back=-1,0):o8}function o14(o0){var o1;return o0&&o0.state?((o1=o0.state).wsize=0,o1.whave=0,o1.wnext=0,o13(o0)):o8}function o15(o0,o1){var o2,o3;return o0&&o0.state?(o3=o0.state,o1<0?(o2=0,o1=-o1):(o2=1+(o1>>4),o1<48&&(o1&=15)),o1&&(o1<8||o1>15)?o8:(null!==o3.window&&o3.wbits!==o1&&(o3.window=null),o3.wrap=o2,o3.wbits=o1,o14(o0))):o8}function o16(o0,o1){var o2,o3;return o0?(o3=new o12,o0.state=o3,o3.window=null,0!==(o2=o15(o0,o1))&&(o0.state=null),o2):o8}var o17,o18,o19=!0;function o20(o0){if(o19){var o1;for(o17=new o3.Buf32(512),o18=new o3.Buf32(32),o1=0;o1<144;)o0.lens[o1++]=8;for(;o1<256;)o0.lens[o1++]=9;for(;o1<280;)o0.lens[o1++]=7;for(;o1<288;)o0.lens[o1++]=8;for(o7(1,o0.lens,0,288,o17,0,o0.work,{bits:9}),o1=0;o1<32;)o0.lens[o1++]=5;o7(2,o0.lens,0,32,o18,0,o0.work,{bits:5}),o19=!1}o0.lencode=o17,o0.lenbits=9,o0.distcode=o18,o0.distbits=5}function o21(o0,o1,o2,o4){var o5,o6=o0.state;return null===o6.window&&(o6.wsize=1<<o6.wbits,o6.wnext=0,o6.whave=0,o6.window=new o3.Buf8(o6.wsize)),o4>=o6.wsize?(o3.arraySet(o6.window,o1,o2-o6.wsize,o6.wsize,0),o6.wnext=0,o6.whave=o6.wsize):((o5=o6.wsize-o6.wnext)>o4&&(o5=o4),o3.arraySet(o6.window,o1,o2-o4,o5,o6.wnext),(o4-=o5)?(o3.arraySet(o6.window,o1,o2-o4,o4,0),o6.wnext=o4,o6.whave=o6.wsize):(o6.wnext+=o5,o6.wnext===o6.wsize&&(o6.wnext=0),o6.whave<o6.wsize&&(o6.whave+=o5))),0}o1.inflateReset=o14,o1.inflateReset2=o15,o1.inflateResetKeep=o13,o1.inflateInit=function(o0){return o16(o0,15)},o1.inflateInit2=o16,o1.inflate=function(o0,o1){var o2,o12,o13,o14,o15,o16,o17,o18,o19,o22,o23,o24,o25,o26,o27,o28,o29,o30,o31,o32,o33,o34,o35,o36,o37=0,o38=new o3.Buf8(4),o39=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!o0||!o0.state||!o0.output||!o0.input&&0!==o0.avail_in)return o8;(o2=o0.state).mode===o9&&(o2.mode=13),o15=o0.next_out,o13=o0.output,o17=o0.avail_out,o14=o0.next_in,o12=o0.input,o16=o0.avail_in,o18=o2.hold,o19=o2.bits,o22=o16,o23=o17,o34=0;o0:for(;;)switch(o2.mode){case 1:if(0===o2.wrap){o2.mode=13;break}for(;o19<16;){if(0===o16)break o0;o16--,o18+=o12[o14++]<<o19,o19+=8}if(2&o2.wrap&&35615===o18){o2.check=0,o38[0]=255&o18,o38[1]=o18>>>8&255,o2.check=o5(o2.check,o38,2,0),o18=0,o19=0,o2.mode=2;break}if(o2.flags=0,o2.head&&(o2.head.done=!1),!(1&o2.wrap)||(((255&o18)<<8)+(o18>>8))%31){o0.msg="incorrect header check",o2.mode=o10;break}if(8!=(15&o18)){o0.msg="unknown compression method",o2.mode=o10;break}if(o19-=4,o33=8+(15&(o18>>>=4)),0===o2.wbits)o2.wbits=o33;else if(o33>o2.wbits){o0.msg="invalid window size",o2.mode=o10;break}o2.dmax=1<<o33,o0.adler=o2.check=1,o2.mode=512&o18?10:o9,o18=0,o19=0;break;case 2:for(;o19<16;){if(0===o16)break o0;o16--,o18+=o12[o14++]<<o19,o19+=8}if(o2.flags=o18,8!=(255&o2.flags)){o0.msg="unknown compression method",o2.mode=o10;break}if(57344&o2.flags){o0.msg="unknown header flags set",o2.mode=o10;break}o2.head&&(o2.head.text=o18>>8&1),512&o2.flags&&(o38[0]=255&o18,o38[1]=o18>>>8&255,o2.check=o5(o2.check,o38,2,0)),o18=0,o19=0,o2.mode=3;case 3:for(;o19<32;){if(0===o16)break o0;o16--,o18+=o12[o14++]<<o19,o19+=8}o2.head&&(o2.head.time=o18),512&o2.flags&&(o38[0]=255&o18,o38[1]=o18>>>8&255,o38[2]=o18>>>16&255,o38[3]=o18>>>24&255,o2.check=o5(o2.check,o38,4,0)),o18=0,o19=0,o2.mode=4;case 4:for(;o19<16;){if(0===o16)break o0;o16--,o18+=o12[o14++]<<o19,o19+=8}o2.head&&(o2.head.xflags=255&o18,o2.head.os=o18>>8),512&o2.flags&&(o38[0]=255&o18,o38[1]=o18>>>8&255,o2.check=o5(o2.check,o38,2,0)),o18=0,o19=0,o2.mode=5;case 5:if(1024&o2.flags){for(;o19<16;){if(0===o16)break o0;o16--,o18+=o12[o14++]<<o19,o19+=8}o2.length=o18,o2.head&&(o2.head.extra_len=o18),512&o2.flags&&(o38[0]=255&o18,o38[1]=o18>>>8&255,o2.check=o5(o2.check,o38,2,0)),o18=0,o19=0}else o2.head&&(o2.head.extra=null);o2.mode=6;case 6:if(1024&o2.flags&&((o24=o2.length)>o16&&(o24=o16),o24&&(o2.head&&(o33=o2.head.extra_len-o2.length,o2.head.extra||(o2.head.extra=new Array(o2.head.extra_len)),o3.arraySet(o2.head.extra,o12,o14,o24,o33)),512&o2.flags&&(o2.check=o5(o2.check,o12,o24,o14)),o16-=o24,o14+=o24,o2.length-=o24),o2.length))break o0;o2.length=0,o2.mode=7;case 7:if(2048&o2.flags){if(0===o16)break o0;o24=0;do{o33=o12[o14+o24++],o2.head&&o33&&o2.length<65536&&(o2.head.name+=String.fromCharCode(o33))}while(o33&&o24<o16);if(512&o2.flags&&(o2.check=o5(o2.check,o12,o24,o14)),o16-=o24,o14+=o24,o33)break o0}else o2.head&&(o2.head.name=null);o2.length=0,o2.mode=8;case 8:if(4096&o2.flags){if(0===o16)break o0;o24=0;do{o33=o12[o14+o24++],o2.head&&o33&&o2.length<65536&&(o2.head.comment+=String.fromCharCode(o33))}while(o33&&o24<o16);if(512&o2.flags&&(o2.check=o5(o2.check,o12,o24,o14)),o16-=o24,o14+=o24,o33)break o0}else o2.head&&(o2.head.comment=null);o2.mode=9;case 9:if(512&o2.flags){for(;o19<16;){if(0===o16)break o0;o16--,o18+=o12[o14++]<<o19,o19+=8}if(o18!==(65535&o2.check)){o0.msg="header crc mismatch",o2.mode=o10;break}o18=0,o19=0}o2.head&&(o2.head.hcrc=o2.flags>>9&1,o2.head.done=!0),o0.adler=o2.check=0,o2.mode=o9;break;case 10:for(;o19<32;){if(0===o16)break o0;o16--,o18+=o12[o14++]<<o19,o19+=8}o0.adler=o2.check=o11(o18),o18=0,o19=0,o2.mode=11;case 11:if(0===o2.havedict)return o0.next_out=o15,o0.avail_out=o17,o0.next_in=o14,o0.avail_in=o16,o2.hold=o18,o2.bits=o19,2;o0.adler=o2.check=1,o2.mode=o9;case o9:if(5===o1||6===o1)break o0;case 13:if(o2.last){o18>>>=7&o19,o19-=7&o19,o2.mode=27;break}for(;o19<3;){if(0===o16)break o0;o16--,o18+=o12[o14++]<<o19,o19+=8}switch(o2.last=1&o18,o19-=1,3&(o18>>>=1)){case 0:o2.mode=14;break;case 1:if(o20(o2),o2.mode=20,6===o1){o18>>>=2,o19-=2;break o0}break;case 2:o2.mode=17;break;case 3:o0.msg="invalid block type",o2.mode=o10}o18>>>=2,o19-=2;break;case 14:for(o18>>>=7&o19,o19-=7&o19;o19<32;){if(0===o16)break o0;o16--,o18+=o12[o14++]<<o19,o19+=8}if((65535&o18)!=(o18>>>16^65535)){o0.msg="invalid stored block lengths",o2.mode=o10;break}if(o2.length=65535&o18,o18=0,o19=0,o2.mode=15,6===o1)break o0;case 15:o2.mode=16;case 16:if(o24=o2.length){if(o24>o16&&(o24=o16),o24>o17&&(o24=o17),0===o24)break o0;o3.arraySet(o13,o12,o14,o24,o15),o16-=o24,o14+=o24,o17-=o24,o15+=o24,o2.length-=o24;break}o2.mode=o9;break;case 17:for(;o19<14;){if(0===o16)break o0;o16--,o18+=o12[o14++]<<o19,o19+=8}if(o2.nlen=257+(31&o18),o18>>>=5,o19-=5,o2.ndist=1+(31&o18),o18>>>=5,o19-=5,o2.ncode=4+(15&o18),o18>>>=4,o19-=4,o2.nlen>286||o2.ndist>30){o0.msg="too many length or distance symbols",o2.mode=o10;break}o2.have=0,o2.mode=18;case 18:for(;o2.have<o2.ncode;){for(;o19<3;){if(0===o16)break o0;o16--,o18+=o12[o14++]<<o19,o19+=8}o2.lens[o39[o2.have++]]=7&o18,o18>>>=3,o19-=3}for(;o2.have<19;)o2.lens[o39[o2.have++]]=0;if(o2.lencode=o2.lendyn,o2.lenbits=7,o35={bits:o2.lenbits},o34=o7(0,o2.lens,0,19,o2.lencode,0,o2.work,o35),o2.lenbits=o35.bits,o34){o0.msg="invalid code lengths set",o2.mode=o10;break}o2.have=0,o2.mode=19;case 19:for(;o2.have<o2.nlen+o2.ndist;){for(;o28=(o37=o2.lencode[o18&(1<<o2.lenbits)-1])>>>16&255,o29=65535&o37,!((o27=o37>>>24)<=o19);){if(0===o16)break o0;o16--,o18+=o12[o14++]<<o19,o19+=8}if(o29<16)o18>>>=o27,o19-=o27,o2.lens[o2.have++]=o29;else{if(16===o29){for(o36=o27+2;o19<o36;){if(0===o16)break o0;o16--,o18+=o12[o14++]<<o19,o19+=8}if(o18>>>=o27,o19-=o27,0===o2.have){o0.msg="invalid bit length repeat",o2.mode=o10;break}o33=o2.lens[o2.have-1],o24=3+(3&o18),o18>>>=2,o19-=2}else if(17===o29){for(o36=o27+3;o19<o36;){if(0===o16)break o0;o16--,o18+=o12[o14++]<<o19,o19+=8}o19-=o27,o33=0,o24=3+(7&(o18>>>=o27)),o18>>>=3,o19-=3}else{for(o36=o27+7;o19<o36;){if(0===o16)break o0;o16--,o18+=o12[o14++]<<o19,o19+=8}o19-=o27,o33=0,o24=11+(127&(o18>>>=o27)),o18>>>=7,o19-=7}if(o2.have+o24>o2.nlen+o2.ndist){o0.msg="invalid bit length repeat",o2.mode=o10;break}for(;o24--;)o2.lens[o2.have++]=o33}}if(o2.mode===o10)break;if(0===o2.lens[256]){o0.msg="invalid code -- missing end-of-block",o2.mode=o10;break}if(o2.lenbits=9,o35={bits:o2.lenbits},o34=o7(1,o2.lens,0,o2.nlen,o2.lencode,0,o2.work,o35),o2.lenbits=o35.bits,o34){o0.msg="invalid literal/lengths set",o2.mode=o10;break}if(o2.distbits=6,o2.distcode=o2.distdyn,o35={bits:o2.distbits},o34=o7(2,o2.lens,o2.nlen,o2.ndist,o2.distcode,0,o2.work,o35),o2.distbits=o35.bits,o34){o0.msg="invalid distances set",o2.mode=o10;break}if(o2.mode=20,6===o1)break o0;case 20:o2.mode=21;case 21:if(o16>=6&&o17>=258){o0.next_out=o15,o0.avail_out=o17,o0.next_in=o14,o0.avail_in=o16,o2.hold=o18,o2.bits=o19,o6(o0,o23),o15=o0.next_out,o13=o0.output,o17=o0.avail_out,o14=o0.next_in,o12=o0.input,o16=o0.avail_in,o18=o2.hold,o19=o2.bits,o2.mode===o9&&(o2.back=-1);break}for(o2.back=0;o28=(o37=o2.lencode[o18&(1<<o2.lenbits)-1])>>>16&255,o29=65535&o37,!((o27=o37>>>24)<=o19);){if(0===o16)break o0;o16--,o18+=o12[o14++]<<o19,o19+=8}if(o28&&0==(240&o28)){for(o30=o27,o31=o28,o32=o29;o28=(o37=o2.lencode[o32+((o18&(1<<o30+o31)-1)>>o30)])>>>16&255,o29=65535&o37,!(o30+(o27=o37>>>24)<=o19);){if(0===o16)break o0;o16--,o18+=o12[o14++]<<o19,o19+=8}o18>>>=o30,o19-=o30,o2.back+=o30}if(o18>>>=o27,o19-=o27,o2.back+=o27,o2.length=o29,0===o28){o2.mode=26;break}if(32&o28){o2.back=-1,o2.mode=o9;break}if(64&o28){o0.msg="invalid literal/length code",o2.mode=o10;break}o2.extra=15&o28,o2.mode=22;case 22:if(o2.extra){for(o36=o2.extra;o19<o36;){if(0===o16)break o0;o16--,o18+=o12[o14++]<<o19,o19+=8}o2.length+=o18&(1<<o2.extra)-1,o18>>>=o2.extra,o19-=o2.extra,o2.back+=o2.extra}o2.was=o2.length,o2.mode=23;case 23:for(;o28=(o37=o2.distcode[o18&(1<<o2.distbits)-1])>>>16&255,o29=65535&o37,!((o27=o37>>>24)<=o19);){if(0===o16)break o0;o16--,o18+=o12[o14++]<<o19,o19+=8}if(0==(240&o28)){for(o30=o27,o31=o28,o32=o29;o28=(o37=o2.distcode[o32+((o18&(1<<o30+o31)-1)>>o30)])>>>16&255,o29=65535&o37,!(o30+(o27=o37>>>24)<=o19);){if(0===o16)break o0;o16--,o18+=o12[o14++]<<o19,o19+=8}o18>>>=o30,o19-=o30,o2.back+=o30}if(o18>>>=o27,o19-=o27,o2.back+=o27,64&o28){o0.msg="invalid distance code",o2.mode=o10;break}o2.offset=o29,o2.extra=15&o28,o2.mode=24;case 24:if(o2.extra){for(o36=o2.extra;o19<o36;){if(0===o16)break o0;o16--,o18+=o12[o14++]<<o19,o19+=8}o2.offset+=o18&(1<<o2.extra)-1,o18>>>=o2.extra,o19-=o2.extra,o2.back+=o2.extra}if(o2.offset>o2.dmax){o0.msg="invalid distance too far back",o2.mode=o10;break}o2.mode=25;case 25:if(0===o17)break o0;if(o24=o23-o17,o2.offset>o24){if((o24=o2.offset-o24)>o2.whave&&o2.sane){o0.msg="invalid distance too far back",o2.mode=o10;break}o24>o2.wnext?(o24-=o2.wnext,o25=o2.wsize-o24):o25=o2.wnext-o24,o24>o2.length&&(o24=o2.length),o26=o2.window}else o26=o13,o25=o15-o2.offset,o24=o2.length;o24>o17&&(o24=o17),o17-=o24,o2.length-=o24;do{o13[o15++]=o26[o25++]}while(--o24);0===o2.length&&(o2.mode=21);break;case 26:if(0===o17)break o0;o13[o15++]=o2.length,o17--,o2.mode=21;break;case 27:if(o2.wrap){for(;o19<32;){if(0===o16)break o0;o16--,o18|=o12[o14++]<<o19,o19+=8}if(o23-=o17,o0.total_out+=o23,o2.total+=o23,o23&&(o0.adler=o2.check=o2.flags?o5(o2.check,o13,o23,o15-o23):o4(o2.check,o13,o23,o15-o23)),o23=o17,(o2.flags?o18:o11(o18))!==o2.check){o0.msg="incorrect data check",o2.mode=o10;break}o18=0,o19=0}o2.mode=28;case 28:if(o2.wrap&&o2.flags){for(;o19<32;){if(0===o16)break o0;o16--,o18+=o12[o14++]<<o19,o19+=8}if(o18!==(4294967295&o2.total)){o0.msg="incorrect length check",o2.mode=o10;break}o18=0,o19=0}o2.mode=29;case 29:o34=1;break o0;case o10:o34=-3;break o0;case 31:return-4;default:return o8}return o0.next_out=o15,o0.avail_out=o17,o0.next_in=o14,o0.avail_in=o16,o2.hold=o18,o2.bits=o19,(o2.wsize||o23!==o0.avail_out&&o2.mode<o10&&(o2.mode<27||4!==o1))&&o21(o0,o0.output,o0.next_out,o23-o0.avail_out)?(o2.mode=31,-4):(o22-=o0.avail_in,o23-=o0.avail_out,o0.total_in+=o22,o0.total_out+=o23,o2.total+=o23,o2.wrap&&o23&&(o0.adler=o2.check=o2.flags?o5(o2.check,o13,o23,o0.next_out-o23):o4(o2.check,o13,o23,o0.next_out-o23)),o0.data_type=o2.bits+(o2.last?64:0)+(o2.mode===o9?128:0)+(20===o2.mode||15===o2.mode?256:0),(0===o22&&0===o23||4===o1)&&0===o34&&(o34=-5),o34)},o1.inflateEnd=function(o0){if(!o0||!o0.state)return o8;var o1=o0.state;return o1.window&&(o1.window=null),o0.state=null,0},o1.inflateGetHeader=function(o0,o1){var o2;return o0&&o0.state?0==(2&(o2=o0.state).wrap)?o8:(o2.head=o1,o1.done=!1,0):o8},o1.inflateSetDictionary=function(o0,o1){var o2,o3=o1.length;return o0&&o0.state?0!==(o2=o0.state).wrap&&11!==o2.mode?o8:11===o2.mode&&o4(1,o1,o3,0)!==o2.check?-3:o21(o0,o1,o3,o3)?(o2.mode=31,-4):(o2.havedict=1,0):o8},o1.inflateInfo="pako inflate (from Nodeca project)"},6120:(o0,o1,o2)=>{var o3=o2(12),o4=15,o5=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],o6=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],o7=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],o8=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];o0.exports=function(o0,o1,o2,o9,o10,o11,o12,o13){var o14,o15,o16,o17,o18,o19,o20,o21,o22,o23=o13.bits,o24=0,o25=0,o26=0,o27=0,o28=0,o29=0,o30=0,o31=0,o32=0,o33=0,o34=null,o35=0,o36=new o3.Buf16(16),o37=new o3.Buf16(16),o38=null,o39=0;for(o24=0;o24<=o4;o24++)o36[o24]=0;for(o25=0;o25<o9;o25++)o36[o1[o2+o25]]++;for(o28=o23,o27=o4;o27>=1&&0===o36[o27];o27--);if(o28>o27&&(o28=o27),0===o27)return o10[o11++]=20971520,o10[o11++]=20971520,o13.bits=1,0;for(o26=1;o26<o27&&0===o36[o26];o26++);for(o28<o26&&(o28=o26),o31=1,o24=1;o24<=o4;o24++)if(o31<<=1,(o31-=o36[o24])<0)return-1;if(o31>0&&(0===o0||1!==o27))return-1;for(o37[1]=0,o24=1;o24<o4;o24++)o37[o24+1]=o37[o24]+o36[o24];for(o25=0;o25<o9;o25++)0!==o1[o2+o25]&&(o12[o37[o1[o2+o25]]++]=o25);if(0===o0?(o34=o38=o12,o19=19):1===o0?(o34=o5,o35-=257,o38=o6,o39-=257,o19=256):(o34=o7,o38=o8,o19=-1),o33=0,o25=0,o24=o26,o18=o11,o29=o28,o30=0,o16=-1,o17=(o32=1<<o28)-1,1===o0&&o32>852||2===o0&&o32>592)return 1;for(;;){o20=o24-o30,o12[o25]<o19?(o21=0,o22=o12[o25]):o12[o25]>o19?(o21=o38[o39+o12[o25]],o22=o34[o35+o12[o25]]):(o21=96,o22=0),o14=1<<o24-o30,o26=o15=1<<o29;do{o10[o18+(o33>>o30)+(o15-=o14)]=o20<<24|o21<<16|o22|0}while(0!==o15);for(o14=1<<o24-1;o33&o14;)o14>>=1;if(0!==o14?(o33&=o14-1,o33+=o14):o33=0,o25++,0==--o36[o24]){if(o24===o27)break;o24=o1[o2+o12[o25]]}if(o24>o28&&(o33&o17)!==o16){for(0===o30&&(o30=o28),o18+=o26,o31=1<<(o29=o24-o30);o29+o30<o27&&!((o31-=o36[o29+o30])<=0);)o29++,o31<<=1;if(o32+=1<<o29,1===o0&&o32>852||2===o0&&o32>592)return 1;o10[o16=o33&o17]=o28<<24|o29<<16|o18-o11|0}}return 0!==o33&&(o10[o18+o33]=o24-o30<<24|64<<16|0),o13.bits=o28,0}},9451:o0=>{o0.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},2976:(o0,o1,o2)=>{var o3=o2(12);function o4(o0){for(var o1=o0.length;--o1>=0;)o0[o1]=0}var o5=256,o6=286,o7=30,o8=15,o9=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],o10=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],o11=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],o12=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],o13=new Array(576);o4(o13);var o14=new Array(60);o4(o14);var o15=new Array(512);o4(o15);var o16=new Array(256);o4(o16);var o17=new Array(29);o4(o17);var o18,o19,o20,o21=new Array(o7);function o22(o0,o1,o2,o3,o4){this.static_tree=o0,this.extra_bits=o1,this.extra_base=o2,this.elems=o3,this.max_length=o4,this.has_stree=o0&&o0.length}function o23(o0,o1){this.dyn_tree=o0,this.max_code=0,this.stat_desc=o1}function o24(o0){return o0<256?o15[o0]:o15[256+(o0>>>7)]}function o25(o0,o1){o0.pending_buf[o0.pending++]=255&o1,o0.pending_buf[o0.pending++]=o1>>>8&255}function o26(o0,o1,o2){o0.bi_valid>16-o2?(o0.bi_buf|=o1<<o0.bi_valid&65535,o25(o0,o0.bi_buf),o0.bi_buf=o1>>16-o0.bi_valid,o0.bi_valid+=o2-16):(o0.bi_buf|=o1<<o0.bi_valid&65535,o0.bi_valid+=o2)}function o27(o0,o1,o2){o26(o0,o2[2*o1],o2[2*o1+1])}function o28(o0,o1){var o2=0;do{o2|=1&o0,o0>>>=1,o2<<=1}while(--o1>0);return o2>>>1}function o29(o0,o1,o2){var o3,o4,o5=new Array(16),o6=0;for(o3=1;o3<=o8;o3++)o5[o3]=o6=o6+o2[o3-1]<<1;for(o4=0;o4<=o1;o4++){var o7=o0[2*o4+1];0!==o7&&(o0[2*o4]=o28(o5[o7]++,o7))}}function o30(o0){var o1;for(o1=0;o1<o6;o1++)o0.dyn_ltree[2*o1]=0;for(o1=0;o1<o7;o1++)o0.dyn_dtree[2*o1]=0;for(o1=0;o1<19;o1++)o0.bl_tree[2*o1]=0;o0.dyn_ltree[512]=1,o0.opt_len=o0.static_len=0,o0.last_lit=o0.matches=0}function o31(o0){o0.bi_valid>8?o25(o0,o0.bi_buf):o0.bi_valid>0&&(o0.pending_buf[o0.pending++]=o0.bi_buf),o0.bi_buf=0,o0.bi_valid=0}function o32(o0,o1,o2,o3){var o4=2*o1,o5=2*o2;return o0[o4]<o0[o5]||o0[o4]===o0[o5]&&o3[o1]<=o3[o2]}function o33(o0,o1,o2){for(var o3=o0.heap[o2],o4=o2<<1;o4<=o0.heap_len&&(o4<o0.heap_len&&o32(o1,o0.heap[o4+1],o0.heap[o4],o0.depth)&&o4++,!o32(o1,o3,o0.heap[o4],o0.depth));)o0.heap[o2]=o0.heap[o4],o2=o4,o4<<=1;o0.heap[o2]=o3}function o34(o0,o1,o2){var o3,o4,o6,o7,o8=0;if(0!==o0.last_lit)do{o3=o0.pending_buf[o0.d_buf+2*o8]<<8|o0.pending_buf[o0.d_buf+2*o8+1],o4=o0.pending_buf[o0.l_buf+o8],o8++,0===o3?o27(o0,o4,o1):(o27(o0,(o6=o16[o4])+o5+1,o1),0!==(o7=o9[o6])&&o26(o0,o4-=o17[o6],o7),o27(o0,o6=o24(--o3),o2),0!==(o7=o10[o6])&&o26(o0,o3-=o21[o6],o7))}while(o8<o0.last_lit);o27(o0,256,o1)}function o35(o0,o1){var o2,o3,o4,o5=o1.dyn_tree,o6=o1.stat_desc.static_tree,o7=o1.stat_desc.has_stree,o9=o1.stat_desc.elems,o10=-1;for(o0.heap_len=0,o0.heap_max=573,o2=0;o2<o9;o2++)0!==o5[2*o2]?(o0.heap[++o0.heap_len]=o10=o2,o0.depth[o2]=0):o5[2*o2+1]=0;for(;o0.heap_len<2;)o5[2*(o4=o0.heap[++o0.heap_len]=o10<2?++o10:0)]=1,o0.depth[o4]=0,o0.opt_len--,o7&&(o0.static_len-=o6[2*o4+1]);for(o1.max_code=o10,o2=o0.heap_len>>1;o2>=1;o2--)o33(o0,o5,o2);o4=o9;do{o2=o0.heap[1],o0.heap[1]=o0.heap[o0.heap_len--],o33(o0,o5,1),o3=o0.heap[1],o0.heap[--o0.heap_max]=o2,o0.heap[--o0.heap_max]=o3,o5[2*o4]=o5[2*o2]+o5[2*o3],o0.depth[o4]=(o0.depth[o2]>=o0.depth[o3]?o0.depth[o2]:o0.depth[o3])+1,o5[2*o2+1]=o5[2*o3+1]=o4,o0.heap[1]=o4++,o33(o0,o5,1)}while(o0.heap_len>=2);o0.heap[--o0.heap_max]=o0.heap[1],function(o0,o1){var o2,o3,o4,o5,o6,o7,o9=o1.dyn_tree,o10=o1.max_code,o11=o1.stat_desc.static_tree,o12=o1.stat_desc.has_stree,o13=o1.stat_desc.extra_bits,o14=o1.stat_desc.extra_base,o15=o1.stat_desc.max_length,o16=0;for(o5=0;o5<=o8;o5++)o0.bl_count[o5]=0;for(o9[2*o0.heap[o0.heap_max]+1]=0,o2=o0.heap_max+1;o2<573;o2++)(o5=o9[2*o9[2*(o3=o0.heap[o2])+1]+1]+1)>o15&&(o5=o15,o16++),o9[2*o3+1]=o5,o3>o10||(o0.bl_count[o5]++,o6=0,o3>=o14&&(o6=o13[o3-o14]),o7=o9[2*o3],o0.opt_len+=o7*(o5+o6),o12&&(o0.static_len+=o7*(o11[2*o3+1]+o6)));if(0!==o16){do{for(o5=o15-1;0===o0.bl_count[o5];)o5--;o0.bl_count[o5]--,o0.bl_count[o5+1]+=2,o0.bl_count[o15]--,o16-=2}while(o16>0);for(o5=o15;0!==o5;o5--)for(o3=o0.bl_count[o5];0!==o3;)(o4=o0.heap[--o2])>o10||(o9[2*o4+1]!==o5&&(o0.opt_len+=(o5-o9[2*o4+1])*o9[2*o4],o9[2*o4+1]=o5),o3--)}}(o0,o1),o29(o5,o10,o0.bl_count)}function o36(o0,o1,o2){var o3,o4,o5=-1,o6=o1[1],o7=0,o8=7,o9=4;for(0===o6&&(o8=138,o9=3),o1[2*(o2+1)+1]=65535,o3=0;o3<=o2;o3++)o4=o6,o6=o1[2*(o3+1)+1],++o7<o8&&o4===o6||(o7<o9?o0.bl_tree[2*o4]+=o7:0!==o4?(o4!==o5&&o0.bl_tree[2*o4]++,o0.bl_tree[32]++):o7<=10?o0.bl_tree[34]++:o0.bl_tree[36]++,o7=0,o5=o4,0===o6?(o8=138,o9=3):o4===o6?(o8=6,o9=3):(o8=7,o9=4))}function o37(o0,o1,o2){var o3,o4,o5=-1,o6=o1[1],o7=0,o8=7,o9=4;for(0===o6&&(o8=138,o9=3),o3=0;o3<=o2;o3++)if(o4=o6,o6=o1[2*(o3+1)+1],!(++o7<o8&&o4===o6)){if(o7<o9)do{o27(o0,o4,o0.bl_tree)}while(0!=--o7);else 0!==o4?(o4!==o5&&(o27(o0,o4,o0.bl_tree),o7--),o27(o0,16,o0.bl_tree),o26(o0,o7-3,2)):o7<=10?(o27(o0,17,o0.bl_tree),o26(o0,o7-3,3)):(o27(o0,18,o0.bl_tree),o26(o0,o7-11,7));o7=0,o5=o4,0===o6?(o8=138,o9=3):o4===o6?(o8=6,o9=3):(o8=7,o9=4)}}o4(o21);var o38=!1;function o39(o0,o1,o2,o4){o26(o0,0+(o4?1:0),3),function(o0,o1,o2,o4){o31(o0),o4&&(o25(o0,o2),o25(o0,~o2)),o3.arraySet(o0.pending_buf,o0.window,o1,o2,o0.pending),o0.pending+=o2}(o0,o1,o2,!0)}o1._tr_init=function(o0){o38||(!function(){var o0,o1,o2,o3,o4,o5=new Array(16);for(o2=0,o3=0;o3<28;o3++)for(o17[o3]=o2,o0=0;o0<1<<o9[o3];o0++)o16[o2++]=o3;for(o16[o2-1]=o3,o4=0,o3=0;o3<16;o3++)for(o21[o3]=o4,o0=0;o0<1<<o10[o3];o0++)o15[o4++]=o3;for(o4>>=7;o3<o7;o3++)for(o21[o3]=o4<<7,o0=0;o0<1<<o10[o3]-7;o0++)o15[256+o4++]=o3;for(o1=0;o1<=o8;o1++)o5[o1]=0;for(o0=0;o0<=143;)o13[2*o0+1]=8,o0++,o5[8]++;for(;o0<=255;)o13[2*o0+1]=9,o0++,o5[9]++;for(;o0<=279;)o13[2*o0+1]=7,o0++,o5[7]++;for(;o0<=287;)o13[2*o0+1]=8,o0++,o5[8]++;for(o29(o13,287,o5),o0=0;o0<o7;o0++)o14[2*o0+1]=5,o14[2*o0]=o28(o0,5);o18=new o22(o13,o9,257,o6,o8),o19=new o22(o14,o10,0,o7,o8),o20=new o22(new Array(0),o11,0,19,7)}(),o38=!0),o0.l_desc=new o23(o0.dyn_ltree,o18),o0.d_desc=new o23(o0.dyn_dtree,o19),o0.bl_desc=new o23(o0.bl_tree,o20),o0.bi_buf=0,o0.bi_valid=0,o30(o0)},o1._tr_stored_block=o39,o1._tr_flush_block=function(o0,o1,o2,o3){var o4,o6,o7=0;o0.level>0?(2===o0.strm.data_type&&(o0.strm.data_type=function(o0){var o1,o2=4093624447;for(o1=0;o1<=31;o1++,o2>>>=1)if(1&o2&&0!==o0.dyn_ltree[2*o1])return 0;if(0!==o0.dyn_ltree[18]||0!==o0.dyn_ltree[20]||0!==o0.dyn_ltree[26])return 1;for(o1=32;o1<o5;o1++)if(0!==o0.dyn_ltree[2*o1])return 1;return 0}(o0)),o35(o0,o0.l_desc),o35(o0,o0.d_desc),o7=function(o0){var o1;for(o36(o0,o0.dyn_ltree,o0.l_desc.max_code),o36(o0,o0.dyn_dtree,o0.d_desc.max_code),o35(o0,o0.bl_desc),o1=18;o1>=3&&0===o0.bl_tree[2*o12[o1]+1];o1--);return o0.opt_len+=3*(o1+1)+5+5+4,o1}(o0),o4=o0.opt_len+3+7>>>3,(o6=o0.static_len+3+7>>>3)<=o4&&(o4=o6)):o4=o6=o2+5,o2+4<=o4&&-1!==o1?o39(o0,o1,o2,o3):4===o0.strategy||o6===o4?(o26(o0,2+(o3?1:0),3),o34(o0,o13,o14)):(o26(o0,4+(o3?1:0),3),function(o0,o1,o2,o3){var o4;for(o26(o0,o1-257,5),o26(o0,o2-1,5),o26(o0,o3-4,4),o4=0;o4<o3;o4++)o26(o0,o0.bl_tree[2*o12[o4]+1],3);o37(o0,o0.dyn_ltree,o1-1),o37(o0,o0.dyn_dtree,o2-1)}(o0,o0.l_desc.max_code+1,o0.d_desc.max_code+1,o7+1),o34(o0,o0.dyn_ltree,o0.dyn_dtree)),o30(o0),o3&&o31(o0)},o1._tr_tally=function(o0,o1,o2){return o0.pending_buf[o0.d_buf+2*o0.last_lit]=o1>>>8&255,o0.pending_buf[o0.d_buf+2*o0.last_lit+1]=255&o1,o0.pending_buf[o0.l_buf+o0.last_lit]=255&o2,o0.last_lit++,0===o1?o0.dyn_ltree[2*o2]++:(o0.matches++,o1--,o0.dyn_ltree[2*(o16[o2]+o5+1)]++,o0.dyn_dtree[2*o24(o1)]++),o0.last_lit===o0.lit_bufsize-1},o1._tr_align=function(o0){o26(o0,2,3),o27(o0,256,o13),function(o0){16===o0.bi_valid?(o25(o0,o0.bi_buf),o0.bi_buf=0,o0.bi_valid=0):o0.bi_valid>=8&&(o0.pending_buf[o0.pending++]=255&o0.bi_buf,o0.bi_buf>>=8,o0.bi_valid-=8)}(o0)}},6092:o0=>{o0.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},5248:(o0,o1,o2)=>{var o3=o2(6512);void 0===o3||!o3.version||0===o3.version.indexOf("v0.")||0===o3.version.indexOf("v1.")&&0!==o3.version.indexOf("v1.8.")?o0.exports={nextTick:function(o0,o1,o2,o4){if("function"!=typeof o0)throw new TypeError('"callback" argument must be a function');var o5,o6,o7=arguments.length;switch(o7){case 0:case 1:return o3.nextTick(o0);case 2:return o3.nextTick((function(){o0.call(null,o1)}));case 3:return o3.nextTick((function(){o0.call(null,o1,o2)}));case 4:return o3.nextTick((function(){o0.call(null,o1,o2,o4)}));default:for(o5=new Array(o7-1),o6=0;o6<o5.length;)o5[o6++]=arguments[o6];return o3.nextTick((function(){o0.apply(null,o5)}))}}}:o0.exports=o3},6512:o0=>{var o1,o2,o3=o0.exports={};function o4(){throw new Error("setTimeout has not been defined")}function o5(){throw new Error("clearTimeout has not been defined")}function o6(o0){if(o1===setTimeout)return setTimeout(o0,0);if((o1===o4||!o1)&&setTimeout)return o1=setTimeout,setTimeout(o0,0);try{return o1(o0,0)}catch(o2){try{return o1.call(null,o0,0)}catch(o2){return o1.call(this,o0,0)}}}!function(){try{o1="function"==typeof setTimeout?setTimeout:o4}catch(o0){o1=o4}try{o2="function"==typeof clearTimeout?clearTimeout:o5}catch(o0){o2=o5}}();var o7,o8=[],o9=!1,o10=-1;function o11(){o9&&o7&&(o9=!1,o7.length?o8=o7.concat(o8):o10=-1,o8.length&&o12())}function o12(){if(!o9){var o0=o6(o11);o9=!0;for(var o1=o8.length;o1;){for(o7=o8,o8=[];++o10<o1;)o7&&o7[o10].run();o10=-1,o1=o8.length}o7=null,o9=!1,function(o0){if(o2===clearTimeout)return clearTimeout(o0);if((o2===o5||!o2)&&clearTimeout)return o2=clearTimeout,clearTimeout(o0);try{o2(o0)}catch(o1){try{return o2.call(null,o0)}catch(o1){return o2.call(this,o0)}}}(o0)}}function o13(o0,o1){this.fun=o0,this.array=o1}function o14(){}o3.nextTick=function(o0){var o1=new Array(arguments.length-1);if(arguments.length>1)for(var o2=1;o2<arguments.length;o2++)o1[o2-1]=arguments[o2];o8.push(new o13(o0,o1)),1!==o8.length||o9||o6(o12)},o13.prototype.run=function(){this.fun.apply(null,this.array)},o3.title="browser",o3.browser=!0,o3.env={},o3.argv=[],o3.version="",o3.versions={},o3.on=o14,o3.addListener=o14,o3.once=o14,o3.off=o14,o3.removeListener=o14,o3.removeAllListeners=o14,o3.emit=o14,o3.prependListener=o14,o3.prependOnceListener=o14,o3.listeners=function(o0){return[]},o3.binding=function(o0){throw new Error("process.binding is not supported")},o3.cwd=function(){return"/"},o3.chdir=function(o0){throw new Error("process.chdir is not supported")},o3.umask=function(){return 0}},5308:o0=>{function o1(o0,o1){return Object.prototype.hasOwnProperty.call(o0,o1)}o0.exports=function(o0,o2,o3,o4){o2=o2||"&",o3=o3||"=";var o5={};if("string"!=typeof o0||0===o0.length)return o5;var o6=/\+/g;o0=o0.split(o2);var o7=1e3;o4&&"number"==typeof o4.maxKeys&&(o7=o4.maxKeys);var o8=o0.length;o7>0&&o8>o7&&(o8=o7);for(var o9=0;o9<o8;++o9){var o10,o11,o12,o13,o14=o0[o9].replace(o6,"%20"),o15=o14.indexOf(o3);o15>=0?(o10=o14.substr(0,o15),o11=o14.substr(o15+1)):(o10=o14,o11=""),o12=decodeURIComponent(o10),o13=decodeURIComponent(o11),o1(o5,o12)?Array.isArray(o5[o12])?o5[o12].push(o13):o5[o12]=[o5[o12],o13]:o5[o12]=o13}return o5}},6892:o0=>{var o1=function(o0){switch(typeof o0){case"string":return o0;case"boolean":return o0?"true":"false";case"number":return isFinite(o0)?o0:"";default:return""}};o0.exports=function(o0,o2,o3,o4){return o2=o2||"&",o3=o3||"=",null===o0&&(o0=void 0),"object"==typeof o0?Object.keys(o0).map((function(o4){var o5=encodeURIComponent(o1(o4))+o3;return Array.isArray(o0[o4])?o0[o4].map((function(o0){return o5+encodeURIComponent(o1(o0))})).join(o2):o5+encodeURIComponent(o1(o0[o4]))})).join(o2):o4?encodeURIComponent(o1(o4))+o3+encodeURIComponent(o1(o0)):""}},3480:(o0,o1,o2)=>{o1.decode=o1.parse=o2(5308),o1.encode=o1.stringify=o2(6892)},3332:(o0,o1,o2)=>{o0.exports=o2(3228)},3228:(o0,o1,o2)=>{var o3=o2(5248),o4=Object.keys||function(o0){var o1=[];for(var o2 in o0)o1.push(o2);return o1};o0.exports=o11;var o5=o2(3672);o5.inherits=o2(8248);var o6=o2(1024),o7=o2(8352);o5.inherits(o11,o6);for(var o8=o4(o7.prototype),o9=0;o9<o8.length;o9++){var o10=o8[o9];o11.prototype[o10]||(o11.prototype[o10]=o7.prototype[o10])}function o11(o0){if(!(this instanceof o11))return new o11(o0);o6.call(this,o0),o7.call(this,o0),o0&&!1===o0.readable&&(this.readable=!1),o0&&!1===o0.writable&&(this.writable=!1),this.allowHalfOpen=!0,o0&&!1===o0.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",o12)}function o12(){this.allowHalfOpen||this._writableState.ended||o3.nextTick(o13,this)}function o13(o0){o0.end()}Object.defineProperty(o11.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(o11.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(o0){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=o0,this._writableState.destroyed=o0)}}),o11.prototype._destroy=function(o0,o1){this.push(null),this.end(),o3.nextTick(o1,o0)}},936:(o0,o1,o2)=>{o0.exports=o5;var o3=o2(4456),o4=o2(3672);function o5(o0){if(!(this instanceof o5))return new o5(o0);o3.call(this,o0)}o4.inherits=o2(8248),o4.inherits(o5,o3),o5.prototype._transform=function(o0,o1,o2){o2(null,o0)}},1024:(o0,o1,o2)=>{var o3=o2(6512),o4=o2(5248);o0.exports=o19;var o5,o6=o2(9600);o19.ReadableState=o18;o2(4936).EventEmitter;var o7=function(o0,o1){return o0.listeners(o1).length},o8=o2(8088),o9=o2(5856).Buffer,o10=o2.g.Uint8Array||function(){};var o11=o2(3672);o11.inherits=o2(8248);var o12=o2(3716),o13=void 0;o13=o12&&o12.debuglog?o12.debuglog("stream"):function(){};var o14,o15=o2(8188),o16=o2(5128);o11.inherits(o19,o8);var o17=["error","close","destroy","pause","resume"];function o18(o0,o1){o0=o0||{};var o3=o1 instanceof(o5=o5||o2(3228));this.objectMode=!!o0.objectMode,o3&&(this.objectMode=this.objectMode||!!o0.readableObjectMode);var o4=o0.highWaterMark,o6=o0.readableHighWaterMark,o7=this.objectMode?16:16384;this.highWaterMark=o4||0===o4?o4:o3&&(o6||0===o6)?o6:o7,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new o15,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=o0.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,o0.encoding&&(o14||(o14=o2(7008).o),this.decoder=new o14(o0.encoding),this.encoding=o0.encoding)}function o19(o0){if(o5=o5||o2(3228),!(this instanceof o19))return new o19(o0);this._readableState=new o18(o0,this),this.readable=!0,o0&&("function"==typeof o0.read&&(this._read=o0.read),"function"==typeof o0.destroy&&(this._destroy=o0.destroy)),o8.call(this)}function o20(o0,o1,o2,o3,o4){var o5,o6=o0._readableState;null===o1?(o6.reading=!1,function(o0,o1){if(o1.ended)return;if(o1.decoder){var o2=o1.decoder.end();o2&&o2.length&&(o1.buffer.push(o2),o1.length+=o1.objectMode?1:o2.length)}o1.ended=!0,o24(o0)}(o0,o6)):(o4||(o5=function(o0,o1){var o2;o3=o1,o9.isBuffer(o3)||o3 instanceof o10||"string"==typeof o1||void 0===o1||o0.objectMode||(o2=new TypeError("Invalid non-string/buffer chunk"));var o3;return o2}(o6,o1)),o5?o0.emit("error",o5):o6.objectMode||o1&&o1.length>0?("string"==typeof o1||o6.objectMode||Object.getPrototypeOf(o1)===o9.prototype||(o1=function(o0){return o9.from(o0)}(o1)),o3?o6.endEmitted?o0.emit("error",new Error("stream.unshift() after end event")):o21(o0,o6,o1,!0):o6.ended?o0.emit("error",new Error("stream.push() after EOF")):(o6.reading=!1,o6.decoder&&!o2?(o1=o6.decoder.write(o1),o6.objectMode||0!==o1.length?o21(o0,o6,o1,!1):o26(o0,o6)):o21(o0,o6,o1,!1))):o3||(o6.reading=!1));return function(o0){return!o0.ended&&(o0.needReadable||o0.length<o0.highWaterMark||0===o0.length)}(o6)}function o21(o0,o1,o2,o3){o1.flowing&&0===o1.length&&!o1.sync?(o0.emit("data",o2),o0.read(0)):(o1.length+=o1.objectMode?1:o2.length,o3?o1.buffer.unshift(o2):o1.buffer.push(o2),o1.needReadable&&o24(o0)),o26(o0,o1)}Object.defineProperty(o19.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(o0){this._readableState&&(this._readableState.destroyed=o0)}}),o19.prototype.destroy=o16.destroy,o19.prototype._undestroy=o16.undestroy,o19.prototype._destroy=function(o0,o1){this.push(null),o1(o0)},o19.prototype.push=function(o0,o1){var o2,o3=this._readableState;return o3.objectMode?o2=!0:"string"==typeof o0&&((o1=o1||o3.defaultEncoding)!==o3.encoding&&(o0=o9.from(o0,o1),o1=""),o2=!0),o20(this,o0,o1,!1,o2)},o19.prototype.unshift=function(o0){return o20(this,o0,null,!0,!1)},o19.prototype.isPaused=function(){return!1===this._readableState.flowing},o19.prototype.setEncoding=function(o0){return o14||(o14=o2(7008).o),this._readableState.decoder=new o14(o0),this._readableState.encoding=o0,this};var o22=8388608;function o23(o0,o1){return o0<=0||0===o1.length&&o1.ended?0:o1.objectMode?1:o0!=o0?o1.flowing&&o1.length?o1.buffer.head.data.length:o1.length:(o0>o1.highWaterMark&&(o1.highWaterMark=function(o0){return o0>=o22?o0=o22:(o0--,o0|=o0>>>1,o0|=o0>>>2,o0|=o0>>>4,o0|=o0>>>8,o0|=o0>>>16,o0++),o0}(o0)),o0<=o1.length?o0:o1.ended?o1.length:(o1.needReadable=!0,0))}function o24(o0){var o1=o0._readableState;o1.needReadable=!1,o1.emittedReadable||(o13("emitReadable",o1.flowing),o1.emittedReadable=!0,o1.sync?o4.nextTick(o25,o0):o25(o0))}function o25(o0){o13("emit readable"),o0.emit("readable"),o30(o0)}function o26(o0,o1){o1.readingMore||(o1.readingMore=!0,o4.nextTick(o27,o0,o1))}function o27(o0,o1){for(var o2=o1.length;!o1.reading&&!o1.flowing&&!o1.ended&&o1.length<o1.highWaterMark&&(o13("maybeReadMore read 0"),o0.read(0),o2!==o1.length);)o2=o1.length;o1.readingMore=!1}function o28(o0){o13("readable nexttick read 0"),o0.read(0)}function o29(o0,o1){o1.reading||(o13("resume read 0"),o0.read(0)),o1.resumeScheduled=!1,o1.awaitDrain=0,o0.emit("resume"),o30(o0),o1.flowing&&!o1.reading&&o0.read(0)}function o30(o0){var o1=o0._readableState;for(o13("flow",o1.flowing);o1.flowing&&null!==o0.read(););}function o31(o0,o1){return 0===o1.length?null:(o1.objectMode?o2=o1.buffer.shift():!o0||o0>=o1.length?(o2=o1.decoder?o1.buffer.join(""):1===o1.buffer.length?o1.buffer.head.data:o1.buffer.concat(o1.length),o1.buffer.clear()):o2=function(o0,o1,o2){var o3;o0<o1.head.data.length?(o3=o1.head.data.slice(0,o0),o1.head.data=o1.head.data.slice(o0)):o3=o0===o1.head.data.length?o1.shift():o2?function(o0,o1){var o2=o1.head,o3=1,o4=o2.data;o0-=o4.length;for(;o2=o2.next;){var o5=o2.data,o6=o0>o5.length?o5.length:o0;if(o6===o5.length?o4+=o5:o4+=o5.slice(0,o0),0===(o0-=o6)){o6===o5.length?(++o3,o2.next?o1.head=o2.next:o1.head=o1.tail=null):(o1.head=o2,o2.data=o5.slice(o6));break}++o3}return o1.length-=o3,o4}(o0,o1):function(o0,o1){var o2=o9.allocUnsafe(o0),o3=o1.head,o4=1;o3.data.copy(o2),o0-=o3.data.length;for(;o3=o3.next;){var o5=o3.data,o6=o0>o5.length?o5.length:o0;if(o5.copy(o2,o2.length-o0,0,o6),0===(o0-=o6)){o6===o5.length?(++o4,o3.next?o1.head=o3.next:o1.head=o1.tail=null):(o1.head=o3,o3.data=o5.slice(o6));break}++o4}return o1.length-=o4,o2}(o0,o1);return o3}(o0,o1.buffer,o1.decoder),o2);var o2}function o32(o0){var o1=o0._readableState;if(o1.length>0)throw new Error('"endReadable()" called on non-empty stream');o1.endEmitted||(o1.ended=!0,o4.nextTick(o33,o1,o0))}function o33(o0,o1){o0.endEmitted||0!==o0.length||(o0.endEmitted=!0,o1.readable=!1,o1.emit("end"))}function o34(o0,o1){for(var o2=0,o3=o0.length;o2<o3;o2++)if(o0[o2]===o1)return o2;return-1}o19.prototype.read=function(o0){o13("read",o0),o0=parseInt(o0,10);var o1=this._readableState,o2=o0;if(0!==o0&&(o1.emittedReadable=!1),0===o0&&o1.needReadable&&(o1.length>=o1.highWaterMark||o1.ended))return o13("read: emitReadable",o1.length,o1.ended),0===o1.length&&o1.ended?o32(this):o24(this),null;if(0===(o0=o23(o0,o1))&&o1.ended)return 0===o1.length&&o32(this),null;var o3,o4=o1.needReadable;return o13("need readable",o4),(0===o1.length||o1.length-o0<o1.highWaterMark)&&o13("length less than watermark",o4=!0),o1.ended||o1.reading?o13("reading or ended",o4=!1):o4&&(o13("do read"),o1.reading=!0,o1.sync=!0,0===o1.length&&(o1.needReadable=!0),this._read(o1.highWaterMark),o1.sync=!1,o1.reading||(o0=o23(o2,o1))),null===(o3=o0>0?o31(o0,o1):null)?(o1.needReadable=!0,o0=0):o1.length-=o0,0===o1.length&&(o1.ended||(o1.needReadable=!0),o2!==o0&&o1.ended&&o32(this)),null!==o3&&this.emit("data",o3),o3},o19.prototype._read=function(o0){this.emit("error",new Error("_read() is not implemented"))},o19.prototype.pipe=function(o0,o1){var o2=this,o5=this._readableState;switch(o5.pipesCount){case 0:o5.pipes=o0;break;case 1:o5.pipes=[o5.pipes,o0];break;default:o5.pipes.push(o0)}o5.pipesCount+=1,o13("pipe count=%d opts=%j",o5.pipesCount,o1);var o8=(!o1||!1!==o1.end)&&o0!==o3.stdout&&o0!==o3.stderr?o10:o19;function o9(o1,o3){o13("onunpipe"),o1===o2&&o3&&!1===o3.hasUnpiped&&(o3.hasUnpiped=!0,o13("cleanup"),o0.removeListener("close",o17),o0.removeListener("finish",o18),o0.removeListener("drain",o11),o0.removeListener("error",o16),o0.removeListener("unpipe",o9),o2.removeListener("end",o10),o2.removeListener("end",o19),o2.removeListener("data",o15),o12=!0,!o5.awaitDrain||o0._writableState&&!o0._writableState.needDrain||o11())}function o10(){o13("onend"),o0.end()}o5.endEmitted?o4.nextTick(o8):o2.once("end",o8),o0.on("unpipe",o9);var o11=function(o0){return function(){var o1=o0._readableState;o13("pipeOnDrain",o1.awaitDrain),o1.awaitDrain&&o1.awaitDrain--,0===o1.awaitDrain&&o7(o0,"data")&&(o1.flowing=!0,o30(o0))}}(o2);o0.on("drain",o11);var o12=!1;var o14=!1;function o15(o1){o13("ondata"),o14=!1,!1!==o0.write(o1)||o14||((1===o5.pipesCount&&o5.pipes===o0||o5.pipesCount>1&&-1!==o34(o5.pipes,o0))&&!o12&&(o13("false write response, pause",o2._readableState.awaitDrain),o2._readableState.awaitDrain++,o14=!0),o2.pause())}function o16(o1){o13("onerror",o1),o19(),o0.removeListener("error",o16),0===o7(o0,"error")&&o0.emit("error",o1)}function o17(){o0.removeListener("finish",o18),o19()}function o18(){o13("onfinish"),o0.removeListener("close",o17),o19()}function o19(){o13("unpipe"),o2.unpipe(o0)}return o2.on("data",o15),function(o0,o1,o2){if("function"==typeof o0.prependListener)return o0.prependListener(o1,o2);o0._events&&o0._events[o1]?o6(o0._events[o1])?o0._events[o1].unshift(o2):o0._events[o1]=[o2,o0._events[o1]]:o0.on(o1,o2)}(o0,"error",o16),o0.once("close",o17),o0.once("finish",o18),o0.emit("pipe",o2),o5.flowing||(o13("pipe resume"),o2.resume()),o0},o19.prototype.unpipe=function(o0){var o1=this._readableState,o2={hasUnpiped:!1};if(0===o1.pipesCount)return this;if(1===o1.pipesCount)return o0&&o0!==o1.pipes||(o0||(o0=o1.pipes),o1.pipes=null,o1.pipesCount=0,o1.flowing=!1,o0&&o0.emit("unpipe",this,o2)),this;if(!o0){var o3=o1.pipes,o4=o1.pipesCount;o1.pipes=null,o1.pipesCount=0,o1.flowing=!1;for(var o5=0;o5<o4;o5++)o3[o5].emit("unpipe",this,o2);return this}var o6=o34(o1.pipes,o0);return-1===o6||(o1.pipes.splice(o6,1),o1.pipesCount-=1,1===o1.pipesCount&&(o1.pipes=o1.pipes[0]),o0.emit("unpipe",this,o2)),this},o19.prototype.on=function(o0,o1){var o2=o8.prototype.on.call(this,o0,o1);if("data"===o0)!1!==this._readableState.flowing&&this.resume();else if("readable"===o0){var o3=this._readableState;o3.endEmitted||o3.readableListening||(o3.readableListening=o3.needReadable=!0,o3.emittedReadable=!1,o3.reading?o3.length&&o24(this):o4.nextTick(o28,this))}return o2},o19.prototype.addListener=o19.prototype.on,o19.prototype.resume=function(){var o0=this._readableState;return o0.flowing||(o13("resume"),o0.flowing=!0,function(o0,o1){o1.resumeScheduled||(o1.resumeScheduled=!0,o4.nextTick(o29,o0,o1))}(this,o0)),this},o19.prototype.pause=function(){return o13("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(o13("pause"),this._readableState.flowing=!1,this.emit("pause")),this},o19.prototype.wrap=function(o0){var o1=this,o2=this._readableState,o3=!1;for(var o4 in o0.on("end",(function(){if(o13("wrapped end"),o2.decoder&&!o2.ended){var o0=o2.decoder.end();o0&&o0.length&&o1.push(o0)}o1.push(null)})),o0.on("data",(function(o4){(o13("wrapped data"),o2.decoder&&(o4=o2.decoder.write(o4)),o2.objectMode&&null==o4)||(o2.objectMode||o4&&o4.length)&&(o1.push(o4)||(o3=!0,o0.pause()))})),o0)void 0===this[o4]&&"function"==typeof o0[o4]&&(this[o4]=function(o1){return function(){return o0[o1].apply(o0,arguments)}}(o4));for(var o5=0;o5<o17.length;o5++)o0.on(o17[o5],this.emit.bind(this,o17[o5]));return this._read=function(o1){o13("wrapped _read",o1),o3&&(o3=!1,o0.resume())},this},Object.defineProperty(o19.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),o19._fromList=o31},4456:(o0,o1,o2)=>{o0.exports=o6;var o3=o2(3228),o4=o2(3672);function o5(o0,o1){var o2=this._transformState;o2.transforming=!1;var o3=o2.writecb;if(!o3)return this.emit("error",new Error("write callback called multiple times"));o2.writechunk=null,o2.writecb=null,null!=o1&&this.push(o1),o3(o0);var o4=this._readableState;o4.reading=!1,(o4.needReadable||o4.length<o4.highWaterMark)&&this._read(o4.highWaterMark)}function o6(o0){if(!(this instanceof o6))return new o6(o0);o3.call(this,o0),this._transformState={afterTransform:o5.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,o0&&("function"==typeof o0.transform&&(this._transform=o0.transform),"function"==typeof o0.flush&&(this._flush=o0.flush)),this.on("prefinish",o7)}function o7(){var o0=this;"function"==typeof this._flush?this._flush((function(o1,o2){o8(o0,o1,o2)})):o8(this,null,null)}function o8(o0,o1,o2){if(o1)return o0.emit("error",o1);if(null!=o2&&o0.push(o2),o0._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(o0._transformState.transforming)throw new Error("Calling transform done when still transforming");return o0.push(null)}o4.inherits=o2(8248),o4.inherits(o6,o3),o6.prototype.push=function(o0,o1){return this._transformState.needTransform=!1,o3.prototype.push.call(this,o0,o1)},o6.prototype._transform=function(o0,o1,o2){throw new Error("_transform() is not implemented")},o6.prototype._write=function(o0,o1,o2){var o3=this._transformState;if(o3.writecb=o2,o3.writechunk=o0,o3.writeencoding=o1,!o3.transforming){var o4=this._readableState;(o3.needTransform||o4.needReadable||o4.length<o4.highWaterMark)&&this._read(o4.highWaterMark)}},o6.prototype._read=function(o0){var o1=this._transformState;null!==o1.writechunk&&o1.writecb&&!o1.transforming?(o1.transforming=!0,this._transform(o1.writechunk,o1.writeencoding,o1.afterTransform)):o1.needTransform=!0},o6.prototype._destroy=function(o0,o1){var o2=this;o3.prototype._destroy.call(this,o0,(function(o0){o1(o0),o2.emit("close")}))}},8352:(o0,o1,o2)=>{var o3=o2(6512),o4=o2(5248);function o5(o0){var o1=this;this.next=null,this.entry=null,this.finish=function(){!function(o0,o1,o2){var o3=o0.entry;o0.entry=null;for(;o3;){var o4=o3.callback;o1.pendingcb--,o4(o2),o3=o3.next}o1.corkedRequestsFree?o1.corkedRequestsFree.next=o0:o1.corkedRequestsFree=o0}(o1,o0)}}o0.exports=o17;var o6,o7=!o3.browser&&["v0.10","v0.9."].indexOf(o3.version.slice(0,5))>-1?setImmediate:o4.nextTick;o17.WritableState=o16;var o8=o2(3672);o8.inherits=o2(8248);var o9={deprecate:o2(6648)},o10=o2(8088),o11=o2(5856).Buffer,o12=o2.g.Uint8Array||function(){};var o13,o14=o2(5128);function o15(){}function o16(o0,o1){o6=o6||o2(3228),o0=o0||{};var o3=o1 instanceof o6;this.objectMode=!!o0.objectMode,o3&&(this.objectMode=this.objectMode||!!o0.writableObjectMode);var o8=o0.highWaterMark,o9=o0.writableHighWaterMark,o10=this.objectMode?16:16384;this.highWaterMark=o8||0===o8?o8:o3&&(o9||0===o9)?o9:o10,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var o11=!1===o0.decodeStrings;this.decodeStrings=!o11,this.defaultEncoding=o0.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(o0){!function(o0,o1){var o2=o0._writableState,o3=o2.sync,o5=o2.writecb;if(function(o0){o0.writing=!1,o0.writecb=null,o0.length-=o0.writelen,o0.writelen=0}(o2),o1)!function(o0,o1,o2,o3,o5){--o1.pendingcb,o2?(o4.nextTick(o5,o3),o4.nextTick(o23,o0,o1),o0._writableState.errorEmitted=!0,o0.emit("error",o3)):(o5(o3),o0._writableState.errorEmitted=!0,o0.emit("error",o3),o23(o0,o1))}(o0,o2,o3,o1,o5);else{var o6=o21(o2);o6||o2.corked||o2.bufferProcessing||!o2.bufferedRequest||o20(o0,o2),o3?o7(o19,o0,o2,o6,o5):o19(o0,o2,o6,o5)}}(o1,o0)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new o5(this)}function o17(o0){if(o6=o6||o2(3228),!(o13.call(o17,this)||this instanceof o6))return new o17(o0);this._writableState=new o16(o0,this),this.writable=!0,o0&&("function"==typeof o0.write&&(this._write=o0.write),"function"==typeof o0.writev&&(this._writev=o0.writev),"function"==typeof o0.destroy&&(this._destroy=o0.destroy),"function"==typeof o0.final&&(this._final=o0.final)),o10.call(this)}function o18(o0,o1,o2,o3,o4,o5,o6){o1.writelen=o3,o1.writecb=o6,o1.writing=!0,o1.sync=!0,o2?o0._writev(o4,o1.onwrite):o0._write(o4,o5,o1.onwrite),o1.sync=!1}function o19(o0,o1,o2,o3){o2||function(o0,o1){0===o1.length&&o1.needDrain&&(o1.needDrain=!1,o0.emit("drain"))}(o0,o1),o1.pendingcb--,o3(),o23(o0,o1)}function o20(o0,o1){o1.bufferProcessing=!0;var o2=o1.bufferedRequest;if(o0._writev&&o2&&o2.next){var o3=o1.bufferedRequestCount,o4=new Array(o3),o6=o1.corkedRequestsFree;o6.entry=o2;for(var o7=0,o8=!0;o2;)o4[o7]=o2,o2.isBuf||(o8=!1),o2=o2.next,o7+=1;o4.allBuffers=o8,o18(o0,o1,!0,o1.length,o4,"",o6.finish),o1.pendingcb++,o1.lastBufferedRequest=null,o6.next?(o1.corkedRequestsFree=o6.next,o6.next=null):o1.corkedRequestsFree=new o5(o1),o1.bufferedRequestCount=0}else{for(;o2;){var o9=o2.chunk,o10=o2.encoding,o11=o2.callback;if(o18(o0,o1,!1,o1.objectMode?1:o9.length,o9,o10,o11),o2=o2.next,o1.bufferedRequestCount--,o1.writing)break}null===o2&&(o1.lastBufferedRequest=null)}o1.bufferedRequest=o2,o1.bufferProcessing=!1}function o21(o0){return o0.ending&&0===o0.length&&null===o0.bufferedRequest&&!o0.finished&&!o0.writing}function o22(o0,o1){o0._final((function(o2){o1.pendingcb--,o2&&o0.emit("error",o2),o1.prefinished=!0,o0.emit("prefinish"),o23(o0,o1)}))}function o23(o0,o1){var o2=o21(o1);return o2&&(!function(o0,o1){o1.prefinished||o1.finalCalled||("function"==typeof o0._final?(o1.pendingcb++,o1.finalCalled=!0,o4.nextTick(o22,o0,o1)):(o1.prefinished=!0,o0.emit("prefinish")))}(o0,o1),0===o1.pendingcb&&(o1.finished=!0,o0.emit("finish"))),o2}o8.inherits(o17,o10),o16.prototype.getBuffer=function(){for(var o0=this.bufferedRequest,o1=[];o0;)o1.push(o0),o0=o0.next;return o1},function(){try{Object.defineProperty(o16.prototype,"buffer",{get:o9.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(o0){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(o13=Function.prototype[Symbol.hasInstance],Object.defineProperty(o17,Symbol.hasInstance,{value:function(o0){return!!o13.call(this,o0)||this===o17&&(o0&&o0._writableState instanceof o16)}})):o13=function(o0){return o0 instanceof this},o17.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},o17.prototype.write=function(o0,o1,o2){var o3,o5=this._writableState,o6=!1,o7=!o5.objectMode&&(o3=o0,o11.isBuffer(o3)||o3 instanceof o12);return o7&&!o11.isBuffer(o0)&&(o0=function(o0){return o11.from(o0)}(o0)),"function"==typeof o1&&(o2=o1,o1=null),o7?o1="buffer":o1||(o1=o5.defaultEncoding),"function"!=typeof o2&&(o2=o15),o5.ended?function(o0,o1){var o2=new Error("write after end");o0.emit("error",o2),o4.nextTick(o1,o2)}(this,o2):(o7||function(o0,o1,o2,o3){var o5=!0,o6=!1;return null===o2?o6=new TypeError("May not write null values to stream"):"string"==typeof o2||void 0===o2||o1.objectMode||(o6=new TypeError("Invalid non-string/buffer chunk")),o6&&(o0.emit("error",o6),o4.nextTick(o3,o6),o5=!1),o5}(this,o5,o0,o2))&&(o5.pendingcb++,o6=function(o0,o1,o2,o3,o4,o5){if(!o2){var o6=function(o0,o1,o2){o0.objectMode||!1===o0.decodeStrings||"string"!=typeof o1||(o1=o11.from(o1,o2));return o1}(o1,o3,o4);o3!==o6&&(o2=!0,o4="buffer",o3=o6)}var o7=o1.objectMode?1:o3.length;o1.length+=o7;var o8=o1.length<o1.highWaterMark;o8||(o1.needDrain=!0);if(o1.writing||o1.corked){var o9=o1.lastBufferedRequest;o1.lastBufferedRequest={chunk:o3,encoding:o4,isBuf:o2,callback:o5,next:null},o9?o9.next=o1.lastBufferedRequest:o1.bufferedRequest=o1.lastBufferedRequest,o1.bufferedRequestCount+=1}else o18(o0,o1,!1,o7,o3,o4,o5);return o8}(this,o5,o7,o0,o1,o2)),o6},o17.prototype.cork=function(){this._writableState.corked++},o17.prototype.uncork=function(){var o0=this._writableState;o0.corked&&(o0.corked--,o0.writing||o0.corked||o0.finished||o0.bufferProcessing||!o0.bufferedRequest||o20(this,o0))},o17.prototype.setDefaultEncoding=function(o0){if("string"==typeof o0&&(o0=o0.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((o0+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+o0);return this._writableState.defaultEncoding=o0,this},Object.defineProperty(o17.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),o17.prototype._write=function(o0,o1,o2){o2(new Error("_write() is not implemented"))},o17.prototype._writev=null,o17.prototype.end=function(o0,o1,o2){var o3=this._writableState;"function"==typeof o0?(o2=o0,o0=null,o1=null):"function"==typeof o1&&(o2=o1,o1=null),null!=o0&&this.write(o0,o1),o3.corked&&(o3.corked=1,this.uncork()),o3.ending||o3.finished||function(o0,o1,o2){o1.ending=!0,o23(o0,o1),o2&&(o1.finished?o4.nextTick(o2):o0.once("finish",o2));o1.ended=!0,o0.writable=!1}(this,o3,o2)},Object.defineProperty(o17.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(o0){this._writableState&&(this._writableState.destroyed=o0)}}),o17.prototype.destroy=o14.destroy,o17.prototype._undestroy=o14.undestroy,o17.prototype._destroy=function(o0,o1){this.end(),o1(o0)}},8188:(o0,o1,o2)=>{var o3=o2(5856).Buffer,o4=o2(3236);o0.exports=function(){function o0(){!function(o0,o1){if(!(o0 instanceof o1))throw new TypeError("Cannot call a class as a function")}(this,o0),this.head=null,this.tail=null,this.length=0}return o0.prototype.push=function(o0){var o1={data:o0,next:null};this.length>0?this.tail.next=o1:this.head=o1,this.tail=o1,++this.length},o0.prototype.unshift=function(o0){var o1={data:o0,next:this.head};0===this.length&&(this.tail=o1),this.head=o1,++this.length},o0.prototype.shift=function(){if(0!==this.length){var o0=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,o0}},o0.prototype.clear=function(){this.head=this.tail=null,this.length=0},o0.prototype.join=function(o0){if(0===this.length)return"";for(var o1=this.head,o2=""+o1.data;o1=o1.next;)o2+=o0+o1.data;return o2},o0.prototype.concat=function(o0){if(0===this.length)return o3.alloc(0);if(1===this.length)return this.head.data;for(var o1,o2,o4,o5=o3.allocUnsafe(o0>>>0),o6=this.head,o7=0;o6;)o1=o6.data,o2=o5,o4=o7,o1.copy(o2,o4),o7+=o6.data.length,o6=o6.next;return o5},o0}(),o4&&o4.inspect&&o4.inspect.custom&&(o0.exports.prototype[o4.inspect.custom]=function(){var o0=o4.inspect({length:this.length});return this.constructor.name+" "+o0})},5128:(o0,o1,o2)=>{var o3=o2(5248);function o4(o0,o1){o0.emit("error",o1)}o0.exports={destroy:function(o0,o1){var o2=this,o5=this._readableState&&this._readableState.destroyed,o6=this._writableState&&this._writableState.destroyed;return o5||o6?(o1?o1(o0):!o0||this._writableState&&this._writableState.errorEmitted||o3.nextTick(o4,this,o0),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(o0||null,(function(o0){!o1&&o0?(o3.nextTick(o4,o2,o0),o2._writableState&&(o2._writableState.errorEmitted=!0)):o1&&o1(o0)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},8088:(o0,o1,o2)=>{o0.exports=o2(4936).EventEmitter},9496:(o0,o1,o2)=>{(o1=o0.exports=o2(1024)).Stream=o1,o1.Readable=o1,o1.Writable=o2(8352),o1.Duplex=o2(3228),o1.Transform=o2(4456),o1.PassThrough=o2(936)},6732:o0=>{function o1(o0,o1,o2){var o3=this;this._callback=o0,this._args=o2,this._interval=setInterval(o0,o1,this._args),this.reschedule=function(o0){o0||(o0=o3._interval),o3._interval&&clearInterval(o3._interval),o3._interval=setInterval(o3._callback,o0,o3._args)},this.clear=function(){o3._interval&&(clearInterval(o3._interval),o3._interval=void 0)},this.destroy=function(){o3._interval&&clearInterval(o3._interval),o3._callback=void 0,o3._interval=void 0,o3._args=void 0}}o0.exports=function(){if("function"!=typeof arguments[0])throw new Error("callback needed");if("number"!=typeof arguments[1])throw new Error("interval needed");var o0;if(arguments.length>0){o0=new Array(arguments.length-2);for(var o2=0;o2<o0.length;o2++)o0[o2]=arguments[o2+2]}return new o1(arguments[0],arguments[1],o0)}},5856:(o0,o1,o2)=>{var o3=o2(3296),o4=o3.Buffer;function o5(o0,o1){for(var o2 in o0)o1[o2]=o0[o2]}function o6(o0,o1,o2){return o4(o0,o1,o2)}o4.from&&o4.alloc&&o4.allocUnsafe&&o4.allocUnsafeSlow?o0.exports=o3:(o5(o3,o1),o1.Buffer=o6),o5(o4,o6),o6.from=function(o0,o1,o2){if("number"==typeof o0)throw new TypeError("Argument must not be a number");return o4(o0,o1,o2)},o6.alloc=function(o0,o1,o2){if("number"!=typeof o0)throw new TypeError("Argument must be a number");var o3=o4(o0);return void 0!==o1?"string"==typeof o2?o3.fill(o1,o2):o3.fill(o1):o3.fill(0),o3},o6.allocUnsafe=function(o0){if("number"!=typeof o0)throw new TypeError("Argument must be a number");return o4(o0)},o6.allocUnsafeSlow=function(o0){if("number"!=typeof o0)throw new TypeError("Argument must be a number");return o3.SlowBuffer(o0)}},5940:o0=>{o0.exports=function(o0){var o1=o0._readableState;return o1?o1.objectMode?o0.read():o0.read(function(o0){if(o0.buffer.length)return o0.buffer.head?o0.buffer.head.data.length:o0.buffer[0].length;return o0.length}(o1)):null}},7008:(o0,o1,o2)=>{var o3=o2(5856).Buffer,o4=o3.isEncoding||function(o0){switch((o0=""+o0)&&o0.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o5(o0){var o1;switch(this.encoding=function(o0){var o1=function(o0){if(!o0)return"utf8";for(var o1;;)switch(o0){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return o0;default:if(o1)return;o0=(""+o0).toLowerCase(),o1=!0}}(o0);if("string"!=typeof o1&&(o3.isEncoding===o4||!o4(o0)))throw new Error("Unknown encoding: "+o0);return o1||o0}(o0),this.encoding){case"utf16le":this.text=o8,this.end=o9,o1=4;break;case"utf8":this.fillLast=o7,o1=4;break;case"base64":this.text=o10,this.end=o11,o1=3;break;default:return this.write=o12,void(this.end=o13)}this.lastNeed=0,this.lastTotal=0,this.lastChar=o3.allocUnsafe(o1)}function o6(o0){return o0<=127?0:o0>>5==6?2:o0>>4==14?3:o0>>3==30?4:o0>>6==2?-1:-2}function o7(o0){var o1=this.lastTotal-this.lastNeed,o2=function(o0,o1,o2){if(128!=(192&o1[0]))return o0.lastNeed=0,"";if(o0.lastNeed>1&&o1.length>1){if(128!=(192&o1[1]))return o0.lastNeed=1,"";if(o0.lastNeed>2&&o1.length>2&&128!=(192&o1[2]))return o0.lastNeed=2,""}}(this,o0);return void 0!==o2?o2:this.lastNeed<=o0.length?(o0.copy(this.lastChar,o1,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(o0.copy(this.lastChar,o1,0,o0.length),void(this.lastNeed-=o0.length))}function o8(o0,o1){if((o0.length-o1)%2==0){var o2=o0.toString("utf16le",o1);if(o2){var o3=o2.charCodeAt(o2.length-1);if(o3>=55296&&o3<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=o0[o0.length-2],this.lastChar[1]=o0[o0.length-1],o2.slice(0,-1)}return o2}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=o0[o0.length-1],o0.toString("utf16le",o1,o0.length-1)}function o9(o0){var o1=o0&&o0.length?this.write(o0):"";if(this.lastNeed){var o2=this.lastTotal-this.lastNeed;return o1+this.lastChar.toString("utf16le",0,o2)}return o1}function o10(o0,o1){var o2=(o0.length-o1)%3;return 0===o2?o0.toString("base64",o1):(this.lastNeed=3-o2,this.lastTotal=3,1===o2?this.lastChar[0]=o0[o0.length-1]:(this.lastChar[0]=o0[o0.length-2],this.lastChar[1]=o0[o0.length-1]),o0.toString("base64",o1,o0.length-o2))}function o11(o0){var o1=o0&&o0.length?this.write(o0):"";return this.lastNeed?o1+this.lastChar.toString("base64",0,3-this.lastNeed):o1}function o12(o0){return o0.toString(this.encoding)}function o13(o0){return o0&&o0.length?this.write(o0):""}o1.o=o5,o5.prototype.write=function(o0){if(0===o0.length)return"";var o1,o2;if(this.lastNeed){if(void 0===(o1=this.fillLast(o0)))return"";o2=this.lastNeed,this.lastNeed=0}else o2=0;return o2<o0.length?o1?o1+this.text(o0,o2):this.text(o0,o2):o1||""},o5.prototype.end=function(o0){var o1=o0&&o0.length?this.write(o0):"";return this.lastNeed?o1+"":o1},o5.prototype.text=function(o0,o1){var o2=function(o0,o1,o2){var o3=o1.length-1;if(o3<o2)return 0;var o4=o6(o1[o3]);if(o4>=0)return o4>0&&(o0.lastNeed=o4-1),o4;if(--o3<o2||-2===o4)return 0;if((o4=o6(o1[o3]))>=0)return o4>0&&(o0.lastNeed=o4-2),o4;if(--o3<o2||-2===o4)return 0;if((o4=o6(o1[o3]))>=0)return o4>0&&(2===o4?o4=0:o0.lastNeed=o4-3),o4;return 0}(this,o0,o1);if(!this.lastNeed)return o0.toString("utf8",o1);this.lastTotal=o2;var o3=o0.length-(o2-this.lastNeed);return o0.copy(this.lastChar,0,o3),o0.toString("utf8",o1,o3)},o5.prototype.fillLast=function(o0){if(this.lastNeed<=o0.length)return o0.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);o0.copy(this.lastChar,this.lastTotal-this.lastNeed,0,o0.length),this.lastNeed-=o0.length}},8704:(o0,o1,o2)=>{var o3=o2(1556);o0.exports=function(o0){if("function"!=typeof o0)return!1;if(!hasOwnProperty.call(o0,"length"))return!1;try{if("number"!=typeof o0.length)return!1;if("function"!=typeof o0.call)return!1;if("function"!=typeof o0.apply)return!1}catch(o0){return!1}return!o3(o0)}},5664:(o0,o1,o2)=>{var o3=o2(9268),o4=o2(8472),o5=o2(8043),o6=o2(2260),o7=function(o0,o1){return o0.replace("%v",o6(o1))};o0.exports=function(o0,o1,o2){if(!o4(o2))throw new TypeError(o7(o1,o0));if(!o3(o0)){if("default"in o2)return o2.default;if(o2.isOptional)return null}var o6=o5(o2.errorMessage);throw o3(o6)||(o6=o1),new TypeError(o7(o6,o0))}},7163:o0=>{o0.exports=function(o0){try{return o0.toString()}catch(o1){try{return String(o0)}catch(o0){return null}}}},2260:(o0,o1,o2)=>{var o3=o2(7163),o4=/[\n\r\u2028\u2029]/g;o0.exports=function(o0){var o1=o3(o0);return null===o1?"<Non-coercible to string value>":(o1.length>100&&(o1=o1.slice(0,99)+""),o1=o1.replace(o4,(function(o0){switch(o0){case"\n":return"\\n";case"\r":return"\\r";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw new Error("Unexpected character")}})))}},8472:(o0,o1,o2)=>{var o3=o2(9268),o4={object:!0,function:!0,undefined:!0};o0.exports=function(o0){return!!o3(o0)&&hasOwnProperty.call(o4,typeof o0)}},1848:(o0,o1,o2)=>{var o3=o2(5664),o4=o2(5716);o0.exports=function(o0){return o4(o0)?o0:o3(o0,"%v is not a plain function",arguments[1])}},5716:(o0,o1,o2)=>{var o3=o2(8704),o4=/^\s*class[\s{/}]/,o5=Function.prototype.toString;o0.exports=function(o0){return!!o3(o0)&&!o4.test(o5.call(o0))}},1556:(o0,o1,o2)=>{var o3=o2(8472);o0.exports=function(o0){if(!o3(o0))return!1;try{return!!o0.constructor&&o0.constructor.prototype===o0}catch(o0){return!1}}},8043:(o0,o1,o2)=>{var o3=o2(9268),o4=o2(8472),o5=Object.prototype.toString;o0.exports=function(o0){if(!o3(o0))return null;if(o4(o0)){var o1=o0.toString;if("function"!=typeof o1)return null;if(o1===o5)return null}try{return""+o0}catch(o0){return null}}},9372:(o0,o1,o2)=>{var o3=o2(5664),o4=o2(9268);o0.exports=function(o0){return o4(o0)?o0:o3(o0,"Cannot use %v",arguments[1])}},9268:o0=>{o0.exports=function(o0){return null!=o0}},2980:function(o0,o1,o2){var o3;o0=o2.nmd(o0),function(o4){o1&&o1.nodeType,o0&&o0.nodeType;var o5="object"==typeof o2.g&&o2.g;o5.global!==o5&&o5.window!==o5&&o5.self;var o6,o7=2147483647,o8=36,o9=/^xn--/,o10=/[^\x20-\x7E]/,o11=/[\x2E\u3002\uFF0E\uFF61]/g,o12={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},o13=Math.floor,o14=String.fromCharCode;function o15(o0){throw RangeError(o12[o0])}function o16(o0,o1){for(var o2=o0.length,o3=[];o2--;)o3[o2]=o1(o0[o2]);return o3}function o17(o0,o1){var o2=o0.split("@"),o3="";return o2.length>1&&(o3=o2[0]+"@",o0=o2[1]),o3+o16((o0=o0.replace(o11,".")).split("."),o1).join(".")}function o18(o0){for(var o1,o2,o3=[],o4=0,o5=o0.length;o4<o5;)(o1=o0.charCodeAt(o4++))>=55296&&o1<=56319&&o4<o5?56320==(64512&(o2=o0.charCodeAt(o4++)))?o3.push(((1023&o1)<<10)+(1023&o2)+65536):(o3.push(o1),o4--):o3.push(o1);return o3}function o19(o0){return o16(o0,(function(o0){var o1="";return o0>65535&&(o1+=o14((o0-=65536)>>>10&1023|55296),o0=56320|1023&o0),o1+=o14(o0)})).join("")}function o20(o0,o1){return o0+22+75*(o0<26)-((0!=o1)<<5)}function o21(o0,o1,o2){var o3=0;for(o0=o2?o13(o0/700):o0>>1,o0+=o13(o0/o1);o0>455;o3+=o8)o0=o13(o0/35);return o13(o3+36*o0/(o0+38))}function o22(o0){var o1,o2,o3,o4,o5,o6,o9,o10,o11,o12,o14,o16=[],o17=o0.length,o18=0,o20=128,o22=72;for((o2=o0.lastIndexOf("-"))<0&&(o2=0),o3=0;o3<o2;++o3)o0.charCodeAt(o3)>=128&&o15("not-basic"),o16.push(o0.charCodeAt(o3));for(o4=o2>0?o2+1:0;o4<o17;){for(o5=o18,o6=1,o9=o8;o4>=o17&&o15("invalid-input"),((o10=(o14=o0.charCodeAt(o4++))-48<10?o14-22:o14-65<26?o14-65:o14-97<26?o14-97:o8)>=o8||o10>o13((o7-o18)/o6))&&o15("overflow"),o18+=o10*o6,!(o10<(o11=o9<=o22?1:o9>=o22+26?26:o9-o22));o9+=o8)o6>o13(o7/(o12=o8-o11))&&o15("overflow"),o6*=o12;o22=o21(o18-o5,o1=o16.length+1,0==o5),o13(o18/o1)>o7-o20&&o15("overflow"),o20+=o13(o18/o1),o18%=o1,o16.splice(o18++,0,o20)}return o19(o16)}function o23(o0){var o1,o2,o3,o4,o5,o6,o9,o10,o11,o12,o16,o17,o19,o22,o23,o24=[];for(o17=(o0=o18(o0)).length,o1=128,o2=0,o5=72,o6=0;o6<o17;++o6)(o16=o0[o6])<128&&o24.push(o14(o16));for(o3=o4=o24.length,o4&&o24.push("-");o3<o17;){for(o9=o7,o6=0;o6<o17;++o6)(o16=o0[o6])>=o1&&o16<o9&&(o9=o16);for(o9-o1>o13((o7-o2)/(o19=o3+1))&&o15("overflow"),o2+=(o9-o1)*o19,o1=o9,o6=0;o6<o17;++o6)if((o16=o0[o6])<o1&&++o2>o7&&o15("overflow"),o16==o1){for(o10=o2,o11=o8;!(o10<(o12=o11<=o5?1:o11>=o5+26?26:o11-o5));o11+=o8)o23=o10-o12,o22=o8-o12,o24.push(o14(o20(o12+o23%o22,0))),o10=o13(o23/o22);o24.push(o14(o20(o10,0))),o5=o21(o2,o19,o3==o4),o2=0,++o3}++o2,++o1}return o24.join("")}o6={version:"1.3.2",ucs2:{decode:o18,encode:o19},decode:o22,encode:o23,toASCII:function(o0){return o17(o0,(function(o0){return o10.test(o0)?"xn--"+o23(o0):o0}))},toUnicode:function(o0){return o17(o0,(function(o0){return o9.test(o0)?o22(o0.slice(4).toLowerCase()):o0}))}},void 0===(o3=function(){return o6}.call(o1,o2,o1,o0))||(o0.exports=o3)}()},4776:(o0,o1,o2)=>{var o3=o2(2980),o4=o2(9076);function o5(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}o1.parse=o19,o1.resolve=function(o0,o1){return o19(o0,!1,!0).resolve(o1)},o1.resolveObject=function(o0,o1){return o0?o19(o0,!1,!0).resolveObject(o1):o1},o1.format=function(o0){o4.isString(o0)&&(o0=o19(o0));return o0 instanceof o5?o0.format():o5.prototype.format.call(o0)},o1.Url=o5;var o6=/^([a-z0-9.+-]+:)/i,o7=/:[0-9]*$/,o8=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,o9=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),o10=["'"].concat(o9),o11=["%","/","?",";","#"].concat(o10),o12=["/","?","#"],o13=/^[+a-z0-9A-Z_-]{0,63}$/,o14=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,o15={javascript:!0,"javascript:":!0},o16={javascript:!0,"javascript:":!0},o17={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},o18=o2(3480);function o19(o0,o1,o2){if(o0&&o4.isObject(o0)&&o0 instanceof o5)return o0;var o3=new o5;return o3.parse(o0,o1,o2),o3}o5.prototype.parse=function(o0,o1,o2){if(!o4.isString(o0))throw new TypeError("Parameter 'url' must be a string, not "+typeof o0);var o5=o0.indexOf("?"),o7=-1!==o5&&o5<o0.indexOf("#")?"?":"#",o9=o0.split(o7);o9[0]=o9[0].replace(/\\/g,"/");var o19=o0=o9.join(o7);if(o19=o19.trim(),!o2&&1===o0.split("#").length){var o20=o8.exec(o19);if(o20)return this.path=o19,this.href=o19,this.pathname=o20[1],o20[2]?(this.search=o20[2],this.query=o1?o18.parse(this.search.substr(1)):this.search.substr(1)):o1&&(this.search="",this.query={}),this}var o21=o6.exec(o19);if(o21){var o22=(o21=o21[0]).toLowerCase();this.protocol=o22,o19=o19.substr(o21.length)}if(o2||o21||o19.match(/^\/\/[^@\/]+@[^@\/]+/)){var o23="//"===o19.substr(0,2);!o23||o21&&o16[o21]||(o19=o19.substr(2),this.slashes=!0)}if(!o16[o21]&&(o23||o21&&!o17[o21])){for(var o24,o25,o26=-1,o27=0;o27<o12.length;o27++){-1!==(o28=o19.indexOf(o12[o27]))&&(-1===o26||o28<o26)&&(o26=o28)}-1!==(o25=-1===o26?o19.lastIndexOf("@"):o19.lastIndexOf("@",o26))&&(o24=o19.slice(0,o25),o19=o19.slice(o25+1),this.auth=decodeURIComponent(o24)),o26=-1;for(o27=0;o27<o11.length;o27++){var o28;-1!==(o28=o19.indexOf(o11[o27]))&&(-1===o26||o28<o26)&&(o26=o28)}-1===o26&&(o26=o19.length),this.host=o19.slice(0,o26),o19=o19.slice(o26),this.parseHost(),this.hostname=this.hostname||"";var o29="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!o29)for(var o30=this.hostname.split(/\./),o31=(o27=0,o30.length);o27<o31;o27++){var o32=o30[o27];if(o32&&!o32.match(o13)){for(var o33="",o34=0,o35=o32.length;o34<o35;o34++)o32.charCodeAt(o34)>127?o33+="x":o33+=o32[o34];if(!o33.match(o13)){var o36=o30.slice(0,o27),o37=o30.slice(o27+1),o38=o32.match(o14);o38&&(o36.push(o38[1]),o37.unshift(o38[2])),o37.length&&(o19="/"+o37.join(".")+o19),this.hostname=o36.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),o29||(this.hostname=o3.toASCII(this.hostname));var o39=this.port?":"+this.port:"",o40=this.hostname||"";this.host=o40+o39,this.href+=this.host,o29&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==o19[0]&&(o19="/"+o19))}if(!o15[o22])for(o27=0,o31=o10.length;o27<o31;o27++){var o41=o10[o27];if(-1!==o19.indexOf(o41)){var o42=encodeURIComponent(o41);o42===o41&&(o42=escape(o41)),o19=o19.split(o41).join(o42)}}var o43=o19.indexOf("#");-1!==o43&&(this.hash=o19.substr(o43),o19=o19.slice(0,o43));var o44=o19.indexOf("?");if(-1!==o44?(this.search=o19.substr(o44),this.query=o19.substr(o44+1),o1&&(this.query=o18.parse(this.query)),o19=o19.slice(0,o44)):o1&&(this.search="",this.query={}),o19&&(this.pathname=o19),o17[o22]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){o39=this.pathname||"";var o45=this.search||"";this.path=o39+o45}return this.href=this.format(),this},o5.prototype.format=function(){var o0=this.auth||"";o0&&(o0=(o0=encodeURIComponent(o0)).replace(/%3A/i,":"),o0+="@");var o1=this.protocol||"",o2=this.pathname||"",o3=this.hash||"",o5=!1,o6="";this.host?o5=o0+this.host:this.hostname&&(o5=o0+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(o5+=":"+this.port)),this.query&&o4.isObject(this.query)&&Object.keys(this.query).length&&(o6=o18.stringify(this.query));var o7=this.search||o6&&"?"+o6||"";return o1&&":"!==o1.substr(-1)&&(o1+=":"),this.slashes||(!o1||o17[o1])&&!1!==o5?(o5="//"+(o5||""),o2&&"/"!==o2.charAt(0)&&(o2="/"+o2)):o5||(o5=""),o3&&"#"!==o3.charAt(0)&&(o3="#"+o3),o7&&"?"!==o7.charAt(0)&&(o7="?"+o7),o1+o5+(o2=o2.replace(/[?#]/g,(function(o0){return encodeURIComponent(o0)})))+(o7=o7.replace("#","%23"))+o3},o5.prototype.resolve=function(o0){return this.resolveObject(o19(o0,!1,!0)).format()},o5.prototype.resolveObject=function(o0){if(o4.isString(o0)){var o1=new o5;o1.parse(o0,!1,!0),o0=o1}for(var o2=new o5,o3=Object.keys(this),o6=0;o6<o3.length;o6++){var o7=o3[o6];o2[o7]=this[o7]}if(o2.hash=o0.hash,""===o0.href)return o2.href=o2.format(),o2;if(o0.slashes&&!o0.protocol){for(var o8=Object.keys(o0),o9=0;o9<o8.length;o9++){var o10=o8[o9];"protocol"!==o10&&(o2[o10]=o0[o10])}return o17[o2.protocol]&&o2.hostname&&!o2.pathname&&(o2.path=o2.pathname="/"),o2.href=o2.format(),o2}if(o0.protocol&&o0.protocol!==o2.protocol){if(!o17[o0.protocol]){for(var o11=Object.keys(o0),o12=0;o12<o11.length;o12++){var o13=o11[o12];o2[o13]=o0[o13]}return o2.href=o2.format(),o2}if(o2.protocol=o0.protocol,o0.host||o16[o0.protocol])o2.pathname=o0.pathname;else{for(var o14=(o0.pathname||"").split("/");o14.length&&!(o0.host=o14.shift()););o0.host||(o0.host=""),o0.hostname||(o0.hostname=""),""!==o14[0]&&o14.unshift(""),o14.length<2&&o14.unshift(""),o2.pathname=o14.join("/")}if(o2.search=o0.search,o2.query=o0.query,o2.host=o0.host||"",o2.auth=o0.auth,o2.hostname=o0.hostname||o0.host,o2.port=o0.port,o2.pathname||o2.search){var o15=o2.pathname||"",o18=o2.search||"";o2.path=o15+o18}return o2.slashes=o2.slashes||o0.slashes,o2.href=o2.format(),o2}var o19=o2.pathname&&"/"===o2.pathname.charAt(0),o20=o0.host||o0.pathname&&"/"===o0.pathname.charAt(0),o21=o20||o19||o2.host&&o0.pathname,o22=o21,o23=o2.pathname&&o2.pathname.split("/")||[],o24=(o14=o0.pathname&&o0.pathname.split("/")||[],o2.protocol&&!o17[o2.protocol]);if(o24&&(o2.hostname="",o2.port=null,o2.host&&(""===o23[0]?o23[0]=o2.host:o23.unshift(o2.host)),o2.host="",o0.protocol&&(o0.hostname=null,o0.port=null,o0.host&&(""===o14[0]?o14[0]=o0.host:o14.unshift(o0.host)),o0.host=null),o21=o21&&(""===o14[0]||""===o23[0])),o20)o2.host=o0.host||""===o0.host?o0.host:o2.host,o2.hostname=o0.hostname||""===o0.hostname?o0.hostname:o2.hostname,o2.search=o0.search,o2.query=o0.query,o23=o14;else if(o14.length)o23||(o23=[]),o23.pop(),o23=o23.concat(o14),o2.search=o0.search,o2.query=o0.query;else if(!o4.isNullOrUndefined(o0.search)){if(o24)o2.hostname=o2.host=o23.shift(),(o29=!!(o2.host&&o2.host.indexOf("@")>0)&&o2.host.split("@"))&&(o2.auth=o29.shift(),o2.host=o2.hostname=o29.shift());return o2.search=o0.search,o2.query=o0.query,o4.isNull(o2.pathname)&&o4.isNull(o2.search)||(o2.path=(o2.pathname?o2.pathname:"")+(o2.search?o2.search:"")),o2.href=o2.format(),o2}if(!o23.length)return o2.pathname=null,o2.search?o2.path="/"+o2.search:o2.path=null,o2.href=o2.format(),o2;for(var o25=o23.slice(-1)[0],o26=(o2.host||o0.host||o23.length>1)&&("."===o25||".."===o25)||""===o25,o27=0,o28=o23.length;o28>=0;o28--)"."===(o25=o23[o28])?o23.splice(o28,1):".."===o25?(o23.splice(o28,1),o27++):o27&&(o23.splice(o28,1),o27--);if(!o21&&!o22)for(;o27--;o27)o23.unshift("..");!o21||""===o23[0]||o23[0]&&"/"===o23[0].charAt(0)||o23.unshift(""),o26&&"/"!==o23.join("/").substr(-1)&&o23.push("");var o29,o30=""===o23[0]||o23[0]&&"/"===o23[0].charAt(0);o24&&(o2.hostname=o2.host=o30?"":o23.length?o23.shift():"",(o29=!!(o2.host&&o2.host.indexOf("@")>0)&&o2.host.split("@"))&&(o2.auth=o29.shift(),o2.host=o2.hostname=o29.shift()));return(o21=o21||o2.host&&o23.length)&&!o30&&o23.unshift(""),o23.length?o2.pathname=o23.join("/"):(o2.pathname=null,o2.path=null),o4.isNull(o2.pathname)&&o4.isNull(o2.search)||(o2.path=(o2.pathname?o2.pathname:"")+(o2.search?o2.search:"")),o2.auth=o0.auth||o2.auth,o2.slashes=o2.slashes||o0.slashes,o2.href=o2.format(),o2},o5.prototype.parseHost=function(){var o0=this.host,o1=o7.exec(o0);o1&&(":"!==(o1=o1[0])&&(this.port=o1.substr(1)),o0=o0.substr(0,o0.length-o1.length)),o0&&(this.hostname=o0)}},9076:o0=>{o0.exports={isString:function(o0){return"string"==typeof o0},isObject:function(o0){return"object"==typeof o0&&null!==o0},isNull:function(o0){return null===o0},isNullOrUndefined:function(o0){return null==o0}}},6648:(o0,o1,o2)=>{function o3(o0){try{if(!o2.g.localStorage)return!1}catch(o0){return!1}var o1=o2.g.localStorage[o0];return null!=o1&&"true"===String(o1).toLowerCase()}o0.exports=function(o0,o1){if(o3("noDeprecation"))return o0;var o2=!1;return function(){if(!o2){if(o3("throwDeprecation"))throw new Error(o1);o3("traceDeprecation")?console.trace(o1):console.warn(o1),o2=!0}return o0.apply(this,arguments)}}},6728:o0=>{"function"==typeof Object.create?o0.exports=function(o0,o1){o0.super_=o1,o0.prototype=Object.create(o1.prototype,{constructor:{value:o0,enumerable:!1,writable:!0,configurable:!0}})}:o0.exports=function(o0,o1){o0.super_=o1;var o2=function(){};o2.prototype=o1.prototype,o0.prototype=new o2,o0.prototype.constructor=o0}},2848:o0=>{o0.exports=function(o0){return o0&&"object"==typeof o0&&"function"==typeof o0.copy&&"function"==typeof o0.fill&&"function"==typeof o0.readUInt8}},3912:(o0,o1,o2)=>{var o3=o2(6512),o4=/%[sdj%]/g;o1.format=function(o0){if(!o17(o0)){for(var o1=[],o2=0;o2<arguments.length;o2++)o1.push(o7(arguments[o2]));return o1.join(" ")}o2=1;for(var o3=arguments,o5=o3.length,o6=String(o0).replace(o4,(function(o0){if("%%"===o0)return"%";if(o2>=o5)return o0;switch(o0){case"%s":return String(o3[o2++]);case"%d":return Number(o3[o2++]);case"%j":try{return JSON.stringify(o3[o2++])}catch(o0){return"[Circular]"}default:return o0}})),o8=o3[o2];o2<o5;o8=o3[++o2])o15(o8)||!o20(o8)?o6+=" "+o8:o6+=" "+o7(o8);return o6},o1.deprecate=function(o0,o4){if(o18(o2.g.process))return function(){return o1.deprecate(o0,o4).apply(this,arguments)};if(!0===o3.noDeprecation)return o0;var o5=!1;return function(){if(!o5){if(o3.throwDeprecation)throw new Error(o4);o3.traceDeprecation?console.trace(o4):console.error(o4),o5=!0}return o0.apply(this,arguments)}};var o5,o6={};function o7(o0,o2){var o3={seen:[],stylize:o9};return arguments.length>=3&&(o3.depth=arguments[2]),arguments.length>=4&&(o3.colors=arguments[3]),o14(o2)?o3.showHidden=o2:o2&&o1._extend(o3,o2),o18(o3.showHidden)&&(o3.showHidden=!1),o18(o3.depth)&&(o3.depth=2),o18(o3.colors)&&(o3.colors=!1),o18(o3.customInspect)&&(o3.customInspect=!0),o3.colors&&(o3.stylize=o8),o10(o3,o0,o3.depth)}function o8(o0,o1){var o2=o7.styles[o1];return o2?"["+o7.colors[o2][0]+"m"+o0+"["+o7.colors[o2][1]+"m":o0}function o9(o0,o1){return o0}function o10(o0,o2,o3){if(o0.customInspect&&o2&&o23(o2.inspect)&&o2.inspect!==o1.inspect&&(!o2.constructor||o2.constructor.prototype!==o2)){var o4=o2.inspect(o3,o0);return o17(o4)||(o4=o10(o0,o4,o3)),o4}var o5=function(o0,o1){if(o18(o1))return o0.stylize("undefined","undefined");if(o17(o1)){var o2="'"+JSON.stringify(o1).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return o0.stylize(o2,"string")}if(o16(o1))return o0.stylize(""+o1,"number");if(o14(o1))return o0.stylize(""+o1,"boolean");if(o15(o1))return o0.stylize("null","null")}(o0,o2);if(o5)return o5;var o6=Object.keys(o2),o7=function(o0){var o1={};return o0.forEach((function(o0,o2){o1[o0]=!0})),o1}(o6);if(o0.showHidden&&(o6=Object.getOwnPropertyNames(o2)),o22(o2)&&(o6.indexOf("message")>=0||o6.indexOf("description")>=0))return o11(o2);if(0===o6.length){if(o23(o2)){var o8=o2.name?": "+o2.name:"";return o0.stylize("[Function"+o8+"]","special")}if(o19(o2))return o0.stylize(RegExp.prototype.toString.call(o2),"regexp");if(o21(o2))return o0.stylize(Date.prototype.toString.call(o2),"date");if(o22(o2))return o11(o2)}var o9,o20="",o24=!1,o25=["{","}"];(o13(o2)&&(o24=!0,o25=["[","]"]),o23(o2))&&(o20=" [Function"+(o2.name?": "+o2.name:"")+"]");return o19(o2)&&(o20=" "+RegExp.prototype.toString.call(o2)),o21(o2)&&(o20=" "+Date.prototype.toUTCString.call(o2)),o22(o2)&&(o20=" "+o11(o2)),0!==o6.length||o24&&0!=o2.length?o3<0?o19(o2)?o0.stylize(RegExp.prototype.toString.call(o2),"regexp"):o0.stylize("[Object]","special"):(o0.seen.push(o2),o9=o24?function(o0,o1,o2,o3,o4){for(var o5=[],o6=0,o7=o1.length;o6<o7;++o6)o28(o1,String(o6))?o5.push(o12(o0,o1,o2,o3,String(o6),!0)):o5.push("");return o4.forEach((function(o4){o4.match(/^\d+$/)||o5.push(o12(o0,o1,o2,o3,o4,!0))})),o5}(o0,o2,o3,o7,o6):o6.map((function(o1){return o12(o0,o2,o3,o7,o1,o24)})),o0.seen.pop(),function(o0,o1,o2){if(o0.reduce((function(o0,o1){return o1.indexOf("\n")>=0&&0,o0+o1.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60)return o2[0]+(""===o1?"":o1+"\n ")+" "+o0.join(",\n  ")+" "+o2[1];return o2[0]+o1+" "+o0.join(", ")+" "+o2[1]}(o9,o20,o25)):o25[0]+o20+o25[1]}function o11(o0){return"["+Error.prototype.toString.call(o0)+"]"}function o12(o0,o1,o2,o3,o4,o5){var o6,o7,o8;if((o8=Object.getOwnPropertyDescriptor(o1,o4)||{value:o1[o4]}).get?o7=o8.set?o0.stylize("[Getter/Setter]","special"):o0.stylize("[Getter]","special"):o8.set&&(o7=o0.stylize("[Setter]","special")),o28(o3,o4)||(o6="["+o4+"]"),o7||(o0.seen.indexOf(o8.value)<0?(o7=o15(o2)?o10(o0,o8.value,null):o10(o0,o8.value,o2-1)).indexOf("\n")>-1&&(o7=o5?o7.split("\n").map((function(o0){return"  "+o0})).join("\n").substr(2):"\n"+o7.split("\n").map((function(o0){return"   "+o0})).join("\n")):o7=o0.stylize("[Circular]","special")),o18(o6)){if(o5&&o4.match(/^\d+$/))return o7;(o6=JSON.stringify(""+o4)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(o6=o6.substr(1,o6.length-2),o6=o0.stylize(o6,"name")):(o6=o6.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),o6=o0.stylize(o6,"string"))}return o6+": "+o7}function o13(o0){return Array.isArray(o0)}function o14(o0){return"boolean"==typeof o0}function o15(o0){return null===o0}function o16(o0){return"number"==typeof o0}function o17(o0){return"string"==typeof o0}function o18(o0){return void 0===o0}function o19(o0){return o20(o0)&&"[object RegExp]"===o24(o0)}function o20(o0){return"object"==typeof o0&&null!==o0}function o21(o0){return o20(o0)&&"[object Date]"===o24(o0)}function o22(o0){return o20(o0)&&("[object Error]"===o24(o0)||o0 instanceof Error)}function o23(o0){return"function"==typeof o0}function o24(o0){return Object.prototype.toString.call(o0)}function o25(o0){return o0<10?"0"+o0.toString(10):o0.toString(10)}o1.debuglog=function(o0){if(o18(o5)&&(o5=o3.env.NODE_DEBUG||""),o0=o0.toUpperCase(),!o6[o0])if(new RegExp("\\b"+o0+"\\b","i").test(o5)){var o2=o3.pid;o6[o0]=function(){var o3=o1.format.apply(o1,arguments);console.error("%s %d: %s",o0,o2,o3)}}else o6[o0]=function(){};return o6[o0]},o1.inspect=o7,o7.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},o7.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},o1.isArray=o13,o1.isBoolean=o14,o1.isNull=o15,o1.isNullOrUndefined=function(o0){return null==o0},o1.isNumber=o16,o1.isString=o17,o1.isSymbol=function(o0){return"symbol"==typeof o0},o1.isUndefined=o18,o1.isRegExp=o19,o1.isObject=o20,o1.isDate=o21,o1.isError=o22,o1.isFunction=o23,o1.isPrimitive=function(o0){return null===o0||"boolean"==typeof o0||"number"==typeof o0||"string"==typeof o0||"symbol"==typeof o0||void 0===o0},o1.isBuffer=o2(2848);var o26=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function o27(){var o0=new Date,o1=[o25(o0.getHours()),o25(o0.getMinutes()),o25(o0.getSeconds())].join(":");return[o0.getDate(),o26[o0.getMonth()],o1].join(" ")}function o28(o0,o1){return Object.prototype.hasOwnProperty.call(o0,o1)}o1.log=function(){console.log("%s - %s",o27(),o1.format.apply(o1,arguments))},o1.inherits=o2(6728),o1._extend=function(o0,o1){if(!o1||!o20(o1))return o0;for(var o2=Object.keys(o1),o3=o2.length;o3--;)o0[o2[o3]]=o1[o2[o3]];return o0}},2836:(o0,o1,o2)=>{var o3=o2(6512),o4=o2(9496).Transform,o5=o2(7491),o6=o2(736),o7=o2(5856).Buffer;o0.exports=function(o0,o1,o8){var o9,o10,o11="browser"===o3.title,o12=!!o2.g.WebSocket,o13=o11?function o0(o1,o2,o3){if(o10.bufferedAmount>o15)return void setTimeout(o0,o16,o1,o2,o3);o17&&"string"==typeof o1&&(o1=o7.from(o1,"utf8"));try{o10.send(o1)}catch(o0){return o3(o0)}o3()}:function(o0,o1,o2){if(o10.readyState!==o10.OPEN)return void o2();o17&&"string"==typeof o0&&(o0=o7.from(o0,"utf8"));o10.send(o0,o2)};o1&&!Array.isArray(o1)&&"object"==typeof o1&&(o8=o1,o1=null,("string"==typeof o8.protocol||Array.isArray(o8.protocol))&&(o1=o8.protocol));o8||(o8={});void 0===o8.objectMode&&(o8.objectMode=!(!0===o8.binary||void 0===o8.binary));var o14=function(o0,o1,o2){var o3=new o4({objectMode:o0.objectMode});return o3._write=o1,o3._flush=o2,o3}(o8,o13,(function(o0){o10.close(),o0()}));o8.objectMode||(o14._writev=o18);var o15=o8.browserBufferSize||524288,o16=o8.browserBufferTimeout||1e3;"object"==typeof o0?o10=o0:(o10=o12&&o11?new o6(o0,o1):new o6(o0,o1,o8)).binaryType="arraybuffer";o10.readyState===o10.OPEN?o9=o14:(o9=o9=o5(void 0,void 0,o8),o8.objectMode||(o9._writev=o18),o10.onopen=function(){o9.setReadable(o14),o9.setWritable(o14),o9.emit("connect")});o9.socket=o10,o10.onclose=function(){o9.end(),o9.destroy()},o10.onerror=function(o0){o9.destroy(o0)},o10.onmessage=function(o0){var o1=o0.data;o1=o1 instanceof ArrayBuffer?o7.from(o1):o7.from(o1,"utf8");o14.push(o1)},o14.on("close",(function(){o10.close()}));var o17=!o8.objectMode;function o18(o0,o1){for(var o2=new Array(o0.length),o3=0;o3<o0.length;o3++)"string"==typeof o0[o3].chunk?o2[o3]=o7.from(o0[o3],"utf8"):o2[o3]=o0[o3].chunk;this._write(o7.concat(o2),"binary",o1)}return o9}},736:o0=>{var o1=null;"undefined"!=typeof WebSocket?o1=WebSocket:"undefined"!=typeof MozWebSocket?o1=MozWebSocket:"undefined"!=typeof window&&(o1=window.WebSocket||window.MozWebSocket),o0.exports=o1},2680:o0=>{o0.exports=function o0(o1,o2){if(o1&&o2)return o0(o1)(o2);if("function"!=typeof o1)throw new TypeError("need wrapper function");return Object.keys(o1).forEach((function(o0){o3[o0]=o1[o0]})),o3;function o3(){for(var o0=new Array(arguments.length),o2=0;o2<o0.length;o2++)o0[o2]=arguments[o2];var o3=o1.apply(this,o0),o4=o0[o0.length-1];return"function"==typeof o3&&o3!==o4&&Object.keys(o4).forEach((function(o0){o3[o0]=o4[o0]})),o3}}},9707:o0=>{o0.exports=function(){for(var o0={},o2=0;o2<arguments.length;o2++){var o3=arguments[o2];for(var o4 in o3)o1.call(o3,o4)&&(o0[o4]=o3[o4])}return o0};var o1=Object.prototype.hasOwnProperty},2816:o1=>{o1.exports=o0},9444:o0=>{o0.exports=o1},9944:o0=>{o0.exports=o2},794:o0=>{o0.exports=o3},8424:o0=>{o0.exports=o4},9812:o0=>{o0.exports=o5},9880:o0=>{o0.exports=o6},1200:o0=>{o0.exports=o7},6222:o0=>{o0.exports=o8},9552:o0=>{o0.exports=o9},3208:o0=>{o0.exports=o10},6328:o0=>{o0.exports=o11},3104:o0=>{o0.exports=o12},2876:o0=>{o0.exports=o13},5168:o0=>{o0.exports=o14},1084:o0=>{o0.exports=o15},8376:o0=>{o0.exports=o16},3008:o0=>{o0.exports=o17},8104:o0=>{o0.exports=o18},7368:o0=>{o0.exports=o19},1784:o0=>{o0.exports=o20},7872:o0=>{o0.exports=o21},208:o0=>{o0.exports=o22},8720:o0=>{o0.exports=o23},7312:o0=>{o0.exports=o24},8288:o0=>{o0.exports=o25},2688:o0=>{o0.exports=o26},8912:o0=>{o0.exports=o27},1122:o0=>{o0.exports=o28},5765:o0=>{o0.exports=o29},6210:o0=>{o0.exports=o30},384:o0=>{o0.exports=o31},7520:o0=>{o0.exports=o32},9176:o0=>{o0.exports=o33},9320:o0=>{o0.exports=o34},7320:o0=>{o0.exports=o35},5820:o0=>{o0.exports=o36},5276:o0=>{o0.exports=o37},1248:o0=>{o0.exports=o38},7908:o0=>{o0.exports=o39},2212:o0=>{o0.exports=o40},6688:o0=>{o0.exports=o41},2088:o0=>{o0.exports=o42},32:o0=>{o0.exports=o43},3616:o0=>{o0.exports=o44},9858:o0=>{o0.exports=o45},516:()=>{},5036:()=>{},3236:()=>{},3716:()=>{}},o47={};function o48(o0){var o1=o47[o0];if(void 0!==o1)return o1.exports;var o2=o47[o0]={id:o0,loaded:!1,exports:{}};return o46[o0].call(o2.exports,o2,o2.exports,o48),o2.loaded=!0,o2.exports}o48.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(o0){if("object"==typeof window)return window}}(),o48.nmd=o0=>(o0.paths=[],o0.children||(o0.children=[]),o0);var o49={};(()=>{var o0=o49,o1=o48(3296).Buffer;Object.defineProperty(o0,"S_",{value:!0}),o0.Ww=void 0;var o2=o63(o48(1376)),o3=o63(o48(6804)),o4=o63(o48(6996)),o5=o63(o48(6224)),o6=o63(o48(568)),o7=o63(o48(8964)),o8=o63(o48(7304)),o9=o63(o48(8792)),o10=o63(o48(1736)),o11=o63(o48(6995)),o12=o63(o48(7445)),o13=o63(o48(4128)),o14=o63(o48(5144)),o15=o63(o48(9300)),o16=o48(3616),o17=o48(7480),o18=o48(9824),o19=o63(o48(8424)),o20=o63(o48(9552)),o21=o63(o48(3208)),o22=o63(o48(6328)),o23=o63(o48(3104)),o24=o63(o48(2876)),o25=o63(o48(5168)),o26=o63(o48(8376)),o27=o63(o48(7368)),o28=o63(o48(1784)),o29=o63(o48(208)),o30=o63(o48(2688)),o31=o63(o48(8912)),o32=o63(o48(1122)),o33=o63(o48(5765)),o34=o63(o48(9176)),o35=o63(o48(9320)),o36=o63(o48(7908)),o37=o63(o48(9812)),o38=o63(o48(9880)),o39=o63(o48(1944)),o40=o63(o48(9944)),o41=o63(o48(6688)),o42=o63(o48(2816)),o43=o63(o48(3548)),o44=o63(o48(794)),o45=o63(o48(384)),o46=o63(o48(8104)),o47=o63(o48(1084)),o50=o63(o48(7872)),o51=o63(o48(7320)),o52=o63(o48(7312)),o53=o48(2088),o54=o63(o48(6222)),o55=o63(o48(2212)),o56=o63(o48(5276)),o57=o63(o48(1248)),o58=o63(o48(3008)),o59=o63(o48(1200)),o60=o48(32),o61=o48(9858),o62=o63(o48(8720));function o63(o0){return o0&&o0.__esModule?o0:{default:o0}}var o64=o48(7868);o64.util.Long=o15.default,o64.configure();var o65=o48(6768),o66=o64.Root.fromJSON(o65),o67=o66.lookupType("AddFriendRequest"),o68=o66.lookupType("AddGroupMemberRequest"),o69=o66.lookupType("BlackUserRequest"),o70=o66.lookupType("ConnectAckPayload"),o71=o66.lookupType("Conversation"),o72=o66.lookupType("CreateGroupRequest"),o73=o66.lookupType("DismissGroupRequest"),o74=o66.lookupType("GetFriendRequestResult"),o75=o66.lookupType("GetFriendsResult"),o76=o66.lookupType("GetUploadTokenResult"),o77=o66.lookupType("GetPresignedUrlResult"),o78=o66.lookupType("GetUploadTokenRequest"),o79=o66.lookupType("GetUserSettingResult"),o80=o66.lookupType("Group"),o81=o66.lookupType("GroupInfo"),o82=o66.lookupType("GroupMember"),o83=o66.lookupType("HandleFriendRequest"),o84=o66.lookupType("IDBuf"),o85=o66.lookupType("IDListBuf"),o86=(o66.lookupType("IMHttpWrapper"),o66.lookupType("INT64Buf")),o87=o66.lookupType("LoadRemoteMessages"),o88=o66.lookupType("LoadLineMessages"),o89=o66.lookupType("Message"),o90=o66.lookupType("ChannelInfo"),o91=o66.lookupType("MessageContent"),o92=o66.lookupType("ModifyGroupInfoRequest"),o93=o66.lookupType("ModifyGroupMemberAlias"),o94=o66.lookupType("ModifyGroupMemberExtra"),o95=o66.lookupType("ModifyUserSettingReq"),o96=o66.lookupType("NotifyMessage"),o97=o66.lookupType("PullGroupInfoResult"),o98=o66.lookupType("PullGroupMemberRequest"),o99=o66.lookupType("PullGroupMemberResult"),o100=o66.lookupType("PullMessageRequest"),o101=o66.lookupType("PullMessageResult"),o102=o66.lookupType("PullUserRequest"),o103=o66.lookupType("PullUserResult"),o104=o66.lookupType("QuitGroupRequest"),o105=o66.lookupType("RemoveGroupMemberRequest"),o106=(o66.lookupType("RouteRequest"),o66.lookupType("RouteResponse"),o66.lookupType("SearchUserRequest")),o107=o66.lookupType("SearchUserResult"),o108=o66.lookupType("SetGroupManagerRequest"),o109=o66.lookupType("TransferGroupRequest"),o110=o66.lookupType("UserRequest"),o111=o66.lookupType("Version"),o112=o66.lookupType("ModifyMyInfoRequest"),o113=o66.lookupType("NotifyRecallMessage"),o114=o66.lookupType("ChatroomInfo"),o115=o66.lookupType("ChatroomMemberInfo"),o116=o66.lookupType("GetChatroomInfoRequest"),o117=o66.lookupType("GetChatroomMemberInfoRequest"),o118=o66.lookupType("ModifyChannelInfo"),o119=(o66.lookupType("TransferChannel"),o66.lookupType("ListenChannel")),o120=o66.lookupType("PullChannelInfo"),o121=o66.lookupType("SearchChannelResult"),o122=o66.lookupType("PullDeliveryResult"),o123=o66.lookupType("PullReadResult"),o124=o66.lookupType("LoadFileRecordReq"),o125=o66.lookupType("SearchFileRecordReq"),o126=o66.lookupType("LoadFileRecordRes"),o127=o66.lookupType("UploadDeviceTokenRequest"),o128=o66.lookupType("PresenceWatchRequest"),o129=o66.lookupType("PresenceWatchResult"),o130=o66.lookupType("LockRequest"),o131=o66.lookupType("PullGroupConvRequest"),o132=o66.lookupType("PullGroupConvResult"),o133=o66.lookupType("PullGroupMessageRequest"),o134=o66.lookupType("PullGroupMessageRequests"),o135=(o66.lookupType("GroupMessage"),o66.lookupType("PullGroupMessageResult"),o66.lookupType("PullGroupMessageResults")),o136=o66.lookupType("MessageList"),o137=o66.lookupType("NotifyGroupMessage"),o138=(o66.lookupType("GroupConv"),o66.lookupType("INT64ListBuf")),o139=o66.lookupType("UpdateMessageContent"),o140=o66.lookupType("AuthCodeRequest"),o141=o0.Ww=function(){function o0(){var o1=this;(0,o13.default)(this,o0),this.initialized=!1,this.connectionStatus=0,this.platformName="",this.userId="",this.token="",this.imServerAddress="",this.clientId="",this.chatRoomMsgHead=o15.default.ZERO,this.privateSecret="",this.store=new o39.default(this),this.isReceiptEnable=!1,this.isMeshEnable=!1,this.isUserOnlineStateEnable=!1,this.serverConfigs={},this.isClearGroupMsgWhenKickoff=!1,this.isGlobalDisableDraftSync=!1,this.isConnecting=!1,this.isUserDisconnected=!1,this.isPullingSetting=!1,this.isPullingMsg=!1,this.isPullingChatroomMsg=!1,this.isPullingRecv=!1,this.isPullingRead=!1,this.isPullingGroupMsg=!1,this.isConversationTargetPreloaded=!1,this.isFriendPreloaded=!1,this.isFriendRequestPreloaded=!1,this.settingHead=o15.default.ZERO,this.friendHead=o15.default.ZERO,this.friendRequestHead=o15.default.ZERO,this.recvHead=o15.default.ZERO,this.readHead=o15.default.ZERO,this.groupHead=o15.default.ZERO,this.deltaTime=0,this.lastActiveTime=0,this.backupAddressStrategy=1,this.backupHost="",this.backupPort=80,this.pendingMN=!1,this.pendingGMN=!1,this.uploadingMap=new o12.default,this.voipAnswerMsgMap=new o12.default,this.voipByeMsgMap=new o12.default,this.toRetryMsgMap=new o12.default,this._callbackOrLoadFromRemoteMessages=function(o2,o3,o4){var o5=[],o6=[],o7=!0,o8=!1,o9=void 0;try{for(var o10,o12=(0,o11.default)(o2);!(o7=(o10=o12.next()).done);o7=!0){var o13=o10.value;o13.messageContent.notLoaded?o5.push(o13.messageUid):o6.push(o13)}}catch(o0){o8=!0,o9=o0}finally{try{!o7&&o12.return&&o12.return()}finally{if(o8)throw o9}}if(o5.length>0){var o14=o138.create();o14.id=o5,console.log("loadSuperGroupMessages request",o14),o1._publish("MGS",o138.encode(o14).finish(),(function(){var o2=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-2,o5=arguments[1];if(0===o2&&o5){var o7=o136.decode(o5);o1.log("loadSuperGroupMessages result data",o7),o7&&o7.message&&(o7.message.forEach((function(o2){if(!(o0.pcNotSupportMessageTypes.indexOf(o2.content.type)>-1)){var o3=o21.default.fromProtoMessage(o2),o4=o1.store.getMessageByUid(o3.messageUid);o3.messageId=o4.messageId,o1.store.updateMessageById(o3),o6.push(o3)}})),o6.sort((function(o0,o1){return(0,o16.eq)(o0.timestamp,o1.timestamp)?(0,o16.compare)(o0.messageUid,o1.messageUid):(0,o16.compare)(o0.timestamp,o1.timestamp)}))),o3&&o3(o6.map((function(o0){return(0,o60.deepAssign)(new o21.default,o0)})))}else o4&&o4(0!==o2?o2:-1)}))}else o3&&o3(o2.map((function(o0){return(0,o60.deepAssign)(new o21.default,o0)})))}}var o48,o49;return(0,o14.default)(o0,[{key:"resetMqtt",value:function(){var o0=this;this.mqttClientInstance&&(this.mqttClientInstance.removeAllListeners(),this.mqttClientInstance.end(!0,{},(function(){o0.log("mqtt client ended")})),this.mqttClientInstance=null),this.isConnecting=!1}},{key:"reset",value:function(){this.resetMqtt(),this.connectionStatus=o40.default.ConnectionStatusLogout,this.isConnecting=!1,this.userId="",this.token="",this.clientId="",this.msgHead=o15.default.ZERO,this.privateSecret="",this.store=new o39.default(this),this.isReceiptEnable=!1,this.isMeshEnable=!1,this.isGlobalDisableDraftSync=!1,this.isConnecting=!1,this.isUserDisconnected=!1,this.isPullingSetting=!1,this.isPullingRecv=!1,this.isPullingRead=!1,this.isConversationTargetPreloaded=!1,this.isFriendPreloaded=!1,this.isFriendRequestPreloaded=!1,this.settingHead=o15.default.ZERO,this.friendHead=o15.default.ZERO,this.friendRequestHead=o15.default.ZERO,this.recvHead=o15.default.ZERO,this.readHead=o15.default.ZERO,this.groupHead=o15.default.ZERO,this.deltaTime=0,this.lastActiveTime=0,this.reconnectTimer&&(clearInterval(this.reconnectTimer),this.reconnectTimer=0)}},{key:"onConnectionChanged",value:function(o0){var o1=this;if(this.connectionStatus!==o0){if(o0===o40.default.ConnectionStatusConnected){this._pullUnreadMessages();var o2=[].concat((0,o10.default)(this.toRetryMsgMap.values()));o2=o2.sort((function(o0,o1){return o0.messageId>o1.messageId?-1:1}));var o3=!0,o4=!1,o5=void 0;try{for(var o6,o7=(0,o11.default)(o2);!(o3=(o6=o7.next()).done);o3=!0){var o8=o6.value;o8.tryCount++,this._sendMessageInternal(o8.message,o8.toUsers,o8.successCB,o8.failCB)}}catch(o0){o4=!0,o5=o0}finally{try{!o3&&o7.return&&o7.return()}finally{if(o4)throw o5}}}if(o42.default.ENABLE_INFO_PERSISTENCE&&(!o42.default.MESSAGE_ROAMING&&o0===o40.default.ConnectionStatusConnected||o42.default.MESSAGE_ROAMING&&o0===o40.default.ConnectionStatusReceiveing)&&this.store.loadPersistGroups(),o0===o40.default.ConnectionStatusConnected){var o9=this.store.friends.size+this.store.conversationInfos.length-this.store.users.size,o12=0;o12+=1*Math.round(o9/2e3),o12+=1*Math.round(this.store.groups.size/10),setTimeout((function(){console.log("connection status changed to status in ",o12),o1.connectionStatus=o0,o1.eventEmitter.emit(o38.default.ConnectionStatusChanged,o0)}),1e3*o12)}else this.log("connection status changed",o0),this.connectionStatus=o0,this.eventEmitter.emit(o38.default.ConnectionStatusChanged,o0)}}},{key:"_isGroupNotificationTargetsIncludeCurrentUser",value:function(o0){}},{key:"onConferenceEvent",value:function(o0){this.eventEmitter.emit(o38.default.ConferenceEvent,o0)}},{key:"onReceiveMessage",value:function(o1){var o2=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o3=this,o4=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o5=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o6=[],o7=[];this.log("onReceiveMessage length: "+o1.length+", pullSettings: "+o2+" saveToStore "+o4),o1.forEach((function(o8,o9){if(!(o0.pcNotSupportMessageTypes.indexOf(o8.content.type)>-1)){var o10=o21.default.fromProtoMessage(o8),o11=o9<o1.length-1;if(o10){if(81===o10.content.type){o3.log("delete",o10.content,o15.default.fromValue(atob(o10.content.binaryContent)),o15.default.fromValue(atob(o10.content.binaryContent)).toString());var o12=o15.default.fromValue(atob(o10.content.binaryContent)),o13=o3.store.getMessageByUid(o12);return void(o13&&o13.messageId>0&&(o3.store.deleteMessageByUid(o12),o3.onRemoteMessageDeleted(o13.messageUid)))}var o14=o19.default.getMessageContentPersitFlag(o10.content.type);if(-1===o14&&(o14=o10.content.persistFlag),o10.messageContent.type===o22.default.RecallMessage_Notification&&o3.onRecallMessage(o10.messageContent.operatorId,o10.messageContent.messageUid),[o22.default.VOIP_CONTENT_TYPE_START,o22.default.VOIP_CONTENT_TYPE_ACCEPT,o22.default.VOIP_CONTENT_TYPE_END].indexOf(o10.messageContent.type)>=0&&o3.updateCallStartMessage(o10),!o4||o14!==o25.default.Persist&&o14!==o25.default.Persist_And_Count){if(o42.default.ENABLE_GENERATE_CONVERSATION_FOR_TRANSPARENT_MESSAGE&&o3.store.genAndSaveDefaultConversationInfo(o10.conversation),o42.default.ENABLE_ROAMING_TRANSPARENT_MESSAGE_RECEIVING_NOTIFICATION&&o3.eventEmitter.emit(o38.default.ReceiveMessage,o10,o11),o10.messageContent instanceof o54.default&&o10.from===o3.userId){var o16=o10.messageContent,o17=o10.conversation;o3.store.setLastReceivedMessageUnread(o17,o16.messageUid,o16.timestamp)}o5||o2||o3.eventEmitter.emit(o38.default.ReceiveMessage,o10,o11)}else o10.conversation.type===o29.default.ChatRoom?o10.messageId=o3.store.genChatRoomMessageId():o10.messageId=o3.store.genNormalMessageId(),o3.store.saveMessage(o10),o3.store.updateConversationLastMessage(o10)&&o3.eventEmitter.emit(o38.default.ConversationInfoUpdate,o3.store.getConversationInfo(o10.conversation)),o5||o2&&!o42.default.ENABLE_ROAMING_MESSAGE_RECEIVING_NOTIFICATION||o3.eventEmitter.emit(o38.default.ReceiveMessage,o10,o11);o3._handleGroupNotificationMessage(o10,o11,o6,o7)}}})),o6.forEach((function(o0){o3._reloadGroupInfosFromRemote(o0)})),o7.forEach((function(o0){o3._reloadGroupMembersFromRemote(o0,o3.store.getGroupMemberMaxDt(o0))}))}},{key:"_handleGroupNotificationMessage",value:function(o0,o1,o2,o3){var o4=this,o5=[o22.default.CreateGroup_Notification,o22.default.AddGroupMember_Notification,o22.default.KickOffGroupMember_Notification,o22.default.TransferGroupOwner_Notification,o22.default.ModifyGroupExtra_Notification,o22.default.ModifyGroupAlias_Notification];if(o5.indexOf(o0.content.type)>-1)if(o2.push(o0.conversation.target),o3.push(o0.conversation.target),o0.content.type===o22.default.KickOffGroupMember_Notification){var o6=o0.messageContent.kickedMembers.find((function(o0){return o0===o4.getUserId()}));this.log("kickoff",o0.conversation.target,this.isClearGroupMsgWhenKickoff),o6===this.getUserId()&&(this.store.removeGroupAndMembers(o0.conversation.target,!this.isClearGroupMsgWhenKickoff),this.isClearGroupMsgWhenKickoff&&this.store.removeConversation(o0.conversation,!0))}else o0.content.type===o22.default.AddGroupMember_Notification&&(this.isClearGroupMsgWhenKickoff||this.store.clearConversationMessagesBeforeMessageUid(o0.conversation,o0.messageUid));if((o5=[o22.default.SetGroupManager_Notification,o22.default.MuteGroupMember_Notification,o22.default.AllowGroupMember_Notification,o22.default.ModifyGroupMemberExtra_Notification]).indexOf(o0.content.type)>-1&&o3.push(o0.conversation.target),(o5=[o22.default.ChangeGroupName_Notification,o22.default.ChangeGroupPortrait_Notification,o22.default.MuteGroup_Notification,o22.default.ChangeJoinType_Notification,o22.default.ChangePrivateChat_Notification,o22.default.ChangeSearchable_Notification,o22.default.ModifyGroupExtra_Notification,o22.default.ModifyGroupSettings_Notification]).indexOf(o0.content.type)>-1&&o2.push(o0.conversation.target),(o5=[o22.default.QuitGroup_Notification]).indexOf(o0.content.type)>-1){if(o0.from===this.getUserId())return this.store.removeGroupAndMembers(o0.conversation.target),this.store.removeGroupSettings(o0.conversation.target),this.store.removeFavGroup(o0.conversation.target),void this.store.removeConversation(o0.conversation,!0);o2.push(o0.conversation.target),o3.push(o0.conversation.target)}if((o5=[o22.default.DismissGroup_Notification]).indexOf(o0.content.type)>-1){this.store.removeGroupAndMembers(o0.conversation.target,this.serverConfigs.isKeepMsgAfterDismiss),this.store.removeGroupSettings(o0.conversation.target),this.store.removeFavGroup(o0.conversation.target),this.serverConfigs.isKeepMsgAfterDismiss||this.store.removeConversation(o0.conversation,!0);var o7=o2.filter((function(o1){return o1!==o0.conversation.target})),o8=o3.filter((function(o1){return o1!==o0.conversation.target}));o2.length=0,o2.push.apply(o2,(0,o10.default)(o7)),o3.length=0,o3.push.apply(o3,(0,o10.default)(o8))}}},{key:"updateCallStartMessage",value:function(o0){var o1=void 0,o2=o0.messageContent.callId;if(o0.messageContent.type===o22.default.VOIP_CONTENT_TYPE_END?(this.voipByeMsgMap.set(o2,o0),o1=this.store.getCallStartMessage(o2)):o0.messageContent.type===o22.default.VOIP_CONTENT_TYPE_ACCEPT?(this.voipAnswerMsgMap.set(o2,o0),o1=this.store.getCallStartMessage(o2)):o1=o0,o1){var o3=this.voipAnswerMsgMap.get(o2);o3&&(o1.messageContent.connectTime=o3.timestamp,this.voipAnswerMsgMap.delete(o2));var o4=this.voipByeMsgMap.get(o2);o4&&(o1.messageContent.endTime=o4.timestamp,o1.messageContent.status=o4.messageContent.reason,this.voipByeMsgMap.delete(o2))}}},{key:"onGroupInfoUpdate",value:function(o0){}},{key:"onChannelInfoUpdate",value:function(o0){}},{key:"onSettingUpdate",value:function(o0){this.eventEmitter.emit(o38.default.SettingUpdate)}},{key:"onRecallMessage",value:function(o0,o1){var o2=this.store.getMessageByUid(o1);if(o2&&0!==o2.messageId){var o3=o2.messageContent;if(o0===this.userId){var o4={};o4.s=o2.from,o4.ts=(0,o16.numberValue)(o2.timestamp);var o5=o2.content;o5&&o5.hasOwnProperty("type")||(o5=o2.messageContent.encode()),o4.t=o5.type,o4.sc=o5.searchableContent?o5.searchableContent:"",o4.c=o5.content?o5.content:"",o4.e=o5.extra?o5.content:"",o2.extra=(0,o9.default)(o4)}var o6=new o24.default(o0,o1);o6.fromSelf=!0,o6.setExtra(o2.extra),o2.messageContent=o6;var o7=this.getConversationInfo(o2.conversation);1===o2.direction&&o19.default.getMessageContentFlag(o3.type)===o25.default.Persist_And_Count&&(o2.status===o23.default.Unread?o7.unreadCount.unread-=1:o2.status===o23.default.Mentioned?o7.unreadCount.unreadMention-=1:o2.status===o23.default.AllMentioned&&(o7.unreadCount.unreadMentionAll-=1)),o19.default.getMessageContentFlag(o6.type)===o25.default.No_Persist?this.store.deleteMessageByUid(o1):this.store.updateMessageById(o2),this.eventEmitter.emit(o38.default.RecallMessage,o0,o1)}}},{key:"onRemoteMessageDeleted",value:function(o0){this.log("onRemoteMessageDeleted",o0),this.store.deleteMessageByUid(o0),this.eventEmitter.emit(o38.default.MessageDeleted,o0)}},{key:"onMessageDeleted",value:function(o0){this.log("onMessageDeleted",o0),this.eventEmitter.emit(o38.default.DeleteMessage,o0)}},{key:"onUserInfoUpdate",value:function(o0){var o1=this;this.log("userInfo update, ids",o0),JSON.parse(o0).map((function(o0){o1._reloadUserInfosFromRemote([o0])}))}},{key:"onFriendListUpdate",value:function(o0){this.log("friendList update, ids",o0),this.eventEmitter.emit(o38.default.FriendListUpdate,o0)}},{key:"onFriendRequestUpdate",value:function(o0){this.eventEmitter.emit(o38.default.FriendRequestUpdate,o0)}},{key:"registerMessageContent",value:function(o0,o1,o2,o3){o19.default.registerMessageContent(o0,o1,o2,o3)}},{key:"getHost",value:function(){return(0,o18.host)()}},{key:"getClientId",value:function(){var o0=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"wx";if(["ali","wx","qq","tt","bd","uni"].indexOf(o0)<0)return console.error("platformName must be one of [aliwxqqttbduni]"),"";var o1=this._platformOptions(o0);if(""===this.clientId){try{this.clientId=o1.mp.getStorageSync("clientId")}catch(o0){}if(!this.clientId){this.clientId=this.uuid();try{o1.mp.setStorage({key:"clientId",data:this.clientId})}catch(o0){}}}return this.log("clientId",this.clientId),this.clientId}},{key:"getEncodedClientId",value:function(){var o0=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"wx",o1=this.getClientId(o0);return(0,o17.AESEncrypt)(o1,"")}},{key:"encodeData",value:function(o0){return(0,o17.AESEncrypt)(o0,this.privateSecret)}},{key:"decodeData",value:function(o0){return this._Utf8ArrayToStr((0,o17.AESDecrypt)(o0,this.privateSecret,!1))}},{key:"_Utf8ArrayToStr",value:function(o0){var o1,o2,o3,o4,o5,o6;for(o1="",o3=o0.length,o2=0;o2<o3;)switch((o4=o0[o2++])>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:o1+=String.fromCharCode(o4);break;case 12:case 13:o5=o0[o2++],o1+=String.fromCharCode((31&o4)<<6|63&o5);break;case 14:o5=o0[o2++],o6=o0[o2++],o1+=String.fromCharCode((15&o4)<<12|(63&o5)<<6|(63&o6)<<0)}return o1}},{key:"uuid",value:function(){for(var o0=[],o1="0123456789abcdef",o2=0;o2<36;o2++)o0[o2]=o1.substr(Math.floor(16*Math.random()),1);return o0[14]="4",o0[19]=o1.substr(3&o0[19]|8,1),o0[8]=o0[13]=o0[18]=o0[23]="-",o0.join("")}},{key:"init",value:function(o0){this.initialized=!0,o0&&o0.length>0&&o42.default.config(o0[0])}},{key:"onForeground",value:function(){if(this.log("onForeground"),this.connectionStatus!==o40.default.ConnectionStatusConnected)this._reconnect();else{var o0=(new Date).getTime(),o1=o42.default.KEEP_ALIVE_TIMEOUT>o42.default.KEEP_ALIVE_INTERNAL?o42.default.KEEP_ALIVE_TIMEOUT:o42.default.KEEP_ALIVE_INTERNAL;o0-this.lastActiveTime>1e3*o1?(this.log("keep alive timeout, reconnect..."),this._reconnect(!0)):this.log("already connected")}}},{key:"connect",value:function(o1,o2){var o3=this,o4=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"wx";this.initialized?(this.log("connect",o0.version,o1,o2),["ali","wx","qq","tt","bd","uni"].indexOf(o4)<0?console.error("platformName must be one of [aliwxqqttbduni]"):(this.log("platform",this._platformOptions(o4)),this.platformName=o4,this.store._setInfoDataSource(this._platformOptions(o4).mp),this.isUserDisconnected=!1,o1&&o2?"string"==typeof o1&&"string"==typeof o2?!this.mqttClientInstance||!this.isConnecting&&this.connectionStatus!==o40.default.ConnectionStatusConnected||this.userId!==o1||this.token!==o2?(""!==this.userId&&this.userId!==o1&&this.reset(),this.onConnectionChanged(o40.default.ConnectionStatusConnecting),this.reconnectTimer||(this.reconnectTimer=setInterval((function(){o3.connectionStatus===o40.default.ConnectionStatusUnconnected&&""!==o3.userId&&""!==o3.token&&(o3.isConnecting||(o3.log("reconnect",o3.userId,o3.clientId,o3.token,(new Date).valueOf()),o3.resetMqtt(),o3.connect(o3.userId,o3.token)))}),o0.connectionTimeout)),this.userId=o1,this.token=o2,this.isConnecting=!0,this.log("connect",(new Date).getTime()),(0,o18.connect)(o1,this.getClientId(),o2,(function(o0,o1,o2,o4,o5,o6){if(o3.log("connect/route error",o0,(new Date).valueOf()),o3.isConnecting=!1,-1!==o0||o3.connectionStatus!==o40.default.ConnectionStatusConnected||!o3.mqttClientInstance){if(0!==o0){var o7=o40.default.ConnectionStatusUnconnected;return o0===o44.default.kEcServerTokenIncorrect?o7=o40.default.ConnectionStatusTokenIncorrect:o0===o44.default.kEcServerUserIsBlocked?o7=o40.default.ConnectionStatusRejected:o0===o44.default.kEcServerSecrectKeyMismatch?o7=o40.default.ConnectionStatusSecretKeyMismatch:o0===o44.default.kConnectionStatusKickedOff?o7=o40.default.ConnectionStatusKickedOff:o0===o44.default.kEcServerNotLicensed?o7=o40.default.ConnectionStatusNotLicensed:o0===o44.default.kEcServerTimeInconsistent?o7=o40.default.ConnectionStatusTimeInconsistent:o0===o44.default.kEcWebsocketNotConfigured&&(o3.error("IM  websocket https://docs.wildfirechat.cn/web/"),o7=o40.default.ConnectionStatusServerDown),o3.onConnectionChanged(o7),void(o1&&(o1.removeAllListeners(),o1.end(!0,{},(function(){o3.log("mqtt client ended")}))))}o3.imServerAddress=o6,o3.mqttClientInstance=o1,o3.privateSecret=o2,o3.serverConfigs=o5||{},o3.isReceiptEnable=o5.isReceiptEnable,o3.isMeshEnable=o5.isMeshEnable,o3.isUserOnlineStateEnable=o5.isUserOnlineStateEnable,o3.isClearGroupMsgWhenKickoff=o5.isClearGroupMsgWhenKickoff,o3.isGlobalDisableDraftSync=o5.isGlobalDisableDraftSync,o3.mqttClientInstance.on("connect",(function(o0){o3.isConnecting=!1,o3.isPullingMsg=!1,o3.isPullingChatroomMsg=!1,o3.lastActiveTime=(new Date).getTime();var o1=o70.decode(o0.payload);if(o3.log("connect ack",o1,o3.msgHead),o3._pullFriends(o1.friendHead),o3._pullFriendRequest(o1.friendRqHead),o3.loadRemoteDomains(),o3.msgHead){var o2=o3.settingHead.compare(o1.settingHead)<0;o3._pullMessages(o1.msgHead,0,o2,o1.recvHead,o1.readHead,o1.groupConvHead,!0)}else o42.default.MESSAGE_ROAMING?(o3.msgHead=o15.default.ZERO,o3.log("pull roaming message",o3.msgHead.toString(),o1.msgHead.toString()),o3.onConnectionChanged(o40.default.ConnectionStatusReceiveing),o3._pullMessages(o15.default.MAX_VALUE,0,!0,o1.recvHead,o1.readHead,o1.groupConvHead,!0)):(o3.msgHead=o1.msgHead,o3._pullUserSettings(o1.settingHead));var o5=(new Date).getTime();o3.deltaTime=Number(o1.serverTime)-o5-(o5-o4)/2})),o3.mqttClientInstance.on("reconnect",(function(){o3.isConnecting=!1,o3.log("------reconnect--------",o3.clientId)})),o3.mqttClientInstance.on("offline",(function(){o3.log("------offline--------"),o3.isConnecting=!1,o3.connectionStatus=o40.default.ConnectionStatusUnconnected,!o3.isUserDisconnected&&o3._reconnect()})),o3.mqttClientInstance.on("close",(function(){o3.log("------close--------",o3.clientId),o3.isConnecting=!1,0===o3.lastActiveTime?(o3.error("websocket  websockethttps://docs.wildfirechat.cn/web/web_config.html"),o3.onConnectionChanged(o40.default.ConnectionStatusUnconnected),o3.reset()):(o3.connectionStatus=o40.default.ConnectionStatusUnconnected,!o3.isUserDisconnected&&o3._reconnect())})),o3.mqttClientInstance.on("disconnect",(function(){o3.log("------disconnect--------")})),o3.mqttClientInstance.on("error",(function(o0){o3.log("------error--------",o0),o3.isConnecting=!1,o3.connectionStatus=o40.default.ConnectionStatusUnconnected,!o3.isUserDisconnected&&o3._reconnect()})),o3.mqttClientInstance.on("pingresp",(function(o0){console.log("pingresp",(new Date).getTime()),o3.lastActiveTime=(new Date).getTime()})),o3.mqttClientInstance.on("message",(function(o0,o1,o2){try{if(o3.lastActiveTime=(new Date).getTime(),o3.log("on push",o0),"MS"===o0){var o4=o89.decode(o1),o5=[];o5.push(o4),o3.onReceiveMessage(o5,!1,!1)}else if("MN"===o0){var o6=o96.decode(o1);o3._pullMessages(o6.head,o6.type,!1,!1,!1,!1,!1,!0)}else if("GMN"===o0){var o7=o137.decode(o1);o3._pullGroupConvs(o7.head,o7.target,o7.line,!0)}else if("FN"===o0){if(8===o1.length){var o8=o3._getLongFromBuffer(o1);o3._pullFriends(o8)}}else if("FRN"===o0){if(8===o1.length){var o9=o3._getLongFromBuffer(o1);o3._pullFriendRequest(o9)}}else if("UN"===o0){if(8===o1.length){var o10=o3._getLongFromBuffer(o1);o3._pullUserSettings(o10)}}else if("RMN"===o0){var o11=o113.decode(o1);o3.onRecallMessage(o11.fromUser,o11.id)}else if("RCN"===o0){if(8===o1.length){var o12=o3._getLongFromBuffer(o1);o3._pullRecv(o12)}}else if("RDN"===o0){if(8===o1.length){var o13=o3._getLongFromBuffer(o1);o3._pullRead(o13)}}else if("CONFN"===o0){var o14=o84.decode(o1);o3.onConferenceEvent(o14.id)}else"ROFL"===o0?(o3.warn("kicked offneed app relogin"),o3._reconnect(!0)):"UIN"===o0?o3.getUserInfo(o3.userId,!0):"POSN"===o0&&o3._onlineStateNotify(o1)}catch(o0){console.error(o0)}}))}}),this._platformOptions(o4))):this.log("connect 0",this.isConnecting,this.connectionStatus,this.userId,this.token):this.error("userId and token must be string type"):this.log("userId or token error"))):this.error("IM wfc.init ")}},{key:"_reconnect",value:function(){var o1=this,o2=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(o2)return this.log("force reconnect"),this.resetMqtt(),void this.connect(this.userId,this.token);!this.isConnecting&&this.userId&&this.token&&setTimeout((function(){o1.connectionStatus!==o40.default.ConnectionStatusUnconnected||o1.isConnecting||(o1.resetMqtt(),o1.connect(o1.userId,o1.token))}),o0.connectionTimeout)}},{key:"_getLongFromBuffer",value:function(o0){return o15.default.fromBytesBE(o0.slice(0,8))}},{key:"_getStringFromBuffer",value:function(o0){return o0.toString()}},{key:"_getStringFromU8int",value:function(o0){return o1.from(o0).toString()}},{key:"_pullMessages",value:function(o0){var o1=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o2=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o3=arguments[3],o4=arguments[4],o5=arguments[5],o6=this,o7=arguments.length>6&&void 0!==arguments[6]&&arguments[6],o8=arguments.length>7&&void 0!==arguments[7]&&arguments[7];if(this.log("to pull user messages",o0,o1,o2),1!==o1){if(o8&&(this.pendingMN=!0),this.isPullingMsg||this.msgHead.compare(o0)>=0&&!this.pendingMN)return this.log("local message is up to date or is pulling",o0,this.msgHead,o2,o3,o4,o7,o8),void(o2||o7?(this._pullUserSettings(o15.default.MAX_VALUE),this.isReceiptEnable&&(this._pullRecv(o3),this._pullRead(o4),o7&&this._syncRead()),this._pullGroupConvs(o5)):this.connectionStatus!==o40.default.ConnectionStatusConnected&&this.onConnectionChanged(o40.default.ConnectionStatusConnected));this.isPullingMsg=!0,this.pendingMN=!1}else{if(!this.currentChatRoomId)return;if(this.isPullingChatroomMsg||(0,o16.gte)(this.chatRoomMsgHead,o0))return;this.isPullingChatroomMsg=!0}var o9=o100.encode({id:1!==o1?this.msgHead:this.chatRoomMsgHead,type:o1}).finish();this.log("pull user messages, type: "+o1+", head: "+(0,o16.stringValue)(o0)+", msgHead: "+(0,o16.stringValue)(this.msgHead)+", chatroomMsgHead: "+(0,o16.stringValue)(this.chatRoomMsgHead)),this._publish("MP",o9,(function(o0,o8){if(o6.log("pull user messages response",o0),0!==o0||!o8)return o6.log("pull message error",o0),1!==o1?o6.isPullingMsg=!1:o6.isPullingChatroomMsg=!1,void(o2&&o6._pullUserSettings(o6.settingHead));var o9=o101.decode(o8);if(0===o1)(0,o16.gt)(o9.current,o6.msgHead)&&(o6.msgHead=o9.current),o6.isPullingMsg=!1,o6.log("pull message result",(0,o16.stringValue)(o9.current),o9.message.length);else if(1===o1){if(o6.log("pull chatroom message result",(0,o16.stringValue)(o9.current),o9.message.length),o6.isPullingChatroomMsg=!1,o9.message.length>0&&o9.message[0].conversation.target!==o6.currentChatRoomId)return void o6.log("user not in chatroom now, drop message");o6.chatRoomMsgHead=o9.current}o6.onReceiveMessage(o9.message,o2),o6._pullMessages(o9.head,o1,o2,o3,o4,o5,o7)}))}},{key:"_pullRecv",value:function(o0){var o1=this;if(this.isReceiptEnable&&o0&&!this.isPullingRecv&&!(this.recvHead.compare(o0)>=0)){this.isPullingRecv=!0;var o2=o111.create();o2.version=this.recvHead;var o3=o111.encode(o2).finish();this.log("pull recv",this.recvHead),this._publish("RCP",o3,(function(o0,o2){if(o1.isPullingRecv=!1,0===o0&&o2){var o3=o122.decode(o2);o1.log("pull recv result",o3),o1.recvHead=o3.current,o1.store.updateDeliveries(o3.delivery);var o4=new o12.default;o3.delivery.forEach((function(o0){o4.set(o0.fromUser,o0.receiveTime)})),o1.eventEmitter.emit(o38.default.MessageReceived,o4),o1._pullRecv(o3.head)}}))}}},{key:"_pullRead",value:function(o0){var o1=this;if(!(!o0||this.isPullingRead||this.readHead.compare(o0)>=0)){this.isPullingRead=!0;var o2=o111.create();o2.version=this.readHead;var o3=o111.encode(o2).finish();this.log("pull read",this.readHead),this._publish("RDP",o3,(function(o0,o2){if(o1.isPullingRead=!1,0===o0&&o2){var o3=o123.decode(o2);o1.log("pull read result",o3),o1.readHead=o3.current,o1.store.updateReads(o3.read);var o4=[];o3.read.forEach((function(o0){var o1=new o51.default;o1.userId=o0.fromUser,o1.readTime=o0.readTime,0===o0.conversation.type&&(o0.conversation.target=o0.fromUser),o1.conversation=(0,o8.default)(new o28.default,o0.conversation),o1.conversation.conversationType=o1.conversation.type,o4.push(o1)})),o1.eventEmitter.emit(o38.default.MessageRead,o4),o1._pullRead(o3.head)}}))}}},{key:"_pullGroupConvs",value:function(o0,o1,o2,o3){var o4=this;if(o3||!(0,o16.gte)(this.groupHead,o0))if(this.isPullingGroupMsg)this.pendingGMN=!0;else{this.isPullingGroupMsg=!0;var o5=o131.create();o5.id=this.groupHead,o1&&(o5.target=o1,o5.line=o2,o5.messageId=this.store.getGroupMessageHead(o1,o2)),o5=o131.encode(o5).finish(),this.log("pull groupConvs",this.groupHead),this._publish("GCP",o5,(function(o0,o3){if(o4.isPullingGroupMsg=!1,0===o0&&o3){var o5=o132.decode(o3);o4.log("pull groupConvs result",o5),o4._onPullGroupConvSuccess(o1,o2,o5)}}))}}},{key:"_onPullGroupConvSuccess",value:function(o0,o1,o2){this.groupHead=o2.current;var o3=!0,o4=!1,o5=void 0;try{for(var o6,o7=(0,o11.default)(o2.conv);!(o3=(o6=o7.next()).done);o3=!0){var o8=o6.value;this.store.setGroupMessageServerHead(o8.groupId,o8.line,o8.msgHead)}}catch(o0){o4=!0,o5=o0}finally{try{!o3&&o7.return&&o7.return()}finally{if(o4)throw o5}}var o9=o2.groupMessage;if(o0&&(o9.msg.length>0||o9.message.length>0)){var o10=o9.msg,o12=o9.message,o13=this._fillGroupMessage(o9.groupId,o9.line,o12),o14=o10.concat(o13);this._onPullGroupMessages(o14,[o9])}this.isPullingGroupMsg=!1,this._pullGroupMessages(),this.pendingGMN&&(this.pendingGMN=!1,this._pullGroupConvs(o15.default.MAX_VALUE,"",0,!1))}},{key:"_pullGroupMessages",value:function(){var o0=this;if(!this.isPullingGroupMsg){var o1=this.store.getGroupMessageHeads(),o2=[];if(o1.length>0){var o3=!0,o4=!1,o5=void 0;try{for(var o6,o7=(0,o11.default)(o1);!(o3=(o6=o7.next()).done);o3=!0){var o8=o6.value,o9=o133.create();o9.groupId=o8.target,o9.line=o8.line,o9.id=o8.head,o2.push(o9)}}catch(o0){o4=!0,o5=o0}finally{try{!o3&&o7.return&&o7.return()}finally{if(o4)throw o5}}}if(o2.length>0){this.isPullingGroupMsg=!0;var o10=o134.create();o10.request=o2,this.log("_pullGroupMessages",o10,o2),o10=o134.encode(o10).finish(),this._publish("GMP",o10,(function(o1,o2){if(o0.isPullingGroupMsg=!1,0===o1&&o2){var o3=o135.decode(o2);o0.log("_pullGroupMessages result",o3),o0._onPullGroupMessagesSuccess(o3)}}))}}}},{key:"_onPullGroupMessagesSuccess",value:function(o0){if(o0.result.length){var o1=[],o2=!0,o3=!1,o4=void 0;try{for(var o5,o6=(0,o11.default)(o0.result);!(o2=(o5=o6.next()).done);o2=!0){var o7=o5.value,o8=o7.msg,o9=o7.message,o10=this._fillGroupMessage(o7.groupId,o7.line,o9);o1=o1.concat(o8.concat(o10))}}catch(o0){o3=!0,o4=o0}finally{try{!o2&&o6.return&&o6.return()}finally{if(o3)throw o4}}this._onPullGroupMessages(o1,o0.result)}this.isPullingGroupMsg=!1,this._pullGroupMessages(),this.pendingGMN&&(this.pendingGMN=!1,this._pullGroupConvs(o15.default.MAX_VALUE,"",0,!1))}},{key:"_onPullGroupMessages",value:function(o0,o1){console.log("_onPullGroupMessages",o0,o1),this.onReceiveMessage(o0,!1,!0,o0.length>50);var o2=!0,o3=!1,o4=void 0;try{for(var o5,o6=(0,o11.default)(o1);!(o2=(o5=o6.next()).done);o2=!0){var o7=o5.value,o8=o29.default.Group+"-"+o7.line+"-"+o7.groupId,o9=this.getUserSetting(o37.default.Conversation_Sync,o8);o9&&(0,o16.gt)(o9,0),this.store.setGroupMessageHead(o7.groupId,o7.line,o7.current),this.store.setGroupMessageServerHead(o7.groupId,o7.line,o7.head)}}catch(o0){o3=!0,o4=o0}finally{try{!o2&&o6.return&&o6.return()}finally{if(o3)throw o4}}}},{key:"_parseGroupMessageFlag",value:function(o0){return{contentType:o0>>8&2047,persistFlag:o0>>4&15,mentionedType:o0>>1&7,send:(1&o0)>0}}},{key:"_messageId2Time",value:function(o0){var o1=o0.shiftRight(21);return o1=o1.add(1514736e6)}},{key:"_fillGroupMessage",value:function(o0,o1,o2){var o3=[],o4=!0,o5=!1,o6=void 0;try{for(var o7,o8=(0,o11.default)(o2);!(o4=(o7=o8.next()).done);o4=!0){var o9=o7.value,o10=o89.create(),o12=this._parseGroupMessageFlag(o9.flag);o10.messageId=o9.messageId,o10.conversation=o71.create(),o10.conversation.type=o29.default.Group,o10.conversation.target=o0,o10.conversation.line=o1,o10.content=o91.create(),o10.content.type=o12.contentType,o10.content.persistFlag=o12.persistFlag,o10.content.mentionedType=o12.mentionedType,o10.content.notLoaded=!0,o10.content.mentionedType>0&&2!==o10.content.mentionedType&&o10.content.mentionedTarget.push(this.userId),o10.fromUser=o9.fromUser,o10.serverTimestamp=this._messageId2Time(o9.messageId),o3.push(o10)}}catch(o0){o5=!0,o6=o0}finally{try{!o4&&o8.return&&o8.return()}finally{if(o5)throw o6}}return o3}},{key:"isReceiptEnabled",value:function(){return this.isReceiptEnable}},{key:"isEnableMesh",value:function(){return this.isMeshEnable}},{key:"getConversationDelivery",value:function(o0){return this.store.getConversationDelivery(o0)}},{key:"getConversationRead",value:function(o0){return this.store.getConversationRead(o0)}},{key:"setDeviceToken",value:function(o0,o1){var o2=this;if(o0>5&&o1){var o3=o127.create();o3.pushType=o0,o3.appName="wfc.wx",o3.deviceToken=o1,o3.platform=5,this._publish("UDT",o127.encode(o3).finish(),(function(o0,o1){o0||o2.log("setDeviceToken error",o0)}))}else this.error("setDeviceToken error, invalid parameters",o0,o1)}},{key:"getAuthCode",value:function(o0,o1,o2,o3,o4){var o5=o140.create();o5.targetId=o0,o5.type=o1,o5.host=o2,this._publish("ATR",o140.encode(o5).finish(),(function(o0,o1){if(0===o0){var o2=null;if(o1)o2=o84.decode(o1).id;o3&&o3(o2)}else o4&&o4(o0)}))}},{key:"_pullUnreadMessages",value:(o49=(0,o7.default)(o6.default.mark((function o0(){var o1,o2,o3,o4,o5;return o6.default.wrap((function(o0){for(;;)switch(o0.prev=o0.next){case 0:o1=this.getConversationList([0,1],[0]),o2=200,o3=0;case 3:if(!(o3<o1.length&&o3<o2)){o0.next=19;break}return o4=o1[o3].conversation,(o5=this.store.getConversationOldestMessage(o4))||(o5={timestamp:o15.default.MAX_VALUE,messageUid:o15.default.MAX_VALUE}),o0.next=9,this._pullConversationUnreadMessages(o4,o5);case 9:o5=o0.sent;case 10:if(!o5){o0.next=16;break}return o0.next=13,this._pullConversationUnreadMessages(o4,o5);case 13:o5=o0.sent,o0.next=10;break;case 16:o3++,o0.next=3;break;case 19:case"end":return o0.stop()}}),o0,this)}))),function(){return o49.apply(this,arguments)})},{key:"_pullConversationUnreadMessages",value:(o48=(0,o7.default)(o6.default.mark((function o0(o1,o2){var o3,o4,o7,o8,o9=this;return o6.default.wrap((function(o0){for(;;)switch(o0.prev=o0.next){case 0:if(!(o3=o42.default.MAX_TO_LOAD_UNREAD_COUNT_PER_CONVERSATION?o42.default.MAX_TO_LOAD_UNREAD_COUNT_PER_CONVERSATION:99)){o0.next=6;break}if(!(this.store.getConversationMessages(o1).length>o3)){o0.next=6;break}return console.log("Up to "+o3+" unread messages can be loaded.",o1),o0.abrupt("return",null);case 6:return o4=o1.type+"-"+o1.line+"-"+o1.target,o7=this.getUserSetting(o37.default.Conversation_Sync,o4),o8=new o5.default((function(o0,o3){!o7||(0,o16.gt)(o7.value,0)&&(0,o16.gt)(o2.timestamp,o7.value)?o9.loadRemoteMessages(o1,[],o2.messageUid,100,(function(o3){console.log("load conversation unread msgs",o4,(0,o16.stringValue)(o2.messageUid),o3.length),o9.store.updateConversationUnreadStatus(o1,o7?o7.value:0),o3.length>0?o0(o3[0]):o0(null)}),(function(o1){o0(null)}),!0):o0(null)})),o0.abrupt("return",o8);case 10:case"end":return o0.stop()}}),o0,this)}))),function(o0,o1){return o48.apply(this,arguments)})},{key:"_pullUserSettings",value:function(o0){var o1=this;if(this.log("pull user setting...",o0),!this.isPullingSetting)if(this.settingHead.compare(o15.default.ZERO)>0&&this.settingHead.compare(o0)>=0)this.connectionStatus!==o40.default.ConnectionStatusConnected&&this.onConnectionChanged(o40.default.ConnectionStatusConnected);else{this.isPullingSetting=!0;var o2=o111.create();o2.version=this.settingHead;var o3=o111.encode(o2).finish();this._publish("UG",o3,(function(o2,o3){if(o1.log("pull user setting response"),o1.isPullingSetting=!1,0===o2&&o3){var o4=o79.decode(o3),o5=o1.settingHead;o4.entry.length>0?o4.entry.forEach((function(o0){o5=(0,o16.gt)(o0.updateDt,o5)?o0.updateDt:o5})):o5=o0,o1.store.updateUserSettings(o4.entry),o1._preloadConversationTargetInfos(),o1.onSettingUpdate(o4.entry),o1.settingHead=o5,(0,o16.gt)(o0,o5)?o1._pullUserSettings(o0):o1.connectionStatus!==o40.default.ConnectionStatusConnected&&o1.onConnectionChanged(o40.default.ConnectionStatusConnected)}else o1.connectionStatus!==o40.default.ConnectionStatusConnected&&(0===o2?o1.onConnectionChanged(o40.default.ConnectionStatusConnected):o1.onConnectionChanged(o40.default.ConnectionStatusUnconnected),o1.log("pull user setting error",o2))}))}}},{key:"_preloadConversationTargetInfos",value:function(){if(!this.isConversationTargetPreloaded){this.isConversationTargetPreloaded=!0;var o0=this.store._getConversationInfos(),o1=[],o2=new o4.default;o0.forEach((function(o0){o0.conversation.type===o29.default.Single?o2.add(o0.conversation.target):o0.conversation.type===o29.default.Group&&o1.push(o0.conversation.target),o0.lastMessage&&o0.lastMessage.from&&o2.add(o0.lastMessage.from)})),o2.add(this.getUserId()),this.getGroupInfos(o1),this.getUserInfos((0,o3.default)(o2))}}},{key:"_preloadFiendsUserInfo",value:function(){if(!this.isFriendPreloaded){this.isFriendPreloaded=!0;var o0=this.store.getFriendIds();this.getUserInfos(o0)}}},{key:"_preloadFirendRequsetUserInfo",value:function(){this.isFriendRequestPreloaded}},{key:"_updateUserSetting",value:function(o0,o1,o2,o3,o4){var o5=this,o6=o95.create();o6.scope=o0,o6.key=o1,o6.value=o2+"";var o7=o95.encode(o6).finish();this._publish("UP",o7,(function(o6,o7){if(0===o6){var o8=new o41.default;o8.scope=o0,o8.key=o1,o8.value=o2,o8.updateDt=(new Date).getTime(),o5.store.updateUserSettings([o8]),o3&&o3()}else o4&&o4(o6)}))}},{key:"_pullFriends",value:function(o0){var o1=this;if(this.friendHead.compare(o0)>=0)return 0;var o2=o111.create();o2.version=this.friendHead;var o3=o111.encode(o2).finish();this._publish("FP",o3,(function(o2,o3){if(0===o2&&o3){var o4=o75.decode(o3);o1.log("fr",o4);var o5=[],o6=0;o4.entry.map((function(o0){0===o0.state&&o5.push(o0.uid),o1.store.insertFriend((0,o8.default)(new o45.default,o0)),o6=(0,o16.gt)(o0.updateDt,o6)?o0.updateDt:o6})),o1.friendHead=o6,(0,o16.gt)(o0,o1.friendHead)&&o1._pullFriends(o0),o1._preloadFiendsUserInfo(),o1.onFriendListUpdate(o5)}else o1.log("pull friend error",o2)}))}},{key:"_pullFriendRequest",value:function(o0){if(this.log("_pullFriendRequest",o0),!(this.friendRequestHead.compare(o0)>=0)){var o1=this.store.getFriendRequestMaxDt();this.loadFriendRequestFromRemote(o1)}}},{key:"disconnect",value:function(){console.warn("---------disconnect-----------"),this.onConnectionChanged(o40.default.ConnectionStatusLogout),this.reset(),this.isUserDisconnected=!0}},{key:"getProtoRevision",value:function(){return o0.version}},{key:"getUserId",value:function(){return this.userId}},{key:"getServerDeltaTime",value:function(){return parseInt(this.deltaTime)}},{key:"isLogin",value:function(){return this.token&&this.token.length>0}},{key:"getConnectionStatus",value:function(){return this.connectionStatus}},{key:"useEncryptSM4",value:function(){console.log("use encryptSM4"),(0,o17.useEncryptSM4)()}},{key:"getMyGroupList",value:function(){var o0=this.store.getFavGroups();return o0&&0!==o0.length?this.getGroupInfos(o0):[]}},{key:"_publish",value:function(o0,o1,o2){var o3=this,o4=this._encrypt(o1);if(!this.mqttClientInstance)return this.log("the connect is reset, reconnecting"),void(o2&&o2(-1));var o5=setTimeout((function(){o3.log("publish not response after "+o42.default.SEND_MESSAGE_TIMEOUT+"s, reset"),o2&&o2(-1),o3.connectionStatus=o40.default.ConnectionStatusUnconnected,o3._reconnect()}),1e3*(o42.default.SEND_MESSAGE_TIMEOUT?o42.default.SEND_MESSAGE_TIMEOUT:20));this.mqttClientInstance.publish(o0,o4,{qos:1,retain:!0,dup:!0},(function(o1,o4){if(clearTimeout(o5),o2){if(o1)return o3.log("publish error",o0,o1),o2(-1),void("Connection closed"===o1.message&&(o3.connectionStatus=o40.default.ConnectionStatusUnconnected,o3._reconnect()));if(o3.lastActiveTime=(new Date).getTime(),o3.log("publish response",o0),!o4||!o4.payload||o4.payload.length<1)return o3.log("publish response error",o4),void(o2&&o2(-2));var o6=o4.payload[0];if(0===o6||255===o6||5===o6){o3.log("publish error code ",o0,o6);var o7=null;if(o4.payload&&o4.payload.length>1){if(o7=o3._decryptPublishResponse(o4),255===o6){o3.log("publish response compressed");try{o7=o43.default.inflate(o7)}catch(o1){o3.log("decompress response error",o1)}}o2(0,o7)}else o3.log("publish response is empty"),o2(0,null)}else o3.log("publish error",o0,o6),o2(o6),o6===o44.default.kEcServerTokenIncorrect||o6===o44.default.kEcServerUserIsBlocked||o44.default.kEcServerSecrectKeyMismatch}else o3.log("publish, cb is null, drop")}))}},{key:"_reloadUserInfosFromRemote",value:function(o0){for(var o1=this,o2=function(o2){setTimeout((function(){o1._reloadUserInfosFromRemoteEx(null,null,o0.slice(2e3*o2,2e3*(o2+1)))}),1e3*o2)},o3=0;o3<o0.length/2e3;o3++)o2(o3)}},{key:"_reloadUserInfosFromRemoteEx",value:function(o0,o1,o2){var o3=this,o4=o102.create();o2.forEach((function(o0){if(o0&&!o3.store.loadingUsers.has(o0)){o3.store.loadingUsers.add(o0);var o1=o110.create();o1.uid=o0;var o2=o3.store.getUser(o0);o1.updateDt=o2?o2.updateDt:o15.default.ZERO,o4.request.push(o1)}})),o4.request.length<1||(this.log("reload userInfo from remote",o2),this._publish("UPUI",o102.encode(o4).finish(),(function(o4,o5){if(o2.forEach((function(o0){o3.store.loadingUsers.delete(o0)})),0!==o4||!o5)return o3.log("reloadUserInfoFromRemote error",o4,o2),void(o1&&o1(0!==o4?o4:-1));var o6=o103.decode(o5).result;if(o6.length>0){var o7=[];o3.log("load userInfo from remote",o6),o6.forEach((function(o0){if(0===o0.code){var o1=(0,o8.default)(new o36.default,o0.user);o42.default.urlRedirect&&(o1.portrait=o42.default.urlRedirect(o1.portrait)),o3.store.setUser(o1),o7.push(o3.store.getUser(o1.uid,""))}})),o0&&o0(o7),o7.length>0&&o3.eventEmitter.emit(o38.default.UserInfosUpdate,o7)}else o3.log("reload userInfo from remote response empty"),o1&&o1(-1)})))}},{key:"_reloadUserInfoFromRemote",value:function(o0,o1,o2,o3){var o4=this,o5=o102.create(),o6=o110.create();o6.uid=o0,o6.updateDt=o15.default.fromValue(o1),o5.request.push(o6),this.log("reload userInfo from remote",o0),this._publish("UPUI",o102.encode(o5).finish(),(function(o1,o5){if(0!==o1||!o5)return o3&&o3(0===o1?-1:o1),void o4.log("reloadUserInfoFromRemote error",o1,o0);var o6=o103.decode(o5).result;if(o6.length>0){var o7=[];o4.log("load userInfo from remote",o6),o6.forEach((function(o0){var o1=(0,o8.default)(new o36.default,o0.user);o42.default.urlRedirect&&(o1.portrait=o42.default.urlRedirect(o1.portrait)),o4.store.setUser(o1),o7.push(o4.store.getUser(o1.uid,""))})),o2&&o2(o7[0])}else o3&&o3(-1)}))}},{key:"getUserInfo",value:function(o0){var o1=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o2=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",o3=this.store.getUser(o0,o2);return o3 instanceof o35.default||(o3=(0,o8.default)(new o36.default,o3)),(o1||o3 instanceof o35.default)&&this._reloadUserInfosFromRemote([o0]),o3}},{key:"getUserInfoEx",value:function(o0,o1,o2,o3){var o4=this.store.getUser(o0);o4 instanceof o35.default||(o4=(0,o8.default)(new o36.default,o4),o2&&o2(o4)),(o1||o4 instanceof o35.default)&&this._reloadUserInfosFromRemoteEx((function(o0){o2&&o2((0,o8.default)(new o36.default,o0[0]))}),o3,[o0])}},{key:"getUserInfos",value:function(){var o0=this,o1=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],o2=arguments[1],o3=[],o4=[];return o1.forEach((function(o1){var o5=o0.store.getUser(o1,o2);o5 instanceof o35.default&&o4.push(o1),o3.push(o5)})),o4.length>0&&this._reloadUserInfosFromRemote(o4),o3.map((function(o0){return(0,o8.default)(new o36.default,o0)}))}},{key:"getUserInfosEx",value:function(o0,o1,o2){var o3=this,o4=[],o5=[];o0.forEach((function(o0){var o1=o3.store.getUser(o0);o1 instanceof o35.default?o5.push(o0):o4.push(o1)})),o5.length>0?this._reloadUserInfosFromRemoteEx((function(o0){var o2;(o2=o4).push.apply(o2,(0,o10.default)(o0)),o4=o4.map((function(o0){return(0,o8.default)(new o36.default,o0)})),o1&&o1(o4)}),o2,o0):o1&&o1(o4)}},{key:"searchUser",value:function(o0,o1,o2,o3,o4){this.searchUserEx("",o0,o1,o2,o3,o4)}},{key:"searchUserEx",value:function(o0,o1,o2,o3,o4,o5){var o6=o106.create();o6.domainId=o0,o6.fuzzy=o2,o6.keyword=o1,o6.page=o3,this._publish("US",o106.encode(o6).finish(),(function(){var o0=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-2,o2=arguments[1];if(0===o0&&o2){if(o4){var o3=o107.decode(o2);o4(o1,o3.entry)}}else o5&&o5(o0)}))}},{key:"searchFriends",value:function(o0){return this.store.searchFriends(o0)}},{key:"searchGroups",value:function(o0){return this.store.searchGroups(o0).map((function(o0){return(0,o8.default)(new o31.default,o0)}))}},{key:"getIncommingFriendRequest",value:function(){return this.store.getIncommingFriendRequest().map((function(o0){return(0,o8.default)(new o30.default,o0)}))}},{key:"getOutgoingFriendRequest",value:function(){return this.store.getOutgoingFriendRequest().map((function(o0){return(0,o8.default)(new o30.default,o0)}))}},{key:"getOneFriendRequest",value:function(o0,o1){var o2=this.store.getOneFriendRequest(o0,o1);return o2?(0,o8.default)(new o30.default,o2):null}},{key:"loadFriendRequestFromRemote",value:function(o0){var o1=this,o2=o111.create();o2.version=o0,this._publish("FRP",o111.encode(o2).finish(),(function(o2,o3){if(0===o2&&o3){var o4=0,o5=o74.decode(o3);o1.log("load friend request result",o5);var o6=[];o5.entry.forEach((function(o0){var o2=new o30.default;o2.status=o0.status,o2.reason=o0.reason,o2.extra=o0.extra,o0.fromUid===o1.getUserId()?(o2.direction=0,o2.target=o0.toUid,o2.readStatus=o0.fromReadStatus?1:0):(o2.direction=1,o2.target=o0.fromUid,o2.readStatus=o0.toReadStatus?1:0,0===o2.readStatus&&o6.push(o2.target)),o2.timestamp=o0.updateDt,(0,o16.gt)(o0.updateDt,o4)&&(o4=o0.updateDt),o1.store.insertOrReplaceFriendRequest(o2)})),o1.friendRequestHead=o4,(0,o16.gt)(o0,o4)&&o1.loadFriendRequestFromRemote(o4),o1.onFriendRequestUpdate(o6)}}))}},{key:"getUnreadFriendRequestCount",value:function(){return this.store.getUnreadFriendRequestCount()}},{key:"clearUnreadFriendRequestStatus",value:function(){var o0=this.store.getUnreadFriendRequestMaxDt();if(0!==o15.default.ZERO.compare(o0)&&this.store.clearUnreadFriendRequestStatus()>0){var o1=o111.create();o1.version=o0,this._publish("FRUS",o111.encode(o1).finish(),(function(o0,o1){}))}}},{key:"deleteFriend",value:function(o0,o1,o2){var o3=this,o4=o84.create();o4.id=o0,this._publish("FDL",o84.encode(o4).finish(),(function(){var o4=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-2;0===o4?(o3.store.deleteFriend(o0),o1&&o1()):o2(o4)}))}},{key:"handleFriendRequest",value:function(o0,o1,o2,o3,o4){var o5=this,o6=o83.create();o6.status=o1?1:2,o6.targetUid=o0,o6.extra=o2,this._publish("FHR",o83.encode(o6).finish(),(function(o1,o2){0===o1?(o5.store.updateFriendRequestStatus(o0,o6.status),o3&&o3()):o4&&o4(o1)}))}},{key:"isBlackListed",value:function(o0){return this.store.isBlackListed(o0)}},{key:"getBlackList",value:function(){return this.store.getBlackList()}},{key:"setBlackList",value:function(o0,o1,o2,o3){var o4=this,o5=o69.create();o5.status=o1?2:1,o5.uid=o0,this._publish("BLU",o69.encode(o5).finish(),(function(o5,o6){0===o5?(o4.store.setBlackList(o0,o1),o2&&o2()):o3&&o3()}))}},{key:"getMyFriendList",value:function(){var o0=arguments.length>0&&void 0!==arguments[0]&&arguments[0],o1=this.store.getFriendIds();return(o0||0===o1.length)&&this._getMyFriendListFromRemote(),o1}},{key:"getFriendList",value:function(){var o0=arguments.length>0&&void 0!==arguments[0]&&arguments[0],o1=this.store.getFriends();return(0===o1.length||o0)&&this._getMyFriendListFromRemote(),o1}},{key:"getFriendAlias",value:function(o0){return this.store.getFriendAlias(o0)}},{key:"getFriendExtra",value:function(o0){return this.store.getFriendExtra(o0)}},{key:"setFriendAlias",value:function(o0,o1,o2,o3){var o4=o67.create();o4.targetUid=o0,o4.reason=o1,this._publish("FALS",o67.encode(o4).finish(),(function(o0,o1){0===o0?o2():o3(o0)}))}},{key:"_getMyFriendListFromRemote",value:function(){this._pullFriends(o15.default.MAX_VALUE)}},{key:"createGroup",value:function(o0,o1,o2,o3,o4){var o5=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],o6=arguments[6],o7=arguments.length>7&&void 0!==arguments[7]?arguments[7]:[0],o8=arguments[8],o9=this,o10=arguments[9],o11=arguments[10];o0=o0||"";var o12=this.getUserId(),o13=o80.create(),o14=o81.create();o14.targetId=o0,o14.type=o1,o14.name=o2,o14.portrait=o3,o14.extra=o4||"",o13.groupInfo=o14;var o15=new o31.default;o15.target=o0,o15.type=o1,o15.name=o2,o15.portrait=o3,o15.extra=o14.extra;var o16=[];o5.includes(o12)||o5.push(o12);var o17=void 0;o5.forEach((function(o1){var o2=o82.create();o2.memberId=o1,o2.type=o33.default.Normal,(o17=new o32.default).groupId=o0,o17.memberId=o1,o17.type=o33.default.Normal,o1===o12&&(o2.type=o33.default.Owner,o17.type=o33.default.Owner),o13.members.push(o2),o16.push(o17)}));var o18=o72.create();o18.group=o13,o18.toLine=o7,o18.memberExtra=o6||"",o18.notifyContent=this._toProtoMessageContent(o8),this._publish("GC",o72.encode(o18).finish(),(function(){var o0=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-2,o1=arguments[1];if(0===o0&&o1){var o2=o9._getStringFromU8int(o1);o15.target=o2;var o3=new o28.default(o29.default.Group,o2,0);if(o9.store.genAndSaveDefaultConversationInfo(o3),o9.store.setGroupInfo(o15),o9.store.setGroupMembers(o2,o16),o8){var o4=new o21.default(o3,o8);o9.store.updateConversationLastMessage(o4)}o10&&o10(o2),o9.log("create group success",o2)}else o9.log("create group error",o0),o11&&o11(o0)}))}},{key:"setGroupManager",value:function(o0,o1,o2,o3,o4,o5,o6){var o7=this,o8=o108.create();o8.type=o1?1:0,o8.groupId=o0,o8.userId=o2,o8.toLine=o3,o8.notifyContent=this._toProtoMessageContent(o4),this._publish("GSM",o108.encode(o8).finish(),(function(o3,o4){0===o3?(o7.store.setGroupManagers(o0,o1,o2),o5&&o5(),o7.log("set group manager success",o0)):(o7.log("set group manager error",o3),o6&&o6(o3))}))}},{key:"_reloadGroupInfosFromRemote",value:function(){for(var o0=arguments.length,o1=Array(o0),o2=0;o2<o0;o2++)o1[o2]=arguments[o2];this._reloadGroupInfosFromRemoteEx(null,null,o1)}},{key:"_reloadGroupInfosFromRemoteEx",value:function(o0,o1,o2){var o3=this,o4=o102.create();o2.forEach((function(o1){if(o0||!o3.store.loadingGroups.has(o1)){o3.store.loadingGroups.add(o1);var o2=o110.create();o2.uid=o1;var o5=o3.store.getGroupInfo(o1);o2.updateDt=o5?o5.updateDt:o15.default.ZERO,o4.request.push(o2)}})),o4.request.length<1?o1&&o1(-1):(this.log("reload groupInfo from remote",o2),this._publish("GPGI",o102.encode(o4).finish(),(function(o4,o5){if(o2.forEach((function(o0){o3.store.loadingGroups.delete(o0)})),0!==o4||!o5)return o3.log("reloadGroupInfoFromRemote error",o4,o5,o2),void(o1&&o1(0!==o4?o4:-1));var o6=o97.decode(o5).info;if(o3.log("reload groupInfo from remote result",o6),o6.length>0){var o7=[];o6.forEach((function(o0){var o1=(0,o8.default)(new o31.default,o0);o1.target=o0.targetId,delete o1.targetId,o42.default.urlRedirect&&(o1.portrait=o42.default.urlRedirect(o1.portrait)),o3.store.setGroupInfo(o1),o7.push(o1)})),o0&&o0(o7),o3.eventEmitter.emit(o38.default.GroupInfosUpdate,o7)}})))}},{key:"_reloadGroupMembersFromRemote",value:function(o0,o1){this._reloadGroupMembersFromRemoteEx(o0,o1,null,null)}},{key:"_reloadGroupMembersFromRemoteEx",value:function(o0,o1,o2,o3){var o4=this;if(o2||!this.store.loadingGroupMembers.has(o0)){this.store.loadingGroupMembers.add(o0);var o5=o98.create();o5.target=o0,o5.head=o15.default.fromValue(o1),this._publish("GPGM",o98.encode(o5).finish(),(function(o1,o5){if(o4.store.loadingGroupMembers.delete(o0),0===o1&&o5){var o6=o99.decode(o5).member,o7=[],o8=!1;o6.forEach((function(o1){var o2=new o32.default;o2.groupId=o0,o2.alias=o1.alias,o2.extra=o1.extra,o2.type=o1.type,o2.memberId=o1.memberId,o2.updateDt=o1.updateDt,o2.createDt=o1.createDt,o7.push(o2);var o3=o4.store.getGroupMember(o0,o4.userId);o2.memberId===o4.userId&&o3&&o3.type===o33.default.Removed&&(o8=!0)})),o4.log("loadGroupMembersFromRemote",o0,o7.length),o4.store.updateGroupMembers(o0,o7),o7=o4.store.getGroupMembers(o0),o2&&o2(o7),!o8&&o7.length>0?(o4.eventEmitter.emit(o38.default.GroupMembersUpdate,o0,o7),o4.log("emit groupMembersUpdate",o0,o7)):o4.log("self deleted",o0)}else{if(o4.log("reloadGroupMembersFromRemote error",o0,o1),253===o1){var o9=new o28.default(o29.default.Group,o0,0);o4.store.removeConversation(o9,!0),console.log("remove conversation",o9)}o3&&o3(0!==o1?o1:-1)}}))}}},{key:"getGroupInfo",value:function(o0){var o1=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o2=this.store.getGroupInfo(o0);return o2 instanceof o34.default||(o2=(0,o8.default)(new o31.default,o2)),(o1||o2 instanceof o34.default)&&this._reloadGroupInfosFromRemote(o0),o2 instanceof o34.default&&this._reloadGroupMembersFromRemote(o0,this.store.getGroupMemberMaxDt(o0)),o2}},{key:"getGroupInfoEx",value:function(o0){var o1=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o2=arguments[2],o3=arguments[3],o4=this.store.getGroupInfo(o0);o4 instanceof o34.default||(o4=(0,o8.default)(new o31.default,o4),o2&&o2(o4)),(o1||o4 instanceof o34.default)&&this._reloadGroupInfosFromRemoteEx((function(o0){o2&&o2((0,o8.default)(new o31.default,o0[0]))}),o3,[o0]),o4 instanceof o34.default&&this._reloadGroupMembersFromRemote(o0,this.store.getGroupMemberMaxDt(o0))}},{key:"getGroupInfos",value:function(){var o0=this,o1=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],o2=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o3=[],o4=[];if(o1.forEach((function(o1){var o5=o0.store.getGroupInfo(o1);(o5 instanceof o34.default||o2)&&o4.push(o1),o5 instanceof o34.default||(o5=(0,o8.default)(new o31.default,o5)),o3.push(o5)})),o4.length>0&&(this._reloadGroupInfosFromRemote.apply(this,o4),o4.length<=50)){var o5=!0,o6=!1,o7=void 0;try{for(var o9,o10=(0,o11.default)(o4);!(o5=(o9=o10.next()).done);o5=!0){var o12=o9.value;this._reloadGroupMembersFromRemote(o12,this.store.getGroupMemberMaxDt(o12))}}catch(o0){o6=!0,o7=o0}finally{try{!o5&&o10.return&&o10.return()}finally{if(o6)throw o7}}}return o3}},{key:"addGroupMembers",value:function(o0,o1,o2,o3,o4,o5,o6){var o7=this;if(!o0||!o1||0===o1.length||!o3||0===o3.length)return this.log("addGroupMembers params invalid"),void(o6&&o6(-1));var o8=o68.create();o8.groupId=o0,o1.forEach((function(o0){var o1=o82.create();o1.memberId=o0,o1.type=o33.default.Normal,o8.addedMember.push(o1)})),o8.toLine=o3,o8.extra=o2,o8.notifyContent=this._toProtoMessageContent(o4),this._publish("GAM",o68.encode(o8).finish(),(function(o2,o3){if(0===o2){var o4=[];(new Date).getTime();o1.forEach((function(o1){var o2=new o32.default;o2.groupId=o0,o2.type=o33.default.Normal,o2.memberId=o1,o2.updateDt=0,o2.createDt=0,o4.push(o2)})),o7.store.updateGroupMembers(o0,o4)}o7._generalOperationCallback(o2,o5,o6)}))}},{key:"getGroupMemberIds",value:function(o0){var o1=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o2=this.store.getGroupMemberIds(o0,o1);return(0===o2.length||o1)&&this._reloadGroupMembersFromRemote(o0,this.store.getGroupMemberMaxDt(o0)),o2}},{key:"getGroupMembers",value:function(o0){var o1=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o2=this.store.getGroupInfo(o0),o3=this.store.getGroupMemberMaxDt(o0);if(o2 instanceof o34.default)return this._reloadGroupInfosFromRemote(o0),this._reloadGroupMembersFromRemote(o0,o3),null;var o4=this.store.getGroupMembers(o0);return(0===o4.length||o1)&&this._reloadGroupMembersFromRemote(o0,o3),(o4=o4.map((function(o0){return(0,o8.default)(new o32.default,o0)}))).sort(this._compareGroupMember)}},{key:"getGroupMembersByType",value:function(o0,o1){var o2=this.getGroupMembers(o0);return 0===o2.length&&this._reloadGroupMembersFromRemote(o0,o15.default.ZERO),o2.filter((function(o0){return o0.type===o1})).map((function(o0){return(0,o8.default)(new o32.default,o0)}))}},{key:"_compareGroupMember",value:function(o0,o1){return o0.type===o1.type?(0,o16.numberValue)(o0.updateDt)-(0,o16.numberValue)(o1.updateDt):4===o0.type?-1:4===o1.type?1:o1.type-o0.type}},{key:"getGroupMembersEx",value:function(o0){var o1=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o2=arguments[2],o3=arguments[3],o4=this.store.getGroupMembers(o0),o5=this.store.getGroupMemberMaxDt(o0);0===o4.length||o1?this._reloadGroupMembersFromRemoteEx(o0,o5,o2,o3):(o4=o4.map((function(o0){return(0,o8.default)(new o32.default,o0)})),o2&&o2(o4.sort(this._compareGroupMember)),o1&&this._reloadGroupMembersFromRemoteEx(o0,o5))}},{key:"getGroupMember",value:function(o0,o1){if(this.store.getGroupInfo(o0)instanceof o34.default)return this._reloadGroupInfosFromRemote(o0),this._reloadGroupMembersFromRemote(o0,this.store.getGroupMemberMaxDt(o0)),null;var o2=this.store.getGroupMember(o0,o1);return o2?o2=(0,o8.default)(new o32.default,o2):this._reloadGroupMembersFromRemote(o0,this.store.getGroupMemberMaxDt(o0)),o2}},{key:"kickoffGroupMembers",value:function(o0,o1,o2,o3,o4,o5){var o6=this,o7=o105.create();o7.groupId=o0,o7.removedMember=o1,o7.toLine=o2,o7.notifyContent=this._toProtoMessageContent(o3),this._publish("GKM",o105.encode(o7).finish(),(function(o2,o3){0===o2&&o6.store.removeGroupMembers(o0,o1),o6._generalOperationCallback(o2,o4,o5)}))}},{key:"muteOrAllowGroupMembers",value:function(o0,o1,o2,o3,o4,o5,o6,o7){var o8=this,o9=o108.create();o9.type=o1?1:0,o9.groupId=o0,o9.userId=o3,o9.toLine=o4,o9.notifyContent=this._toProtoMessageContent(o5),this._publish(o2?"GMAL":"GMM",o108.encode(o9).finish(),(function(o4,o5){0===o4?(o8.store.updateGroupMemberMuteOrAllow(o0,o3,o1,o2),o6&&o6(),o8.log("mute group member success",o0,o3)):(o8.log("mute group member error",o4),o7&&o7(o4))}))}},{key:"quitGroup",value:function(o0,o1,o2,o3,o4){var o5=this,o6=o104.create();o6.groupId=o0,o6.toLine=o1,o6.notifyContent=this._toProtoMessageContent(o2),this._publish("GQ",o104.encode(o6).finish(),(function(o1,o2){0===o1&&(o5.store.removeGroupAndMembers(o0),o5.store.removeGroupSettings(o0),o5.store.removeFavGroup(o0)),o5._generalOperationCallback(o1,o3,o4)}))}},{key:"dismissGroup",value:function(o0,o1,o2,o3,o4){var o5=this,o6=o73.create();o6.groupId=o0,o6.toLine=o1,o6.notifyContent=this._toProtoMessageContent(o2),this._publish("GD",o73.encode(o6).finish(),(function(o1,o2){0===o1?(o5.store.removeGroupAndMembers(o0,o5.serverConfigs.isKeepMsgAfterDismiss),o5.store.removeGroupSettings(o0),o5.store.removeFavGroup(o0),o5.serverConfigs.isKeepMsgAfterDismiss||o5.store.removeConversation(new o28.default(o29.default.Group,o0,0),!0),o3&&o3()):o4&&o4(o1)}))}},{key:"modifyGroupInfo",value:function(o0,o1,o2,o3,o4,o5,o6){var o7=this,o8=o92.create();o8.groupId=o0,o8.toLine=o3,o8.type=o1,o8.value=o2+"",o8.notifyContent=this._toProtoMessageContent(o4),this._publish("GMI",o92.encode(o8).finish(),(function(o0,o1){o7._generalOperationCallback(o0,o5,o6)}))}},{key:"modifyGroupAlias",value:function(o0,o1,o2,o3,o4,o5){var o6=this,o7=o93.create();o7.groupId=o0,o7.alias=o1,o7.toLine=o2,o7.notifyContent=this._toProtoMessageContent(o3),this._publish("GMA",o93.encode(o7).finish(),(function(o0,o1){o6._generalOperationCallback(o0,o4,o5)}))}},{key:"modifyGroupMemberAlias",value:function(o0,o1,o2,o3,o4,o5,o6){var o7=this,o8=o93.create();o8.groupId=o0,o8.memberId=o1,o8.alias=o2,o8.toLine=o3,o8.notifyContent=this._toProtoMessageContent(o4),this._publish("GMMA",o93.encode(o8).finish(),(function(o3,o4){0===o3&&o7.store.updateGroupMemberAlias(o0,o1,o2),o7._generalOperationCallback(o3,o5,o6)}))}},{key:"modifyGroupMemberExtra",value:function(o0,o1,o2,o3,o4,o5,o6){var o7=this,o8=o94.create();o8.groupId=o0,o8.memberId=o1,o8.extra=o2,o8.toLine=o3,o8.notifyContent=this._toProtoMessageContent(o4),this._publish("GMME",o94.encode(o8).finish(),(function(o3,o4){0===o3&&o7.store.updateGroupMemberExtra(o0,o1,o2),o7._generalOperationCallback(o3,o5,o6)}))}},{key:"transferGroup",value:function(o0,o1,o2,o3,o4,o5){var o6=this,o7=o109.create();o7.groupId=o0,o7.newOwner=o1,o7.toLine=o2,o7.notifyContent=this._toProtoMessageContent(o3),this._publish("GTG",o109.encode(o7).finish(),(function(o0,o1){o6._generalOperationCallback(o0,o4,o5)}))}},{key:"setGroupRemark",value:function(o0,o1,o2,o3){var o4=this;this.setUserSetting(o37.default.GroupRemark,o0,o1,(function(){o2&&o2();var o3=new o41.default;o3.scope=o37.default.GroupRemark,o3.key=o0,o3.value=o1,o3.updateDt=(new Date).getTime(),o4.store.settings.push(o3),o4.onSettingUpdate([o3])}),o3)}},{key:"getGroupRemark",value:function(o0){return this.getUserSetting(o37.default.GroupRemark,o0)}},{key:"getFavGroups",value:function(){return this.store.getFavGroups()}},{key:"isFavGroup",value:function(o0){return this.store.isFavGroup(o0)}},{key:"setFavGroup",value:function(o0,o1,o2,o3){this._updateUserSetting(o37.default.FavoriteGroup,o0,o1?"1":"0",o2,o3)}},{key:"getMyGroups",value:function(o0,o1){var o2=this;this._publish("GMGS",null,(function(o3,o4){o2._generalStringListCallback(o3,o4,o0,o1)}))}},{key:"getCommonGroups",value:function(o0,o1,o2){var o3=this,o4=o84.create();o4.id=o0,this._publish("GCGS",o84.encode(o4).finish(),(function(o0,o4){o3._generalStringListCallback(o0,o4,o1,o2)}))}},{key:"getFavUsers",value:function(){return this.store.getFavUsers()}},{key:"isFavUser",value:function(o0){return this.store.isFavUser(o0)}},{key:"setFavUser",value:function(o0,o1,o2,o3){this._updateUserSetting(o37.default.FavoriteUser,o0,o1?"1":"0",o2,o3)}},{key:"getUserSetting",value:function(o0,o1){return this.store.getUserSetting(o0,o1)}},{key:"getUserSettings",value:function(o0){return this.store.getUserSettings(o0)}},{key:"setUserSetting",value:function(o0,o1,o2,o3,o4){this._updateUserSetting(o0,o1,o2,o3,o4)}},{key:"modifyMyInfo",value:function(o0,o1,o2){var o3=this,o4=o112.create();o4.entry=o0,this._publish("MMI",o112.encode(o4).finish(),(function(o0,o4){o3._generalOperationCallback(o0,o1,o2)}))}},{key:"isGlobalSlient",value:function(){var o0=this.store.getUserSetting(o37.default.GlobalSilent,"");return!!o0&&"1"===o0.value}},{key:"setGlobalSlient",value:function(o0,o1,o2){this._updateUserSetting(o37.default.GlobalSilent,"",o0?"1":"0",(function(){o1&&o1()}),(function(o0){o2&&o2(o0)}))}},{key:"isHiddenNotificationDetail",value:function(){var o0=this.store.getUserSetting(o37.default.HiddenNotificationDetail,"");return!!o0&&"1"===o0.value}},{key:"setHiddenNotificationDetail",value:function(o0,o1,o2){this._updateUserSetting(o37.default.HiddenNotificationDetail,"",o0?"1":"0",(function(){o1&&o1()}),(function(o0){o2&&o2(o0)}))}},{key:"isHiddenGroupMemberName",value:function(o0){var o1=this.store.getUserSetting(o37.default.GroupHideNickname,o0);return!!o1&&"1"===o1.value}},{key:"setHiddenGroupMemberName",value:function(o0,o1,o2,o3){this._updateUserSetting(o37.default.GroupHideNickname,o0,o1?"1":"0",(function(){o2&&o2()}),(function(o0){o3&&o3(o0)}))}},{key:"joinChatroom",value:function(o0,o1,o2){var o3=this,o4=o84.create();o4.id=o0,this._publish("CRJ",o84.encode(o4).finish(),(function(){var o4=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-2;0===o4?(o3.chatRoomMsgHead=o15.default.ZERO,o3.currentChatRoomId=o0,o1&&o1(),o3._pullMessages(o15.default.MAX_VALUE,1,!1)):o2&&o2(o4)}))}},{key:"quitChatroom",value:function(o0,o1,o2){var o3=o84.create();o3.id=o0,this.currentChatRoomId="",this._publish("CRQ",o84.encode(o3).finish(),(function(){var o0=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-2;0===o0?o1&&o1():o2&&o2(o0)}))}},{key:"getChatroomInfo",value:function(o0,o1,o2,o3){var o4=this,o5=o116.create();o5.chatroomId=o0,o5.updateDt=o15.default.fromValue(o1),this._publish("CRI",o116.encode(o5).finish(),(function(){var o1=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-2,o5=arguments[1];if(0===o1&&o5){if(o2){var o6=o114.decode(o5);o4.log("getChatroomInfo result",o6);var o7=(0,o8.default)(new o46.default,o6);o7.chatRoomId=o0,o42.default.urlRedirect&&(o7.portrait=o42.default.urlRedirect(o7.portrait)),o2(o7)}}else o3&&o3(o1)}))}},{key:"getChatroomMemberInfo",value:function(o0,o1,o2,o3){var o4=this,o5=o117.create();o5.chatroomId=o0,o5.maxCount=o1||10,this._publish("CRMI",o117.encode(o5).finish(),(function(){var o0=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-2,o1=arguments[1];if(0===o0&&o1){if(o2){var o5=o115.decode(o1);o4.log("getChatroomMemberInfo result",o5);var o6=(0,o8.default)(new o27.default,o5);o2(o6)}}else o3&&o3(o0)}))}},{key:"createChannel",value:function(o0,o1,o2,o3,o4,o5,o6){var o7=o90.create();o7.name=o0,o7.portrait=o1,o7.desc=o3,o7.extra=o4,this._publish("CHC",o90.encode(o7).finish(),(function(){var o0=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-2;0===o0?o5&&o5():o6&&o6(o0)}))}},{key:"getChannelInfo",value:function(o0,o1){var o2=this.store.getChannelInfo(o0);return(o2 instanceof o47.default||o1)&&this._reloadChannelInfo(o0,o2.updateDt),o2}},{key:"_reloadChannelInfo",value:function(o0){var o1=this,o2=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o3=o120.create();o3.channelId=o0,o3.head=o15.default.fromValue(o2),this._publish("CHP",o120.encode(o3).finish(),(function(){var o0=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-2,o2=arguments[1];if(0===o0&&o2){var o3=o90.decode(o2),o4=(0,o8.default)(new o26.default,o3);o42.default.urlRedirect&&(o4.portrait=o42.default.urlRedirect(o4.portrait)),o4.menu&&(o4.menus=o4.menu.map((function(o0){return(o0=(0,o8.default)(new o58.default,o0)).subMenu&&(o0.subMenus=o0.subMenu.map((function(o0){return(0,o8.default)(new o58.default,o0)})),delete o0.subMenu),o0})),delete o4.menu),o4.channelId=o3.targetId,delete o4.targetId,o1.store.setChannelInfo(o4),o1.eventEmitter.emit(o38.default.ChannelInfosUpdate,[o4])}}))}},{key:"modifyChannelInfo",value:function(o0,o1,o2,o3,o4){var o5=this,o6=o118.create();o6.channelId=o0,o6.type=o1,o6.value=o2,this._publish("CHMI",o118.encode(o6).finish(),(function(){var o1=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-2;0===o1?(o5._reloadChannelInfo(o0),o3&&o3()):o4&&o4(o1)}))}},{key:"searchChannel",value:function(o0,o1,o2,o3){var o4=o106.create();o4.keyword=o0,o4.fuzzy=o1,o4.page=0,this._publish("CHS",o106.encode(o4).finish(),(function(){var o1=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-2,o4=arguments[1];if(0===o1&&o4){if(o2){var o5=o121.decode(o4);o2(o0,o5.entry)}}else o3&&o3(o1)}))}},{key:"isListenedChannel",value:function(o0){var o1=this.store.getUserSetting(o37.default.Listened_Channel,o0);return o1&&"1"===o1.value}},{key:"listenChannel",value:function(o0,o1,o2,o3){var o4=o119.create();o4.channelId=o0,o4.listen=o1,this._publish("CHL",o119.encode(o4).finish(),(function(){var o0=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-2;0===o0?o2&&o2():o3&&o3(o0)}))}},{key:"getMyChannels",value:function(){return this.store.getUserSettings(o37.default.My_Channel).filter((function(o0){return"1"===o0.value})).map((function(o0){return o0.key}))}},{key:"getListenedChannels",value:function(){return this.store.getUserSettings(o37.default.Listened_Channel).filter((function(o0){return"1"===o0.value})).map((function(o0){return o0.key}))}},{key:"getRemoteListenedChannels",value:function(o0,o1){var o2=this;this._publish("CHLL","",(function(){var o3=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-2,o4=arguments[1];o2._generalStringListCallback(o3,o4,o0,o1)}))}},{key:"destroyChannel",value:function(o0,o1,o2){var o3=o84.create();o3.id=o0,this._publish("CHD",o119.encode(o3).finish(),(function(){var o0=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-2;0===o0?o1&&o1():o2&&o2(o0)}))}},{key:"getConversationList",value:function(o0,o1){return this.store.getConversationList(o0,o1).map((function(o0){return(0,o60.deepAssign)(new o50.default,o0)}))}},{key:"getConversationInfo",value:function(o0){var o1=this.store.getConversationInfo(o0);return o1?o1=(0,o60.deepAssign)(new o50.default,o1):(o1=new o50.default).conversation=o0,o1}},{key:"searchConversation",value:function(o0){var o1=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,1,2],o2=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[0,1],o3=this.store.searchConversation(o0,o1,o2);return o3.map((function(o0){return(0,o60.deepAssign)(new o50.default,JSON.parse((0,o9.default)(o0)))}))}},{key:"removeConversation",value:function(o0,o1){var o2=this.getConversationInfo(o0);if(o2){this.store.removeConversation(o0,o1);var o3=(new Date).getTime();(!o2.timestamp||(0,o16.gt)(o2.timestamp,o3+72e5)||(0,o16.lte)(o2.timestamp,o3-12e4))&&(o2.timestamp=o15.default.fromValue(o3)),this._syncConversationReadDt(o0,o2.timestamp.neg())}}},{key:"setConversationTop",value:function(o0,o1,o2,o3){var o4=this,o5=o37.default.ConversationTop,o6=o0.type+"-"+o0.line+"-"+o0.target,o7=(o1>0?o1:0)+"";this._updateUserSetting(o5,o6,o7,(function(){var o3=o4.getConversationInfo(o0);o4.eventEmitter.emit(o38.default.ConversationInfoUpdate,o3),o4.store.setConversationTop(o0,o1),o2&&o2()}),(function(o0){o3&&o3(o0)}))}},{key:"setConversationSlient",value:function(o0,o1,o2,o3){var o4=this,o5=o37.default.ConversationSilent,o6=o0.type+"-"+o0.line+"-"+o0.target,o7=o1?"1":"0";this._updateUserSetting(o5,o6,o7,(function(){o4.store.setConversationSilent(o0,o1),o2&&o2();var o3=o4.getConversationInfo(o0);o4.eventEmitter.emit(o38.default.ConversationInfoUpdate,o3)}),(function(o0){o3&&o3(o0)}))}},{key:"setConversationDraft",value:function(o0){var o1=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",o2=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(o0){o1=o1||"";var o3=this.getConversationInfo(o0);o3.draft!==o1&&(this.store.setConversationDraft(o0,o1),this.eventEmitter.emit(o38.default.ConversationInfoUpdate,o3),!o2||this.isGlobalDisableDraftSync||this.isDisableSyncDraft()||this._syncDraft(o0,o1))}}},{key:"_syncDraft",value:function(o0,o1){var o2=o0.type+"-"+o0.line+"-"+o0.target,o3=this.getUserSetting(o37.default.DisableSyncDraft,o2);if(!(!!o3&&"1"===o3.value)){var o4=this.clientId+"@@@"+o1;this._updateUserSetting(o37.default.ConversationDraft,o2,o4)}}},{key:"setConversationTimestamp",value:function(o0,o1){var o2=this.store.getConversationInfo(o0);o2||(o2=this.store.genAndSaveDefaultConversationInfo(o0));var o3=(new Date).getTime();(0,o16.gt)(o1,o3+72e5)&&(o1=o3),o2.timestamp=o15.default.fromValue(o1),this.eventEmitter.emit(o38.default.ConversationInfoUpdate,o2)}},{key:"getUnreadCount",value:function(){var o0=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],o1=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0];return this.store.getUnreadCount(o0,o1)}},{key:"getConversationUnreadCount",value:function(o0){return this.store.getConversationUnreadCount(o0)}},{key:"sendConferenceRequest",value:function(o0,o1,o2,o3,o4,o5){var o6=ConferenceRequest.create();o6.sessionId=o0,o6.roomId=o1,o6.request=o2,o6.advance=o4?1:0,o6.data=o3,this._publish("CONF",ConferenceRequest.encode(o6).finish(),(function(){var o0=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-2,o1=arguments[1];if(0===o0){var o2=null;if(o1){var o3=o84.decode(o1);o2=o3.id}o5&&o5(0,o2)}else o5&&o5(o0)}))}},{key:"clearConversationUnreadStatus",value:function(o0){var o1=[];if(this.isReceiptEnable&&this.isUserReceiptEnabled()&&(o1=this.store.getUnreadMsgSenders(o0)),this.store.clearConversationUnreadStatus(o0)>0){var o2=this.getConversationInfo(o0);this.eventEmitter.emit(o38.default.ConversationInfoUpdate,o2);var o3=this.store.getConversationReadMaxDt(o0);o3.compare(o15.default.ZERO)>0&&this._syncConversationReadDt(o0,o3,o1)}}},{key:"clearMessageUnreadStatus",value:function(o0){if(this.store.clearMessageUnreadStatus(o0)){var o1=this.getConversationInfo(this.getMessageById(o0).conversation);this.eventEmitter.emit(o38.default.ConversationInfoUpdate,o1)}}},{key:"_syncConversationReadDt",value:function(o0,o1,o2,o3){var o4=this;if(o15.default.isLong(o1)){var o5=o0.type+"-"+o0.line+"-"+o0.target,o6=o95.create();o6.scope=o37.default.Conversation_Sync,o6.key=o5,o6.value=o1.toString(),o6.target=o2;var o7=o95.encode(o6).finish();o3||(o3=this.store.saveSyncReadEntry(o0.type,o0.target,o0.line,o1,o2)),this._publish("UP",o7,(function(o0,o2){if(0===o0){var o6=new o41.default;o6.scope=o37.default.Conversation_Sync,o6.key=o5,o6.value=o1.toString(),o6.updateDt=(new Date).getTime(),o4.store.updateUserSettings([o6]),o4.store.deleteSyncReadEntry(o3),o4._syncRead()}else o4.log("syncConversationReadDt error",o0)}))}else this.log("_syncConversationReadDt invalid dt",o1)}},{key:"_syncRead",value:function(){var o0=this.store.loadSyncReadEntry();if(o0){var o1=new o28.default(o0.type,o0.target,o0.line);this._syncConversationReadDt(o1,o0.readDt,o0.senders,o0.id)}}},{key:"clearAllUnreadStatus",value:function(){this.store.clearAllUnreadStatus()}},{key:"setMediaMessagePlayed",value:function(o0){if(this.store.setMediaMessagePlayed(o0)>0){var o1=this.store.getMessageById(o0);this.eventEmitter.emit(o38.default.MessageStatusUpdate,o1)}}},{key:"isMyFriend",value:function(o0){return this.store.isMyFriend(o0)}},{key:"sendFriendRequest",value:function(o0,o1,o2,o3,o4){var o5=o67.create();o5.targetUid=o0,o5.reason=o1,o5.extra=o2,this._publish("FAR",o67.encode(o5).finish(),(function(o0,o1){0===o0?o3&&o3():o4&&o4(o0)}))}},{key:"getMessages",value:function(o0,o1){var o2=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o3=arguments.length>3&&void 0!==arguments[3]?arguments[3]:20,o4=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",o5=this.store.getConversationMessages(o0,o1,o2,o3,o4);return o5.map((function(o0){return(0,o60.deepAssign)(new o21.default,o0)}))}},{key:"getMessagesV2",value:function(o0,o1){var o2=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o3=arguments.length>3&&void 0!==arguments[3]?arguments[3]:20,o4=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",o5=arguments[5],o6=arguments[6],o7=this.store.getConversationMessages(o0,o1,o2,o3,o4);this._callbackOrLoadFromRemoteMessages(o7.map((function(o0){return(0,o60.deepAssign)(new o21.default,o0)})),o5,o6)}},{key:"getMessagesEx",value:function(o0,o1,o2,o3,o4,o5,o6){return this.store.getMessagesEx(o0,o1,o2,o6).map((function(o0){return(0,o60.deepAssign)(new o21.default,o0)}))}},{key:"getMessagesExV2",value:function(o0,o1,o2,o3,o4,o5,o6,o7,o8){var o9=this.store.getMessagesEx(o0,o1,o2,o6);this._callbackOrLoadFromRemoteMessages(o9,o7,o8)}},{key:"getMessagesEx2",value:function(o0,o1,o2,o3,o4,o5,o6){return this.store.getMessagesEx2(o0,o1,o2,o6).map((function(o0){return(0,o60.deepAssign)(new o21.default,o0)}))}},{key:"getMessagesEx2V2",value:function(o0,o1,o2,o3,o4,o5,o6,o7,o8){var o9=this.store.getMessagesEx2(o0,o1,o2,o6);this._callbackOrLoadFromRemoteMessages(o9,o7,o8)}},{key:"getUserMessages",value:function(o0,o1,o2){var o3=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o4=arguments.length>4&&void 0!==arguments[4]?arguments[4]:20,o5=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",o6=this.store.getConversationMessages(o1,o2,o3,o4,o5);return o6.filter((function(o1){return o1.from===o0})).map((function(o0){return(0,o60.deepAssign)(new o21.default,o0)}))}},{key:"getUserMessagesV2",value:function(o0,o1,o2){var o3=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o4=arguments.length>4&&void 0!==arguments[4]?arguments[4]:20,o5=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",o6=arguments[6],o7=arguments[7],o8=this.store.getConversationMessages(o1,o2,o3,o4,o5);o8=o8.filter((function(o1){return o1.from===o0})).map((function(o0){return(0,o60.deepAssign)(new o21.default,o0)})),this._callbackOrLoadFromRemoteMessages(o8,o6,o7)}},{key:"getFirstUnreadMessageId",value:function(o0){return this.store.getFirstUnreadMessageId(o0)}},{key:"getUserMessagesEx",value:function(o0,o1,o2,o3){var o4=arguments.length>6&&void 0!==arguments[6]?arguments[6]:[],o5=this.store.getMessagesEx(o1,o2,o4,"");return o5.filter((function(o1){return o1.from===o0})).map((function(o0){return(0,o60.deepAssign)(new o21.default,o0)}))}},{key:"getUserMessagesExV2",value:function(o0,o1,o2,o3){var o4=arguments.length>6&&void 0!==arguments[6]?arguments[6]:[],o5=arguments[7],o6=arguments[8],o7=this.store.getMessagesEx(o1,o2,o4,"");o7=o7.filter((function(o1){return o1.from===o0})).map((function(o0){return(0,o60.deepAssign)(new o21.default,o0)})),this._callbackOrLoadFromRemoteMessages(o7,o5,o6)}},{key:"getFirstUnreadMessageUid",value:function(o0){return this.store.getFirstUnreadMessage(o0)}},{key:"_convertAndSaveProtoMessage",value:function(o0,o1){var o2=o21.default.fromProtoMessage(o0);if(o2){var o3=o19.default.getMessageContentPersitFlag(o2.content.type);if(o1){if(81===o2.type){var o4=this.store.getMessageByUid(o15.default.fromValue(o2.content.binaryContent));o4&&o4.messageId>0&&(this.store.deleteMessageByUid(o15.default.from(o2.content.binaryContent)),this.onRemoteMessageDeleted(o4.messageUid))}80===o2.type&&this.onRecallMessage(o2.content.operatorId,o2.content.messageUid),o3===o25.default.Persist||o3===o25.default.Persist_And_Count?(o2.conversation.type===o29.default.ChatRoom?o2.messageId=this.store.genChatRoomMessageId():o2.messageId=this.store.genNormalMessageId(),this.store.saveMessage(o2)):o2.messageId=0}else-1===o3&&1==(1&o0.content.persistFlag)&&(o3=1),o2.messageId=1==(1&o3)&&o3>0?-1:0}return o2}},{key:"_loadRemoteMessagePublishCallback",value:function(){var o1=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2,o2=arguments[1],o3=arguments[2],o4=arguments[3],o5=arguments[4],o6=arguments[5],o7=arguments[6],o8=arguments[7],o9=this,o10=arguments[8],o11=arguments.length>9&&void 0!==arguments[9]?arguments[9]:0;if(this.log("loadRemoteMessages result",o1,o3,o4),0===o1&&o2){var o12=o101.decode(o2);this.log("loadRemoteMessages result data",o12);var o13=[];if(o12&&o12.message){if(o12.message.forEach((function(o1){if(!(o0.pcNotSupportMessageTypes.indexOf(o1.content.type)>-1)){var o2=o9.store.getMessageByUid(o1.messageId),o4=o9._convertAndSaveProtoMessage(o1,o3);o4&&(o4.messageContent.type===o22.default.VOIP_CONTENT_TYPE_ACCEPT&&o8&&o4.messageContent.type===o22.default.VOIP_CONTENT_TYPE_END&&o10||o2&&o7||o13.push(o2||o4),[o22.default.VOIP_CONTENT_TYPE_START,o22.default.VOIP_CONTENT_TYPE_ACCEPT,o22.default.VOIP_CONTENT_TYPE_END].indexOf(o4.messageContent.type)>=0&&o9.updateCallStartMessage(o4))}})),o4&&o13.length>0)for(var o14=0;o14<o13.length;o14++){var o15=o13[o14],o17=o19.default.getMessageContentPersitFlag(o15.messageContent.type);if(o17===o25.default.Persist||o17===o25.default.Persist_And_Count){var o18=o15.conversation,o20=this.store.getConversationInfo(o18);o20||(o20=this.store.genAndSaveDefaultConversationInfo(o18)),o20.lastMessage&&o20.lastMessage.timestamp&&!(0,o16.gt)(o15.timestamp,o20.lastMessage.timestamp)||(o20.lastMessage=o15,o20.timestamp=o15.timestamp,this.eventEmitter.emit(o38.default.ConversationInfoUpdate,o20));break}}o5&&(o13=o13.reverse().map((function(o0){return(0,o60.deepAssign)(new o21.default,o0)})),o5(o13,o11>0?o12.message.length>o11:o12.message.length>0))}else o6&&o6(-1)}else o6&&o6(o1)}},{key:"loadRemoteLineMessages",value:function(o0,o1){var o2=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o3=arguments.length>3&&void 0!==arguments[3]?arguments[3]:20,o4=this,o5=arguments[4],o6=arguments[5],o7=o15.default.fromValue(o2);o7.eq(o15.default.ZERO)&&(o7=o15.default.MAX_VALUE);var o8=o88.create();o8.line=o0,o8.count=o3,o8.beforeUid=o7,o1||(o1=[]);var o9=!0,o10=!0;o1.indexOf(o22.default.VOIP_CONTENT_TYPE_START)&&(o1.indexOf(o22.default.VOIP_CONTENT_TYPE_END)?o9=!1:o1.push(o22.default.VOIP_CONTENT_TYPE_END),o1.indexOf(o22.default.VOIP_CONTENT_TYPE_ACCEPT)?o10=!1:o1.push(o22.default.VOIP_CONTENT_TYPE_ACCEPT)),o8.contentType=o1,this._publish("LLM",o88.encode(o8).finish(),(function(){var o0=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-2,o1=arguments[1];o4._loadRemoteMessagePublishCallback(o0,o1,!1,!1,o5,o6,!1,o9,o10,o3)}))}},{key:"loadRemoteMessages",value:function(o0,o1){var o2=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o3=arguments.length>3&&void 0!==arguments[3]?arguments[3]:20,o4=arguments[4],o5=this,o6=arguments[5],o7=!(arguments.length>6&&void 0!==arguments[6])||arguments[6],o8=o15.default.fromValue(o2);o8.eq(o15.default.ZERO)&&(o8=o15.default.MAX_VALUE);var o9=this.store.getConversationInfo(o0);if(o9&&o9.lastMessage&&o9.lastMessage.messageUid&&o8.neq(o15.default.MAX_VALUE)&&o15.default.fromValue(o9.lastMessage.messageUid).compare(o8)<0)return this.log("the start message is exits",o9.lastMessage.toString(),o8.toString()),void(o6&&o6(-2));var o10=o87.create();o10.conversation=this._toProtoConversation(o0),o1||(o1=[]);var o11=!0,o12=!0;o1.indexOf(o22.default.VOIP_CONTENT_TYPE_START)&&(o1.indexOf(o22.default.VOIP_CONTENT_TYPE_END)?o11=!1:o1.push(o22.default.VOIP_CONTENT_TYPE_END),o1.indexOf(o22.default.VOIP_CONTENT_TYPE_ACCEPT)?o12=!1:o1.push(o22.default.VOIP_CONTENT_TYPE_ACCEPT)),o10.contentType=o1,o10.beforeUid=o8,o10.count=o3,this.log("loadRemoteMessages request",o0,o8.toString(),o10),this._publish("LRM",o87.encode(o10).finish(),(function(){var o0=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-2,o2=arguments[1];o5._loadRemoteMessagePublishCallback(o0,o2,0===o1.length,0===o1.length,o4,o6,o7,o11,o12,o3)}))}},{key:"loadRemoteMessage",value:function(o0,o1,o2){var o3=this;if(o0){var o4=o86.create();o4.id=o15.default.fromValue(o0),this._publish("LROM",o86.encode(o4).finish(),(function(){var o0=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-2,o4=arguments[1];o3._loadRemoteMessagePublishCallback(o0,o4,!1,!1,o1,o2)}))}else o2&&o2(-1)}},{key:"getMessageById",value:function(o0){var o1=this.store.getMessageById(o0);return o1=(0,o60.deepAssign)(new o21.default,o1)}},{key:"getMessageByUid",value:function(o0){var o1=this.store.getMessageByUid(o0);return o1=(0,o60.deepAssign)(new o21.default,o1)}},{key:"searchMessage",value:function(o0,o1,o2){return this.store.searchConversationMessage(o0,o1,o2).map((function(o0){return(0,o60.deepAssign)(new o21.default,o0)}))}},{key:"sendConversationMessage",value:function(o0,o1,o2,o3,o4,o5,o6){var o7=new o21.default;o0 instanceof o28.default?o7.conversation=o0:o7.conversation=new o28.default(o0.type,o0.target,o0.line),o7.messageContent=o1,this.sendMessageEx(o7,o2,o3,o4,o5,o6)}},{key:"sendSavedMessage",value:function(o0,o1,o2,o3){var o4=o0.messageId;if(!(o0=this.store.getMessageById(o4)))return this.error("saved message not found",o4),void(o3&&o3(-1));this._sendMessageInternal(o0,[],o2,o3)}},{key:"sendMessage",value:function(o0,o1,o2,o3,o4){this.sendMessageEx(o0,[],o1,o2,o3,o4)}},{key:"sendMessageEx",value:function(o0){var o1=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],o2=arguments[2],o3=arguments[3],o4=this,o5=arguments[4],o6=arguments[5],o7=void 0,o8=o15.default.fromValue((new Date).getTime()+this.getServerDeltaTime());o0.status=o23.default.Sending,o0.from=this.userId,o0.timestamp=o8,o0.content=o0.messageContent.encode();var o9=o19.default.getMessageContentPersitFlag(o0.messageContent.type);o9===o25.default.No_Persist||o9===o25.default.Transparent?(o7=0,o0.messageId=o7):(o7=o0.conversation.type===o29.default.ChatRoom?this.store.genChatRoomMessageId():this.store.genNormalMessageId(),o0.messageId=o7,this.store.saveMessage(o0),this.log("message prepared",o7,o8,o0),this.store.updateConversationLastMessage(o0)),this.eventEmitter.emit(o38.default.SendMessage,(0,o60.deepAssign)(new o21.default,o0)),o2&&(this.log("onPrepared",this.getMessageById(o7)),o2(o7,o8)),o0.messageContent instanceof o20.default?!o0.messageContent.file&&!o0.messageContent.localPath||o0.messageContent.remotePath?""!==o0.messageContent.remotePath||o0.messageContent instanceof o59.default?this._sendMessageInternal(o0,o1,o5,o6):(this.log("send media message error, filelocalPath and remoteUrl are null"),o0.status=o23.default.SendFailure,this.store.updateMessageById(o0),this.store.updateConversationLastMessage(o0),this.eventEmitter.emit(o38.default.MessageStatusUpdate,o0),o6&&o6(-1)):this.isSupportBigFilesUpload()?this._uploadFile(o0,o0.messageContent.file||o0.messageContent.localPath,o0.messageContent.name,o0.messageContent.mediaType,(function(o2){o0.messageContent.remotePath=o2,o4.log("remote Url",o2),o4.eventEmitter.emit(o38.default.MessageStatusUpdate,o0),o4._sendMessageInternal(o0,o1,o5,o6)}),(function(o1){o0.status=o23.default.SendFailure,o4.store.updateMessageById(o0),o4.store.updateConversationLastMessage(o0),o4.eventEmitter.emit(o38.default.MessageStatusUpdate,o0),o6&&o6(o1)}),(function(o0,o1){o3&&o3(o0,o1)})):this._uploadMedia(o0.messageId,o0.messageContent.name,o0.messageContent.file||o0.messageContent.localPath,o0.messageContent.mediaType,(function(o2){o0.messageContent.remotePath=o2,o4.log("remote Url",o2),o4.eventEmitter.emit(o38.default.MessageStatusUpdate,o0),o4._sendMessageInternal(o0,o1,o5,o6)}),(function(o1){o0.status=o23.default.SendFailure,o4.store.updateMessageById(o0),o4.store.updateConversationLastMessage(o0),o4.eventEmitter.emit(o38.default.MessageStatusUpdate,o0),o6&&o6(o1)}),(function(o0,o1){o3&&o3(o0,o1)})):this._sendMessageInternal(o0,o1,o5,o6)}},{key:"_sendMessageInternal",value:function(o0){var o1=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],o2=this,o3=arguments[2],o4=arguments[3],o5=this._toProtoMessage(o0);o5.to=o1,this.log("_sendMessageInternal connection status",this.connectionStatus);var o6=o89.encode(o5).finish();if(o6.byteLength>15360&&this.log(": "+o6.byteLength+"15K15K!!!"),o6.byteLength>102400)return this.error("!"),void(o4&&o4(-1));this._publish("MS",o6,(function(){var o5=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-2,o6=arguments[1];if(o2.log("_sendMessageInternal result",o5),0!==o5||!o6){if(-1===o5){var o7=o2.toRetryMsgMap.get(o0.messageId);if(!o7)return o7={message:o0,toUsers:o1,successCB:o3,failCB:o4,tryCount:1,timestamp:(new Date).getTime()},void o2.toRetryMsgMap.set(o0.messageId,o7);if(o7.tryCount<3)return}return o2.toRetryMsgMap.delete(o0.messageId),o2.log("send message error",o5),o0.status=o23.default.SendFailure,o2.store.updateMessageById(o0),o2.store.updateConversationLastMessage(o0),o2.eventEmitter.emit(o38.default.MessageStatusUpdate,o0),void(o4&&o4(o5))}o2.toRetryMsgMap.delete(o0.messageId);var o8=new o15.default(0),o9=new o15.default(0);16===o6.length?(o8=o15.default.fromBytesBE(o6.slice(0,8),!0),o9=o15.default.fromBytesBE(o6.slice(8,16),!0),o0.messageUid=o8,o0.timestamp=o9,o0.status=o23.default.Sent,o0.direction=0,o0.from=o2.userId,o2.store.updateMessageById(o0),o2.store.updateConversationLastMessage(o0),o2.eventEmitter.emit(o38.default.MessageStatusUpdate,o0),o3&&o3(o8,o9)):(o0.status=o23.default.SendFailure,o2.store.updateMessageById(o0),o2.store.updateConversationLastMessage(o0),o2.log("ms reponse length error"),o2.eventEmitter.emit(o38.default.MessageStatusUpdate,o0),o4&&o4(-100001))}))}},{key:"cancelSendingMessage",value:function(o0){if(o0<=0)return!1;var o1=this.uploadingMap.get(o0);if(o1){try{o1.abort()}catch(o0){this.log(o0)}return!0}return!1}},{key:"recallMessage",value:function(o0,o1,o2){var o3=this,o4=o86.create();o4.id=o15.default.fromValue(o0),this._publish("MR",o86.encode(o4).finish(),(function(o4,o5){0===o4?(o1&&o1(),o3.onRecallMessage(o3.getUserId(),o0)):o2&&o2(o4)}))}},{key:"deleteMessageById",value:function(o0){var o1=this.store.deleteMessageById(o0);return o1&&this.onMessageDeleted(o0),o1}},{key:"deleteRemoteMessage",value:function(o0,o1,o2){var o3=this,o4=o86.create();o4.id=o15.default.fromValue(o0),this._publish("MD",o86.encode(o4).finish(),(function(o4,o5){0===o4?(o1&&o1(),o3.onRemoteMessageDeleted(o0)):o2&&o2(o4)}))}},{key:"clearMessages",value:function(o0,o1){void 0===o1&&(o1=o15.default.MAX_VALUE),this.store.clearConversationMessages(o0,o1);var o2=this.getConversationInfo(o0);this.eventEmitter.emit(o38.default.ConversationInfoUpdate,o2)}},{key:"clearRemoteConversationMessages",value:function(o0,o1,o2){var o3=this,o4=this._toProtoConversation(o0);this._publish("CMD",o71.encode(o4).finish(),(function(o4,o5){0===o4?(o3.clearMessages(o0),o1&&o1()):o2&&o2(0===o4?-1:o4)}))}},{key:"insertMessage",value:function(o0,o1){var o2=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o23.default.Sent,o3=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o4=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o5=new o21.default(o0,o1);if(o5.status=o2,o5.direction=0,o2>=o23.default.Mentioned?(o5.direction=1,o0.type===o29.default.Single?o5.from=o0.target:o5.from=this.userId):o5.from=this.userId,o5.timestamp=o15.default.fromValue(o4||(new Date).getTime()),o0.type===o29.default.ChatRoom)o5.messageId=this.store.genChatRoomMessageId();else o5.messageId=this.store.genNormalMessageId();return this.store.insertConversationMessages([o5]),o3&&this.eventEmitter.emit(o38.default.ReceiveMessage,o5),o5}},{key:"isUserReceiptEnabled",value:function(){return"1"!==this.getUserSetting(o37.default.DisableReceipt,"")}},{key:"isGlobalDisableSyncDraft",value:function(){return this.isGlobalDisableDraftSync}},{key:"setDisableSyncDraft",value:function(o0,o1,o2){this._updateUserSetting(o37.default.DisableSyncDraft,"",o0?"1":"0",o1,o2)}},{key:"isDisableSyncDraft",value:function(){return"1"!==this.getUserSetting(o37.default.DisableSyncDraft,"")}},{key:"setUserEnableReceipt",value:function(o0,o1,o2){this._updateUserSetting(o37.default.DisableReceipt,"",o0?"0":"1",o1,o2)}},{key:"updateMessageStatus",value:function(o0,o1){var o2=this.store.getMessageById(o0);0!==o2.messageId&&(o2.status=o1,this.store.updateMessageById(o2))}},{key:"updateMessageContent",value:function(o0,o1){var o2=this.store.getMessageById(o0);0!==o2.messageId&&(o2.messageContent=o1,this.store.updateMessageById(o2))}},{key:"updateMessageContentByUid",value:function(o0,o1){var o2=this.store.getMessageByUid(o0);o2&&0!==o2.messageId&&(o2.messageContent=o1,this.store.updateMessageById(o2))}},{key:"updateRemoteMessageContent",value:function(o0,o1,o2,o3,o4,o5){var o6=this,o7=o139.create();o7.messageId=o15.default.fromValue(o0),o7.content=this._toProtoMessageContent(o1),o7.distribute=o2,this._publish("MCU",o139.encode(o7).finish(),(function(o2,o7){0===o2?(o3&&o6.updateMessageContentByUid(o0,o1),o4&&o4()):o5&&o5(o2)}))}},{key:"_uploadXMLHttpRequest",value:function(o0,o1,o2,o3,o4,o5){var o6=this,o7=new XMLHttpRequest;return o7.upload.onprogress=function(o0){var o1=o0.loaded,o2=o0.total;o3(o1,o2)},o7.onreadystatechange=function(o3){o6.log("onr",o7.readyState,o7.status,o3),4===o7.readyState&&(200===o7.status?(o6.log("upload file success",o1,o2),o4(o2)):(o6.log("upload file error",o7.status),o5&&o5(-1)),o0&&o0.messageId>0&&o6.uploadingMap.delete(o0.messageId))},o7.onerror=function(o1){o6.log("upload file error",o1),o5&&o5(-1),o0&&o0.messageId>0&&o6.uploadingMap.delete(o0.messageId)},o0&&o0.messageId>0&&this.uploadingMap.set(o0.messageId,o7),o7}},{key:"_uploadFile",value:function(o0,o1,o3,o4,o5,o6,o7){var o8=this;console.log("upload big file");var o9=void 0,o10=(Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15)).substring(0,12);(o3&&""!==o3?(o9=o3,o3=o10):o9=o3=o10,-1!==o9.indexOf("."))&&(o3+=o9.substring(o9.lastIndexOf(".")));if(-1===o3.indexOf("."))switch(o4){case 1:case 5:o3+=".jpg";break;case 2:o3+=".mp3";break;case 3:o3+=".mp4"}this.log("upload fileName",o9,o3,o4);var o11=this._getContentType(o4,o9);this.getUploadMediaUrl(o3,o4,o11,(function(o3,o4,o10,o12,o13){console.log("uploadUrl",o3,o4,o10,o12,o13,"---end");var o14=o8._platformOptions(o8.platformName).mp,o15=void 0;if(0===o12);else if(1===o12){var o16=o3.split("?"),o17=o16[0],o18=o16[1],o19=o16[2],o20={"content-disposition":'attachment; filename="'+encodeURI(o9)+'"',"content-type":o11};o15=o14.uploadFile({url:o17,filePath:o1,name:"file",formData:{token:o18,key:o19,file:o1},header:o20,success:function(o1){o0&&o0.messageId>0&&o142.uploadingMap.delete(o0.messageId),o5&&o5(o4)},fail:function(){o0&&o0.messageId>0&&o142.uploadingMap.delete(o0.messageId),o6(-1)}})}else{var o21={"content-disposition":'attachment; filename="'+encodeURI(o9)+'"',"content-type":o11};o3.startsWith("http")||(o3="https://"+o3);var o22=o3.split("?")[1],o23={};o22&&o22.split("&").forEach((function(o0){var o1=o0.split("="),o3=(0,o2.default)(o1,2),o4=o3[0],o5=o3[1];o23[decodeURIComponent(o4)]=decodeURIComponent(o5)})),console.log("xxxxxxxxxx",o23),o15=o14.uploadFile({url:o3.substring(0,o3.indexOf("?")),filePath:o1,name:"file",formData:{key:o13,"X-Amz-Algorithm":o23["x-amz-algorithm"],"X-Amz-Credential":o23["x-amz-credential"],"X-Amz-Date":o23["x-amz-date"],"X-Amz-Expires":o23["x-amz-expires"],"X-Amz-SignedHeaders":o23["x-amz-signedHeaders"],"X-Amz-Signature":o23["x-amz-signature"],Policy:o23.policy},header:o21,success:function(o1){o0&&o0.messageId>0&&o142.uploadingMap.delete(o0.messageId),o5&&o5(o4)},fail:function(){o0&&o0.messageId>0&&o142.uploadingMap.delete(o0.messageId),o6(-1)}})}o0&&o0.messageId>0&&o8.uploadingMap.set(o0.messageId,o15),o15.onProgressUpdate((function(o0){o7&&o7(o0.totalBytesSent,o0.totalBytesExpectedToSend)}))}),(function(o0){o8.log("getUploadMediaUrl e",o0)}))}},{key:"uploadMedia",value:function(o0,o1,o2,o3,o4,o5){this.isSupportBigFilesUpload()?this._uploadFile(null,o1,o0,o2,o5,o3,o4):this._uploadMedia(0,o0,o1,o2,o3,o4,o5)}},{key:"_uploadMedia",value:function(o0,o2,o3,o4,o5,o6,o7){var o8=this,o9=void 0,o10=(Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15)).substring(0,12);if(o2&&""!==o2?(o9=encodeURIComponent(o2),o2=o10):o9=o2=o10,-1===o2.indexOf("."))switch(o4){case 1:case 5:o2+=".jpg";break;case 2:o2+=".mp3";break;case 3:o2+=".mp4"}this.log("upload fileName",o2,o4);var o11=o2.substring(o2.lastIndexOf("."));-1===o9.indexOf(".")&&(o9+=o11);var o12=(0,o53.btoa)(this.userId)+"-"+o4+"-"+Math.round((new Date).valueOf()/1e3)+"-"+o2,o13=this._getContentType(o4,o9),o14=o78.create();o14.mediaType=o4,o14.mediaPath=o12,o14.contentType=o13,this._publish("GMUT",o78.encode(o14).finish(),(function(o4,o10){if(o8.log("get upload token",o4,o10),0===o4){var o11=o76.decode(o10);o8.log("getUploadToken result",o11);var o14=void 0;if(0===o11.type||4===o11.type)o14="/fs";else if(3===o11.type){var o15=o11.path+"/"+o12;o14="/fs/"+(o15=(0,o17.AESEncrypt)(o15))}else 2===o11.type&&(o12=encodeURI(o12)),o14="/"+o12;o8.log("upload media cgi",o14,o11);var o16=void 0,o18=void 0,o19=void 0;2===o8.backupAddressStrategy&&o11.backupServer?(o16=o11.backupServer,o19=443===(o19=o11.backupSslPort)?"":":"+o19,o18=80===(o18=o11.backupPort)?"":":"+o18):(o16=o11.server,o19="",o11.sslPort&&443!==o11.sslPort&&(o19=":"+o11.sslPort),o18=80!==o11.port?":"+o11.port:"");var o20=void 0;o20=o42.default.USE_WSS?"https://"+o16+o19+o14:"http://"+o16+o18+o14,o8.log("media server",o20);var o21=o8._platformOptions(o8.platformName).mp;if(o11.type<2){var o22=null;0!==o11.type&&(o22={"content-disposition":'attachment; filename="'+encodeURI(o9)+'"',"content-type":o13});var o23=o21.uploadFile({url:o20,filePath:o3,name:"file",formData:{token:o11.token,key:o2},header:o22,success:function(o1){o142.uploadingMap.delete(o0);var o2=o1.data,o3=JSON.parse(o2);o5&&o5(o11.domain+"/"+o3.key)},fail:function(){o142.uploadingMap.delete(o0),o6(-1)}});o23.onProgressUpdate((function(o0){o7&&o7(o0.totalBytesSent,o0.totalBytesExpectedToSend)})),o142.uploadingMap.set(o0,o23)}else{var o24={Authorization:o42.default.USE_WSS&&o11.sslToken?o11.sslToken:o11.token,"content-disposition":'attachment; filename="'+encodeURI(o9)+'"'};2===o11.type?(o24["Content-Type"]=o13,o24["x-oss-date"]=o11.date):(o24["Content-Type"]=o13,o24["x-amz-date"]=o11.date,o24["x-wfc-cid"]=(0,o17.AESEncrypt)(o8.clientId),o24["x-wfc-uid"]=(0,o17.AESEncrypt)(o8.userId));var o25=o8.log;o21.getFileSystemManager().readFile({filePath:o3,success:function(o2){var o3=void 0;if(o25("read file success",o2),3===o11.type){if(o2.data.size>104857600)return void(o6&&(o25("upload media size too large",o2.data.size),o6(-1)));var o4=new Uint8Array(o2.data);o3=new o1((0,o17.AESEncrypt)(o4,o142.privateSecret),"base64"),o24["x-wfc-size"]=o2.data.byteLength,o3=o3.buffer,o25("encrypt success",o3)}else o3=o2.data;o25("upload header",o24);var o8=o21.request({url:o20,method:"PUT",data:o3,header:o24,timeout:2e5,success:function(o1){o142.uploadingMap.delete(o0),o25("upload ",o1),o5&&o5(o11.domain+"/"+o12)},fail:function(o1){o142.uploadingMap.delete(o0),o25("upload fail",o1)}});o8.onProgressUpdate((function(o0){o7&&o7(o0.totalBytesSent,o0.totalBytesExpectedToSend)})),o142.uploadingMap.set(o0,o8)},fail:function(o0){o25("read file fail",o0)}})}}else o6&&o6(o4)})),this.log("upload-----------")}},{key:"getAuthorizedMediaUrl",value:function(o0,o1,o2,o3,o4){var o5=o78.create();o5.mediaType=o1,o5.mediaPath=o2,o5.messageId=o0,this._publish("GMDT",o78.encode(o5).finish(),(function(o0,o1){if(0===o0&&o1){var o2=o84.decode(o1);o3&&o3(o2.id)}else o4&&o4(0===o0?-1:o0)}))}},{key:"isSupportBigFilesUpload",value:function(){return this.serverConfigs.isSupportBigFileUpload}},{key:"getUploadMediaUrl",value:function(o0,o1,o2,o3,o4){var o5=o78.create(),o6=(0,o53.btoa)(unescape(encodeURIComponent(this.userId))),o7=(o6=o6.replace(/\+/g,"-2B").replace(/\//g,"-2F").replace(/\=/g,"-3D"))+"-"+o1+"-"+Math.round((new Date).valueOf()/1e3)+"-"+Math.round(1e8*Math.random()),o8=o0.lastIndexOf(".");o0=encodeURIComponent(o0),o8>0&&(o7+=o0.substring(o8)),o5.mediaType=o1,o5.mediaPath=o7,o5.contentType=o2||"application/octet-stream",this._publish("GMPU",o78.encode(o5).finish(),(function(o0,o1){if(0===o0&&o1){var o2=o77.decode(o1);console.log("GMPU result",o2),o3&&o3(o2.presignedUrl,o2.mediaUrl,o2.backupPresignedUrl,o2.type,o7)}else o4&&o4(0===o0?-1:o0)}))}},{key:"_getContentType",value:function(o0,o1){var o2="application/octet-stream";if(o1){var o3=o1.substring(o1.lastIndexOf(".")+1);if(!o3)return o2;if(o3=o3.toLowerCase(),o61.mimeMap[o3])return o61.mimeMap[o3];"jpg"===o3||"jpeg"===o3?o2="image/jpeg":"gif"===o3?o2="image/gif":"png"===o3?o2="image/png":"mp3"===o3?o2="audio/mpeg":"mp4"===o3?o2="video/mp4":"doc"===o3?o2="application/vnd.ms-word":"docx"===o3?o2="application/vnd.openxmlformats-officedocument.wordprocessingml.document":"xls"===o3?o2="application/vnd.ms-xls":"xlsx"===o3?o2="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":"ppt"===o3?o2="application/vnd.ms-powerpoint":"pptx"===o3?o2="application/vnd.openxmlformats-officedocument.presentationml.presentation":"pps"===o3?o2="application/vnd.ms-powerpoint":"pdf"===o3?o2="application/pdf":"xml"===o3&&(o2="application/vnd.ms-xml")}else 1===o0?o2="image/jpeg":2===o0?o2="audio/amr":3===o0&&(o2="video/mp4");return o2}},{key:"_getFileRecordsCallback",value:function(o0,o1,o2,o3){if(0===o0&&o1){var o4=o126.decode(o1),o5=[];o4.record.forEach((function(o0){var o1=new o52.default;o1.conversation=new o28.default(o0.conversation.type,o0.conversation.target,o0.conversation.line),o1.messageUid=o0.messageId,o1.name=o0.name,o1.url=o0.url,o42.default.urlRedirect&&(o1.url=o42.default.urlRedirect(o0.url)),o1.size=o0.size,o1.downloadCount=o0.downloadCount,o1.userId=o0.fromUser,o1.timestamp=o0.dt,o5.push(o1)})),o2&&o2(o5)}else o3&&o3(0===o0?-1:o0)}},{key:"getConversationFileRecords",value:function(o0,o1,o2,o3,o4,o5,o6){var o7=this,o8=o124.create();o8.conversation=this._toProtoConversation(o0),o8.messageId=o15.default.fromValue(o2),o8.from=o1,o8.order=o3,o8.count=o4,this._publish("LFR",o124.encode(o8).finish(),(function(o0,o1){o7._getFileRecordsCallback(o0,o1,o5,o6)}))}},{key:"getMyFileRecords",value:function(o0,o1,o2,o3,o4){var o5=this,o6=o124.create();o6.messageId=o15.default.fromValue(o0),o6.order=o1,o6.count=o2,this._publish("LMFR",o124.encode(o6).finish(),(function(o0,o1){o5._getFileRecordsCallback(o0,o1,o3,o4)}))}},{key:"searchFiles",value:function(o0,o1,o2,o3,o4,o5,o6,o7){var o8=this,o9=o125.create();o9.keyword=o0,o9.conversation=this._toProtoConversation(o1),o9.from=o2,o9.messageId=o15.default.fromValue(o3),o9.order=o4,o9.count=o5,this._publish("SFR",o125.encode(o9).finish(),(function(o0,o1){o8._getFileRecordsCallback(o0,o1,o6,o7)}))}},{key:"searchMyFiles",value:function(o0,o1,o2,o3,o4,o5){var o6=this,o7=o125.create();o7.keyword=o0,o7.messageId=o15.default.fromValue(o1),o7.order=o2,o7.count=o3,this._publish("SFR",o125.encode(o7).finish(),(function(o0,o1){o6._getFileRecordsCallback(o0,o1,o4,o5)}))}},{key:"deleteFileRecord",value:function(o0,o1,o2){var o3=o86.create();o3.id=o15.default.fromValue(o0),this._publish("DFR",o86.encode(o3).finish(),(function(o0,o3){0===o0?o1&&o1():o2&&o2(o0)}))}},{key:"markConversationAsUnread",value:function(o0,o1){var o2=this.store.setLastReceivedMessageUnread(o0,"0","0");if(o2&&(0,o16.gt)(o2,0)&&o1){var o3=new o54.default(o2),o4=this.store.getMessageByUid(o2);return o3.timestamp=o4.timestamp,this.sendConversationMessage(o0,o3),!0}return!1}},{key:"getVersion",value:function(){return o0.version}},{key:"isUserOnlineStateEnabled",value:function(){return this.isUserOnlineStateEnable}},{key:"watchOnlineState",value:function(o0,o1,o2,o3,o4){this._watchOnlineState(o0,o1,o2,!0,o3,o4)}},{key:"_watchOnlineState",value:function(o0,o1,o2,o3,o4,o5){if(!this.isUserOnlineStateEnable)return this.error("not enable onlineState function"),void(o5&&o5(220));var o6=o128.create();o6.type=o0,o6.target=o1,o6.duration=o2,this._publish("PWT",o128.encode(o6).finish(),(function(o0,o1){if(0===o0&&o1){if(!o3)return void(o4&&o4());var o2=o129.decode(o1),o6=[];o2.notify.forEach((function(o0){var o1=new o55.default;o1.userId=o0.userId,o1.customState=new o57.default,o1.customState.state=o0.customState,o1.customState.text=o0.customText;var o2=[];o0.state.forEach((function(o0){var o1=new o56.default;o1.platform=o0.platform,o1.state=o0.state,o1.lastSeen=o0.lastSeen,o2.push(o1)})),o1.clientStates=o2,o6.push(o1)})),o4&&o4(o6)}else o5&&o5(0===o0?-1:o0)}))}},{key:"unwatchOnlineState",value:function(o0,o1,o2,o3){this._watchOnlineState(o0,o1,0,!1,o2,o3)}},{key:"setMyCustomState",value:function(o0,o1,o2,o3){var o4=o0+"-"+o1;this.setUserSetting(o37.default.CustomState,"",o4,o2,o3)}},{key:"getDomainInfo",value:function(o0){var o1=this,o2=this.store.getDomainInfo(o0);return o2.updateDt||this.reloadDomainInfoFromRemote(o0,(function(o0){o1.eventEmitter.emit(o38.default.DomainInfoUpdate,o0)}),(function(o0){})),o2}},{key:"loadRemoteDomains",value:function(o0,o1){var o2=this;this._publish("LRD","",(function(o3,o4){if(0===o3&&o4){var o5=Domains.decode(o4).domain.map((function(o0){var o1=(0,o8.default)(new o62.default,o0);return o1.updateDt=o0.dt,delete o1.dt,o2.store.setDomainInfo(o1),o1}));o0&&o0(o5)}else o1&&o1(o3)}))}},{key:"reloadDomainInfoFromRemote",value:function(o0,o1,o2){var o3=this,o4=PullDomainRequest.create();o4.domainId=o0,o4.updateDt=o15.default.ZERO,this._publish("DMP",PullDomainRequest.encode(o4).finish(),(function(o0,o4){if(0===o0&&o4){var o5=Domain.decode(o4),o6=(0,o8.default)(new o62.default,o5);o6.updateDt=o5.dt,delete o6.dt,o3.store.setDomainInfo(o6),o1&&o1(o6)}else o2&&o2(o0)}))}},{key:"requireLock",value:function(o0,o1,o2,o3){var o4=o130.create();o4.lockId=o0,o4.duration=o15.default.fromValue(o1),this._publish("SLT",o130.encode(o4).finish(),(function(o0,o1){0===o0?o2&&o2():o3&&o3(o0)}))}},{key:"releaseLock",value:function(o0,o1,o2){this.requireLock(o0,0,o1,o2)}},{key:"getShortLinkInfo",value:function(){return{server:this.imServerAddress,clientId:this.clientId,token:this.token}}},{key:"_onlineStateNotify",value:function(o0){var o1=o129.decode(o0),o2=[];o1.notify.forEach((function(o0){var o1=new o55.default;o1.userId=o0.userId,o1.customState=new o57.default,o1.customState.state=o0.customState,o1.customState.text=o0.customText;var o3=[];o0.state.forEach((function(o0){var o1=new o56.default;o1.platform=o0.platform,o1.state=o0.state,o1.lastSeen=o0.lastSeen,o3.push(o1)})),o1.clientStates=o3,o2.push(o1)})),this.eventEmitter.emit(o38.default.UserOnlineEvent,o2)}},{key:"_dataURItoBlob",value:function(o0){for(var o1=o0.split(","),o2=o1[0].match(/:(.*?);/)[1],o3=atob(o1[1]),o4=o3.length,o5=new Uint8Array(o4);o4--;)o5[o4]=o3.charCodeAt(o4);return this.log("-----------dataurltoblob",o2),new Blob([o5],{type:o2})}},{key:"_encrypt",value:function(o0){return o0?(0,o17.AESEncrypt)(o0,this.privateSecret):o0}},{key:"_decrypt",value:function(o0){return(0,o17.AESDecrypt)(o0.toString("base64"),this.privateSecret,!0)}},{key:"_decryptPublishResponse",value:function(o0){var o1=(0,o17.AESDecrypt)(o0.payload.slice(1,o0.payload.length).toString("base64"),this.privateSecret,!0);return o1||null}},{key:"_toProtoConversation",value:function(o0){if(!o0)return null;var o1=o71.create();return o1.type=o0.type,o1.target=o0.target,o1.line=o0.line,o1}},{key:"_toProtoMessage",value:function(o0){var o1=o89.create();return o1.conversation=o0.conversation,o1.fromUser=this.getUserId(),o1.content=this._toProtoMessageContent(o0.messageContent),o1}},{key:"_toProtoMessageContent",value:function(o0){if(!o0)return null;var o2=o91.create(),o3=o0.encode();return o2.content=o3.content,o2.pushContent=o3.pushContent,o2.pushData=o3.pushData,o2.searchableContent=o3.searchableContent,o3.binaryContent&&(o2.data=new o1(o3.binaryContent,"base64")),o2.type=o3.type,o2.mentionedType=o3.mentionedType,o2.mentionedTarget=o3.mentionedTargets,o2.mediaType=o3.mediaType,o2.remoteMediaUrl=o3.remoteMediaUrl,o2.persistFlag=o19.default.getMessageContentPersitFlag(o3.type),o2.extra=o0.extra,o2}},{key:"_generalOperationCallback",value:function(o0,o1,o2){0===o0?o1&&o1():o2&&o2(o0)}},{key:"_generalStringListCallback",value:function(o0,o1,o2,o3){if(0===o0){var o4=o85.decode(o1);o2&&o2(o4.id)}else o3&&o3(o0)}},{key:"_getStore",value:function(){return this.store}},{key:"_platformOptions",value:function(o0){var o1={};switch(o0){case"ali":o1.scheme="ali",o1.mp=my;break;case"wx":o1.scheme="wx",o1.mp=wx;break;case"bd":o1.scheme="bd",o1.mp=swan;break;case"tt":o1.scheme="tt",o1.mp=tt;break;case"qq":o1.scheme="qq",o1.mp=qq;break;case"uni":o1.scheme="uni",o1.mp=uni}return o1}},{key:"log",value:function(o0){if(!o42.default.DISABLE_LOG){for(var o1,o2=arguments.length,o3=Array(o2>1?o2-1:0),o4=1;o4<o2;o4++)o3[o4-1]=arguments[o4];(o1=console).log.apply(o1,[o0].concat(o3))}}},{key:"warn",value:function(o0){if(!o42.default.DISABLE_LOG){for(var o1,o2=arguments.length,o3=Array(o2>1?o2-1:0),o4=1;o4<o2;o4++)o3[o4-1]=arguments[o4];(o1=console).warn.apply(o1,[o0].concat(o3))}}},{key:"error",value:function(o0){if(!o42.default.DISABLE_LOG){for(var o1,o2=arguments.length,o3=Array(o2>1?o2-1:0),o4=1;o4<o2;o4++)o3[o4-1]=arguments[o4];(o1=console).error.apply(o1,[o0].concat(o3))}}},{key:"test",value:function(){this.log("---------------test start----------------------");var o0=new o15.default(-35650792,34748344,!1),o1=new o15.default(-1415576788,34740445,!1);this.log("xxxoo",o0.comp(o1),o0.toString(),o1.toString()),this.log("---------------test end----------------------")}}]),o0}();o141.connectionTimeout=1e4,o141.version="WFCWebSDKVersion-2024-12-31-10000-3869b37",o141.pcNotSupportMessageTypes=[94];var o142=new o141;o0.cp=o142})();var o50=o49.Ww,o51=o49.S_,o52=o49.cp;export{o50 as WfcImpl,o52 as default};
//# sourceMappingURL=proto.min.js.map