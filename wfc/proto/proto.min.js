!function(g0,g1){if("object"==typeof exports&&"object"==typeof module)module.exports=g1(require("../../config.js"),require("../util/longUtil"),require("../client/messageConfig"),require("../messages/mediaMessageContent"),require("../messages/messageContentType"),require("../messages/messageStatus"),require("../messages/persistFlag"),require("../model/channelInfo"),require("../model/conversation"),require("../model/conversationType"),require("../model/groupInfo"),require("../model/groupMemberType"),require("../model/nullGroupInfo"),require("../model/nullUserInfo"),require("../model/userInfo"),require("../client/userSettingScope"),require("../model/conversationInfo"),require("../model/internal/friendInfo"),require("../model/NullChannelInfo"),require("../../wfc/util/base64.min"),require("../messages/message"),require("../messages/notification/recallMessageNotification"),require("../model/chatRoomMemberInfo"),require("../model/friendRequest"),require("../model/groupMember"),require("../client/wfcEvent"),require("../model/unreadCount"),require("../model/friend"),require("../model/groupSearchResult"),require("../client/connectionStatus"),require("../model/userSettingEntry"),require("../client/errorCode"),require("../model/chatRoomInfo"),require("../model/readEntry"),require("../model/fileRecord"),require("../util/base64.min"),require("../messages/markUnreadMessageContent"),require("../model/userOnlineState"),require("../model/userClientState"),require("../model/userCustomState"),require("../model/channelMenu"),require("../messages/compositeMessageContent"));else if("function"==typeof define&&define.amd)define(["../../config.js","../util/longUtil","../client/messageConfig","../messages/mediaMessageContent","../messages/messageContentType","../messages/messageStatus","../messages/persistFlag","../model/channelInfo","../model/conversation","../model/conversationType","../model/groupInfo","../model/groupMemberType","../model/nullGroupInfo","../model/nullUserInfo","../model/userInfo","../client/userSettingScope","../model/conversationInfo","../model/internal/friendInfo","../model/NullChannelInfo","../../wfc/util/base64.min","../messages/message","../messages/notification/recallMessageNotification","../model/chatRoomMemberInfo","../model/friendRequest","../model/groupMember","../client/wfcEvent","../model/unreadCount","../model/friend","../model/groupSearchResult","../client/connectionStatus","../model/userSettingEntry","../client/errorCode","../model/chatRoomInfo","../model/readEntry","../model/fileRecord","../util/base64.min","../messages/markUnreadMessageContent","../model/userOnlineState","../model/userClientState","../model/userCustomState","../model/channelMenu","../messages/compositeMessageContent"],g1);else{var g2="object"==typeof exports?g1(require("../../config.js"),require("../util/longUtil"),require("../client/messageConfig"),require("../messages/mediaMessageContent"),require("../messages/messageContentType"),require("../messages/messageStatus"),require("../messages/persistFlag"),require("../model/channelInfo"),require("../model/conversation"),require("../model/conversationType"),require("../model/groupInfo"),require("../model/groupMemberType"),require("../model/nullGroupInfo"),require("../model/nullUserInfo"),require("../model/userInfo"),require("../client/userSettingScope"),require("../model/conversationInfo"),require("../model/internal/friendInfo"),require("../model/NullChannelInfo"),require("../../wfc/util/base64.min"),require("../messages/message"),require("../messages/notification/recallMessageNotification"),require("../model/chatRoomMemberInfo"),require("../model/friendRequest"),require("../model/groupMember"),require("../client/wfcEvent"),require("../model/unreadCount"),require("../model/friend"),require("../model/groupSearchResult"),require("../client/connectionStatus"),require("../model/userSettingEntry"),require("../client/errorCode"),require("../model/chatRoomInfo"),require("../model/readEntry"),require("../model/fileRecord"),require("../util/base64.min"),require("../messages/markUnreadMessageContent"),require("../model/userOnlineState"),require("../model/userClientState"),require("../model/userCustomState"),require("../model/channelMenu"),require("../messages/compositeMessageContent")):g1(g0["../../config.js"],g0["../util/longUtil"],g0["../client/messageConfig"],g0["../messages/mediaMessageContent"],g0["../messages/messageContentType"],g0["../messages/messageStatus"],g0["../messages/persistFlag"],g0["../model/channelInfo"],g0["../model/conversation"],g0["../model/conversationType"],g0["../model/groupInfo"],g0["../model/groupMemberType"],g0["../model/nullGroupInfo"],g0["../model/nullUserInfo"],g0["../model/userInfo"],g0["../client/userSettingScope"],g0["../model/conversationInfo"],g0["../model/internal/friendInfo"],g0["../model/NullChannelInfo"],g0["../../wfc/util/base64.min"],g0["../messages/message"],g0["../messages/notification/recallMessageNotification"],g0["../model/chatRoomMemberInfo"],g0["../model/friendRequest"],g0["../model/groupMember"],g0["../client/wfcEvent"],g0["../model/unreadCount"],g0["../model/friend"],g0["../model/groupSearchResult"],g0["../client/connectionStatus"],g0["../model/userSettingEntry"],g0["../client/errorCode"],g0["../model/chatRoomInfo"],g0["../model/readEntry"],g0["../model/fileRecord"],g0["../util/base64.min"],g0["../messages/markUnreadMessageContent"],g0["../model/userOnlineState"],g0["../model/userClientState"],g0["../model/userCustomState"],g0["../model/channelMenu"],g0["../messages/compositeMessageContent"]);for(var g3 in g2)("object"==typeof exports?exports:g0)[g3]=g2[g3]}}(window,(function(g0,g1,g2,g3,g4,g5,g6,g7,g8,g9,g10,g11,g12,g13,g14,g15,g16,g17,g18,g19,g20,g21,g22,g23,g24,g25,g26,g27,g28,g29,g30,g31,g32,g33,g34,g35,g36,g37,g38,g39,g40,g41){return function(g0){var g1={};function g2(g3){if(g1[g3])return g1[g3].exports;var g4=g1[g3]={i:g3,l:!1,exports:{}};return g0[g3].call(g4.exports,g4,g4.exports,g2),g4.l=!0,g4.exports}return g2.m=g0,g2.c=g1,g2.d=function(g0,g1,g3){g2.o(g0,g1)||Object.defineProperty(g0,g1,{enumerable:!0,get:g3})},g2.r=function(g0){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(g0,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(g0,"__esModule",{value:!0})},g2.t=function(g0,g1){if(1&g1&&(g0=g2(g0)),8&g1)return g0;if(4&g1&&"object"==typeof g0&&g0&&g0.__esModule)return g0;var g3=Object.create(null);if(g2.r(g3),Object.defineProperty(g3,"default",{enumerable:!0,value:g0}),2&g1&&"string"!=typeof g0)for(var g4 in g0)g2.d(g3,g4,function(g1){return g0[g1]}.bind(null,g4));return g3},g2.n=function(g0){var g1=g0&&g0.__esModule?function(){return g0.default}:function(){return g0};return g2.d(g1,"a",g1),g1},g2.o=function(g0,g1){return Object.prototype.hasOwnProperty.call(g0,g1)},g2.p="",g2(g2.s=202)}([function(g0,g1){var g2=g0.exports={version:"2.6.10"};"number"==typeof __e&&(__e=g2)},function(g0,g1,g2){"use strict";var g3=g8(g2(354)),g4=g8(g2(6)),g5=g8(g2(166)),g6=g8(g2(10)),g7=g8(g2(7));function g8(g0){return g0&&g0.__esModule?g0:{default:g0}}var g9=g0.exports,g10=g2(167);g9.LongBits=g2(99),g9.Long=g2(89),g9.pool=g2(360),g9.float=g2(361),g9.asPromise=g2(362),g9.EventEmitter=g2(363),g9.path=g2(364),g9.base64=g2(168),g9.utf8=g2(66),g9.compareFieldsById=function(g0,g1){return g0.id-g1.id},g9.toArray=function(g0){if(g0){for(var g1=(0,g7.default)(g0),g2=new Array(g1.length),g3=0;g3<g1.length;)g2[g3]=g0[g1[g3++]];return g2}return[]},g9.toObject=function(g0){for(var g1={},g2=0;g2<g0.length;){var g3=g0[g2++],g4=g0[g2++];void 0!==g4&&(g1[g3]=g4)}return g1},g9.isString=function(g0){return"string"==typeof g0||g0 instanceof String};g9.isReserved=function(g0){return/^(?:do|if|in|for|let|new|try|var|case|else|enum|eval|false|null|this|true|void|with|break|catch|class|const|super|throw|while|yield|delete|export|import|public|return|static|switch|typeof|default|extends|finally|package|private|continue|debugger|function|arguments|interface|protected|implements|instanceof)$/.test(g0)},g9.isObject=function(g0){return g0&&"object"===(void 0===g0?"undefined":(0,g6.default)(g0))},g9.Array="undefined"!=typeof Uint8Array?Uint8Array:Array,g9.oneOfGetter=function(g0){for(var g1={},g2=0;g2<g0.length;++g2)g1[g0[g2]]=1;return function(){for(var g0=(0,g7.default)(this),g2=g0.length-1;g2>-1;--g2)if(1===g1[g0[g2]]&&void 0!==this[g0[g2]]&&null!==this[g0[g2]])return g0[g2]}},g9.oneOfSetter=function(g0){return function(g1){for(var g2=0;g2<g0.length;++g2)g0[g2]!==g1&&delete this[g0[g2]]}},g9.merge=function(g0,g1,g2){for(var g3=(0,g7.default)(g1),g4=0;g4<g3.length;++g4)void 0!==g0[g3[g4]]&&g2||(g0[g3[g4]]=g1[g3[g4]]);return g0},g9.decorateType=function(g0,g1){if(g0.$type)return g1&&g0.$type.name!==g1&&(g9.decorateRoot.remove(g0.$type),g0.$type.name=g1,g9.decorateRoot.add(g0.$type)),g0.$type;Type||(Type=g2(36));var g3=new Type(g1||g0.name);return g9.decorateRoot.add(g3),g3.ctor=g0,Object.defineProperty(g0,"$type",{value:g3,enumerable:!1}),Object.defineProperty(g0.prototype,"$type",{value:g3,enumerable:!1}),g3},g9.emptyArray=g5.default?(0,g5.default)([]):[],g9.emptyObject=g5.default?(0,g5.default)({}):{},g9.longToHash=function(g0){return g0?g9.LongBits.from(g0).toHash():g9.LongBits.zeroHash},g9.copy=function(g0){if("object"!=(void 0===g0?"undefined":(0,g6.default)(g0)))return g0;var g1={};for(var g2 in g0)g1[g2]=g0[g2];return g1},g9.deepCopy=function g0(g1){if("object"!=(void 0===g1?"undefined":(0,g6.default)(g1)))return g1;var g2={};for(var g3 in g1)g2[g3]=g0(g1[g3]);return g2},g9.ProtocolError=function(g0){function g1(g0,g2){if(!(this instanceof g1))return new g1(g0,g2);Object.defineProperty(this,"message",{get:function(){return g0}}),Error.captureStackTrace?Error.captureStackTrace(this,g1):Object.defineProperty(this,"stack",{value:(new Error).stack||""}),g2&&merge(this,g2)}return(g1.prototype=(0,g4.default)(Error.prototype)).constructor=g1,Object.defineProperty(g1.prototype,"name",{get:function(){return g0}}),g1.prototype.toString=function(){return this.name+": "+this.message},g1},g9.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},g9.Buffer=null,g9.newBuffer=function(g0){return"number"==typeof g0?new g9.Array(g0):"undefined"==typeof Uint8Array?g0:new Uint8Array(g0)},g9.stringToBytes=function(g0){var g1,g2,g3=[];g1=g0.length;for(var g4=0;g4<g1;g4++)(g2=g0.charCodeAt(g4))>=65536&&g2<=1114111?(g3.push(g2>>18&7|240),g3.push(g2>>12&63|128),g3.push(g2>>6&63|128),g3.push(63&g2|128)):g2>=2048&&g2<=65535?(g3.push(g2>>12&15|224),g3.push(g2>>6&63|128),g3.push(63&g2|128)):g2>=128&&g2<=2047?(g3.push(g2>>6&31|192),g3.push(63&g2|128)):g3.push(255&g2);return g3},g9.byteToString=function(g0){if("string"==typeof g0)return g0;for(var g1="",g2=g0,g3=0;g3<g2.length;g3++){var g4=g2[g3].toString(2),g5=g4.match(/^1+?(?=0)/);if(g5&&8==g4.length){for(var g6=g5[0].length,g7=g2[g3].toString(2).slice(7-g6),g8=1;g8<g6;g8++)g7+=g2[g8+g3].toString(2).slice(2);g1+=String.fromCharCode(parseInt(g7,2)),g3+=g6-1}else g1+=String.fromCharCode(g2[g3])}return g1},g9.isInteger=g3.default||function(g0){return"number"==typeof g0&&isFinite(g0)&&Math.floor(g0)===g0},Object.defineProperty(g9,"decorateRoot",{get:function(){return g10.decorated||(g10.decorated=new(g2(67)))}})},function(g0,g1,g2){var g3=g2(4),g4=g2(0),g5=g2(21),g6=g2(22),g7=g2(27),g8=function(g0,g1,g2){var g9,g10,g11,g12=g0&g8.F,g13=g0&g8.G,g14=g0&g8.S,g15=g0&g8.P,g16=g0&g8.B,g17=g0&g8.W,g18=g13?g4:g4[g1]||(g4[g1]={}),g19=g18.prototype,g20=g13?g3:g14?g3[g1]:(g3[g1]||{}).prototype;for(g9 in g13&&(g2=g1),g2)(g10=!g12&&g20&&void 0!==g20[g9])&&g7(g18,g9)||(g11=g10?g20[g9]:g2[g9],g18[g9]=g13&&"function"!=typeof g20[g9]?g2[g9]:g16&&g10?g5(g11,g3):g17&&g20[g9]==g11?function(g0){var g1=function(g1,g2,g3){if(this instanceof g0){switch(arguments.length){case 0:return new g0;case 1:return new g0(g1);case 2:return new g0(g1,g2)}return new g0(g1,g2,g3)}return g0.apply(this,arguments)};return g1.prototype=g0.prototype,g1}(g11):g15&&"function"==typeof g11?g5(Function.call,g11):g11,g15&&((g18.virtual||(g18.virtual={}))[g9]=g11,g0&g8.R&&g19&&!g19[g9]&&g6(g19,g9,g11)))};g8.F=1,g8.G=2,g8.S=4,g8.P=8,g8.B=16,g8.W=32,g8.U=64,g8.R=128,g0.exports=g8},function(g0,g1){var g2,g3,g4=g0.exports={};function g5(){throw new Error("setTimeout has not been defined")}function g6(){throw new Error("clearTimeout has not been defined")}function g7(g0){if(g2===setTimeout)return setTimeout(g0,0);if((g2===g5||!g2)&&setTimeout)return g2=setTimeout,setTimeout(g0,0);try{return g2(g0,0)}catch(g1){try{return g2.call(null,g0,0)}catch(g1){return g2.call(this,g0,0)}}}!function(){try{g2="function"==typeof setTimeout?setTimeout:g5}catch(g0){g2=g5}try{g3="function"==typeof clearTimeout?clearTimeout:g6}catch(g0){g3=g6}}();var g8,g9=[],g10=!1,g11=-1;function g12(){g10&&g8&&(g10=!1,g8.length?g9=g8.concat(g9):g11=-1,g9.length&&g13())}function g13(){if(!g10){var g0=g7(g12);g10=!0;for(var g1=g9.length;g1;){for(g8=g9,g9=[];++g11<g1;)g8&&g8[g11].run();g11=-1,g1=g9.length}g8=null,g10=!1,function(g0){if(g3===clearTimeout)return clearTimeout(g0);if((g3===g6||!g3)&&clearTimeout)return g3=clearTimeout,clearTimeout(g0);try{g3(g0)}catch(g1){try{return g3.call(null,g0)}catch(g1){return g3.call(this,g0)}}}(g0)}}function g14(g0,g1){this.fun=g0,this.array=g1}function g15(){}g4.nextTick=function(g0){var g1=new Array(arguments.length-1);if(arguments.length>1)for(var g2=1;g2<arguments.length;g2++)g1[g2-1]=arguments[g2];g9.push(new g14(g0,g1)),1!==g9.length||g10||g7(g13)},g14.prototype.run=function(){this.fun.apply(null,this.array)},g4.title="browser",g4.browser=!0,g4.env={},g4.argv=[],g4.version="",g4.versions={},g4.on=g15,g4.addListener=g15,g4.once=g15,g4.off=g15,g4.removeListener=g15,g4.removeAllListeners=g15,g4.emit=g15,g4.prependListener=g15,g4.prependOnceListener=g15,g4.listeners=function(g0){return[]},g4.binding=function(g0){throw new Error("process.binding is not supported")},g4.cwd=function(){return"/"},g4.chdir=function(g0){throw new Error("process.chdir is not supported")},g4.umask=function(){return 0}},function(g0,g1){var g2=g0.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=g2)},function(g0,g1,g2){var g3=g2(77)("wks"),g4=g2(56),g5=g2(4).Symbol,g6="function"==typeof g5;(g0.exports=function(g0){return g3[g0]||(g3[g0]=g6&&g5[g0]||(g6?g5:g4)("Symbol."+g0))}).store=g3},function(g0,g1,g2){g0.exports={default:g2(262),__esModule:!0}},function(g0,g1,g2){g0.exports={default:g2(264),__esModule:!0}},function(g0,g1){g0.exports=function(g0){return"object"==typeof g0?null!==g0:"function"==typeof g0}},function(g0,g1,g2){g0.exports=!g2(26)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},function(g0,g1,g2){"use strict";g1.__esModule=!0;var g3=g6(g2(251)),g4=g6(g2(253)),g5="function"==typeof g4.default&&"symbol"==typeof g3.default?function(g0){return typeof g0}:function(g0){return g0&&"function"==typeof g4.default&&g0.constructor===g4.default&&g0!==g4.default.prototype?"symbol":typeof g0};function g6(g0){return g0&&g0.__esModule?g0:{default:g0}}g1.default="function"==typeof g4.default&&"symbol"===g5(g3.default)?function(g0){return void 0===g0?"undefined":g5(g0)}:function(g0){return g0&&"function"==typeof g4.default&&g0.constructor===g4.default&&g0!==g4.default.prototype?"symbol":void 0===g0?"undefined":g5(g0)}},function(g0,g1,g2){"use strict";(function(g0){var g3=g2(104),g4=g2(203),g5=g2(105);function g6(){return g8.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function g7(g0,g1){if(g6()<g1)throw new RangeError("Invalid typed array length");return g8.TYPED_ARRAY_SUPPORT?(g0=new Uint8Array(g1)).__proto__=g8.prototype:(null===g0&&(g0=new g8(g1)),g0.length=g1),g0}function g8(g0,g1,g2){if(!(g8.TYPED_ARRAY_SUPPORT||this instanceof g8))return new g8(g0,g1,g2);if("number"==typeof g0){if("string"==typeof g1)throw new Error("If encoding is specified then the first argument must be a string");return g11(this,g0)}return g9(this,g0,g1,g2)}function g9(g0,g1,g2,g3){if("number"==typeof g1)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&g1 instanceof ArrayBuffer?function(g0,g1,g2,g3){if(g1.byteLength,g2<0||g1.byteLength<g2)throw new RangeError("'offset' is out of bounds");if(g1.byteLength<g2+(g3||0))throw new RangeError("'length' is out of bounds");g1=void 0===g2&&void 0===g3?new Uint8Array(g1):void 0===g3?new Uint8Array(g1,g2):new Uint8Array(g1,g2,g3);g8.TYPED_ARRAY_SUPPORT?(g0=g1).__proto__=g8.prototype:g0=g12(g0,g1);return g0}(g0,g1,g2,g3):"string"==typeof g1?function(g0,g1,g2){"string"==typeof g2&&""!==g2||(g2="utf8");if(!g8.isEncoding(g2))throw new TypeError('"encoding" must be a valid string encoding');var g3=0|g14(g1,g2),g4=(g0=g7(g0,g3)).write(g1,g2);g4!==g3&&(g0=g0.slice(0,g4));return g0}(g0,g1,g2):function(g0,g1){if(g8.isBuffer(g1)){var g2=0|g13(g1.length);return 0===(g0=g7(g0,g2)).length||g1.copy(g0,0,0,g2),g0}if(g1){if("undefined"!=typeof ArrayBuffer&&g1.buffer instanceof ArrayBuffer||"length"in g1)return"number"!=typeof g1.length||(g3=g1.length)!=g3?g7(g0,0):g12(g0,g1);if("Buffer"===g1.type&&g5(g1.data))return g12(g0,g1.data)}var g3;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(g0,g1)}function g10(g0){if("number"!=typeof g0)throw new TypeError('"size" argument must be a number');if(g0<0)throw new RangeError('"size" argument must not be negative')}function g11(g0,g1){if(g10(g1),g0=g7(g0,g1<0?0:0|g13(g1)),!g8.TYPED_ARRAY_SUPPORT)for(var g2=0;g2<g1;++g2)g0[g2]=0;return g0}function g12(g0,g1){var g2=g1.length<0?0:0|g13(g1.length);g0=g7(g0,g2);for(var g3=0;g3<g2;g3+=1)g0[g3]=255&g1[g3];return g0}function g13(g0){if(g0>=g6())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+g6().toString(16)+" bytes");return 0|g0}function g14(g0,g1){if(g8.isBuffer(g0))return g0.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(g0)||g0 instanceof ArrayBuffer))return g0.byteLength;"string"!=typeof g0&&(g0=""+g0);var g2=g0.length;if(0===g2)return 0;for(var g3=!1;;)switch(g1){case"ascii":case"latin1":case"binary":return g2;case"utf8":case"utf-8":case void 0:return g41(g0).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*g2;case"hex":return g2>>>1;case"base64":return g42(g0).length;default:if(g3)return g41(g0).length;g1=(""+g1).toLowerCase(),g3=!0}}function g15(g0,g1,g2){var g3=!1;if((void 0===g1||g1<0)&&(g1=0),g1>this.length)return"";if((void 0===g2||g2>this.length)&&(g2=this.length),g2<=0)return"";if((g2>>>=0)<=(g1>>>=0))return"";for(g0||(g0="utf8");;)switch(g0){case"hex":return g30(this,g1,g2);case"utf8":case"utf-8":return g26(this,g1,g2);case"ascii":return g28(this,g1,g2);case"latin1":case"binary":return g29(this,g1,g2);case"base64":return g25(this,g1,g2);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return g31(this,g1,g2);default:if(g3)throw new TypeError("Unknown encoding: "+g0);g0=(g0+"").toLowerCase(),g3=!0}}function g16(g0,g1,g2){var g3=g0[g1];g0[g1]=g0[g2],g0[g2]=g3}function g17(g0,g1,g2,g3,g4){if(0===g0.length)return-1;if("string"==typeof g2?(g3=g2,g2=0):g2>2147483647?g2=2147483647:g2<-2147483648&&(g2=-2147483648),g2=+g2,isNaN(g2)&&(g2=g4?0:g0.length-1),g2<0&&(g2=g0.length+g2),g2>=g0.length){if(g4)return-1;g2=g0.length-1}else if(g2<0){if(!g4)return-1;g2=0}if("string"==typeof g1&&(g1=g8.from(g1,g3)),g8.isBuffer(g1))return 0===g1.length?-1:g18(g0,g1,g2,g3,g4);if("number"==typeof g1)return g1&=255,g8.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?g4?Uint8Array.prototype.indexOf.call(g0,g1,g2):Uint8Array.prototype.lastIndexOf.call(g0,g1,g2):g18(g0,[g1],g2,g3,g4);throw new TypeError("val must be string, number or Buffer")}function g18(g0,g1,g2,g3,g4){var g5,g6=1,g7=g0.length,g8=g1.length;if(void 0!==g3&&("ucs2"===(g3=String(g3).toLowerCase())||"ucs-2"===g3||"utf16le"===g3||"utf-16le"===g3)){if(g0.length<2||g1.length<2)return-1;g6=2,g7/=2,g8/=2,g2/=2}function g9(g0,g1){return 1===g6?g0[g1]:g0.readUInt16BE(g1*g6)}if(g4){var g10=-1;for(g5=g2;g5<g7;g5++)if(g9(g0,g5)===g9(g1,-1===g10?0:g5-g10)){if(-1===g10&&(g10=g5),g5-g10+1===g8)return g10*g6}else-1!==g10&&(g5-=g5-g10),g10=-1}else for(g2+g8>g7&&(g2=g7-g8),g5=g2;g5>=0;g5--){for(var g11=!0,g12=0;g12<g8;g12++)if(g9(g0,g5+g12)!==g9(g1,g12)){g11=!1;break}if(g11)return g5}return-1}function g19(g0,g1,g2,g3){g2=Number(g2)||0;var g4=g0.length-g2;g3?(g3=Number(g3))>g4&&(g3=g4):g3=g4;var g5=g1.length;if(g5%2!=0)throw new TypeError("Invalid hex string");g3>g5/2&&(g3=g5/2);for(var g6=0;g6<g3;++g6){var g7=parseInt(g1.substr(2*g6,2),16);if(isNaN(g7))return g6;g0[g2+g6]=g7}return g6}function g20(g0,g1,g2,g3){return g43(g41(g1,g0.length-g2),g0,g2,g3)}function g21(g0,g1,g2,g3){return g43(function(g0){for(var g1=[],g2=0;g2<g0.length;++g2)g1.push(255&g0.charCodeAt(g2));return g1}(g1),g0,g2,g3)}function g22(g0,g1,g2,g3){return g21(g0,g1,g2,g3)}function g23(g0,g1,g2,g3){return g43(g42(g1),g0,g2,g3)}function g24(g0,g1,g2,g3){return g43(function(g0,g1){for(var g2,g3,g4,g5=[],g6=0;g6<g0.length&&!((g1-=2)<0);++g6)g3=(g2=g0.charCodeAt(g6))>>8,g4=g2%256,g5.push(g4),g5.push(g3);return g5}(g1,g0.length-g2),g0,g2,g3)}function g25(g0,g1,g2){return 0===g1&&g2===g0.length?g3.fromByteArray(g0):g3.fromByteArray(g0.slice(g1,g2))}function g26(g0,g1,g2){g2=Math.min(g0.length,g2);for(var g3=[],g4=g1;g4<g2;){var g5,g6,g7,g8,g9=g0[g4],g10=null,g11=g9>239?4:g9>223?3:g9>191?2:1;if(g4+g11<=g2)switch(g11){case 1:g9<128&&(g10=g9);break;case 2:128==(192&(g5=g0[g4+1]))&&(g8=(31&g9)<<6|63&g5)>127&&(g10=g8);break;case 3:g5=g0[g4+1],g6=g0[g4+2],128==(192&g5)&&128==(192&g6)&&(g8=(15&g9)<<12|(63&g5)<<6|63&g6)>2047&&(g8<55296||g8>57343)&&(g10=g8);break;case 4:g5=g0[g4+1],g6=g0[g4+2],g7=g0[g4+3],128==(192&g5)&&128==(192&g6)&&128==(192&g7)&&(g8=(15&g9)<<18|(63&g5)<<12|(63&g6)<<6|63&g7)>65535&&g8<1114112&&(g10=g8)}null===g10?(g10=65533,g11=1):g10>65535&&(g10-=65536,g3.push(g10>>>10&1023|55296),g10=56320|1023&g10),g3.push(g10),g4+=g11}return function(g0){var g1=g0.length;if(g1<=g27)return String.fromCharCode.apply(String,g0);var g2="",g3=0;for(;g3<g1;)g2+=String.fromCharCode.apply(String,g0.slice(g3,g3+=g27));return g2}(g3)}g1.Buffer=g8,g1.SlowBuffer=function(g0){+g0!=g0&&(g0=0);return g8.alloc(+g0)},g1.INSPECT_MAX_BYTES=50,g8.TYPED_ARRAY_SUPPORT=void 0!==g0.TYPED_ARRAY_SUPPORT?g0.TYPED_ARRAY_SUPPORT:function(){try{var g0=new Uint8Array(1);return g0.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===g0.foo()&&"function"==typeof g0.subarray&&0===g0.subarray(1,1).byteLength}catch(g0){return!1}}(),g1.kMaxLength=g6(),g8.poolSize=8192,g8._augment=function(g0){return g0.__proto__=g8.prototype,g0},g8.from=function(g0,g1,g2){return g9(null,g0,g1,g2)},g8.TYPED_ARRAY_SUPPORT&&(g8.prototype.__proto__=Uint8Array.prototype,g8.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&g8[Symbol.species]===g8&&Object.defineProperty(g8,Symbol.species,{value:null,configurable:!0})),g8.alloc=function(g0,g1,g2){return function(g0,g1,g2,g3){return g10(g1),g1<=0?g7(g0,g1):void 0!==g2?"string"==typeof g3?g7(g0,g1).fill(g2,g3):g7(g0,g1).fill(g2):g7(g0,g1)}(null,g0,g1,g2)},g8.allocUnsafe=function(g0){return g11(null,g0)},g8.allocUnsafeSlow=function(g0){return g11(null,g0)},g8.isBuffer=function(g0){return!(null==g0||!g0._isBuffer)},g8.compare=function(g0,g1){if(!g8.isBuffer(g0)||!g8.isBuffer(g1))throw new TypeError("Arguments must be Buffers");if(g0===g1)return 0;for(var g2=g0.length,g3=g1.length,g4=0,g5=Math.min(g2,g3);g4<g5;++g4)if(g0[g4]!==g1[g4]){g2=g0[g4],g3=g1[g4];break}return g2<g3?-1:g3<g2?1:0},g8.isEncoding=function(g0){switch(String(g0).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},g8.concat=function(g0,g1){if(!g5(g0))throw new TypeError('"list" argument must be an Array of Buffers');if(0===g0.length)return g8.alloc(0);var g2;if(void 0===g1)for(g1=0,g2=0;g2<g0.length;++g2)g1+=g0[g2].length;var g3=g8.allocUnsafe(g1),g4=0;for(g2=0;g2<g0.length;++g2){var g6=g0[g2];if(!g8.isBuffer(g6))throw new TypeError('"list" argument must be an Array of Buffers');g6.copy(g3,g4),g4+=g6.length}return g3},g8.byteLength=g14,g8.prototype._isBuffer=!0,g8.prototype.swap16=function(){var g0=this.length;if(g0%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var g1=0;g1<g0;g1+=2)g16(this,g1,g1+1);return this},g8.prototype.swap32=function(){var g0=this.length;if(g0%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var g1=0;g1<g0;g1+=4)g16(this,g1,g1+3),g16(this,g1+1,g1+2);return this},g8.prototype.swap64=function(){var g0=this.length;if(g0%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var g1=0;g1<g0;g1+=8)g16(this,g1,g1+7),g16(this,g1+1,g1+6),g16(this,g1+2,g1+5),g16(this,g1+3,g1+4);return this},g8.prototype.toString=function(){var g0=0|this.length;return 0===g0?"":0===arguments.length?g26(this,0,g0):g15.apply(this,arguments)},g8.prototype.equals=function(g0){if(!g8.isBuffer(g0))throw new TypeError("Argument must be a Buffer");return this===g0||0===g8.compare(this,g0)},g8.prototype.inspect=function(){var g0="",g2=g1.INSPECT_MAX_BYTES;return this.length>0&&(g0=this.toString("hex",0,g2).match(/.{2}/g).join(" "),this.length>g2&&(g0+=" ... ")),"<Buffer "+g0+">"},g8.prototype.compare=function(g0,g1,g2,g3,g4){if(!g8.isBuffer(g0))throw new TypeError("Argument must be a Buffer");if(void 0===g1&&(g1=0),void 0===g2&&(g2=g0?g0.length:0),void 0===g3&&(g3=0),void 0===g4&&(g4=this.length),g1<0||g2>g0.length||g3<0||g4>this.length)throw new RangeError("out of range index");if(g3>=g4&&g1>=g2)return 0;if(g3>=g4)return-1;if(g1>=g2)return 1;if(this===g0)return 0;for(var g5=(g4>>>=0)-(g3>>>=0),g6=(g2>>>=0)-(g1>>>=0),g7=Math.min(g5,g6),g9=this.slice(g3,g4),g10=g0.slice(g1,g2),g11=0;g11<g7;++g11)if(g9[g11]!==g10[g11]){g5=g9[g11],g6=g10[g11];break}return g5<g6?-1:g6<g5?1:0},g8.prototype.includes=function(g0,g1,g2){return-1!==this.indexOf(g0,g1,g2)},g8.prototype.indexOf=function(g0,g1,g2){return g17(this,g0,g1,g2,!0)},g8.prototype.lastIndexOf=function(g0,g1,g2){return g17(this,g0,g1,g2,!1)},g8.prototype.write=function(g0,g1,g2,g3){if(void 0===g1)g3="utf8",g2=this.length,g1=0;else if(void 0===g2&&"string"==typeof g1)g3=g1,g2=this.length,g1=0;else{if(!isFinite(g1))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");g1|=0,isFinite(g2)?(g2|=0,void 0===g3&&(g3="utf8")):(g3=g2,g2=void 0)}var g4=this.length-g1;if((void 0===g2||g2>g4)&&(g2=g4),g0.length>0&&(g2<0||g1<0)||g1>this.length)throw new RangeError("Attempt to write outside buffer bounds");g3||(g3="utf8");for(var g5=!1;;)switch(g3){case"hex":return g19(this,g0,g1,g2);case"utf8":case"utf-8":return g20(this,g0,g1,g2);case"ascii":return g21(this,g0,g1,g2);case"latin1":case"binary":return g22(this,g0,g1,g2);case"base64":return g23(this,g0,g1,g2);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return g24(this,g0,g1,g2);default:if(g5)throw new TypeError("Unknown encoding: "+g3);g3=(""+g3).toLowerCase(),g5=!0}},g8.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var g27=4096;function g28(g0,g1,g2){var g3="";g2=Math.min(g0.length,g2);for(var g4=g1;g4<g2;++g4)g3+=String.fromCharCode(127&g0[g4]);return g3}function g29(g0,g1,g2){var g3="";g2=Math.min(g0.length,g2);for(var g4=g1;g4<g2;++g4)g3+=String.fromCharCode(g0[g4]);return g3}function g30(g0,g1,g2){var g3=g0.length;(!g1||g1<0)&&(g1=0),(!g2||g2<0||g2>g3)&&(g2=g3);for(var g4="",g5=g1;g5<g2;++g5)g4+=g40(g0[g5]);return g4}function g31(g0,g1,g2){for(var g3=g0.slice(g1,g2),g4="",g5=0;g5<g3.length;g5+=2)g4+=String.fromCharCode(g3[g5]+256*g3[g5+1]);return g4}function g32(g0,g1,g2){if(g0%1!=0||g0<0)throw new RangeError("offset is not uint");if(g0+g1>g2)throw new RangeError("Trying to access beyond buffer length")}function g33(g0,g1,g2,g3,g4,g5){if(!g8.isBuffer(g0))throw new TypeError('"buffer" argument must be a Buffer instance');if(g1>g4||g1<g5)throw new RangeError('"value" argument is out of bounds');if(g2+g3>g0.length)throw new RangeError("Index out of range")}function g34(g0,g1,g2,g3){g1<0&&(g1=65535+g1+1);for(var g4=0,g5=Math.min(g0.length-g2,2);g4<g5;++g4)g0[g2+g4]=(g1&255<<8*(g3?g4:1-g4))>>>8*(g3?g4:1-g4)}function g35(g0,g1,g2,g3){g1<0&&(g1=4294967295+g1+1);for(var g4=0,g5=Math.min(g0.length-g2,4);g4<g5;++g4)g0[g2+g4]=g1>>>8*(g3?g4:3-g4)&255}function g36(g0,g1,g2,g3,g4,g5){if(g2+g3>g0.length)throw new RangeError("Index out of range");if(g2<0)throw new RangeError("Index out of range")}function g37(g0,g1,g2,g3,g5){return g5||g36(g0,0,g2,4),g4.write(g0,g1,g2,g3,23,4),g2+4}function g38(g0,g1,g2,g3,g5){return g5||g36(g0,0,g2,8),g4.write(g0,g1,g2,g3,52,8),g2+8}g8.prototype.slice=function(g0,g1){var g2,g3=this.length;if((g0=~~g0)<0?(g0+=g3)<0&&(g0=0):g0>g3&&(g0=g3),(g1=void 0===g1?g3:~~g1)<0?(g1+=g3)<0&&(g1=0):g1>g3&&(g1=g3),g1<g0&&(g1=g0),g8.TYPED_ARRAY_SUPPORT)(g2=this.subarray(g0,g1)).__proto__=g8.prototype;else{var g4=g1-g0;g2=new g8(g4,void 0);for(var g5=0;g5<g4;++g5)g2[g5]=this[g5+g0]}return g2},g8.prototype.readUIntLE=function(g0,g1,g2){g0|=0,g1|=0,g2||g32(g0,g1,this.length);for(var g3=this[g0],g4=1,g5=0;++g5<g1&&(g4*=256);)g3+=this[g0+g5]*g4;return g3},g8.prototype.readUIntBE=function(g0,g1,g2){g0|=0,g1|=0,g2||g32(g0,g1,this.length);for(var g3=this[g0+--g1],g4=1;g1>0&&(g4*=256);)g3+=this[g0+--g1]*g4;return g3},g8.prototype.readUInt8=function(g0,g1){return g1||g32(g0,1,this.length),this[g0]},g8.prototype.readUInt16LE=function(g0,g1){return g1||g32(g0,2,this.length),this[g0]|this[g0+1]<<8},g8.prototype.readUInt16BE=function(g0,g1){return g1||g32(g0,2,this.length),this[g0]<<8|this[g0+1]},g8.prototype.readUInt32LE=function(g0,g1){return g1||g32(g0,4,this.length),(this[g0]|this[g0+1]<<8|this[g0+2]<<16)+16777216*this[g0+3]},g8.prototype.readUInt32BE=function(g0,g1){return g1||g32(g0,4,this.length),16777216*this[g0]+(this[g0+1]<<16|this[g0+2]<<8|this[g0+3])},g8.prototype.readIntLE=function(g0,g1,g2){g0|=0,g1|=0,g2||g32(g0,g1,this.length);for(var g3=this[g0],g4=1,g5=0;++g5<g1&&(g4*=256);)g3+=this[g0+g5]*g4;return g3>=(g4*=128)&&(g3-=Math.pow(2,8*g1)),g3},g8.prototype.readIntBE=function(g0,g1,g2){g0|=0,g1|=0,g2||g32(g0,g1,this.length);for(var g3=g1,g4=1,g5=this[g0+--g3];g3>0&&(g4*=256);)g5+=this[g0+--g3]*g4;return g5>=(g4*=128)&&(g5-=Math.pow(2,8*g1)),g5},g8.prototype.readInt8=function(g0,g1){return g1||g32(g0,1,this.length),128&this[g0]?-1*(255-this[g0]+1):this[g0]},g8.prototype.readInt16LE=function(g0,g1){g1||g32(g0,2,this.length);var g2=this[g0]|this[g0+1]<<8;return 32768&g2?4294901760|g2:g2},g8.prototype.readInt16BE=function(g0,g1){g1||g32(g0,2,this.length);var g2=this[g0+1]|this[g0]<<8;return 32768&g2?4294901760|g2:g2},g8.prototype.readInt32LE=function(g0,g1){return g1||g32(g0,4,this.length),this[g0]|this[g0+1]<<8|this[g0+2]<<16|this[g0+3]<<24},g8.prototype.readInt32BE=function(g0,g1){return g1||g32(g0,4,this.length),this[g0]<<24|this[g0+1]<<16|this[g0+2]<<8|this[g0+3]},g8.prototype.readFloatLE=function(g0,g1){return g1||g32(g0,4,this.length),g4.read(this,g0,!0,23,4)},g8.prototype.readFloatBE=function(g0,g1){return g1||g32(g0,4,this.length),g4.read(this,g0,!1,23,4)},g8.prototype.readDoubleLE=function(g0,g1){return g1||g32(g0,8,this.length),g4.read(this,g0,!0,52,8)},g8.prototype.readDoubleBE=function(g0,g1){return g1||g32(g0,8,this.length),g4.read(this,g0,!1,52,8)},g8.prototype.writeUIntLE=function(g0,g1,g2,g3){(g0=+g0,g1|=0,g2|=0,g3)||g33(this,g0,g1,g2,Math.pow(2,8*g2)-1,0);var g4=1,g5=0;for(this[g1]=255&g0;++g5<g2&&(g4*=256);)this[g1+g5]=g0/g4&255;return g1+g2},g8.prototype.writeUIntBE=function(g0,g1,g2,g3){(g0=+g0,g1|=0,g2|=0,g3)||g33(this,g0,g1,g2,Math.pow(2,8*g2)-1,0);var g4=g2-1,g5=1;for(this[g1+g4]=255&g0;--g4>=0&&(g5*=256);)this[g1+g4]=g0/g5&255;return g1+g2},g8.prototype.writeUInt8=function(g0,g1,g2){return g0=+g0,g1|=0,g2||g33(this,g0,g1,1,255,0),g8.TYPED_ARRAY_SUPPORT||(g0=Math.floor(g0)),this[g1]=255&g0,g1+1},g8.prototype.writeUInt16LE=function(g0,g1,g2){return g0=+g0,g1|=0,g2||g33(this,g0,g1,2,65535,0),g8.TYPED_ARRAY_SUPPORT?(this[g1]=255&g0,this[g1+1]=g0>>>8):g34(this,g0,g1,!0),g1+2},g8.prototype.writeUInt16BE=function(g0,g1,g2){return g0=+g0,g1|=0,g2||g33(this,g0,g1,2,65535,0),g8.TYPED_ARRAY_SUPPORT?(this[g1]=g0>>>8,this[g1+1]=255&g0):g34(this,g0,g1,!1),g1+2},g8.prototype.writeUInt32LE=function(g0,g1,g2){return g0=+g0,g1|=0,g2||g33(this,g0,g1,4,4294967295,0),g8.TYPED_ARRAY_SUPPORT?(this[g1+3]=g0>>>24,this[g1+2]=g0>>>16,this[g1+1]=g0>>>8,this[g1]=255&g0):g35(this,g0,g1,!0),g1+4},g8.prototype.writeUInt32BE=function(g0,g1,g2){return g0=+g0,g1|=0,g2||g33(this,g0,g1,4,4294967295,0),g8.TYPED_ARRAY_SUPPORT?(this[g1]=g0>>>24,this[g1+1]=g0>>>16,this[g1+2]=g0>>>8,this[g1+3]=255&g0):g35(this,g0,g1,!1),g1+4},g8.prototype.writeIntLE=function(g0,g1,g2,g3){if(g0=+g0,g1|=0,!g3){var g4=Math.pow(2,8*g2-1);g33(this,g0,g1,g2,g4-1,-g4)}var g5=0,g6=1,g7=0;for(this[g1]=255&g0;++g5<g2&&(g6*=256);)g0<0&&0===g7&&0!==this[g1+g5-1]&&(g7=1),this[g1+g5]=(g0/g6>>0)-g7&255;return g1+g2},g8.prototype.writeIntBE=function(g0,g1,g2,g3){if(g0=+g0,g1|=0,!g3){var g4=Math.pow(2,8*g2-1);g33(this,g0,g1,g2,g4-1,-g4)}var g5=g2-1,g6=1,g7=0;for(this[g1+g5]=255&g0;--g5>=0&&(g6*=256);)g0<0&&0===g7&&0!==this[g1+g5+1]&&(g7=1),this[g1+g5]=(g0/g6>>0)-g7&255;return g1+g2},g8.prototype.writeInt8=function(g0,g1,g2){return g0=+g0,g1|=0,g2||g33(this,g0,g1,1,127,-128),g8.TYPED_ARRAY_SUPPORT||(g0=Math.floor(g0)),g0<0&&(g0=255+g0+1),this[g1]=255&g0,g1+1},g8.prototype.writeInt16LE=function(g0,g1,g2){return g0=+g0,g1|=0,g2||g33(this,g0,g1,2,32767,-32768),g8.TYPED_ARRAY_SUPPORT?(this[g1]=255&g0,this[g1+1]=g0>>>8):g34(this,g0,g1,!0),g1+2},g8.prototype.writeInt16BE=function(g0,g1,g2){return g0=+g0,g1|=0,g2||g33(this,g0,g1,2,32767,-32768),g8.TYPED_ARRAY_SUPPORT?(this[g1]=g0>>>8,this[g1+1]=255&g0):g34(this,g0,g1,!1),g1+2},g8.prototype.writeInt32LE=function(g0,g1,g2){return g0=+g0,g1|=0,g2||g33(this,g0,g1,4,2147483647,-2147483648),g8.TYPED_ARRAY_SUPPORT?(this[g1]=255&g0,this[g1+1]=g0>>>8,this[g1+2]=g0>>>16,this[g1+3]=g0>>>24):g35(this,g0,g1,!0),g1+4},g8.prototype.writeInt32BE=function(g0,g1,g2){return g0=+g0,g1|=0,g2||g33(this,g0,g1,4,2147483647,-2147483648),g0<0&&(g0=4294967295+g0+1),g8.TYPED_ARRAY_SUPPORT?(this[g1]=g0>>>24,this[g1+1]=g0>>>16,this[g1+2]=g0>>>8,this[g1+3]=255&g0):g35(this,g0,g1,!1),g1+4},g8.prototype.writeFloatLE=function(g0,g1,g2){return g37(this,g0,g1,!0,g2)},g8.prototype.writeFloatBE=function(g0,g1,g2){return g37(this,g0,g1,!1,g2)},g8.prototype.writeDoubleLE=function(g0,g1,g2){return g38(this,g0,g1,!0,g2)},g8.prototype.writeDoubleBE=function(g0,g1,g2){return g38(this,g0,g1,!1,g2)},g8.prototype.copy=function(g0,g1,g2,g3){if(g2||(g2=0),g3||0===g3||(g3=this.length),g1>=g0.length&&(g1=g0.length),g1||(g1=0),g3>0&&g3<g2&&(g3=g2),g3===g2)return 0;if(0===g0.length||0===this.length)return 0;if(g1<0)throw new RangeError("targetStart out of bounds");if(g2<0||g2>=this.length)throw new RangeError("sourceStart out of bounds");if(g3<0)throw new RangeError("sourceEnd out of bounds");g3>this.length&&(g3=this.length),g0.length-g1<g3-g2&&(g3=g0.length-g1+g2);var g4,g5=g3-g2;if(this===g0&&g2<g1&&g1<g3)for(g4=g5-1;g4>=0;--g4)g0[g4+g1]=this[g4+g2];else if(g5<1e3||!g8.TYPED_ARRAY_SUPPORT)for(g4=0;g4<g5;++g4)g0[g4+g1]=this[g4+g2];else Uint8Array.prototype.set.call(g0,this.subarray(g2,g2+g5),g1);return g5},g8.prototype.fill=function(g0,g1,g2,g3){if("string"==typeof g0){if("string"==typeof g1?(g3=g1,g1=0,g2=this.length):"string"==typeof g2&&(g3=g2,g2=this.length),1===g0.length){var g4=g0.charCodeAt(0);g4<256&&(g0=g4)}if(void 0!==g3&&"string"!=typeof g3)throw new TypeError("encoding must be a string");if("string"==typeof g3&&!g8.isEncoding(g3))throw new TypeError("Unknown encoding: "+g3)}else"number"==typeof g0&&(g0&=255);if(g1<0||this.length<g1||this.length<g2)throw new RangeError("Out of range index");if(g2<=g1)return this;var g5;if(g1>>>=0,g2=void 0===g2?this.length:g2>>>0,g0||(g0=0),"number"==typeof g0)for(g5=g1;g5<g2;++g5)this[g5]=g0;else{var g6=g8.isBuffer(g0)?g0:g41(new g8(g0,g3).toString()),g7=g6.length;for(g5=0;g5<g2-g1;++g5)this[g5+g1]=g6[g5%g7]}return this};var g39=/[^+\/0-9A-Za-z-_]/g;function g40(g0){return g0<16?"0"+g0.toString(16):g0.toString(16)}function g41(g0,g1){var g2;g1=g1||1/0;for(var g3=g0.length,g4=null,g5=[],g6=0;g6<g3;++g6){if((g2=g0.charCodeAt(g6))>55295&&g2<57344){if(!g4){if(g2>56319){(g1-=3)>-1&&g5.push(239,191,189);continue}if(g6+1===g3){(g1-=3)>-1&&g5.push(239,191,189);continue}g4=g2;continue}if(g2<56320){(g1-=3)>-1&&g5.push(239,191,189),g4=g2;continue}g2=65536+(g4-55296<<10|g2-56320)}else g4&&(g1-=3)>-1&&g5.push(239,191,189);if(g4=null,g2<128){if((g1-=1)<0)break;g5.push(g2)}else if(g2<2048){if((g1-=2)<0)break;g5.push(g2>>6|192,63&g2|128)}else if(g2<65536){if((g1-=3)<0)break;g5.push(g2>>12|224,g2>>6&63|128,63&g2|128)}else{if(!(g2<1114112))throw new Error("Invalid code point");if((g1-=4)<0)break;g5.push(g2>>18|240,g2>>12&63|128,g2>>6&63|128,63&g2|128)}}return g5}function g42(g0){return g3.toByteArray(function(g0){if((g0=function(g0){return g0.trim?g0.trim():g0.replace(/^\s+|\s+$/g,"")}(g0).replace(g39,"")).length<2)return"";for(;g0.length%4!=0;)g0+="=";return g0}(g0))}function g43(g0,g1,g2,g3){for(var g4=0;g4<g3&&!(g4+g2>=g1.length||g4>=g0.length);++g4)g1[g4+g2]=g0[g4];return g4}}).call(this,g2(17))},function(g0,g1,g2){var g3=g2(18),g4=g2(106),g5=g2(74),g6=Object.defineProperty;g1.f=g2(9)?Object.defineProperty:function(g0,g1,g2){if(g3(g0),g1=g5(g1,!0),g3(g2),g4)try{return g6(g0,g1,g2)}catch(g0){}if("get"in g2||"set"in g2)throw TypeError("Accessors not supported!");return"value"in g2&&(g0[g1]=g2.value),g0}},function(g0,g1,g2){"use strict";var g3=g6(g2(7)),g4=g6(g2(10)),g5=g6(g2(6));function g6(g0){return g0&&g0.__esModule?g0:{default:g0}}g0.exports=g9;var g7=g2(37);((g9.prototype=(0,g5.default)(g7.prototype)).constructor=g9).className="Enum";var g8=g2(52);function g9(g0,g1,g2,g6,g8){if(g7.call(this,g0,g2),g1&&"object"!==(void 0===g1?"undefined":(0,g4.default)(g1)))throw TypeError("values must be an object");if(this.valuesById={},this.values=(0,g5.default)(this.valuesById),this.comment=g6,this.comments=g8||{},this.reserved=void 0,g1)for(var g9=(0,g3.default)(g1),g10=0;g10<g9.length;++g10)"number"==typeof g1[g9[g10]]&&(this.valuesById[this.values[g9[g10]]=g1[g9[g10]]]=g9[g10])}g9.fromJSON=function(g0,g1){var g2=new g9(g0,g1.values,g1.options,g1.comment,g1.comments);return g2.reserved=g1.reserved,g2},g9.prototype.toJSON=function(g0){var g1=!!g0&&Boolean(g0.keepComments);return util.toObject(["options",this.options,"values",this.values,"reserved",this.reserved&&this.reserved.length?this.reserved:void 0,"comment",g1?this.comment:void 0,"comments",g1?this.comments:void 0])},g9.prototype.add=function(g0,g1,g2){if(!util.isString(g0))throw TypeError("name must be a string");if(!util.isInteger(g1))throw TypeError("id must be an integer");if(void 0!==this.values[g0])throw Error("duplicate name '"+g0+"' in "+this);if(this.isReservedId(g1))throw Error("id "+g1+" is reserved in "+this);if(this.isReservedName(g0))throw Error("name '"+g0+"' is reserved in "+this);if(void 0!==this.valuesById[g1]){if(!this.options||!this.options.allow_alias)throw Error("duplicate id "+g1+" in "+this);this.values[g0]=g1}else this.valuesById[this.values[g0]=g1]=g0;return this.comments[g0]=g2||null,this},g9.prototype.remove=function(g0){if(!util.isString(g0))throw TypeError("name must be a string");var g1=this.values[g0];if(null==g1)throw Error("name '"+g0+"' does not exist in "+this);return delete this.valuesById[g1],delete this.values[g0],delete this.comments[g0],this},g9.prototype.isReservedId=function(g0){return g8.isReservedId(this.reserved,g0)},g9.prototype.isReservedName=function(g0){return g8.isReservedName(this.reserved,g0)}},function(g0,g1,g2){(g1=g0.exports=g2(136)).Stream=g1,g1.Readable=g1,g1.Writable=g2(139),g1.Duplex=g2(28),g1.Transform=g2(141),g1.PassThrough=g2(272)},function(g0,g1,g2){var g3=g2(11),g4=g3.Buffer;function g5(g0,g1){for(var g2 in g0)g1[g2]=g0[g2]}function g6(g0,g1,g2){return g4(g0,g1,g2)}g4.from&&g4.alloc&&g4.allocUnsafe&&g4.allocUnsafeSlow?g0.exports=g3:(g5(g3,g1),g1.Buffer=g6),g5(g4,g6),g6.from=function(g0,g1,g2){if("number"==typeof g0)throw new TypeError("Argument must not be a number");return g4(g0,g1,g2)},g6.alloc=function(g0,g1,g2){if("number"!=typeof g0)throw new TypeError("Argument must be a number");var g3=g4(g0);return void 0!==g1?"string"==typeof g2?g3.fill(g1,g2):g3.fill(g1):g3.fill(0),g3},g6.allocUnsafe=function(g0){if("number"!=typeof g0)throw new TypeError("Argument must be a number");return g4(g0)},g6.allocUnsafeSlow=function(g0){if("number"!=typeof g0)throw new TypeError("Argument must be a number");return g3.SlowBuffer(g0)}},function(g0,g1,g2){"use strict";var g3=g2(35),g4=g2(146),g5=g2(95),g6=g2(147),g7=g2(148),g8=g0.exports=function(g0,g1){var g2,g4,g8,g9,g10;return arguments.length<2||"string"!=typeof g0?(g9=g1,g1=g0,g0=null):g9=arguments[2],g3(g0)?(g2=g7.call(g0,"c"),g4=g7.call(g0,"e"),g8=g7.call(g0,"w")):(g2=g8=!0,g4=!1),g10={value:g1,configurable:g2,enumerable:g4,writable:g8},g9?g5(g6(g9),g10):g10};g8.gs=function(g0,g1,g2){var g8,g9,g10,g11;return"string"!=typeof g0?(g10=g2,g2=g1,g1=g0,g0=null):g10=arguments[3],g3(g1)?g4(g1)?g3(g2)?g4(g2)||(g10=g2,g2=void 0):g2=void 0:(g10=g1,g1=g2=void 0):g1=void 0,g3(g0)?(g8=g7.call(g0,"c"),g9=g7.call(g0,"e")):(g8=!0,g9=!1),g11={get:g1,set:g2,configurable:g8,enumerable:g9},g10?g5(g6(g10),g11):g11}},function(g0,g1){var g2;g2=function(){return this}();try{g2=g2||new Function("return this")()}catch(g0){"object"==typeof window&&(g2=window)}g0.exports=g2},function(g0,g1,g2){var g3=g2(8);g0.exports=function(g0){if(!g3(g0))throw TypeError(g0+" is not an object!");return g0}},function(g0,g1){"function"==typeof Object.create?g0.exports=function(g0,g1){g1&&(g0.super_=g1,g0.prototype=Object.create(g1.prototype,{constructor:{value:g0,enumerable:!1,writable:!0,configurable:!0}}))}:g0.exports=function(g0,g1){if(g1){g0.super_=g1;var g2=function(){};g2.prototype=g1.prototype,g0.prototype=new g2,g0.prototype.constructor=g0}}},function(g0,g1,g2){"use strict";var g3=g2(34);g0.exports=function(g0){if(!g3(g0))throw new TypeError("Cannot use null or undefined");return g0}},function(g0,g1,g2){var g3=g2(40);g0.exports=function(g0,g1,g2){if(g3(g0),void 0===g1)return g0;switch(g2){case 1:return function(g2){return g0.call(g1,g2)};case 2:return function(g2,g3){return g0.call(g1,g2,g3)};case 3:return function(g2,g3,g4){return g0.call(g1,g2,g3,g4)}}return function(){return g0.apply(g1,arguments)}}},function(g0,g1,g2){var g3=g2(12),g4=g2(41);g0.exports=g2(9)?function(g0,g1,g2){return g3.f(g0,g1,g4(1,g2))}:function(g0,g1,g2){return g0[g1]=g2,g0}},function(g0,g1,g2){"use strict";g0.exports=g2(297)()?g2(63).Symbol:g2(298)},function(g0,g1,g2){"use strict";var g3=g7(g2(10)),g4=g7(g2(166)),g5=g7(g2(7)),g6=g7(g2(6));function g7(g0){return g0&&g0.__esModule?g0:{default:g0}}g0.exports=g14;var g8,g9,g10,g11,g12=g2(37);((g14.prototype=(0,g6.default)(g12.prototype)).constructor=g14).className="Field";var g13=/^required|optional|repeated$/;function g14(g0,g1,g2,g3,g4,g5,g6){if(g10.isObject(g3)?(g6=g4,g5=g3,g3=g4=void 0):g10.isObject(g4)&&(g6=g5,g5=g4,g4=void 0),g12.call(this,g0,g5),!g10.isInteger(g1)||g1<0)throw TypeError("id must be a non-negative integer");if(!g10.isString(g2))throw TypeError("type must be a string");if(void 0!==g3&&!g13.test(g3=g3.toString().toLowerCase()))throw TypeError("rule must be a string rule");if(void 0!==g4&&!g10.isString(g4))throw TypeError("extend must be a string");this.rule=g3&&"optional"!==g3?g3:void 0,this.type=g2,this.id=g1,this.extend=g4||void 0,this.required="required"===g3,this.optional=!this.required,this.repeated="repeated"===g3,this.map=!1,this.message=null,this.partOf=null,this.typeDefault=null,this.defaultValue=null,this.long=!!g10.Long&&void 0!==g9.long[g2],this.bytes="bytes"===g2,this.resolvedType=null,this.extensionField=null,this.declaringField=null,this._packed=null,this.comment=g6}g14.fromJSON=function(g0,g1){return new g14(g0,g1.id,g1.type,g1.rule,g1.extend,g1.options,g1.comment)},Object.defineProperty(g14.prototype,"packed",{get:function(){return null===this._packed&&(this._packed=!1!==this.getOption("packed")),this._packed}}),g14.prototype.setOption=function(g0,g1,g2){return"packed"===g0&&(this._packed=null),g12.prototype.setOption.call(this,g0,g1,g2)},g14.prototype.toJSON=function(g0){var g1=!!g0&&Boolean(g0.keepComments);return g10.toObject(["rule","optional"!==this.rule&&this.rule||void 0,"type",this.type,"id",this.id,"extend",this.extend,"options",this.options,"comment",g1?this.comment:void 0])},g14.prototype.resolve=function(){if(this.resolved)return this;if(void 0===(this.typeDefault=g9.defaults[this.type])&&(this.resolvedType=(this.declaringField?this.declaringField.parent:this.parent).lookupTypeOrEnum(this.type),this.resolvedType instanceof g11?this.typeDefault=null:this.typeDefault=this.resolvedType.values[(0,g5.default)(this.resolvedType.values)[0]]),this.options&&null!=this.options.default&&(this.typeDefault=this.options.default,this.resolvedType instanceof g8&&"string"==typeof this.typeDefault&&(this.typeDefault=this.resolvedType.values[this.typeDefault])),this.options&&(!0!==this.options.packed&&(void 0===this.options.packed||!this.resolvedType||this.resolvedType instanceof g8)||delete this.options.packed,(0,g5.default)(this.options).length||(this.options=void 0)),this.long)this.typeDefault=g10.Long.fromNumber(this.typeDefault,"u"===this.type.charAt(0)),g4.default&&(0,g4.default)(this.typeDefault);else if(this.bytes&&"string"==typeof this.typeDefault){var g0;g10.utf8.write(this.typeDefault,g0=g10.newBuffer(g10.utf8.length(this.typeDefault)),0),this.typeDefault=g0}return this.map?this.defaultValue=g10.emptyObject:this.repeated?this.defaultValue=g10.emptyArray:this.defaultValue=this.typeDefault,this.parent instanceof g11&&(this.parent.ctor.prototype[this.name]=this.defaultValue),g12.prototype.resolve.call(this)},g14.d=function(g0,g1,g2,g4){return"function"==typeof g1?g1=g10.decorateType(g1).name:g1&&"object"===(void 0===g1?"undefined":(0,g3.default)(g1))&&(g1=g10.decorateEnum(g1).name),function(g3,g5){g10.decorateType(g3.constructor).add(new g14(g5,g0,g1,g2,{default:g4}))}},g14._configure=function(){g11=g2(36),g8=g2(13),g9=g2(38),g10=g2(1)}},function(g0,g1,g2){"use strict";var g3="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;function g4(g0,g1){return Object.prototype.hasOwnProperty.call(g0,g1)}g1.assign=function(g0){for(var g1=Array.prototype.slice.call(arguments,1);g1.length;){var g2=g1.shift();if(g2){if("object"!=typeof g2)throw new TypeError(g2+"must be non-object");for(var g3 in g2)g4(g2,g3)&&(g0[g3]=g2[g3])}}return g0},g1.shrinkBuf=function(g0,g1){return g0.length===g1?g0:g0.subarray?g0.subarray(0,g1):(g0.length=g1,g0)};var g5={arraySet:function(g0,g1,g2,g3,g4){if(g1.subarray&&g0.subarray)g0.set(g1.subarray(g2,g2+g3),g4);else for(var g5=0;g5<g3;g5++)g0[g4+g5]=g1[g2+g5]},flattenChunks:function(g0){var g1,g2,g3,g4,g5,g6;for(g3=0,g1=0,g2=g0.length;g1<g2;g1++)g3+=g0[g1].length;for(g6=new Uint8Array(g3),g4=0,g1=0,g2=g0.length;g1<g2;g1++)g5=g0[g1],g6.set(g5,g4),g4+=g5.length;return g6}},g6={arraySet:function(g0,g1,g2,g3,g4){for(var g5=0;g5<g3;g5++)g0[g4+g5]=g1[g2+g5]},flattenChunks:function(g0){return[].concat.apply([],g0)}};g1.setTyped=function(g0){g0?(g1.Buf8=Uint8Array,g1.Buf16=Uint16Array,g1.Buf32=Int32Array,g1.assign(g1,g5)):(g1.Buf8=Array,g1.Buf16=Array,g1.Buf32=Array,g1.assign(g1,g6))},g1.setTyped(g3)},function(g0,g1){g0.exports=function(g0){try{return!!g0()}catch(g0){return!0}}},function(g0,g1){var g2={}.hasOwnProperty;g0.exports=function(g0,g1){return g2.call(g0,g1)}},function(g0,g1,g2){"use strict";var g3=g2(50),g4=Object.keys||function(g0){var g1=[];for(var g2 in g0)g1.push(g2);return g1};g0.exports=g11;var g5=g2(51);g5.inherits=g2(19);var g6=g2(136),g7=g2(139);g5.inherits(g11,g6);for(var g8=g4(g7.prototype),g9=0;g9<g8.length;g9++){var g10=g8[g9];g11.prototype[g10]||(g11.prototype[g10]=g7.prototype[g10])}function g11(g0){if(!(this instanceof g11))return new g11(g0);g6.call(this,g0),g7.call(this,g0),g0&&!1===g0.readable&&(this.readable=!1),g0&&!1===g0.writable&&(this.writable=!1),this.allowHalfOpen=!0,g0&&!1===g0.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",g12)}function g12(){this.allowHalfOpen||this._writableState.ended||g3.nextTick(g13,this)}function g13(g0){g0.end()}Object.defineProperty(g11.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(g11.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(g0){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=g0,this._writableState.destroyed=g0)}}),g11.prototype._destroy=function(g0,g1){this.push(null),this.end(),g3.nextTick(g1,g0)}},function(g0,g1,g2){"use strict";g0.exports=function(g0){if("function"!=typeof g0)throw new TypeError(g0+" is not a function");return g0}},function(g0,g1,g2){(function(g1,g3){var g4=g2(14),g5=g2(348),g6=g2(19),g7=g2(351),g8=g1.from&&g1.from!==Uint8Array.from?g1.from([0]):new g1([0]),g9=function(g0,g1){g0._corked?g0.once("uncork",g1):g1()},g10=function(g0,g1){return function(g2){g2?function(g0,g1){g0._autoDestroy&&g0.destroy(g1)}(g0,"premature close"===g2.message?null:g2):g1&&!g0._ended&&g0.end()}},g11=function(g0,g1,g2){if(!(this instanceof g11))return new g11(g0,g1,g2);g4.Duplex.call(this,g2),this._writable=null,this._readable=null,this._readable2=null,this._autoDestroy=!g2||!1!==g2.autoDestroy,this._forwardDestroy=!g2||!1!==g2.destroy,this._forwardEnd=!g2||!1!==g2.end,this._corked=1,this._ondrain=null,this._drained=!1,this._forwarding=!1,this._unwrite=null,this._unread=null,this._ended=!1,this.destroyed=!1,g0&&this.setWritable(g0),g1&&this.setReadable(g1)};g6(g11,g4.Duplex),g11.obj=function(g0,g1,g2){return g2||(g2={}),g2.objectMode=!0,g2.highWaterMark=16,new g11(g0,g1,g2)},g11.prototype.cork=function(){1==++this._corked&&this.emit("cork")},g11.prototype.uncork=function(){this._corked&&0==--this._corked&&this.emit("uncork")},g11.prototype.setWritable=function(g0){if(this._unwrite&&this._unwrite(),this.destroyed)g0&&g0.destroy&&g0.destroy();else if(null!==g0&&!1!==g0){var g1=this,g2=g5(g0,{writable:!0,readable:!1},g10(this,this._forwardEnd)),g4=function(){var g0=g1._ondrain;g1._ondrain=null,g0&&g0()};this._unwrite&&g3.nextTick(g4),this._writable=g0,this._writable.on("drain",g4),this._unwrite=function(){g1._writable.removeListener("drain",g4),g2()},this.uncork()}else this.end()},g11.prototype.setReadable=function(g0){if(this._unread&&this._unread(),this.destroyed)g0&&g0.destroy&&g0.destroy();else{if(null===g0||!1===g0)return this.push(null),void this.resume();var g1,g2=this,g3=g5(g0,{writable:!1,readable:!0},g10(this)),g6=function(){g2._forward()},g7=function(){g2.push(null)};this._drained=!0,this._readable=g0,this._readable2=g0._readableState?g0:(g1=g0,new g4.Readable({objectMode:!0,highWaterMark:16}).wrap(g1)),this._readable2.on("readable",g6),this._readable2.on("end",g7),this._unread=function(){g2._readable2.removeListener("readable",g6),g2._readable2.removeListener("end",g7),g3()},this._forward()}},g11.prototype._read=function(){this._drained=!0,this._forward()},g11.prototype._forward=function(){if(!this._forwarding&&this._readable2&&this._drained){var g0;for(this._forwarding=!0;this._drained&&null!==(g0=g7(this._readable2));)this.destroyed||(this._drained=this.push(g0));this._forwarding=!1}},g11.prototype.destroy=function(g0){if(!this.destroyed){this.destroyed=!0;var g1=this;g3.nextTick((function(){g1._destroy(g0)}))}},g11.prototype._destroy=function(g0){if(g0){var g1=this._ondrain;this._ondrain=null,g1?g1(g0):this.emit("error",g0)}this._forwardDestroy&&(this._readable&&this._readable.destroy&&this._readable.destroy(),this._writable&&this._writable.destroy&&this._writable.destroy()),this.emit("close")},g11.prototype._write=function(g0,g1,g2){return this.destroyed?g2():this._corked?g9(this,this._write.bind(this,g0,g1,g2)):g0===g8?this._finish(g2):this._writable?void(!1===this._writable.write(g0)?this._ondrain=g2:g2()):g2()},g11.prototype._finish=function(g0){var g1=this;this.emit("preend"),g9(this,(function(){var g2,g3;g2=g1._forwardEnd&&g1._writable,g3=function(){!1===g1._writableState.prefinished&&(g1._writableState.prefinished=!0),g1.emit("prefinish"),g9(g1,g0)},g2?g2._writableState&&g2._writableState.finished?g3():g2._writableState?g2.end(g3):(g2.end(),g3()):g3()}))},g11.prototype.end=function(g0,g1,g2){return"function"==typeof g0?this.end(null,null,g0):"function"==typeof g1?this.end(g0,null,g1):(this._ended=!0,g0&&this.write(g0),this._writableState.ending||this.write(g8),g4.Writable.prototype.end.call(this,g2))},g0.exports=g11}).call(this,g2(11).Buffer,g2(3))},function(g0,g1,g2){"use strict";var g3=g2(205)(!0);g2(72)(String,"String",(function(g0){this._t=String(g0),this._i=0}),(function(){var g0,g1=this._t,g2=this._i;return g2>=g1.length?{value:void 0,done:!0}:(g0=g3(g1,g2),this._i+=g0.length,{value:g0,done:!1})}))},function(g0,g1,g2){var g3=g2(75),g4=g2(71);g0.exports=function(g0){return g3(g4(g0))}},function(g0,g1,g2){var g3=g2(71);g0.exports=function(g0){return Object(g3(g0))}},function(g0,g1,g2){"use strict";var g3=g2(276)();g0.exports=function(g0){return g0!==g3&&null!==g0}},function(g0,g1,g2){"use strict";g0.exports=function(g0){return null!=g0}},function(g0,g1,g2){"use strict";var g3=g6(g2(7)),g4=g6(g2(169)),g5=g6(g2(6));function g6(g0){return g0&&g0.__esModule?g0:{default:g0}}g0.exports=g22;var g7,g8,g9,g10,g11,g12,g13,g14,g15,g16,g17,g18,g19,g20,g21=g2(52);function g22(g0,g1){g21.call(this,g0,g1),this.fields={},this.oneofs=void 0,this.extensions=void 0,this.reserved=void 0,this.group=void 0,this._fieldsById=null,this._fieldsArray=null,this._oneofsArray=null,this._ctor=null}function g23(g0){return g0._fieldsById=g0._fieldsArray=g0._oneofsArray=null,delete g0.encode,delete g0.decode,delete g0.verify,g0}((g22.prototype=(0,g5.default)(g21.prototype)).constructor=g22).className="Type",(0,g4.default)(g22.prototype,{fieldsById:{get:function(){if(this._fieldsById)return this._fieldsById;this._fieldsById={};for(var g0=(0,g3.default)(this.fields),g1=0;g1<g0.length;++g1){var g2=this.fields[g0[g1]],g4=g2.id;if(this._fieldsById[g4])throw Error("duplicate id "+g4+" in "+this);this._fieldsById[g4]=g2}return this._fieldsById}},fieldsArray:{get:function(){return this._fieldsArray||(this._fieldsArray=g13.toArray(this.fields))}},oneofsArray:{get:function(){return this._oneofsArray||(this._oneofsArray=g13.toArray(this.oneofs))}},ctor:{get:function(){return this._ctor||(this.ctor=g22.generateConstructor(this))},set:function(g0){var g1=g0.prototype;g1 instanceof g9||((g0.prototype=new g9).constructor=g0,g13.merge(g0.prototype,g1)),g0.$type=g0.prototype.$type=this,g13.merge(g0,g9,!0),g13.merge(g0.prototype,g9,!0),this._ctor=g0;for(var g2=0;g2<this.fieldsArray.length;++g2)this._fieldsArray[g2].resolve();var g5={};for(g2=0;g2<this.oneofsArray.length;++g2){var g6=this._oneofsArray[g2].resolve().name,g7=function(g0){for(var g1={},g2=0;g2<g0.length;++g2)g1[g0[g2]]=0;return{setter:function(g2){if(!(g0.indexOf(g2)<0)){g1[g2]=1;for(var g3=0;g3<g0.length;++g3)g0[g3]!==g2&&delete this[g0[g3]]}},getter:function(){for(var g0=(0,g3.default)(this),g2=g0.length-1;g2>-1;--g2)if(1===g1[g0[g2]]&&void 0!==this[g0[g2]]&&null!==this[g0[g2]])return g0[g2]}}}(this._oneofsArray[g2].oneof);g5[g6]={get:g7.getter,set:g7.setter}}g2&&(0,g4.default)(g0.prototype,g5)}}}),g22.generateConstructor=function(g0){return function(g1){for(var g2,g4=0;g4<g0.fieldsArray.length;g4++)(g2=g0._fieldsArray[g4]).map?this[g2.name]={}:g2.repeated&&(this[g2.name]=[]);if(g1)for(var g5=(0,g3.default)(g1),g6=0;g6<g5.length;++g6)null!=g1[g5[g6]]&&(this[g5[g6]]=g1[g5[g6]])}},g22.fromJSON=function(g0,g1){var g2=new g22(g0,g1.options);g2.extensions=g1.extensions,g2.reserved=g1.reserved;for(var g4=(0,g3.default)(g1.fields),g5=0;g5<g4.length;++g5)g2.add((void 0!==g1.fields[g4[g5]].keyType?g20.fromJSON:g8.fromJSON)(g4[g5],g1.fields[g4[g5]]));if(g1.oneofs)for(g4=(0,g3.default)(g1.oneofs),g5=0;g5<g4.length;++g5)g2.add(g10.fromJSON(g4[g5],g1.oneofs[g4[g5]]));if(g1.nested)for(g4=(0,g3.default)(g1.nested),g5=0;g5<g4.length;++g5){var g6=g1.nested[g4[g5]];g2.add((void 0!==g6.id?g8.fromJSON:void 0!==g6.fields?g22.fromJSON:void 0!==g6.values?g7.fromJSON:void 0!==g6.methods?g17.fromJSON:g21.fromJSON)(g4[g5],g6))}return g1.extensions&&g1.extensions.length&&(g2.extensions=g1.extensions),g1.reserved&&g1.reserved.length&&(g2.reserved=g1.reserved),g1.group&&(g2.group=!0),g1.comment&&(g2.comment=g1.comment),g2},g22.prototype.toJSON=function(g0){var g1=g21.prototype.toJSON.call(this,g0),g2=!!g0&&Boolean(g0.keepComments);return{options:g1&&g1.options||void 0,oneofs:g21.arrayToJSON(this.oneofsArray,g0),fields:g21.arrayToJSON(this.fieldsArray.filter((function(g0){return!g0.declaringField})),g0)||{},extensions:this.extensions&&this.extensions.length?this.extensions:void 0,reserved:this.reserved&&this.reserved.length?this.reserved:void 0,group:this.group||void 0,nested:g1&&g1.nested||void 0,comment:g2?this.comment:void 0}},g22.prototype.resolveAll=function(){for(var g0=this.fieldsArray,g1=0;g1<g0.length;)g0[g1++].resolve();var g2=this.oneofsArray;for(g1=0;g1<g2.length;)g2[g1++].resolve();return g21.prototype.resolveAll.call(this)},g22.prototype.get=function(g0){return this.fields[g0]||this.oneofs&&this.oneofs[g0]||this.nested&&this.nested[g0]||null},g22.prototype.add=function(g0){if(this.get(g0.name))throw Error("duplicate name '"+g0.name+"' in "+this);if(g0 instanceof g8&&void 0===g0.extend){if(this._fieldsById&&this._fieldsById[g0.id])throw Error("duplicate id "+g0.id+" in "+this);if(this.isReservedId(g0.id))throw Error("id "+g0.id+" is reserved in "+this);if(this.isReservedName(g0.name))throw Error("name '"+g0.name+"' is reserved in "+this);return g0.parent&&g0.parent.remove(g0),this.fields[g0.name]=g0,g0.message=this,g0.onAdd(this),g23(this)}return g0 instanceof g10?(this.oneofs||(this.oneofs={}),this.oneofs[g0.name]=g0,g0.onAdd(this),g23(this)):g21.prototype.add.call(this,g0)},g22.prototype.remove=function(g0){if(g0 instanceof g8&&void 0===g0.extend){if(!this.fields||this.fields[g0.name]!==g0)throw Error(g0+" is not a member of "+this);return delete this.fields[g0.name],g0.parent=null,g0.onRemove(this),g23(this)}if(g0 instanceof g10){if(!this.oneofs||this.oneofs[g0.name]!==g0)throw Error(g0+" is not a member of "+this);return delete this.oneofs[g0.name],g0.parent=null,g0.onRemove(this),g23(this)}return g21.prototype.remove.call(this,g0)},g22.prototype.isReservedId=function(g0){return g21.isReservedId(this.reserved,g0)},g22.prototype.isReservedName=function(g0){return g21.isReservedName(this.reserved,g0)},g22.prototype.create=function(g0){return new this.ctor(g0)},g22.prototype.setup=function(){for(var g0=this.fullName,g1=[],g2=0;g2<this.fieldsArray.length;++g2)g1.push(this._fieldsArray[g2].resolve().resolvedType);this.encode=g15(this)({Writer:g11,types:g1,util:g13}),this.decode=g16(this)({Reader:g12,types:g1,util:g13}),this.verify=g14(this)({types:g1,util:g13}),this.fromObject=g19.fromObject(this)({types:g1,util:g13}),this.toObject=g19.toObject(this)({types:g1,util:g13});var g3=g18[g0];if(g3){var g4=(0,g5.default)(this);g4.fromObject=this.fromObject,this.fromObject=g3.fromObject.bind(g4),g4.toObject=this.toObject,this.toObject=g3.toObject.bind(g4)}return this},g22.prototype.encode=function(g0,g1){return this.setup().encode(g0,g1)},g22.prototype.encodeDelimited=function(g0,g1){return this.encode(g0,g1&&g1.len?g1.fork():g1).ldelim()},g22.prototype.decode=function(g0,g1){return this.setup().decode(g0,g1)},g22.prototype.decodeDelimited=function(g0){return g0 instanceof g12||(g0=g12.create(g0)),this.decode(g0,g0.uint32())},g22.prototype.verify=function(g0){return this.setup().verify(g0)},g22.prototype.fromObject=function(g0){return this.setup().fromObject(g0)},g22.prototype.toObject=function(g0,g1){return this.setup().toObject(g0,g1)},g22.d=function(g0){return function(g1){g13.decorateType(g1,g0)}},g22._configure=function(){g7=g2(13),g8=g2(24),g9=g2(102),g10=g2(53),g11=g2(165),g12=g2(174),g13=g2(1),g14=g2(175),g15=g2(176),g16=g2(177),g17=g2(68),g18=g2(178),g19=g2(179),g20=g2(100)}},function(g0,g1,g2){"use strict";var g3,g4,g5=g7(g2(7)),g6=g7(g2(169));function g7(g0){return g0&&g0.__esModule?g0:{default:g0}}function g8(g0,g1){if(!g3.isString(g0))throw TypeError("name must be a string");if(g1&&!g3.isObject(g1))throw TypeError("options must be an object");this.options=g1,this.name=g0,this.parent=null,this.resolved=!1,this.comment=null,this.filename=null}g0.exports=g8,g8.className="ReflectionObject",(0,g6.default)(g8.prototype,{root:{get:function(){for(var g0=this;null!==g0.parent;)g0=g0.parent;return g0}},fullName:{get:function(){for(var g0=[this.name],g1=this.parent;g1;)g0.unshift(g1.name),g1=g1.parent;return g0.join(".")}}}),g8.prototype.toJSON=function(){throw Error()},g8.prototype.onAdd=function(g0){this.parent&&this.parent!==g0&&this.parent.remove(this),this.parent=g0,this.resolved=!1;var g1=g0.root;g1 instanceof g4&&g1._handleAdd(this)},g8.prototype.onRemove=function(g0){var g1=g0.root;g1 instanceof g4&&g1._handleRemove(this),this.parent=null,this.resolved=!1},g8.prototype.resolve=function(){return this.resolved||this.root instanceof g4&&(this.resolved=!0),this},g8.prototype.getOption=function(g0){if(this.options)return this.options[g0]},g8.prototype.setOption=function(g0,g1,g2){return g2&&this.options&&void 0!==this.options[g0]||((this.options||(this.options={}))[g0]=g1),this},g8.prototype.setOptions=function(g0,g1){if(g0)for(var g2=(0,g5.default)(g0),g3=0;g3<g2.length;++g3)this.setOption(g2[g3],g0[g2[g3]],g1);return this},g8.prototype.toString=function(){var g0=this.constructor.className,g1=this.fullName;return g1.length?g0+" "+g1:g0},g8._configure=function(g0){g4=g2(67),g3=g2(1)}},function(g0,g1,g2){"use strict";var g3=g0.exports,g4=g2(1),g5=["double","float","int32","uint32","sint32","fixed32","sfixed32","int64","uint64","sint64","fixed64","sfixed64","bool","string","bytes"];function g6(g0,g1){var g2=0,g3={};for(g1|=0;g2<g0.length;)g3[g5[g2+g1]]=g0[g2++];return g3}g3.basic=g6([1,5,0,0,0,5,5,0,0,0,1,1,0,2,2]),g3.defaults=g6([0,0,0,0,0,0,0,0,0,0,0,0,!1,"",g4.emptyArray,null]),g3.long=g6([0,0,0,1,1],7),g3.mapKey=g6([0,0,0,5,5,0,0,0,1,1,0,2],2),g3.packed=g6([1,5,0,0,0,5,5,0,0,0,1,1,0]),g3._configure=function(){g4=g2(1)}},function(g0,g1){g0.exports=!0},function(g0,g1){g0.exports=function(g0){if("function"!=typeof g0)throw TypeError(g0+" is not a function!");return g0}},function(g0,g1){g0.exports=function(g0,g1){return{enumerable:!(1&g0),configurable:!(2&g0),writable:!(4&g0),value:g1}}},function(g0,g1){g0.exports={}},function(g0,g1,g2){var g3=g2(109),g4=g2(78);g0.exports=Object.keys||function(g0){return g3(g0,g4)}},function(g0,g1){var g2={}.toString;g0.exports=function(g0){return g2.call(g0).slice(8,-1)}},function(g0,g1,g2){var g3=g2(12).f,g4=g2(27),g5=g2(5)("toStringTag");g0.exports=function(g0,g1,g2){g0&&!g4(g0=g2?g0:g0.prototype,g5)&&g3(g0,g5,{configurable:!0,value:g1})}},function(g0,g1,g2){g2(213);for(var g3=g2(4),g4=g2(22),g5=g2(42),g6=g2(5)("toStringTag"),g7="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),g8=0;g8<g7.length;g8++){var g9=g7[g8],g10=g3[g9],g11=g10&&g10.prototype;g11&&!g11[g6]&&g4(g11,g6,g9),g5[g9]=g5.Array}},function(g0,g1,g2){var g3=g2(21),g4=g2(111),g5=g2(112),g6=g2(18),g7=g2(55),g8=g2(79),g9={},g10={};(g1=g0.exports=function(g0,g1,g2,g11,g12){var g13,g14,g15,g16,g17=g12?function(){return g0}:g8(g0),g18=g3(g2,g11,g1?2:1),g19=0;if("function"!=typeof g17)throw TypeError(g0+" is not iterable!");if(g5(g17)){for(g13=g7(g0.length);g13>g19;g19++)if((g16=g1?g18(g6(g14=g0[g19])[0],g14[1]):g18(g0[g19]))===g9||g16===g10)return g16}else for(g15=g17.call(g0);!(g14=g15.next()).done;)if((g16=g4(g15,g18,g14.value,g1))===g9||g16===g10)return g16}).BREAK=g9,g1.RETURN=g10},function(g0,g1,g2){"use strict";var g3=g5(g2(69)),g4=g5(g2(88));function g5(g0){return g0&&g0.__esModule?g0:{default:g0}}var g6=g2(61).decode,g7=g2(61).encode,g8=g2(247),g9=g2(248).sm4,g10=[0,17,34,51,68,85,102,119,120,121,122,123,124,125,126,127],g11=!1;function g12(g0){var g1=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",g2=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],g5=g10;g1.length>0&&(g5=g14(g1));var g6=new Array;if(g2){var g12=parseInt(((new Date).getTime()/1e3-1514736e3)/3600);g6.push(255&g12),g6.push((65280&g12)>>8),g6.push((16711680&g12)>>16),g6.push(g12>>24)}if("string"==typeof g0){var g13;(g13=g6).push.apply(g13,(0,g4.default)(g15(g0)))}else{var g16=(0,g3.default)(g0);g16.unshift.apply(g16,(0,g4.default)(g6)),g6=g16}if(g11){var g17=g9.encrypt(g6,g5,{iv:g5,mode:"cbc",padding:"pkcs#5",output:"array"});return g7(g17)}g6=g8.padding.pkcs7.pad(g6);var g18=new g8.ModeOfOperation.cbc(g5,g5),g19=g18.encrypt(g6);return g7(g19)}function g13(g0,g1,g2){var g3,g5=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],g7=g10;if(g1.length>0&&(g7=g14(g1)),g11){var g12=new Uint8Array(g6(g0)),g13=[].concat((0,g4.default)(g12));g3=g9.decrypt(g13,g7,{iv:g7,mode:"cbc",padding:"pkcs#5",output:"array"}),g3=new Uint8Array(g3)}else{var g15=new Uint8Array(g6(g0)),g16=[].concat((0,g4.default)(g15)),g17=new g8.ModeOfOperation.cbc(g7,g7);g3=g17.decrypt(g16),g3=g8.padding.pkcs7.strip(g3)}if(g5&&g3.length>4){if(g2){var g18=0;g18+=g3[3]&&255,g18<<=8,g18+=g3[2]&&255,g18<<=8,g18+=g3[1]&&255,g18<<=8,g18+=g3[0]&&255,g18<<=8;var g19=((new Date).getUTCMilliseconds()/1e3-1514736e3)/3600;return g19-g18>24&&g2?null:g3.slice(4,g3.length)}return g3.slice(4,g3.length)}return g3.length>4?g3:null}function g14(g0){for(var g1=[],g2=0;g2<g0.length&&g2<16;g2++)g1.push(g0.charCodeAt(g2));return new Uint8Array(g1)}function g15(g0){var g1,g2,g3=new Array;g1=g0.length;for(var g4=0;g4<g1;g4++)(g2=g0.charCodeAt(g4))>=65536&&g2<=1114111?(g3.push(g2>>18&7|240),g3.push(g2>>12&63|128),g3.push(g2>>6&63|128),g3.push(63&g2|128)):g2>=2048&&g2<=65535?(g3.push(g2>>12&15|224),g3.push(g2>>6&63|128),g3.push(63&g2|128)):g2>=128&&g2<=2047?(g3.push(g2>>6&31|192),g3.push(63&g2|128)):g3.push(255&g2);return g3}g0.exports.useEncryptSM4=function(){g11=!0},g0.exports.AESEncrypt=g12,g0.exports.AESDecrypt=g13,g0.exports.Uint8ToStr=function(g0){for(var g1=0,g2="";g1<g0.length;g1++)g2+=String.fromCharCode(g0[g1]);return g2}},function(g0,g1,g2){"use strict";var g3,g4="object"==typeof Reflect?Reflect:null,g5=g4&&"function"==typeof g4.apply?g4.apply:function(g0,g1,g2){return Function.prototype.apply.call(g0,g1,g2)};g3=g4&&"function"==typeof g4.ownKeys?g4.ownKeys:Object.getOwnPropertySymbols?function(g0){return Object.getOwnPropertyNames(g0).concat(Object.getOwnPropertySymbols(g0))}:function(g0){return Object.getOwnPropertyNames(g0)};var g6=Number.isNaN||function(g0){return g0!=g0};function g7(){g7.init.call(this)}g0.exports=g7,g7.EventEmitter=g7,g7.prototype._events=void 0,g7.prototype._eventsCount=0,g7.prototype._maxListeners=void 0;var g8=10;function g9(g0){return void 0===g0._maxListeners?g7.defaultMaxListeners:g0._maxListeners}function g10(g0,g1,g2,g3){var g4,g5,g6,g7;if("function"!=typeof g2)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof g2);if(void 0===(g5=g0._events)?(g5=g0._events=Object.create(null),g0._eventsCount=0):(void 0!==g5.newListener&&(g0.emit("newListener",g1,g2.listener?g2.listener:g2),g5=g0._events),g6=g5[g1]),void 0===g6)g6=g5[g1]=g2,++g0._eventsCount;else if("function"==typeof g6?g6=g5[g1]=g3?[g2,g6]:[g6,g2]:g3?g6.unshift(g2):g6.push(g2),(g4=g9(g0))>0&&g6.length>g4&&!g6.warned){g6.warned=!0;var g8=new Error("Possible EventEmitter memory leak detected. "+g6.length+" "+String(g1)+" listeners added. Use emitter.setMaxListeners() to increase limit");g8.name="MaxListenersExceededWarning",g8.emitter=g0,g8.type=g1,g8.count=g6.length,g7=g8,console&&console.warn&&console.warn(g7)}return g0}function g11(){for(var g0=[],g1=0;g1<arguments.length;g1++)g0.push(arguments[g1]);this.fired||(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,g5(this.listener,this.target,g0))}function g12(g0,g1,g2){var g3={fired:!1,wrapFn:void 0,target:g0,type:g1,listener:g2},g4=g11.bind(g3);return g4.listener=g2,g3.wrapFn=g4,g4}function g13(g0,g1,g2){var g3=g0._events;if(void 0===g3)return[];var g4=g3[g1];return void 0===g4?[]:"function"==typeof g4?g2?[g4.listener||g4]:[g4]:g2?function(g0){for(var g1=new Array(g0.length),g2=0;g2<g1.length;++g2)g1[g2]=g0[g2].listener||g0[g2];return g1}(g4):g15(g4,g4.length)}function g14(g0){var g1=this._events;if(void 0!==g1){var g2=g1[g0];if("function"==typeof g2)return 1;if(void 0!==g2)return g2.length}return 0}function g15(g0,g1){for(var g2=new Array(g1),g3=0;g3<g1;++g3)g2[g3]=g0[g3];return g2}Object.defineProperty(g7,"defaultMaxListeners",{enumerable:!0,get:function(){return g8},set:function(g0){if("number"!=typeof g0||g0<0||g6(g0))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+g0+".");g8=g0}}),g7.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},g7.prototype.setMaxListeners=function(g0){if("number"!=typeof g0||g0<0||g6(g0))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+g0+".");return this._maxListeners=g0,this},g7.prototype.getMaxListeners=function(){return g9(this)},g7.prototype.emit=function(g0){for(var g1=[],g2=1;g2<arguments.length;g2++)g1.push(arguments[g2]);var g3="error"===g0,g4=this._events;if(void 0!==g4)g3=g3&&void 0===g4.error;else if(!g3)return!1;if(g3){var g6;if(g1.length>0&&(g6=g1[0]),g6 instanceof Error)throw g6;var g7=new Error("Unhandled error."+(g6?" ("+g6.message+")":""));throw g7.context=g6,g7}var g8=g4[g0];if(void 0===g8)return!1;if("function"==typeof g8)g5(g8,this,g1);else{var g9=g8.length,g10=g15(g8,g9);for(g2=0;g2<g9;++g2)g5(g10[g2],this,g1)}return!0},g7.prototype.addListener=function(g0,g1){return g10(this,g0,g1,!1)},g7.prototype.on=g7.prototype.addListener,g7.prototype.prependListener=function(g0,g1){return g10(this,g0,g1,!0)},g7.prototype.once=function(g0,g1){if("function"!=typeof g1)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof g1);return this.on(g0,g12(this,g0,g1)),this},g7.prototype.prependOnceListener=function(g0,g1){if("function"!=typeof g1)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof g1);return this.prependListener(g0,g12(this,g0,g1)),this},g7.prototype.removeListener=function(g0,g1){var g2,g3,g4,g5,g6;if("function"!=typeof g1)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof g1);if(void 0===(g3=this._events))return this;if(void 0===(g2=g3[g0]))return this;if(g2===g1||g2.listener===g1)0==--this._eventsCount?this._events=Object.create(null):(delete g3[g0],g3.removeListener&&this.emit("removeListener",g0,g2.listener||g1));else if("function"!=typeof g2){for(g4=-1,g5=g2.length-1;g5>=0;g5--)if(g2[g5]===g1||g2[g5].listener===g1){g6=g2[g5].listener,g4=g5;break}if(g4<0)return this;0===g4?g2.shift():function(g0,g1){for(;g1+1<g0.length;g1++)g0[g1]=g0[g1+1];g0.pop()}(g2,g4),1===g2.length&&(g3[g0]=g2[0]),void 0!==g3.removeListener&&this.emit("removeListener",g0,g6||g1)}return this},g7.prototype.off=g7.prototype.removeListener,g7.prototype.removeAllListeners=function(g0){var g1,g2,g3;if(void 0===(g2=this._events))return this;if(void 0===g2.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==g2[g0]&&(0==--this._eventsCount?this._events=Object.create(null):delete g2[g0]),this;if(0===arguments.length){var g4,g5=Object.keys(g2);for(g3=0;g3<g5.length;++g3)"removeListener"!==(g4=g5[g3])&&this.removeAllListeners(g4);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(g1=g2[g0]))this.removeListener(g0,g1);else if(void 0!==g1)for(g3=g1.length-1;g3>=0;g3--)this.removeListener(g0,g1[g3]);return this},g7.prototype.listeners=function(g0){return g13(this,g0,!0)},g7.prototype.rawListeners=function(g0){return g13(this,g0,!1)},g7.listenerCount=function(g0,g1){return"function"==typeof g0.listenerCount?g0.listenerCount(g1):g14.call(g0,g1)},g7.prototype.listenerCount=g14,g7.prototype.eventNames=function(){return this._eventsCount>0?g3(this._events):[]}},function(g0,g1,g2){"use strict";(function(g1){void 0===g1||!g1.version||0===g1.version.indexOf("v0.")||0===g1.version.indexOf("v1.")&&0!==g1.version.indexOf("v1.8.")?g0.exports={nextTick:function(g0,g2,g3,g4){if("function"!=typeof g0)throw new TypeError('"callback" argument must be a function');var g5,g6,g7=arguments.length;switch(g7){case 0:case 1:return g1.nextTick(g0);case 2:return g1.nextTick((function(){g0.call(null,g2)}));case 3:return g1.nextTick((function(){g0.call(null,g2,g3)}));case 4:return g1.nextTick((function(){g0.call(null,g2,g3,g4)}));default:for(g5=new Array(g7-1),g6=0;g6<g5.length;)g5[g6++]=arguments[g6];return g1.nextTick((function(){g0.apply(null,g5)}))}}}:g0.exports=g1}).call(this,g2(3))},function(g0,g1,g2){(function(g0){function g2(g0){return Object.prototype.toString.call(g0)}g1.isArray=function(g0){return Array.isArray?Array.isArray(g0):"[object Array]"===g2(g0)},g1.isBoolean=function(g0){return"boolean"==typeof g0},g1.isNull=function(g0){return null===g0},g1.isNullOrUndefined=function(g0){return null==g0},g1.isNumber=function(g0){return"number"==typeof g0},g1.isString=function(g0){return"string"==typeof g0},g1.isSymbol=function(g0){return"symbol"==typeof g0},g1.isUndefined=function(g0){return void 0===g0},g1.isRegExp=function(g0){return"[object RegExp]"===g2(g0)},g1.isObject=function(g0){return"object"==typeof g0&&null!==g0},g1.isDate=function(g0){return"[object Date]"===g2(g0)},g1.isError=function(g0){return"[object Error]"===g2(g0)||g0 instanceof Error},g1.isFunction=function(g0){return"function"==typeof g0},g1.isPrimitive=function(g0){return null===g0||"boolean"==typeof g0||"number"==typeof g0||"string"==typeof g0||"symbol"==typeof g0||void 0===g0},g1.isBuffer=g0.isBuffer}).call(this,g2(11).Buffer)},function(g0,g1,g2){"use strict";var g3=g5(g2(7)),g4=g5(g2(6));function g5(g0){return g0&&g0.__esModule?g0:{default:g0}}g0.exports=g13;var g6,g7,g8,g9,g10,g11=g2(37);function g12(g0,g1){if(g0&&g0.length){for(var g2={},g3=0;g3<g0.length;++g3)g2[g0[g3].name]=g0[g3].toJSON(g1);return g2}}function g13(g0,g1){g11.call(this,g0,g1),this.nested=void 0,this._nestedArray=null}function g14(g0){return g0._nestedArray=null,g0}((g13.prototype=(0,g4.default)(g11.prototype)).constructor=g13).className="Namespace",g13.fromJSON=function(g0,g1){return new g13(g0,g1.options).addJSON(g1.nested)},g13.arrayToJSON=g12,g13.isReservedId=function(g0,g1){if(g0)for(var g2=0;g2<g0.length;++g2)if("string"!=typeof g0[g2]&&g0[g2][0]<=g1&&g0[g2][1]>=g1)return!0;return!1},g13.isReservedName=function(g0,g1){if(g0)for(var g2=0;g2<g0.length;++g2)if(g0[g2]===g1)return!0;return!1},Object.defineProperty(g13.prototype,"nestedArray",{get:function(){return this._nestedArray||(this._nestedArray=g8.toArray(this.nested))}}),g13.prototype.toJSON=function(g0){return g8.toObject(["options",this.options,"nested",g12(this.nestedArray,g0)])},g13.prototype.addJSON=function(g0){if(g0)for(var g1,g2=(0,g3.default)(g0),g4=0;g4<g2.length;++g4)g1=g0[g2[g4]],this.add((void 0!==g1.fields?g9.fromJSON:void 0!==g1.values?g6.fromJSON:void 0!==g1.methods?g10.fromJSON:void 0!==g1.id?g7.fromJSON:g13.fromJSON)(g2[g4],g1));return this},g13.prototype.get=function(g0){return this.nested&&this.nested[g0]||null},g13.prototype.getEnum=function(g0){if(this.nested&&this.nested[g0]instanceof g6)return this.nested[g0].values;throw Error("no such enum: "+g0)},g13.prototype.add=function(g0){if(!(g0 instanceof g7&&void 0!==g0.extend||g0 instanceof g9||g0 instanceof g6||g0 instanceof g10||g0 instanceof g13))throw TypeError("object must be a valid nested object");if(this.nested){var g1=this.get(g0.name);if(g1){if(!(g1 instanceof g13&&g0 instanceof g13)||g1 instanceof g9||g1 instanceof g10)throw Error("duplicate name '"+g0.name+"' in "+this);for(var g2=g1.nestedArray,g3=0;g3<g2.length;++g3)g0.add(g2[g3]);this.remove(g1),this.nested||(this.nested={}),g0.setOptions(g1.options,!0)}}else this.nested={};return this.nested[g0.name]=g0,g0.onAdd(this),g14(this)},g13.prototype.remove=function(g0){if(!(g0 instanceof g11))throw TypeError("object must be a ReflectionObject");if(g0.parent!==this)throw Error(g0+" is not a member of "+this);return delete this.nested[g0.name],(0,g3.default)(this.nested).length||(this.nested=void 0),g0.onRemove(this),g14(this)},g13.prototype.define=function(g0,g1){if(g8.isString(g0))g0=g0.split(".");else if(!Array.isArray(g0))throw TypeError("illegal path");if(g0&&g0.length&&""===g0[0])throw Error("path must be relative");for(var g2=this;g0.length>0;){var g3=g0.shift();if(g2.nested&&g2.nested[g3]){if(!((g2=g2.nested[g3])instanceof g13))throw Error("path conflicts with non-namespace objects")}else g2.add(g2=new g13(g3))}return g1&&g2.addJSON(g1),g2},g13.prototype.resolveAll=function(){for(var g0=this.nestedArray,g1=0;g1<g0.length;)g0[g1]instanceof g13?g0[g1++].resolveAll():g0[g1++].resolve();return this.resolve()},g13.prototype.lookup=function(g0,g1,g2){if("boolean"==typeof g1?(g2=g1,g1=void 0):g1&&!Array.isArray(g1)&&(g1=[g1]),g8.isString(g0)&&g0.length){if("."===g0)return this.root;g0=g0.split(".")}else if(!g0.length)return this;if(""===g0[0])return this.root.lookup(g0.slice(1),g1);var g3=this.get(g0[0]);if(g3){if(1===g0.length){if(!g1||g1.indexOf(g3.constructor)>-1)return g3}else if(g3 instanceof g13&&(g3=g3.lookup(g0.slice(1),g1,!0)))return g3}else for(var g4=0;g4<this.nestedArray.length;++g4)if(this._nestedArray[g4]instanceof g13&&(g3=this._nestedArray[g4].lookup(g0,g1,!0)))return g3;return null===this.parent||g2?null:this.parent.lookup(g0,g1)},g13.prototype.lookupType=function(g0){var g1=this.lookup(g0,[g9]);if(!g1)throw Error("no such type: "+g0);return g1},g13.prototype.lookupEnum=function(g0){var g1=this.lookup(g0,[g6]);if(!g1)throw Error("no such Enum '"+g0+"' in "+this);return g1},g13.prototype.lookupTypeOrEnum=function(g0){var g1=this.lookup(g0,[g9,g6]);if(!g1)throw Error("no such Type or Enum '"+g0+"' in "+this);return g1},g13.prototype.lookupService=function(g0){var g1=this.lookup(g0,[g10]);if(!g1)throw Error("no such Service '"+g0+"' in "+this);return g1},g13._configure=function(){g6=g2(13),g7=g2(24),g8=g2(1),g9=g2(36),g10=g2(68)}},function(g0,g1,g2){"use strict";var g3=g5(g2(131)),g4=g5(g2(6));function g5(g0){return g0&&g0.__esModule?g0:{default:g0}}g0.exports=g9;var g6,g7,g8=g2(37);function g9(g0,g1,g2,g3){if(Array.isArray(g1)||(g2=g1,g1=void 0),g8.call(this,g0,g2),void 0!==g1&&!Array.isArray(g1))throw TypeError("fieldNames must be an Array");this.oneof=g1||[],this.fieldsArray=[],this.comment=g3}function g10(g0){if(g0.parent)for(var g1=0;g1<g0.fieldsArray.length;++g1)g0.fieldsArray[g1].parent||g0.parent.add(g0.fieldsArray[g1])}((g9.prototype=(0,g4.default)(g8.prototype)).constructor=g9).className="OneOf",g9.fromJSON=function(g0,g1){return new g9(g0,g1.oneof,g1.options,g1.comment)},g9.prototype.toJSON=function(g0){var g1=!!g0&&Boolean(g0.keepComments);return g7.toObject(["options",this.options,"oneof",this.oneof,"comment",g1?this.comment:void 0])},g9.prototype.add=function(g0){if(!(g0 instanceof g6))throw TypeError("field must be a Field");return g0.parent&&g0.parent!==this.parent&&g0.parent.remove(g0),this.oneof.push(g0.name),this.fieldsArray.push(g0),g0.partOf=this,g10(this),this},g9.prototype.remove=function(g0){if(!(g0 instanceof g6))throw TypeError("field must be a Field");var g1=this.fieldsArray.indexOf(g0);if(g1<0)throw Error(g0+" is not a member of "+this);return this.fieldsArray.splice(g1,1),(g1=this.oneof.indexOf(g0.name))>-1&&this.oneof.splice(g1,1),g0.partOf=null,this},g9.prototype.onAdd=function(g0){g8.prototype.onAdd.call(this,g0);for(var g1=0;g1<this.oneof.length;++g1){var g2=g0.get(this.oneof[g1]);g2&&!g2.partOf&&(g2.partOf=this,this.fieldsArray.push(g2))}g10(this)},g9.prototype.onRemove=function(g0){for(var g1,g2=0;g2<this.fieldsArray.length;++g2)(g1=this.fieldsArray[g2]).parent&&g1.parent.remove(g1);g8.prototype.onRemove.call(this,g0)},g9.d=function(){for(var g0=new Array(arguments.length),g1=0;g1<arguments.length;)g0[g1]=arguments[g1++];return function(g1,g2){g7.decorateType(g1.constructor).add(new g9(g2,g0)),(0,g3.default)(g1,g2,{get:g7.oneOfGetter(g0),set:g7.oneOfSetter(g0)})}},g9._configure=function(){g6=g2(24),g7=g2(1)}},function(g0,g1,g2){var g3=g2(18),g4=g2(108),g5=g2(78),g6=g2(76)("IE_PROTO"),g7=function(){},g8=function(){var g0,g1=g2(73)("iframe"),g3=g5.length;for(g1.style.display="none",g2(110).appendChild(g1),g1.src="javascript:",(g0=g1.contentWindow.document).open(),g0.write("<script>document.F=Object<\/script>"),g0.close(),g8=g0.F;g3--;)delete g8.prototype[g5[g3]];return g8()};g0.exports=Object.create||function(g0,g1){var g2;return null!==g0?(g7.prototype=g3(g0),g2=new g7,g7.prototype=null,g2[g6]=g0):g2=g8(),void 0===g1?g2:g4(g2,g1)}},function(g0,g1,g2){var g3=g2(70),g4=Math.min;g0.exports=function(g0){return g0>0?g4(g3(g0),9007199254740991):0}},function(g0,g1){var g2=0,g3=Math.random();g0.exports=function(g0){return"Symbol(".concat(void 0===g0?"":g0,")_",(++g2+g3).toString(36))}},function(g0,g1){},function(g0,g1,g2){var g3=g2(56)("meta"),g4=g2(8),g5=g2(27),g6=g2(12).f,g7=0,g8=Object.isExtensible||function(){return!0},g9=!g2(26)((function(){return g8(Object.preventExtensions({}))})),g10=function(g0){g6(g0,g3,{value:{i:"O"+ ++g7,w:{}}})},g11=g0.exports={KEY:g3,NEED:!1,fastKey:function(g0,g1){if(!g4(g0))return"symbol"==typeof g0?g0:("string"==typeof g0?"S":"P")+g0;if(!g5(g0,g3)){if(!g8(g0))return"F";if(!g1)return"E";g10(g0)}return g0[g3].i},getWeak:function(g0,g1){if(!g5(g0,g3)){if(!g8(g0))return!0;if(!g1)return!1;g10(g0)}return g0[g3].w},onFreeze:function(g0){return g9&&g11.NEED&&g8(g0)&&!g5(g0,g3)&&g10(g0),g0}}},function(g0,g1){g1.f={}.propertyIsEnumerable},function(g0,g1,g2){"use strict";g1.__esModule=!0,g1.default=function(g0,g1){if(!(g0 instanceof g1))throw new TypeError("Cannot call a class as a function")}},function(g0,g1){!function(){"use strict";for(var g0="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",g2=new Uint8Array(256),g3=0;g3<g0.length;g3++)g2[g0.charCodeAt(g3)]=g3;g1.encode=function(g1){var g2,g3=new Uint8Array(g1),g4=g3.length,g5="";for(g2=0;g2<g4;g2+=3)g5+=g0[g3[g2]>>2],g5+=g0[(3&g3[g2])<<4|g3[g2+1]>>4],g5+=g0[(15&g3[g2+1])<<2|g3[g2+2]>>6],g5+=g0[63&g3[g2+2]];return g4%3==2?g5=g5.substring(0,g5.length-1)+"=":g4%3==1&&(g5=g5.substring(0,g5.length-2)+"=="),g5},g1.decode=function(g0){var g1,g3,g4,g5,g6,g7=.75*g0.length,g8=g0.length,g9=0;"="===g0[g0.length-1]&&(g7--,"="===g0[g0.length-2]&&g7--);var g10=new ArrayBuffer(g7),g11=new Uint8Array(g10);for(g1=0;g1<g8;g1+=4)g3=g2[g0.charCodeAt(g1)],g4=g2[g0.charCodeAt(g1+1)],g5=g2[g0.charCodeAt(g1+2)],g6=g2[g0.charCodeAt(g1+3)],g11[g9++]=g3<<2|g4>>4,g11[g9++]=(15&g4)<<4|g5>>2,g11[g9++]=(3&g5)<<6|63&g6;return g10}}()},function(g0,g1,g2){"use strict";g0.exports=g2(144)()?Object.setPrototypeOf:g2(145)},function(g0,g1){g0.exports=function(){if(this)return this;Object.defineProperty(Object.prototype,"__global__",{get:function(){return this},configurable:!0});try{return __global__}finally{delete Object.prototype.__global__}}()},function(g0,g1,g2){"use strict";var g3=Object.prototype.toString,g4=g3.call(function(){return arguments}());g0.exports=function(g0){return g3.call(g0)===g4}},function(g0,g1,g2){"use strict";var g3=Object.prototype.toString,g4=g3.call("");g0.exports=function(g0){return"string"==typeof g0||g0&&"object"==typeof g0&&(g0 instanceof String||g3.call(g0)===g4)||!1}},function(g0,g1,g2){"use strict";var g3=g0.exports;g3.length=function(g0){for(var g1=0,g2=0,g3=0;g3<g0.length;++g3)(g2=g0.charCodeAt(g3))<128?g1+=1:g2<2048?g1+=2:55296==(64512&g2)&&56320==(64512&g0.charCodeAt(g3+1))?(++g3,g1+=4):g1+=3;return g1},g3.read=function(g0,g1,g2){if(g2-g1<1)return"";for(var g3,g4=null,g5=[],g6=0;g1<g2;)(g3=g0[g1++])<128?g5[g6++]=g3:g3>191&&g3<224?g5[g6++]=(31&g3)<<6|63&g0[g1++]:g3>239&&g3<365?(g3=((7&g3)<<18|(63&g0[g1++])<<12|(63&g0[g1++])<<6|63&g0[g1++])-65536,g5[g6++]=55296+(g3>>10),g5[g6++]=56320+(1023&g3)):g5[g6++]=(15&g3)<<12|(63&g0[g1++])<<6|63&g0[g1++],g6>8191&&((g4||(g4=[])).push(String.fromCharCode.apply(String,g5)),g6=0);return g4?(g6&&g4.push(String.fromCharCode.apply(String,g5.slice(0,g6))),g4.join("")):String.fromCharCode.apply(String,g5.slice(0,g6))},g3.write=function(g0,g1,g2){for(var g3,g4,g5=g2,g6=0;g6<g0.length;++g6)(g3=g0.charCodeAt(g6))<128?g1[g2++]=g3:g3<2048?(g1[g2++]=g3>>6|192,g1[g2++]=63&g3|128):55296==(64512&g3)&&56320==(64512&(g4=g0.charCodeAt(g6+1)))?(g3=65536+((1023&g3)<<10)+(1023&g4),++g6,g1[g2++]=g3>>18|240,g1[g2++]=g3>>12&63|128,g1[g2++]=g3>>6&63|128,g1[g2++]=63&g3|128):(g1[g2++]=g3>>12|224,g1[g2++]=g3>>6&63|128,g1[g2++]=63&g3|128);return g2-g5}},function(g0,g1,g2){"use strict";var g3=g5(g2(10)),g4=g5(g2(6));function g5(g0){return g0&&g0.__esModule?g0:{default:g0}}g0.exports=g14;var g6=g2(52);((g14.prototype=(0,g4.default)(g6.prototype)).constructor=g14).className="Root";var g7,g8,g9,g10=g2(24),g11=g2(13),g12=g2(53),g13=g2(1);function g14(g0){g6.call(this,"",g0),this.deferred=[],this.files=[],this.names=[]}function g15(){}g14.fromJSON=function(g0,g1){return g0="string"==typeof g0?JSON.parse(g0):g0,g1||(g1=new g14),g0.options&&g1.setOptions(g0.options),g1.addJSON(g0.nested)},g14.prototype.resolvePath=g13.path.resolve,g14.prototype.parseFromPbString=function g0(g1,g2,g4){"function"==typeof g2&&(g4=g2,g2=void 0);var g5=this;if(!g4)return g13.asPromise(g0,g5,g1,g2);var g6=null;if("string"==typeof g1)g6=JSON.parse(g1);else{if("object"!==(void 0===g1?"undefined":(0,g3.default)(g1)))return void console.log("pb");g6=g1}function g7(g0,g1){if(g4){var g2=g4;g4=null,g2(g0,g1)}}function g10(g0,g1){try{if(g13.isString(g1)&&"{"===g1.charAt(0)&&(g1=JSON.parse(g1)),g13.isString(g1)){g8.filename=g0;var g3,g4=g8(g1,g5,g2),g6=0;if(g4.imports)for(;g6<g4.imports.length;++g6)g11(g3=g4.imports[g6]);if(g4.weakImports){for(g6=0;g6<g4.weakImports.length;++g6)g3=g4.weakImports[g6];g11(g3)}}else g5.setOptions(g1.options).addJSON(g1.nested)}catch(g0){g7(g0)}g7(null,g5)}function g11(g0){g5.names.indexOf(g0)>-1||(g5.names.push(g0),g0 in g9&&g10(g0,g9[g0]))}g10(g6.name,g6.pbJsonStr)},g14.prototype.load=function g0(g1,g2,g3){"function"==typeof g2&&(g3=g2,g2=void 0);var g4=this;if(!g3)return g13.asPromise(g0,g4,g1,g2);var g5=g3===g15;function g6(g0,g1){if(g3){var g2=g3;if(g3=null,g5)throw g0;g2(g0,g1)}}function g7(g0,g1){try{if(g13.isString(g1)&&"{"===g1.charAt(0)&&(g1=JSON.parse(g1)),g13.isString(g1)){g8.filename=g0;var g3,g7=g8(g1,g4,g2),g9=0;if(g7.imports)for(;g9<g7.imports.length;++g9)(g3=g4.resolvePath(g0,g7.imports[g9]))&&g10(g3);if(g7.weakImports)for(g9=0;g9<g7.weakImports.length;++g9)(g3=g4.resolvePath(g0,g7.weakImports[g9]))&&g10(g3,!0)}else g4.setOptions(g1.options).addJSON(g1.nested)}catch(g0){g6(g0)}g5||g11||g6(null,g4)}function g10(g0,g1){var g2=g0.lastIndexOf("google/protobuf/");if(g2>-1){var g8=g0.substring(g2);g8 in g9&&(g0=g8)}if(!(g4.files.indexOf(g0)>-1))if(g4.files.push(g0),g0 in g9)g5?g7(g0,g9[g0]):(++g11,setTimeout((function(){--g11,g7(g0,g9[g0])})));else if(g5){var g10;try{g10=g13.fs.readFileSync(g0).toString("utf8")}catch(g0){return void(g1||g6(g0))}g7(g0,g10)}else++g11,g13.fetch(g0,(function(g2,g5){--g11,g3&&(g2?g1?g11||g6(null,g4):g6(g2):g7(g0,g5))}))}var g11=0;g13.isString(g1)&&(g1=[g1]);for(var g12,g14=0;g14<g1.length;++g14)(g12=g4.resolvePath("",g1[g14]))&&g10(g12);if(g5)return g4;g11||g6(null,g4)},g14.prototype.loadSync=function(g0,g1){if(!g13.isNode)throw Error("not supported");return this.load(g0,g1,g15)},g14.prototype.resolveAll=function(){if(this.deferred.length)throw Error("unresolvable extensions: "+this.deferred.map((function(g0){return"'extend "+g0.extend+"' in "+g0.parent.fullName})).join(", "));return g6.prototype.resolveAll.call(this)};var g16=/^[A-Z]/;function g17(g0,g1){var g2=g1.parent.lookup(g1.extend);if(g2){var g3=new g10(g1.fullName,g1.id,g1.type,g1.rule,void 0,g1.options);return g3.declaringField=g1,g1.extensionField=g3,g2.add(g3),!0}return!1}g14.prototype._handleAdd=function(g0){if(g0 instanceof g10)void 0===g0.extend||g0.extensionField||g17(0,g0)||this.deferred.push(g0);else if(g0 instanceof g11)g16.test(g0.name)&&(g0.parent[g0.name]=g0.values);else if(!(g0 instanceof g12)){if(g0 instanceof g7)for(var g1=0;g1<this.deferred.length;)g17(0,this.deferred[g1])?this.deferred.splice(g1,1):++g1;for(var g2=0;g2<g0.nestedArray.length;++g2)this._handleAdd(g0._nestedArray[g2]);g16.test(g0.name)&&(g0.parent[g0.name]=g0)}},g14.prototype._handleRemove=function(g0){if(g0 instanceof g10){if(void 0!==g0.extend)if(g0.extensionField)g0.extensionField.parent.remove(g0.extensionField),g0.extensionField=null;else{var g1=this.deferred.indexOf(g0);g1>-1&&this.deferred.splice(g1,1)}}else if(g0 instanceof g11)g16.test(g0.name)&&delete g0.parent[g0.name];else if(g0 instanceof g6){for(var g2=0;g2<g0.nestedArray.length;++g2)this._handleRemove(g0._nestedArray[g2]);g16.test(g0.name)&&delete g0.parent[g0.name]}},g14._configure=function(){g7=g2(36),g8=g2(170),g9=g2(173),g10=g2(24),g11=g2(13),g12=g2(53),g13=g2(1)}},function(g0,g1,g2){"use strict";var g3=g5(g2(7)),g4=g5(g2(6));function g5(g0){return g0&&g0.__esModule?g0:{default:g0}}g0.exports=g10;var g6,g7,g8,g9=g2(52);function g10(g0,g1){g9.call(this,g0,g1),this.methods={},this._methodsArray=null}function g11(g0){return g0._methodsArray=null,g0}((g10.prototype=(0,g4.default)(g9.prototype)).constructor=g10).className="Service",g10.fromJSON=function(g0,g1){var g2=new g10(g0,g1.options);if(g1.methods)for(var g4=(0,g3.default)(g1.methods),g5=0;g5<g4.length;++g5)g2.add(g6.fromJSON(g4[g5],g1.methods[g4[g5]]));return g1.nested&&g2.addJSON(g1.nested),g2.comment=g1.comment,g2},g10.prototype.toJSON=function(g0){var g1=g9.prototype.toJSON.call(this,g0),g2=!!g0&&Boolean(g0.keepComments);return g7.toObject(["options",g1&&g1.options||void 0,"methods",g9.arrayToJSON(this.methodsArray,g0)||{},"nested",g1&&g1.nested||void 0,"comment",g2?this.comment:void 0])},Object.defineProperty(g10.prototype,"methodsArray",{get:function(){return this._methodsArray||(this._methodsArray=g7.toArray(this.methods))}}),g10.prototype.get=function(g0){return this.methods[g0]||g9.prototype.get.call(this,g0)},g10.prototype.resolveAll=function(){for(var g0=this.methodsArray,g1=0;g1<g0.length;++g1)g0[g1].resolve();return g9.prototype.resolve.call(this)},g10.prototype.add=function(g0){if(this.get(g0.name))throw Error("duplicate name '"+g0.name+"' in "+this);return g0 instanceof g6?(this.methods[g0.name]=g0,g0.parent=this,g11(this)):g9.prototype.add.call(this,g0)},g10.prototype.remove=function(g0){if(g0 instanceof g6){if(this.methods[g0.name]!==g0)throw Error(g0+" is not a member of "+this);return delete this.methods[g0.name],g0.parent=null,g11(this)}return g9.prototype.remove.call(this,g0)},g10.prototype.create=function(g0,g1,g2){for(var g3,g4=new g8.Service(g0,g1,g2),g5=0;g5<this.methodsArray.length;++g5){var g6=g7.lcFirst((g3=this._methodsArray[g5]).resolve().name).replace(/[^$\w_]/g,"");g4[g6]=g7.codegen(["r","c"],g7.isReserved(g6)?g6+"_":g6)("return this.rpcCall(m,q,s,r,c)")({m:g3,q:g3.resolvedRequestType.ctor,s:g3.resolvedResponseType.ctor})}return g4},g10._configure=function(){g6=g2(101),g7=g2(1),g8=g2(172)}},function(g0,g1,g2){g0.exports={default:g2(204),__esModule:!0}},function(g0,g1){var g2=Math.ceil,g3=Math.floor;g0.exports=function(g0){return isNaN(g0=+g0)?0:(g0>0?g3:g2)(g0)}},function(g0,g1){g0.exports=function(g0){if(null==g0)throw TypeError("Can't call method on  "+g0);return g0}},function(g0,g1,g2){"use strict";var g3=g2(39),g4=g2(2),g5=g2(107),g6=g2(22),g7=g2(42),g8=g2(206),g9=g2(45),g10=g2(209),g11=g2(5)("iterator"),g12=!([].keys&&"next"in[].keys()),g13="keys",g14="values",g15=function(){return this};g0.exports=function(g0,g1,g2,g16,g17,g18,g19){g8(g2,g1,g16);var g20,g21,g22,g23=function(g0){if(!g12&&g0 in g27)return g27[g0];switch(g0){case g13:case g14:return function(){return new g2(this,g0)}}return function(){return new g2(this,g0)}},g24=g1+" Iterator",g25=g17==g14,g26=!1,g27=g0.prototype,g28=g27[g11]||g27["@@iterator"]||g17&&g27[g17],g29=g28||g23(g17),g30=g17?g25?g23("entries"):g29:void 0,g31="Array"==g1&&g27.entries||g28;if(g31&&(g22=g10(g31.call(new g0)))!==Object.prototype&&g22.next&&(g9(g22,g24,!0),g3||"function"==typeof g22[g11]||g6(g22,g11,g15)),g25&&g28&&g28.name!==g14&&(g26=!0,g29=function(){return g28.call(this)}),g3&&!g19||!g12&&!g26&&g27[g11]||g6(g27,g11,g29),g7[g1]=g29,g7[g24]=g15,g17)if(g20={values:g25?g29:g23(g14),keys:g18?g29:g23(g13),entries:g30},g19)for(g21 in g20)g21 in g27||g5(g27,g21,g20[g21]);else g4(g4.P+g4.F*(g12||g26),g1,g20);return g20}},function(g0,g1,g2){var g3=g2(8),g4=g2(4).document,g5=g3(g4)&&g3(g4.createElement);g0.exports=function(g0){return g5?g4.createElement(g0):{}}},function(g0,g1,g2){var g3=g2(8);g0.exports=function(g0,g1){if(!g3(g0))return g0;var g2,g4;if(g1&&"function"==typeof(g2=g0.toString)&&!g3(g4=g2.call(g0)))return g4;if("function"==typeof(g2=g0.valueOf)&&!g3(g4=g2.call(g0)))return g4;if(!g1&&"function"==typeof(g2=g0.toString)&&!g3(g4=g2.call(g0)))return g4;throw TypeError("Can't convert object to primitive value")}},function(g0,g1,g2){var g3=g2(44);g0.exports=Object("z").propertyIsEnumerable(0)?Object:function(g0){return"String"==g3(g0)?g0.split(""):Object(g0)}},function(g0,g1,g2){var g3=g2(77)("keys"),g4=g2(56);g0.exports=function(g0){return g3[g0]||(g3[g0]=g4(g0))}},function(g0,g1,g2){var g3=g2(0),g4=g2(4),g5="__core-js_shared__",g6=g4[g5]||(g4[g5]={});(g0.exports=function(g0,g1){return g6[g0]||(g6[g0]=void 0!==g1?g1:{})})("versions",[]).push({version:g3.version,mode:g2(39)?"pure":"global",copyright:" 2019 Denis Pushkarev (zloirock.ru)"})},function(g0,g1){g0.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(g0,g1,g2){var g3=g2(80),g4=g2(5)("iterator"),g5=g2(42);g0.exports=g2(0).getIteratorMethod=function(g0){if(null!=g0)return g0[g4]||g0["@@iterator"]||g5[g3(g0)]}},function(g0,g1,g2){var g3=g2(44),g4=g2(5)("toStringTag"),g5="Arguments"==g3(function(){return arguments}());g0.exports=function(g0){var g1,g2,g6;return void 0===g0?"Undefined":null===g0?"Null":"string"==typeof(g2=function(g0,g1){try{return g0[g1]}catch(g0){}}(g1=Object(g0),g4))?g2:g5?g3(g1):"Object"==(g6=g3(g1))&&"function"==typeof g1.callee?"Arguments":g6}},function(g0,g1,g2){var g3=g2(22);g0.exports=function(g0,g1,g2){for(var g4 in g1)g2&&g0[g4]?g0[g4]=g1[g4]:g3(g0,g4,g1[g4]);return g0}},function(g0,g1){g0.exports=function(g0,g1,g2,g3){if(!(g0 instanceof g1)||void 0!==g3&&g3 in g0)throw TypeError(g2+": incorrect invocation!");return g0}},function(g0,g1,g2){var g3=g2(8);g0.exports=function(g0,g1){if(!g3(g0)||g0._t!==g1)throw TypeError("Incompatible receiver, "+g1+" required!");return g0}},function(g0,g1,g2){g0.exports={default:g2(223),__esModule:!0}},function(g0,g1,g2){"use strict";var g3=g2(40);function g4(g0){var g1,g2;this.promise=new g0((function(g0,g3){if(void 0!==g1||void 0!==g2)throw TypeError("Bad Promise constructor");g1=g0,g2=g3})),this.resolve=g3(g1),this.reject=g3(g2)}g0.exports.f=function(g0){return new g4(g0)}},function(g0,g1){g1.f=Object.getOwnPropertySymbols},function(g0,g1,g2){g0.exports={default:g2(237),__esModule:!0}},function(g0,g1,g2){"use strict";g1.__esModule=!0;var g3,g4=g2(69),g5=(g3=g4)&&g3.__esModule?g3:{default:g3};g1.default=function(g0){if(Array.isArray(g0)){for(var g1=0,g2=Array(g0.length);g1<g0.length;g1++)g2[g1]=g0[g1];return g2}return(0,g5.default)(g0)}},function(g0,g1){g0.exports=g3;var g2=null;try{g2=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(g0){}function g3(g0,g1,g2){this.low=0|g0,this.high=0|g1,this.unsigned=!!g2}function g4(g0){return!0===(g0&&g0.__isLong__)}g3.prototype.__isLong__,Object.defineProperty(g3.prototype,"__isLong__",{value:!0}),g3.isLong=g4;var g5={},g6={};function g7(g0,g1){var g2,g3,g4;return g1?(g4=0<=(g0>>>=0)&&g0<256)&&(g3=g6[g0])?g3:(g2=g9(g0,(0|g0)<0?-1:0,!0),g4&&(g6[g0]=g2),g2):(g4=-128<=(g0|=0)&&g0<128)&&(g3=g5[g0])?g3:(g2=g9(g0,g0<0?-1:0,!1),g4&&(g5[g0]=g2),g2)}function g8(g0,g1){if(isNaN(g0))return g1?g18:g17;if(g1){if(g0<0)return g18;if(g0>=g14)return g23}else{if(g0<=-g15)return g24;if(g0+1>=g15)return g22}return g0<0?g8(-g0,g1).neg():g9(g0%g13|0,g0/g13|0,g1)}function g9(g0,g1,g2){return new g3(g0,g1,g2)}g3.fromInt=g7,g3.fromNumber=g8,g3.fromBits=g9;var g10=Math.pow;function g11(g0,g1,g2){if(0===g0.length)throw Error("empty string");if("NaN"===g0||"Infinity"===g0||"+Infinity"===g0||"-Infinity"===g0)return g17;if("number"==typeof g1?(g2=g1,g1=!1):g1=!!g1,(g2=g2||10)<2||36<g2)throw RangeError("radix");var g3;if((g3=g0.indexOf("-"))>0)throw Error("interior hyphen");if(0===g3)return g11(g0.substring(1),g1,g2).neg();for(var g4=g8(g10(g2,8)),g5=g17,g6=0;g6<g0.length;g6+=8){var g7=Math.min(8,g0.length-g6),g9=parseInt(g0.substring(g6,g6+g7),g2);if(g7<8){var g12=g8(g10(g2,g7));g5=g5.mul(g12).add(g8(g9))}else g5=(g5=g5.mul(g4)).add(g8(g9))}return g5.unsigned=g1,g5}function g12(g0,g1){return"number"==typeof g0?g8(g0,g1):"string"==typeof g0?g11(g0,g1):g9(g0.low,g0.high,"boolean"==typeof g1?g1:g0.unsigned)}g3.fromString=g11,g3.fromValue=g12;var g13=4294967296,g14=g13*g13,g15=g14/2,g16=g7(1<<24),g17=g7(0);g3.ZERO=g17;var g18=g7(0,!0);g3.UZERO=g18;var g19=g7(1);g3.ONE=g19;var g20=g7(1,!0);g3.UONE=g20;var g21=g7(-1);g3.NEG_ONE=g21;var g22=g9(-1,2147483647,!1);g3.MAX_VALUE=g22;var g23=g9(-1,-1,!0);g3.MAX_UNSIGNED_VALUE=g23;var g24=g9(0,-2147483648,!1);g3.MIN_VALUE=g24;var g25=g3.prototype;g25.toInt=function(){return this.unsigned?this.low>>>0:this.low},g25.toNumber=function(){return this.unsigned?(this.high>>>0)*g13+(this.low>>>0):this.high*g13+(this.low>>>0)},g25.toString=function(g0){if((g0=g0||10)<2||36<g0)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(g24)){var g1=g8(g0),g2=this.div(g1),g3=g2.mul(g1).sub(this);return g2.toString(g0)+g3.toInt().toString(g0)}return"-"+this.neg().toString(g0)}for(var g4=g8(g10(g0,6),this.unsigned),g5=this,g6="";;){var g7=g5.div(g4),g9=(g5.sub(g7.mul(g4)).toInt()>>>0).toString(g0);if((g5=g7).isZero())return g9+g6;for(;g9.length<6;)g9="0"+g9;g6=""+g9+g6}},g25.getHighBits=function(){return this.high},g25.getHighBitsUnsigned=function(){return this.high>>>0},g25.getLowBits=function(){return this.low},g25.getLowBitsUnsigned=function(){return this.low>>>0},g25.getNumBitsAbs=function(){if(this.isNegative())return this.eq(g24)?64:this.neg().getNumBitsAbs();for(var g0=0!=this.high?this.high:this.low,g1=31;g1>0&&0==(g0&1<<g1);g1--);return 0!=this.high?g1+33:g1+1},g25.isZero=function(){return 0===this.high&&0===this.low},g25.eqz=g25.isZero,g25.isNegative=function(){return!this.unsigned&&this.high<0},g25.isPositive=function(){return this.unsigned||this.high>=0},g25.isOdd=function(){return 1==(1&this.low)},g25.isEven=function(){return 0==(1&this.low)},g25.equals=function(g0){return g4(g0)||(g0=g12(g0)),(this.unsigned===g0.unsigned||this.high>>>31!=1||g0.high>>>31!=1)&&(this.high===g0.high&&this.low===g0.low)},g25.eq=g25.equals,g25.notEquals=function(g0){return!this.eq(g0)},g25.neq=g25.notEquals,g25.ne=g25.notEquals,g25.lessThan=function(g0){return this.comp(g0)<0},g25.lt=g25.lessThan,g25.lessThanOrEqual=function(g0){return this.comp(g0)<=0},g25.lte=g25.lessThanOrEqual,g25.le=g25.lessThanOrEqual,g25.greaterThan=function(g0){return this.comp(g0)>0},g25.gt=g25.greaterThan,g25.greaterThanOrEqual=function(g0){return this.comp(g0)>=0},g25.gte=g25.greaterThanOrEqual,g25.ge=g25.greaterThanOrEqual,g25.compare=function(g0){if(g4(g0)||(g0=g12(g0)),this.eq(g0))return 0;var g1=this.isNegative(),g2=g0.isNegative();return g1&&!g2?-1:!g1&&g2?1:this.unsigned?g0.high>>>0>this.high>>>0||g0.high===this.high&&g0.low>>>0>this.low>>>0?-1:1:this.sub(g0).isNegative()?-1:1},g25.comp=g25.compare,g25.negate=function(){return!this.unsigned&&this.eq(g24)?g24:this.not().add(g19)},g25.neg=g25.negate,g25.add=function(g0){g4(g0)||(g0=g12(g0));var g1=this.high>>>16,g2=65535&this.high,g3=this.low>>>16,g5=65535&this.low,g6=g0.high>>>16,g7=65535&g0.high,g8=g0.low>>>16,g10=0,g11=0,g13=0,g14=0;return g13+=(g14+=g5+(65535&g0.low))>>>16,g11+=(g13+=g3+g8)>>>16,g10+=(g11+=g2+g7)>>>16,g10+=g1+g6,g9((g13&=65535)<<16|(g14&=65535),(g10&=65535)<<16|(g11&=65535),this.unsigned)},g25.subtract=function(g0){return g4(g0)||(g0=g12(g0)),this.add(g0.neg())},g25.sub=g25.subtract,g25.multiply=function(g0){if(this.isZero())return g17;if(g4(g0)||(g0=g12(g0)),g2)return g9(g2.mul(this.low,this.high,g0.low,g0.high),g2.get_high(),this.unsigned);if(g0.isZero())return g17;if(this.eq(g24))return g0.isOdd()?g24:g17;if(g0.eq(g24))return this.isOdd()?g24:g17;if(this.isNegative())return g0.isNegative()?this.neg().mul(g0.neg()):this.neg().mul(g0).neg();if(g0.isNegative())return this.mul(g0.neg()).neg();if(this.lt(g16)&&g0.lt(g16))return g8(this.toNumber()*g0.toNumber(),this.unsigned);var g1=this.high>>>16,g3=65535&this.high,g5=this.low>>>16,g6=65535&this.low,g7=g0.high>>>16,g10=65535&g0.high,g11=g0.low>>>16,g13=65535&g0.low,g14=0,g15=0,g18=0,g19=0;return g18+=(g19+=g6*g13)>>>16,g15+=(g18+=g5*g13)>>>16,g18&=65535,g15+=(g18+=g6*g11)>>>16,g14+=(g15+=g3*g13)>>>16,g15&=65535,g14+=(g15+=g5*g11)>>>16,g15&=65535,g14+=(g15+=g6*g10)>>>16,g14+=g1*g13+g3*g11+g5*g10+g6*g7,g9((g18&=65535)<<16|(g19&=65535),(g14&=65535)<<16|(g15&=65535),this.unsigned)},g25.mul=g25.multiply,g25.divide=function(g0){if(g4(g0)||(g0=g12(g0)),g0.isZero())throw Error("division by zero");var g1,g3,g5;if(g2)return this.unsigned||-2147483648!==this.high||-1!==g0.low||-1!==g0.high?g9((this.unsigned?g2.div_u:g2.div_s)(this.low,this.high,g0.low,g0.high),g2.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?g18:g17;if(this.unsigned){if(g0.unsigned||(g0=g0.toUnsigned()),g0.gt(this))return g18;if(g0.gt(this.shru(1)))return g20;g5=g18}else{if(this.eq(g24))return g0.eq(g19)||g0.eq(g21)?g24:g0.eq(g24)?g19:(g1=this.shr(1).div(g0).shl(1)).eq(g17)?g0.isNegative()?g19:g21:(g3=this.sub(g0.mul(g1)),g5=g1.add(g3.div(g0)));if(g0.eq(g24))return this.unsigned?g18:g17;if(this.isNegative())return g0.isNegative()?this.neg().div(g0.neg()):this.neg().div(g0).neg();if(g0.isNegative())return this.div(g0.neg()).neg();g5=g17}for(g3=this;g3.gte(g0);){g1=Math.max(1,Math.floor(g3.toNumber()/g0.toNumber()));for(var g6=Math.ceil(Math.log(g1)/Math.LN2),g7=g6<=48?1:g10(2,g6-48),g11=g8(g1),g13=g11.mul(g0);g13.isNegative()||g13.gt(g3);)g13=(g11=g8(g1-=g7,this.unsigned)).mul(g0);g11.isZero()&&(g11=g19),g5=g5.add(g11),g3=g3.sub(g13)}return g5},g25.div=g25.divide,g25.modulo=function(g0){return g4(g0)||(g0=g12(g0)),g2?g9((this.unsigned?g2.rem_u:g2.rem_s)(this.low,this.high,g0.low,g0.high),g2.get_high(),this.unsigned):this.sub(this.div(g0).mul(g0))},g25.mod=g25.modulo,g25.rem=g25.modulo,g25.not=function(){return g9(~this.low,~this.high,this.unsigned)},g25.and=function(g0){return g4(g0)||(g0=g12(g0)),g9(this.low&g0.low,this.high&g0.high,this.unsigned)},g25.or=function(g0){return g4(g0)||(g0=g12(g0)),g9(this.low|g0.low,this.high|g0.high,this.unsigned)},g25.xor=function(g0){return g4(g0)||(g0=g12(g0)),g9(this.low^g0.low,this.high^g0.high,this.unsigned)},g25.shiftLeft=function(g0){return g4(g0)&&(g0=g0.toInt()),0==(g0&=63)?this:g0<32?g9(this.low<<g0,this.high<<g0|this.low>>>32-g0,this.unsigned):g9(0,this.low<<g0-32,this.unsigned)},g25.shl=g25.shiftLeft,g25.shiftRight=function(g0){return g4(g0)&&(g0=g0.toInt()),0==(g0&=63)?this:g0<32?g9(this.low>>>g0|this.high<<32-g0,this.high>>g0,this.unsigned):g9(this.high>>g0-32,this.high>=0?0:-1,this.unsigned)},g25.shr=g25.shiftRight,g25.shiftRightUnsigned=function(g0){if(g4(g0)&&(g0=g0.toInt()),0===(g0&=63))return this;var g1=this.high;return g0<32?g9(this.low>>>g0|g1<<32-g0,g1>>>g0,this.unsigned):g9(32===g0?g1:g1>>>g0-32,0,this.unsigned)},g25.shru=g25.shiftRightUnsigned,g25.shr_u=g25.shiftRightUnsigned,g25.toSigned=function(){return this.unsigned?g9(this.low,this.high,!1):this},g25.toUnsigned=function(){return this.unsigned?this:g9(this.low,this.high,!0)},g25.toBytes=function(g0){return g0?this.toBytesLE():this.toBytesBE()},g25.toBytesLE=function(){var g0=this.high,g1=this.low;return[255&g1,g1>>>8&255,g1>>>16&255,g1>>>24,255&g0,g0>>>8&255,g0>>>16&255,g0>>>24]},g25.toBytesBE=function(){var g0=this.high,g1=this.low;return[g0>>>24,g0>>>16&255,g0>>>8&255,255&g0,g1>>>24,g1>>>16&255,g1>>>8&255,255&g1]},g3.fromBytes=function(g0,g1,g2){return g2?g3.fromBytesLE(g0,g1):g3.fromBytesBE(g0,g1)},g3.fromBytesLE=function(g0,g1){return new g3(g0[0]|g0[1]<<8|g0[2]<<16|g0[3]<<24,g0[4]|g0[5]<<8|g0[6]<<16|g0[7]<<24,g1)},g3.fromBytesBE=function(g0,g1){return new g3(g0[4]<<24|g0[5]<<16|g0[6]<<8|g0[7],g0[0]<<24|g0[1]<<16|g0[2]<<8|g0[3],g1)}},function(g0,g1,g2){g1.f=g2(5)},function(g0,g1,g2){var g3=g2(4),g4=g2(0),g5=g2(39),g6=g2(90),g7=g2(12).f;g0.exports=function(g0){var g1=g4.Symbol||(g4.Symbol=g5?{}:g3.Symbol||{});"_"==g0.charAt(0)||g0 in g1||g7(g1,g0,{value:g6.f(g0)})}},function(g0,g1,g2){var g3=g2(2),g4=g2(0),g5=g2(26);g0.exports=function(g0,g1){var g2=(g4.Object||{})[g0]||Object[g0],g6={};g6[g0]=g1(g2),g3(g3.S+g3.F*g5((function(){g2(1)})),"Object",g6)}},function(g0,g1){g0.exports=function(){for(var g0={},g1=0;g1<arguments.length;g1++){var g3=arguments[g1];for(var g4 in g3)g2.call(g3,g4)&&(g0[g4]=g3[g4])}return g0};var g2=Object.prototype.hasOwnProperty},function(g0,g1,g2){"use strict";var g3=g2(35),g4={object:!0,function:!0,undefined:!0};g0.exports=function(g0){return!!g3(g0)&&hasOwnProperty.call(g4,typeof g0)}},function(g0,g1,g2){"use strict";g0.exports=g2(289)()?Object.assign:g2(290)},function(g0,g1,g2){"use strict";var g3,g4=g2(142),g5=g2(95),g6=g2(29),g7=g2(20),g8=g2(16),g9=g2(307),g10=g2(23),g11=Object.defineProperty,g12=Object.defineProperties;g0.exports=g3=function(g0,g1){if(!(this instanceof g3))throw new TypeError("Constructor requires 'new'");g12(this,{__list__:g8("w",g7(g0)),__context__:g8("w",g1),__nextIndex__:g8("w",0)}),g1&&(g6(g1.on),g1.on("_add",this._onAdd),g1.on("_delete",this._onDelete),g1.on("_clear",this._onClear))},delete g3.prototype.constructor,g12(g3.prototype,g5({_next:g8((function(){var g0;if(this.__list__)return this.__redo__&&void 0!==(g0=this.__redo__.shift())?g0:this.__nextIndex__<this.__list__.length?this.__nextIndex__++:void this._unBind()})),next:g8((function(){return this._createResult(this._next())})),_createResult:g8((function(g0){return void 0===g0?{done:!0,value:void 0}:{done:!1,value:this._resolve(g0)}})),_resolve:g8((function(g0){return this.__list__[g0]})),_unBind:g8((function(){this.__list__=null,delete this.__redo__,this.__context__&&(this.__context__.off("_add",this._onAdd),this.__context__.off("_delete",this._onDelete),this.__context__.off("_clear",this._onClear),this.__context__=null)})),toString:g8((function(){return"[object "+(this[g10.toStringTag]||"Object")+"]"}))},g9({_onAdd:g8((function(g0){g0>=this.__nextIndex__||(++this.__nextIndex__,this.__redo__?(this.__redo__.forEach((function(g1,g2){g1>=g0&&(this.__redo__[g2]=++g1)}),this),this.__redo__.push(g0)):g11(this,"__redo__",g8("c",[g0])))})),_onDelete:g8((function(g0){var g1;g0>=this.__nextIndex__||(--this.__nextIndex__,this.__redo__&&(-1!==(g1=this.__redo__.indexOf(g0))&&this.__redo__.splice(g1,1),this.__redo__.forEach((function(g1,g2){g1>g0&&(this.__redo__[g2]=--g1)}),this)))})),_onClear:g8((function(){this.__redo__&&g4.call(this.__redo__),this.__nextIndex__=0}))}))),g11(g3.prototype,g10.iterator,g8((function(){return this})))},function(g1,g2){g1.exports=g0},function(g0,g1,g2){"use strict";var g3=g2(347);g0.exports=function(g0,g1){var g2;function g4(g3){g1.rejectUnauthorized&&g0.emit("error",g3),g2.end()}return g1.port=g1.port||8883,g1.host=g1.hostname||g1.host||"localhost",g1.rejectUnauthorized=!1!==g1.rejectUnauthorized,delete g1.path,(g2=g3.connect(g1)).on("secureConnect",(function(){g1.rejectUnauthorized&&!g2.authorized?g2.emit("error",new Error("TLS not authorized")):g2.removeListener("error",g4)})),g2.on("error",g4),g2}},function(g0,g1,g2){"use strict";g0.exports=g4;var g3=g2(1);function g4(g0,g1){this.lo=g0>>>0,this.hi=g1>>>0}var g5=g4.zero=new g4(0,0);g5.toNumber=function(){return 0},g5.zzEncode=g5.zzDecode=function(){return this},g5.length=function(){return 1};var g6=g4.zeroHash="\0\0\0\0\0\0\0\0";g4.fromNumber=function(g0){if(0===g0)return g5;var g1=g0<0;g1&&(g0=-g0);var g2=g0>>>0,g3=(g0-g2)/4294967296>>>0;return g1&&(g3=~g3>>>0,g2=~g2>>>0,++g2>4294967295&&(g2=0,++g3>4294967295&&(g3=0))),new g4(g2,g3)},g4.from=function(g0){return"number"==typeof g0?g4.fromNumber(g0):"string"==typeof g0||g0 instanceof String?g4.fromNumber(parseInt(g0,10)):g0.low||g0.high?new g4(g0.low>>>0,g0.high>>>0):g5},g4.prototype.toNumber=function(g0){if(!g0&&this.hi>>>31){var g1=1+~this.lo>>>0,g2=~this.hi>>>0;return g1||(g2=g2+1>>>0),-(g1+4294967296*g2)}return this.lo+4294967296*this.hi},g4.prototype.toLong=function(g0){return g3.Long?new g3.Long(0|this.lo,0|this.hi,Boolean(g0)):{low:0|this.lo,high:0|this.hi,unsigned:Boolean(g0)}};var g7=String.prototype.charCodeAt;g4.fromHash=function(g0){return g0===g6?g5:new g4((g7.call(g0,0)|g7.call(g0,1)<<8|g7.call(g0,2)<<16|g7.call(g0,3)<<24)>>>0,(g7.call(g0,4)|g7.call(g0,5)<<8|g7.call(g0,6)<<16|g7.call(g0,7)<<24)>>>0)},g4.prototype.toHash=function(){return String.fromCharCode(255&this.lo,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,255&this.hi,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},g4.prototype.zzEncode=function(){var g0=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^g0)>>>0,this.lo=(this.lo<<1^g0)>>>0,this},g4.prototype.zzDecode=function(){var g0=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^g0)>>>0,this.hi=(this.hi>>>1^g0)>>>0,this},g4.prototype.length=function(){var g0=this.lo,g1=(this.lo>>>28|this.hi<<4)>>>0,g2=this.hi>>>24;return 0===g2?0===g1?g0<16384?g0<128?1:2:g0<2097152?3:4:g1<16384?g1<128?5:6:g1<2097152?7:8:g2<128?9:10}},function(g0,g1,g2){"use strict";var g3=g5(g2(10)),g4=g5(g2(6));function g5(g0){return g0&&g0.__esModule?g0:{default:g0}}g0.exports=g9;var g6,g7,g8=g2(24);function g9(g0,g1,g2,g3,g4,g5){if(g8.call(this,g0,g1,g3,void 0,void 0,g4,g5),!g7.isString(g2))throw TypeError("keyType must be a string");this.keyType=g2,this.resolvedKeyType=null,this.map=!0}((g9.prototype=(0,g4.default)(g8.prototype)).constructor=g9).className="MapField",g9.fromJSON=function(g0,g1){return new g9(g0,g1.id,g1.keyType,g1.type,g1.options,g1.comment)},g9.prototype.toJSON=function(g0){var g1=!!g0&&Boolean(g0.keepComments);return g7.toObject(["keyType",this.keyType,"type",this.type,"id",this.id,"extend",this.extend,"options",this.options,"comment",g1?this.comment:void 0])},g9.prototype.resolve=function(){if(this.resolved)return this;if(void 0===g6.mapKey[this.keyType])throw Error("invalid key type: "+this.keyType);return g8.prototype.resolve.call(this)},g9.d=function(g0,g1,g2){return"function"==typeof g2?g2=g7.decorateType(g2).name:g2&&"object"===(void 0===g2?"undefined":(0,g3.default)(g2))&&(g2=g7.decorateEnum(g2).name),function(g3,g4){g7.decorateType(g3.constructor).add(new g9(g4,g0,g1,g2))}},g9._configure=function(){g6=g2(38),g7=g2(1)}},function(g0,g1,g2){"use strict";var g3,g4=g2(6),g5=(g3=g4)&&g3.__esModule?g3:{default:g3};g0.exports=g8;var g6,g7=g2(37);function g8(g0,g1,g2,g3,g4,g5,g8,g9){if(g6.isObject(g4)?(g8=g4,g4=g5=void 0):g6.isObject(g5)&&(g8=g5,g5=void 0),void 0!==g1&&!g6.isString(g1))throw TypeError("type must be a string");if(!g6.isString(g2))throw TypeError("requestType must be a string");if(!g6.isString(g3))throw TypeError("responseType must be a string");g7.call(this,g0,g8),this.type=g1||"rpc",this.requestType=g2,this.requestStream=!!g4||void 0,this.responseType=g3,this.responseStream=!!g5||void 0,this.resolvedRequestType=null,this.resolvedResponseType=null,this.comment=g9}((g8.prototype=(0,g5.default)(g7.prototype)).constructor=g8).className="Method",g8.fromJSON=function(g0,g1){return new g8(g0,g1.type,g1.requestType,g1.responseType,g1.requestStream,g1.responseStream,g1.options,g1.comment)},g8.prototype.toJSON=function(g0){var g1=!!g0&&Boolean(g0.keepComments);return g6.toObject(["type","rpc"!==this.type&&this.type||void 0,"requestType",this.requestType,"requestStream",this.requestStream,"responseType",this.responseType,"responseStream",this.responseStream,"options",this.options,"comment",g1?this.comment:void 0])},g8.prototype.resolve=function(){return this.resolved?this:(this.resolvedRequestType=this.parent.lookupType(this.requestType),this.resolvedResponseType=this.parent.lookupType(this.responseType),g7.prototype.resolve.call(this))},g8._configure=function(){g6=g2(1)}},function(g0,g1,g2){"use strict";var g3,g4,g5=g2(7),g6=(g3=g5)&&g3.__esModule?g3:{default:g3};function g7(g0){if(g0)for(var g1=(0,g6.default)(g0),g2=0;g2<g1.length;++g2)this[g1[g2]]=g0[g1[g2]]}g0.exports=g7,g7.create=function(g0){return this.$type.create(g0)},g7.encode=function(g0,g1){return arguments.length?1==arguments.length?this.$type.encode(arguments[0]):this.$type.encode(arguments[0],arguments[1]):this.$type.encode(this)},g7.encodeDelimited=function(g0,g1){return this.$type.encodeDelimited(g0,g1)},g7.decode=function(g0){return this.$type.decode(g0)},g7.decodeDelimited=function(g0){return this.$type.decodeDelimited(g0)},g7.verify=function(g0){return this.$type.verify(g0)},g7.fromObject=function(g0){return this.$type.fromObject(g0)},g7.toObject=function(g0,g1){return g0=g0||this,this.$type.toObject(g0,g1)},g7.prototype.toJSON=function(){return this.$type.toObject(this,g4.toJSONOptions)},g7.set=function(g0,g1){g7[g0]=g1},g7.get=function(g0){return g7[g0]},g7._configure=function(){g4=g2(1)}},function(g0,g1,g2){"use strict";g0.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},function(g0,g1,g2){"use strict";g1.byteLength=function(g0){var g1=g9(g0),g2=g1[0],g3=g1[1];return 3*(g2+g3)/4-g3},g1.toByteArray=function(g0){var g1,g2,g3=g9(g0),g6=g3[0],g7=g3[1],g8=new g5(function(g0,g1,g2){return 3*(g1+g2)/4-g2}(0,g6,g7)),g10=0,g11=g7>0?g6-4:g6;for(g2=0;g2<g11;g2+=4)g1=g4[g0.charCodeAt(g2)]<<18|g4[g0.charCodeAt(g2+1)]<<12|g4[g0.charCodeAt(g2+2)]<<6|g4[g0.charCodeAt(g2+3)],g8[g10++]=g1>>16&255,g8[g10++]=g1>>8&255,g8[g10++]=255&g1;2===g7&&(g1=g4[g0.charCodeAt(g2)]<<2|g4[g0.charCodeAt(g2+1)]>>4,g8[g10++]=255&g1);1===g7&&(g1=g4[g0.charCodeAt(g2)]<<10|g4[g0.charCodeAt(g2+1)]<<4|g4[g0.charCodeAt(g2+2)]>>2,g8[g10++]=g1>>8&255,g8[g10++]=255&g1);return g8},g1.fromByteArray=function(g0){for(var g1,g2=g0.length,g4=g2%3,g5=[],g6=16383,g7=0,g8=g2-g4;g7<g8;g7+=g6)g5.push(g10(g0,g7,g7+g6>g8?g8:g7+g6));1===g4?(g1=g0[g2-1],g5.push(g3[g1>>2]+g3[g1<<4&63]+"==")):2===g4&&(g1=(g0[g2-2]<<8)+g0[g2-1],g5.push(g3[g1>>10]+g3[g1>>4&63]+g3[g1<<2&63]+"="));return g5.join("")};for(var g3=[],g4=[],g5="undefined"!=typeof Uint8Array?Uint8Array:Array,g6="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",g7=0,g8=g6.length;g7<g8;++g7)g3[g7]=g6[g7],g4[g6.charCodeAt(g7)]=g7;function g9(g0){var g1=g0.length;if(g1%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var g2=g0.indexOf("=");return-1===g2&&(g2=g1),[g2,g2===g1?0:4-g2%4]}function g10(g0,g1,g2){for(var g4,g5,g6=[],g7=g1;g7<g2;g7+=3)g4=(g0[g7]<<16&16711680)+(g0[g7+1]<<8&65280)+(255&g0[g7+2]),g6.push(g3[(g5=g4)>>18&63]+g3[g5>>12&63]+g3[g5>>6&63]+g3[63&g5]);return g6.join("")}g4["-".charCodeAt(0)]=62,g4["_".charCodeAt(0)]=63},function(g0,g1){var g2={}.toString;g0.exports=Array.isArray||function(g0){return"[object Array]"==g2.call(g0)}},function(g0,g1,g2){g0.exports=!g2(9)&&!g2(26)((function(){return 7!=Object.defineProperty(g2(73)("div"),"a",{get:function(){return 7}}).a}))},function(g0,g1,g2){g0.exports=g2(22)},function(g0,g1,g2){var g3=g2(12),g4=g2(18),g5=g2(43);g0.exports=g2(9)?Object.defineProperties:function(g0,g1){g4(g0);for(var g2,g6=g5(g1),g7=g6.length,g8=0;g7>g8;)g3.f(g0,g2=g6[g8++],g1[g2]);return g0}},function(g0,g1,g2){var g3=g2(27),g4=g2(32),g5=g2(207)(!1),g6=g2(76)("IE_PROTO");g0.exports=function(g0,g1){var g2,g7=g4(g0),g8=0,g9=[];for(g2 in g7)g2!=g6&&g3(g7,g2)&&g9.push(g2);for(;g1.length>g8;)g3(g7,g2=g1[g8++])&&(~g5(g9,g2)||g9.push(g2));return g9}},function(g0,g1,g2){var g3=g2(4).document;g0.exports=g3&&g3.documentElement},function(g0,g1,g2){var g3=g2(18);g0.exports=function(g0,g1,g2,g4){try{return g4?g1(g3(g2)[0],g2[1]):g1(g2)}catch(g1){var g5=g0.return;throw void 0!==g5&&g3(g5.call(g0)),g1}}},function(g0,g1,g2){var g3=g2(42),g4=g2(5)("iterator"),g5=Array.prototype;g0.exports=function(g0){return void 0!==g0&&(g3.Array===g0||g5[g4]===g0)}},function(g0,g1,g2){var g3=g2(5)("iterator"),g4=!1;try{var g5=[7][g3]();g5.return=function(){g4=!0},Array.from(g5,(function(){throw 2}))}catch(g0){}g0.exports=function(g0,g1){if(!g1&&!g4)return!1;var g2=!1;try{var g5=[7],g6=g5[g3]();g6.next=function(){return{done:g2=!0}},g5[g3]=function(){return g6},g0(g5)}catch(g0){}return g2}},function(g0,g1,g2){g0.exports={default:g2(212),__esModule:!0}},function(g0,g1){g0.exports=function(g0,g1){return{value:g1,done:!!g0}}},function(g0,g1,g2){"use strict";var g3=g2(12).f,g4=g2(54),g5=g2(81),g6=g2(21),g7=g2(82),g8=g2(47),g9=g2(72),g10=g2(115),g11=g2(117),g12=g2(9),g13=g2(58).fastKey,g14=g2(83),g15=g12?"_s":"size",g16=function(g0,g1){var g2,g3=g13(g1);if("F"!==g3)return g0._i[g3];for(g2=g0._f;g2;g2=g2.n)if(g2.k==g1)return g2};g0.exports={getConstructor:function(g0,g1,g2,g9){var g10=g0((function(g0,g3){g7(g0,g10,g1,"_i"),g0._t=g1,g0._i=g4(null),g0._f=void 0,g0._l=void 0,g0[g15]=0,null!=g3&&g8(g3,g2,g0[g9],g0)}));return g5(g10.prototype,{clear:function(){for(var g0=g14(this,g1),g2=g0._i,g3=g0._f;g3;g3=g3.n)g3.r=!0,g3.p&&(g3.p=g3.p.n=void 0),delete g2[g3.i];g0._f=g0._l=void 0,g0[g15]=0},delete:function(g0){var g2=g14(this,g1),g3=g16(g2,g0);if(g3){var g4=g3.n,g5=g3.p;delete g2._i[g3.i],g3.r=!0,g5&&(g5.n=g4),g4&&(g4.p=g5),g2._f==g3&&(g2._f=g4),g2._l==g3&&(g2._l=g5),g2[g15]--}return!!g3},forEach:function(g0){g14(this,g1);for(var g2,g3=g6(g0,arguments.length>1?arguments[1]:void 0,3);g2=g2?g2.n:this._f;)for(g3(g2.v,g2.k,this);g2&&g2.r;)g2=g2.p},has:function(g0){return!!g16(g14(this,g1),g0)}}),g12&&g3(g10.prototype,"size",{get:function(){return g14(this,g1)[g15]}}),g10},def:function(g0,g1,g2){var g3,g4,g5=g16(g0,g1);return g5?g5.v=g2:(g0._l=g5={i:g4=g13(g1,!0),k:g1,v:g2,p:g3=g0._l,n:void 0,r:!1},g0._f||(g0._f=g5),g3&&(g3.n=g5),g0[g15]++,"F"!==g4&&(g0._i[g4]=g5)),g0},getEntry:g16,setStrong:function(g0,g1,g2){g9(g0,g1,(function(g0,g2){this._t=g14(g0,g1),this._k=g2,this._l=void 0}),(function(){for(var g0=this,g1=g0._k,g2=g0._l;g2&&g2.r;)g2=g2.p;return g0._t&&(g0._l=g2=g2?g2.n:g0._t._f)?g10(0,"keys"==g1?g2.k:"values"==g1?g2.v:[g2.k,g2.v]):(g0._t=void 0,g10(1))}),g2?"entries":"values",!g2,!0),g11(g1)}}},function(g0,g1,g2){"use strict";var g3=g2(4),g4=g2(0),g5=g2(12),g6=g2(9),g7=g2(5)("species");g0.exports=function(g0){var g1="function"==typeof g4[g0]?g4[g0]:g3[g0];g6&&g1&&!g1[g7]&&g5.f(g1,g7,{configurable:!0,get:function(){return this}})}},function(g0,g1,g2){"use strict";var g3=g2(4),g4=g2(2),g5=g2(58),g6=g2(26),g7=g2(22),g8=g2(81),g9=g2(47),g10=g2(82),g11=g2(8),g12=g2(45),g13=g2(12).f,g14=g2(216)(0),g15=g2(9);g0.exports=function(g0,g1,g2,g16,g17,g18){var g19=g3[g0],g20=g19,g21=g17?"set":"add",g22=g20&&g20.prototype,g23={};return g15&&"function"==typeof g20&&(g18||g22.forEach&&!g6((function(){(new g20).entries().next()})))?(g20=g1((function(g1,g2){g10(g1,g20,g0,"_c"),g1._c=new g19,null!=g2&&g9(g2,g17,g1[g21],g1)})),g14("add,clear,delete,forEach,get,has,set,keys,values,entries,toJSON".split(","),(function(g0){var g1="add"==g0||"set"==g0;!(g0 in g22)||g18&&"clear"==g0||g7(g20.prototype,g0,(function(g2,g3){if(g10(this,g20,g0),!g1&&g18&&!g11(g2))return"get"==g0&&void 0;var g4=this._c[g0](0===g2?0:g2,g3);return g1?this:g4}))})),g18||g13(g20.prototype,"size",{get:function(){return this._c.size}})):(g20=g16.getConstructor(g1,g0,g17,g21),g8(g20.prototype,g2),g5.NEED=!0),g12(g20,g0),g23[g0]=g20,g4(g4.G+g4.W+g4.F,g23),g18||g16.setStrong(g20,g0,g17),g20}},function(g0,g1,g2){var g3=g2(44);g0.exports=Array.isArray||function(g0){return"Array"==g3(g0)}},function(g0,g1,g2){var g3=g2(80),g4=g2(220);g0.exports=function(g0){return function(){if(g3(this)!=g0)throw TypeError(g0+"#toJSON isn't generic");return g4(this)}}},function(g0,g1,g2){"use strict";var g3=g2(2);g0.exports=function(g0){g3(g3.S,g0,{of:function(){for(var g0=arguments.length,g1=new Array(g0);g0--;)g1[g0]=arguments[g0];return new this(g1)}})}},function(g0,g1,g2){"use strict";var g3=g2(2),g4=g2(40),g5=g2(21),g6=g2(47);g0.exports=function(g0){g3(g3.S,g0,{from:function(g0){var g1,g2,g3,g7,g8=arguments[1];return g4(this),(g1=void 0!==g8)&&g4(g8),null==g0?new this:(g2=[],g1?(g3=0,g7=g5(g8,arguments[2],2),g6(g0,!1,(function(g0){g2.push(g7(g0,g3++))}))):g6(g0,!1,g2.push,g2),new this(g2))}})}},function(g0,g1,g2){var g3=g2(18),g4=g2(40),g5=g2(5)("species");g0.exports=function(g0,g1){var g2,g6=g3(g0).constructor;return void 0===g6||null==(g2=g3(g6)[g5])?g1:g4(g2)}},function(g0,g1,g2){var g3,g4,g5,g6=g2(21),g7=g2(225),g8=g2(110),g9=g2(73),g10=g2(4),g11=g10.process,g12=g10.setImmediate,g13=g10.clearImmediate,g14=g10.MessageChannel,g15=g10.Dispatch,g16=0,g17={},g18="onreadystatechange",g19=function(){var g0=+this;if(g17.hasOwnProperty(g0)){var g1=g17[g0];delete g17[g0],g1()}},g20=function(g0){g19.call(g0.data)};g12&&g13||(g12=function(g0){for(var g1=[],g2=1;arguments.length>g2;)g1.push(arguments[g2++]);return g17[++g16]=function(){g7("function"==typeof g0?g0:Function(g0),g1)},g3(g16),g16},g13=function(g0){delete g17[g0]},"process"==g2(44)(g11)?g3=function(g0){g11.nextTick(g6(g19,g0,1))}:g15&&g15.now?g3=function(g0){g15.now(g6(g19,g0,1))}:g14?(g5=(g4=new g14).port2,g4.port1.onmessage=g20,g3=g6(g5.postMessage,g5,1)):g10.addEventListener&&"function"==typeof postMessage&&!g10.importScripts?(g3=function(g0){g10.postMessage(g0+"","*")},g10.addEventListener("message",g20,!1)):g3=g18 in g9("script")?function(g0){g8.appendChild(g9("script")).onreadystatechange=function(){g8.removeChild(this),g19.call(g0)}}:function(g0){setTimeout(g6(g19,g0,1),0)}),g0.exports={set:g12,clear:g13}},function(g0,g1){g0.exports=function(g0){try{return{e:!1,v:g0()}}catch(g0){return{e:!0,v:g0}}}},function(g0,g1,g2){var g3=g2(18),g4=g2(8),g5=g2(85);g0.exports=function(g0,g1){if(g3(g0),g4(g1)&&g1.constructor===g0)return g1;var g2=g5.f(g0);return(0,g2.resolve)(g1),g2.promise}},function(g0,g1,g2){g0.exports={default:g2(234),__esModule:!0}},function(g0,g1,g2){g0.exports={default:g2(238),__esModule:!0}},function(g0,g1,g2){g0.exports={default:g2(240),__esModule:!0}},function(g0,g1,g2){"use strict";g1.__esModule=!0;var g3,g4=g2(131),g5=(g3=g4)&&g3.__esModule?g3:{default:g3};g1.default=function(){function g0(g0,g1){for(var g2=0;g2<g1.length;g2++){var g3=g1[g2];g3.enumerable=g3.enumerable||!1,g3.configurable=!0,"value"in g3&&(g3.writable=!0),(0,g5.default)(g0,g3.key,g3)}}return function(g1,g2,g3){return g2&&g0(g1.prototype,g2),g3&&g0(g1,g3),g1}}()},function(g0,g1,g2){g0.exports={default:g2(245),__esModule:!0}},function(g0,g2){g0.exports=g1},function(g0,g1,g2){var g3=g2(32),g4=g2(134).f,g5={}.toString,g6="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];g0.exports.f=function(g0){return g6&&"[object Window]"==g5.call(g0)?function(g0){try{return g4(g0)}catch(g0){return g6.slice()}}(g0):g4(g3(g0))}},function(g0,g1,g2){var g3=g2(109),g4=g2(78).concat("length","prototype");g1.f=Object.getOwnPropertyNames||function(g0){return g3(g0,g4)}},function(g0,g1,g2){"use strict";(function(g1){var g3=g2(93),g4=g2(14).Readable,g5={objectMode:!0},g6={clean:!0},g7=g2(273);function g8(g0){if(!(this instanceof g8))return new g8(g0);this.options=g0||{},this.options=g3(g6,g0),this._inflights=new g7}g8.prototype.put=function(g0,g1){return this._inflights.set(g0.messageId,g0),g1&&g1(),this},g8.prototype.createStream=function(){var g0=new g4(g5),g2=!1,g3=[],g6=0;return this._inflights.forEach((function(g0,g1){g3.push(g0)})),g0._read=function(){!g2&&g6<g3.length?this.push(g3[g6++]):this.push(null)},g0.destroy=function(){if(!g2){var g0=this;g2=!0,g1.nextTick((function(){g0.emit("close")}))}},g0},g8.prototype.del=function(g0,g1){var g2=g0.reasonCode;if(g0=this._inflights.get(g0.messageId)){if(this._inflights.delete(g0.messageId),g2&&10===g2)return;g1(null,g0)}else g1&&g1(new Error("missing packet"));return this},g8.prototype.get=function(g0,g1){return(g0=this._inflights.get(g0.messageId))?g1(null,g0):g1&&g1(new Error("missing packet")),this},g8.prototype.close=function(g0){this.options.clean&&(this._inflights=null),g0&&g0()},g0.exports=g8}).call(this,g2(3))},function(g0,g1,g2){"use strict";(function(g1,g3){var g4=g2(50);g0.exports=g19;var g5,g6=g2(105);g19.ReadableState=g18;g2(49).EventEmitter;var g7=function(g0,g1){return g0.listeners(g1).length},g8=g2(137),g9=g2(15).Buffer,g10=g1.Uint8Array||function(){};var g11=g2(51);g11.inherits=g2(19);var g12=g2(266),g13=void 0;g13=g12&&g12.debuglog?g12.debuglog("stream"):function(){};var g14,g15=g2(267),g16=g2(138);g11.inherits(g19,g8);var g17=["error","close","destroy","pause","resume"];function g18(g0,g1){g0=g0||{};var g3=g1 instanceof(g5=g5||g2(28));this.objectMode=!!g0.objectMode,g3&&(this.objectMode=this.objectMode||!!g0.readableObjectMode);var g4=g0.highWaterMark,g6=g0.readableHighWaterMark,g7=this.objectMode?16:16384;this.highWaterMark=g4||0===g4?g4:g3&&(g6||0===g6)?g6:g7,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new g15,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=g0.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,g0.encoding&&(g14||(g14=g2(140).StringDecoder),this.decoder=new g14(g0.encoding),this.encoding=g0.encoding)}function g19(g0){if(g5=g5||g2(28),!(this instanceof g19))return new g19(g0);this._readableState=new g18(g0,this),this.readable=!0,g0&&("function"==typeof g0.read&&(this._read=g0.read),"function"==typeof g0.destroy&&(this._destroy=g0.destroy)),g8.call(this)}function g20(g0,g1,g2,g3,g4){var g5,g6=g0._readableState;null===g1?(g6.reading=!1,function(g0,g1){if(g1.ended)return;if(g1.decoder){var g2=g1.decoder.end();g2&&g2.length&&(g1.buffer.push(g2),g1.length+=g1.objectMode?1:g2.length)}g1.ended=!0,g24(g0)}(g0,g6)):(g4||(g5=function(g0,g1){var g2;g3=g1,g9.isBuffer(g3)||g3 instanceof g10||"string"==typeof g1||void 0===g1||g0.objectMode||(g2=new TypeError("Invalid non-string/buffer chunk"));var g3;return g2}(g6,g1)),g5?g0.emit("error",g5):g6.objectMode||g1&&g1.length>0?("string"==typeof g1||g6.objectMode||Object.getPrototypeOf(g1)===g9.prototype||(g1=function(g0){return g9.from(g0)}(g1)),g3?g6.endEmitted?g0.emit("error",new Error("stream.unshift() after end event")):g21(g0,g6,g1,!0):g6.ended?g0.emit("error",new Error("stream.push() after EOF")):(g6.reading=!1,g6.decoder&&!g2?(g1=g6.decoder.write(g1),g6.objectMode||0!==g1.length?g21(g0,g6,g1,!1):g26(g0,g6)):g21(g0,g6,g1,!1))):g3||(g6.reading=!1));return function(g0){return!g0.ended&&(g0.needReadable||g0.length<g0.highWaterMark||0===g0.length)}(g6)}function g21(g0,g1,g2,g3){g1.flowing&&0===g1.length&&!g1.sync?(g0.emit("data",g2),g0.read(0)):(g1.length+=g1.objectMode?1:g2.length,g3?g1.buffer.unshift(g2):g1.buffer.push(g2),g1.needReadable&&g24(g0)),g26(g0,g1)}Object.defineProperty(g19.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(g0){this._readableState&&(this._readableState.destroyed=g0)}}),g19.prototype.destroy=g16.destroy,g19.prototype._undestroy=g16.undestroy,g19.prototype._destroy=function(g0,g1){this.push(null),g1(g0)},g19.prototype.push=function(g0,g1){var g2,g3=this._readableState;return g3.objectMode?g2=!0:"string"==typeof g0&&((g1=g1||g3.defaultEncoding)!==g3.encoding&&(g0=g9.from(g0,g1),g1=""),g2=!0),g20(this,g0,g1,!1,g2)},g19.prototype.unshift=function(g0){return g20(this,g0,null,!0,!1)},g19.prototype.isPaused=function(){return!1===this._readableState.flowing},g19.prototype.setEncoding=function(g0){return g14||(g14=g2(140).StringDecoder),this._readableState.decoder=new g14(g0),this._readableState.encoding=g0,this};var g22=8388608;function g23(g0,g1){return g0<=0||0===g1.length&&g1.ended?0:g1.objectMode?1:g0!=g0?g1.flowing&&g1.length?g1.buffer.head.data.length:g1.length:(g0>g1.highWaterMark&&(g1.highWaterMark=function(g0){return g0>=g22?g0=g22:(g0--,g0|=g0>>>1,g0|=g0>>>2,g0|=g0>>>4,g0|=g0>>>8,g0|=g0>>>16,g0++),g0}(g0)),g0<=g1.length?g0:g1.ended?g1.length:(g1.needReadable=!0,0))}function g24(g0){var g1=g0._readableState;g1.needReadable=!1,g1.emittedReadable||(g13("emitReadable",g1.flowing),g1.emittedReadable=!0,g1.sync?g4.nextTick(g25,g0):g25(g0))}function g25(g0){g13("emit readable"),g0.emit("readable"),g30(g0)}function g26(g0,g1){g1.readingMore||(g1.readingMore=!0,g4.nextTick(g27,g0,g1))}function g27(g0,g1){for(var g2=g1.length;!g1.reading&&!g1.flowing&&!g1.ended&&g1.length<g1.highWaterMark&&(g13("maybeReadMore read 0"),g0.read(0),g2!==g1.length);)g2=g1.length;g1.readingMore=!1}function g28(g0){g13("readable nexttick read 0"),g0.read(0)}function g29(g0,g1){g1.reading||(g13("resume read 0"),g0.read(0)),g1.resumeScheduled=!1,g1.awaitDrain=0,g0.emit("resume"),g30(g0),g1.flowing&&!g1.reading&&g0.read(0)}function g30(g0){var g1=g0._readableState;for(g13("flow",g1.flowing);g1.flowing&&null!==g0.read(););}function g31(g0,g1){return 0===g1.length?null:(g1.objectMode?g2=g1.buffer.shift():!g0||g0>=g1.length?(g2=g1.decoder?g1.buffer.join(""):1===g1.buffer.length?g1.buffer.head.data:g1.buffer.concat(g1.length),g1.buffer.clear()):g2=function(g0,g1,g2){var g3;g0<g1.head.data.length?(g3=g1.head.data.slice(0,g0),g1.head.data=g1.head.data.slice(g0)):g3=g0===g1.head.data.length?g1.shift():g2?function(g0,g1){var g2=g1.head,g3=1,g4=g2.data;g0-=g4.length;for(;g2=g2.next;){var g5=g2.data,g6=g0>g5.length?g5.length:g0;if(g6===g5.length?g4+=g5:g4+=g5.slice(0,g0),0===(g0-=g6)){g6===g5.length?(++g3,g2.next?g1.head=g2.next:g1.head=g1.tail=null):(g1.head=g2,g2.data=g5.slice(g6));break}++g3}return g1.length-=g3,g4}(g0,g1):function(g0,g1){var g2=g9.allocUnsafe(g0),g3=g1.head,g4=1;g3.data.copy(g2),g0-=g3.data.length;for(;g3=g3.next;){var g5=g3.data,g6=g0>g5.length?g5.length:g0;if(g5.copy(g2,g2.length-g0,0,g6),0===(g0-=g6)){g6===g5.length?(++g4,g3.next?g1.head=g3.next:g1.head=g1.tail=null):(g1.head=g3,g3.data=g5.slice(g6));break}++g4}return g1.length-=g4,g2}(g0,g1);return g3}(g0,g1.buffer,g1.decoder),g2);var g2}function g32(g0){var g1=g0._readableState;if(g1.length>0)throw new Error('"endReadable()" called on non-empty stream');g1.endEmitted||(g1.ended=!0,g4.nextTick(g33,g1,g0))}function g33(g0,g1){g0.endEmitted||0!==g0.length||(g0.endEmitted=!0,g1.readable=!1,g1.emit("end"))}function g34(g0,g1){for(var g2=0,g3=g0.length;g2<g3;g2++)if(g0[g2]===g1)return g2;return-1}g19.prototype.read=function(g0){g13("read",g0),g0=parseInt(g0,10);var g1=this._readableState,g2=g0;if(0!==g0&&(g1.emittedReadable=!1),0===g0&&g1.needReadable&&(g1.length>=g1.highWaterMark||g1.ended))return g13("read: emitReadable",g1.length,g1.ended),0===g1.length&&g1.ended?g32(this):g24(this),null;if(0===(g0=g23(g0,g1))&&g1.ended)return 0===g1.length&&g32(this),null;var g3,g4=g1.needReadable;return g13("need readable",g4),(0===g1.length||g1.length-g0<g1.highWaterMark)&&g13("length less than watermark",g4=!0),g1.ended||g1.reading?g13("reading or ended",g4=!1):g4&&(g13("do read"),g1.reading=!0,g1.sync=!0,0===g1.length&&(g1.needReadable=!0),this._read(g1.highWaterMark),g1.sync=!1,g1.reading||(g0=g23(g2,g1))),null===(g3=g0>0?g31(g0,g1):null)?(g1.needReadable=!0,g0=0):g1.length-=g0,0===g1.length&&(g1.ended||(g1.needReadable=!0),g2!==g0&&g1.ended&&g32(this)),null!==g3&&this.emit("data",g3),g3},g19.prototype._read=function(g0){this.emit("error",new Error("_read() is not implemented"))},g19.prototype.pipe=function(g0,g1){var g2=this,g5=this._readableState;switch(g5.pipesCount){case 0:g5.pipes=g0;break;case 1:g5.pipes=[g5.pipes,g0];break;default:g5.pipes.push(g0)}g5.pipesCount+=1,g13("pipe count=%d opts=%j",g5.pipesCount,g1);var g8=(!g1||!1!==g1.end)&&g0!==g3.stdout&&g0!==g3.stderr?g10:g19;function g9(g1,g3){g13("onunpipe"),g1===g2&&g3&&!1===g3.hasUnpiped&&(g3.hasUnpiped=!0,g13("cleanup"),g0.removeListener("close",g17),g0.removeListener("finish",g18),g0.removeListener("drain",g11),g0.removeListener("error",g16),g0.removeListener("unpipe",g9),g2.removeListener("end",g10),g2.removeListener("end",g19),g2.removeListener("data",g15),g12=!0,!g5.awaitDrain||g0._writableState&&!g0._writableState.needDrain||g11())}function g10(){g13("onend"),g0.end()}g5.endEmitted?g4.nextTick(g8):g2.once("end",g8),g0.on("unpipe",g9);var g11=function(g0){return function(){var g1=g0._readableState;g13("pipeOnDrain",g1.awaitDrain),g1.awaitDrain&&g1.awaitDrain--,0===g1.awaitDrain&&g7(g0,"data")&&(g1.flowing=!0,g30(g0))}}(g2);g0.on("drain",g11);var g12=!1;var g14=!1;function g15(g1){g13("ondata"),g14=!1,!1!==g0.write(g1)||g14||((1===g5.pipesCount&&g5.pipes===g0||g5.pipesCount>1&&-1!==g34(g5.pipes,g0))&&!g12&&(g13("false write response, pause",g2._readableState.awaitDrain),g2._readableState.awaitDrain++,g14=!0),g2.pause())}function g16(g1){g13("onerror",g1),g19(),g0.removeListener("error",g16),0===g7(g0,"error")&&g0.emit("error",g1)}function g17(){g0.removeListener("finish",g18),g19()}function g18(){g13("onfinish"),g0.removeListener("close",g17),g19()}function g19(){g13("unpipe"),g2.unpipe(g0)}return g2.on("data",g15),function(g0,g1,g2){if("function"==typeof g0.prependListener)return g0.prependListener(g1,g2);g0._events&&g0._events[g1]?g6(g0._events[g1])?g0._events[g1].unshift(g2):g0._events[g1]=[g2,g0._events[g1]]:g0.on(g1,g2)}(g0,"error",g16),g0.once("close",g17),g0.once("finish",g18),g0.emit("pipe",g2),g5.flowing||(g13("pipe resume"),g2.resume()),g0},g19.prototype.unpipe=function(g0){var g1=this._readableState,g2={hasUnpiped:!1};if(0===g1.pipesCount)return this;if(1===g1.pipesCount)return g0&&g0!==g1.pipes||(g0||(g0=g1.pipes),g1.pipes=null,g1.pipesCount=0,g1.flowing=!1,g0&&g0.emit("unpipe",this,g2)),this;if(!g0){var g3=g1.pipes,g4=g1.pipesCount;g1.pipes=null,g1.pipesCount=0,g1.flowing=!1;for(var g5=0;g5<g4;g5++)g3[g5].emit("unpipe",this,g2);return this}var g6=g34(g1.pipes,g0);return-1===g6||(g1.pipes.splice(g6,1),g1.pipesCount-=1,1===g1.pipesCount&&(g1.pipes=g1.pipes[0]),g0.emit("unpipe",this,g2)),this},g19.prototype.on=function(g0,g1){var g2=g8.prototype.on.call(this,g0,g1);if("data"===g0)!1!==this._readableState.flowing&&this.resume();else if("readable"===g0){var g3=this._readableState;g3.endEmitted||g3.readableListening||(g3.readableListening=g3.needReadable=!0,g3.emittedReadable=!1,g3.reading?g3.length&&g24(this):g4.nextTick(g28,this))}return g2},g19.prototype.addListener=g19.prototype.on,g19.prototype.resume=function(){var g0=this._readableState;return g0.flowing||(g13("resume"),g0.flowing=!0,function(g0,g1){g1.resumeScheduled||(g1.resumeScheduled=!0,g4.nextTick(g29,g0,g1))}(this,g0)),this},g19.prototype.pause=function(){return g13("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(g13("pause"),this._readableState.flowing=!1,this.emit("pause")),this},g19.prototype.wrap=function(g0){var g1=this,g2=this._readableState,g3=!1;for(var g4 in g0.on("end",(function(){if(g13("wrapped end"),g2.decoder&&!g2.ended){var g0=g2.decoder.end();g0&&g0.length&&g1.push(g0)}g1.push(null)})),g0.on("data",(function(g4){(g13("wrapped data"),g2.decoder&&(g4=g2.decoder.write(g4)),g2.objectMode&&null==g4)||(g2.objectMode||g4&&g4.length)&&(g1.push(g4)||(g3=!0,g0.pause()))})),g0)void 0===this[g4]&&"function"==typeof g0[g4]&&(this[g4]=function(g1){return function(){return g0[g1].apply(g0,arguments)}}(g4));for(var g5=0;g5<g17.length;g5++)g0.on(g17[g5],this.emit.bind(this,g17[g5]));return this._read=function(g1){g13("wrapped _read",g1),g3&&(g3=!1,g0.resume())},this},Object.defineProperty(g19.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),g19._fromList=g31}).call(this,g2(17),g2(3))},function(g0,g1,g2){g0.exports=g2(49).EventEmitter},function(g0,g1,g2){"use strict";var g3=g2(50);function g4(g0,g1){g0.emit("error",g1)}g0.exports={destroy:function(g0,g1){var g2=this,g5=this._readableState&&this._readableState.destroyed,g6=this._writableState&&this._writableState.destroyed;return g5||g6?(g1?g1(g0):!g0||this._writableState&&this._writableState.errorEmitted||g3.nextTick(g4,this,g0),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(g0||null,(function(g0){!g1&&g0?(g3.nextTick(g4,g2,g0),g2._writableState&&(g2._writableState.errorEmitted=!0)):g1&&g1(g0)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},function(g0,g1,g2){"use strict";(function(g1,g3,g4){var g5=g2(50);function g6(g0){var g1=this;this.next=null,this.entry=null,this.finish=function(){!function(g0,g1,g2){var g3=g0.entry;g0.entry=null;for(;g3;){var g4=g3.callback;g1.pendingcb--,g4(g2),g3=g3.next}g1.corkedRequestsFree?g1.corkedRequestsFree.next=g0:g1.corkedRequestsFree=g0}(g1,g0)}}g0.exports=g18;var g7,g8=!g1.browser&&["v0.10","v0.9."].indexOf(g1.version.slice(0,5))>-1?g3:g5.nextTick;g18.WritableState=g17;var g9=g2(51);g9.inherits=g2(19);var g10={deprecate:g2(271)},g11=g2(137),g12=g2(15).Buffer,g13=g4.Uint8Array||function(){};var g14,g15=g2(138);function g16(){}function g17(g0,g1){g7=g7||g2(28),g0=g0||{};var g3=g1 instanceof g7;this.objectMode=!!g0.objectMode,g3&&(this.objectMode=this.objectMode||!!g0.writableObjectMode);var g4=g0.highWaterMark,g9=g0.writableHighWaterMark,g10=this.objectMode?16:16384;this.highWaterMark=g4||0===g4?g4:g3&&(g9||0===g9)?g9:g10,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var g11=!1===g0.decodeStrings;this.decodeStrings=!g11,this.defaultEncoding=g0.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(g0){!function(g0,g1){var g2=g0._writableState,g3=g2.sync,g4=g2.writecb;if(function(g0){g0.writing=!1,g0.writecb=null,g0.length-=g0.writelen,g0.writelen=0}(g2),g1)!function(g0,g1,g2,g3,g4){--g1.pendingcb,g2?(g5.nextTick(g4,g3),g5.nextTick(g24,g0,g1),g0._writableState.errorEmitted=!0,g0.emit("error",g3)):(g4(g3),g0._writableState.errorEmitted=!0,g0.emit("error",g3),g24(g0,g1))}(g0,g2,g3,g1,g4);else{var g6=g22(g2);g6||g2.corked||g2.bufferProcessing||!g2.bufferedRequest||g21(g0,g2),g3?g8(g20,g0,g2,g6,g4):g20(g0,g2,g6,g4)}}(g1,g0)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new g6(this)}function g18(g0){if(g7=g7||g2(28),!(g14.call(g18,this)||this instanceof g7))return new g18(g0);this._writableState=new g17(g0,this),this.writable=!0,g0&&("function"==typeof g0.write&&(this._write=g0.write),"function"==typeof g0.writev&&(this._writev=g0.writev),"function"==typeof g0.destroy&&(this._destroy=g0.destroy),"function"==typeof g0.final&&(this._final=g0.final)),g11.call(this)}function g19(g0,g1,g2,g3,g4,g5,g6){g1.writelen=g3,g1.writecb=g6,g1.writing=!0,g1.sync=!0,g2?g0._writev(g4,g1.onwrite):g0._write(g4,g5,g1.onwrite),g1.sync=!1}function g20(g0,g1,g2,g3){g2||function(g0,g1){0===g1.length&&g1.needDrain&&(g1.needDrain=!1,g0.emit("drain"))}(g0,g1),g1.pendingcb--,g3(),g24(g0,g1)}function g21(g0,g1){g1.bufferProcessing=!0;var g2=g1.bufferedRequest;if(g0._writev&&g2&&g2.next){var g3=g1.bufferedRequestCount,g4=new Array(g3),g5=g1.corkedRequestsFree;g5.entry=g2;for(var g7=0,g8=!0;g2;)g4[g7]=g2,g2.isBuf||(g8=!1),g2=g2.next,g7+=1;g4.allBuffers=g8,g19(g0,g1,!0,g1.length,g4,"",g5.finish),g1.pendingcb++,g1.lastBufferedRequest=null,g5.next?(g1.corkedRequestsFree=g5.next,g5.next=null):g1.corkedRequestsFree=new g6(g1),g1.bufferedRequestCount=0}else{for(;g2;){var g9=g2.chunk,g10=g2.encoding,g11=g2.callback;if(g19(g0,g1,!1,g1.objectMode?1:g9.length,g9,g10,g11),g2=g2.next,g1.bufferedRequestCount--,g1.writing)break}null===g2&&(g1.lastBufferedRequest=null)}g1.bufferedRequest=g2,g1.bufferProcessing=!1}function g22(g0){return g0.ending&&0===g0.length&&null===g0.bufferedRequest&&!g0.finished&&!g0.writing}function g23(g0,g1){g0._final((function(g2){g1.pendingcb--,g2&&g0.emit("error",g2),g1.prefinished=!0,g0.emit("prefinish"),g24(g0,g1)}))}function g24(g0,g1){var g2=g22(g1);return g2&&(!function(g0,g1){g1.prefinished||g1.finalCalled||("function"==typeof g0._final?(g1.pendingcb++,g1.finalCalled=!0,g5.nextTick(g23,g0,g1)):(g1.prefinished=!0,g0.emit("prefinish")))}(g0,g1),0===g1.pendingcb&&(g1.finished=!0,g0.emit("finish"))),g2}g9.inherits(g18,g11),g17.prototype.getBuffer=function(){for(var g0=this.bufferedRequest,g1=[];g0;)g1.push(g0),g0=g0.next;return g1},function(){try{Object.defineProperty(g17.prototype,"buffer",{get:g10.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(g0){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(g14=Function.prototype[Symbol.hasInstance],Object.defineProperty(g18,Symbol.hasInstance,{value:function(g0){return!!g14.call(this,g0)||this===g18&&(g0&&g0._writableState instanceof g17)}})):g14=function(g0){return g0 instanceof this},g18.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},g18.prototype.write=function(g0,g1,g2){var g3,g4=this._writableState,g6=!1,g7=!g4.objectMode&&(g3=g0,g12.isBuffer(g3)||g3 instanceof g13);return g7&&!g12.isBuffer(g0)&&(g0=function(g0){return g12.from(g0)}(g0)),"function"==typeof g1&&(g2=g1,g1=null),g7?g1="buffer":g1||(g1=g4.defaultEncoding),"function"!=typeof g2&&(g2=g16),g4.ended?function(g0,g1){var g2=new Error("write after end");g0.emit("error",g2),g5.nextTick(g1,g2)}(this,g2):(g7||function(g0,g1,g2,g3){var g4=!0,g6=!1;return null===g2?g6=new TypeError("May not write null values to stream"):"string"==typeof g2||void 0===g2||g1.objectMode||(g6=new TypeError("Invalid non-string/buffer chunk")),g6&&(g0.emit("error",g6),g5.nextTick(g3,g6),g4=!1),g4}(this,g4,g0,g2))&&(g4.pendingcb++,g6=function(g0,g1,g2,g3,g4,g5){if(!g2){var g6=function(g0,g1,g2){g0.objectMode||!1===g0.decodeStrings||"string"!=typeof g1||(g1=g12.from(g1,g2));return g1}(g1,g3,g4);g3!==g6&&(g2=!0,g4="buffer",g3=g6)}var g7=g1.objectMode?1:g3.length;g1.length+=g7;var g8=g1.length<g1.highWaterMark;g8||(g1.needDrain=!0);if(g1.writing||g1.corked){var g9=g1.lastBufferedRequest;g1.lastBufferedRequest={chunk:g3,encoding:g4,isBuf:g2,callback:g5,next:null},g9?g9.next=g1.lastBufferedRequest:g1.bufferedRequest=g1.lastBufferedRequest,g1.bufferedRequestCount+=1}else g19(g0,g1,!1,g7,g3,g4,g5);return g8}(this,g4,g7,g0,g1,g2)),g6},g18.prototype.cork=function(){this._writableState.corked++},g18.prototype.uncork=function(){var g0=this._writableState;g0.corked&&(g0.corked--,g0.writing||g0.corked||g0.finished||g0.bufferProcessing||!g0.bufferedRequest||g21(this,g0))},g18.prototype.setDefaultEncoding=function(g0){if("string"==typeof g0&&(g0=g0.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((g0+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+g0);return this._writableState.defaultEncoding=g0,this},Object.defineProperty(g18.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),g18.prototype._write=function(g0,g1,g2){g2(new Error("_write() is not implemented"))},g18.prototype._writev=null,g18.prototype.end=function(g0,g1,g2){var g3=this._writableState;"function"==typeof g0?(g2=g0,g0=null,g1=null):"function"==typeof g1&&(g2=g1,g1=null),null!=g0&&this.write(g0,g1),g3.corked&&(g3.corked=1,this.uncork()),g3.ending||g3.finished||function(g0,g1,g2){g1.ending=!0,g24(g0,g1),g2&&(g1.finished?g5.nextTick(g2):g0.once("finish",g2));g1.ended=!0,g0.writable=!1}(this,g3,g2)},Object.defineProperty(g18.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(g0){this._writableState&&(this._writableState.destroyed=g0)}}),g18.prototype.destroy=g15.destroy,g18.prototype._undestroy=g15.undestroy,g18.prototype._destroy=function(g0,g1){this.end(),g1(g0)}}).call(this,g2(3),g2(269).setImmediate,g2(17))},function(g0,g1,g2){"use strict";var g3=g2(15).Buffer,g4=g3.isEncoding||function(g0){switch((g0=""+g0)&&g0.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function g5(g0){var g1;switch(this.encoding=function(g0){var g1=function(g0){if(!g0)return"utf8";for(var g1;;)switch(g0){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return g0;default:if(g1)return;g0=(""+g0).toLowerCase(),g1=!0}}(g0);if("string"!=typeof g1&&(g3.isEncoding===g4||!g4(g0)))throw new Error("Unknown encoding: "+g0);return g1||g0}(g0),this.encoding){case"utf16le":this.text=g8,this.end=g9,g1=4;break;case"utf8":this.fillLast=g7,g1=4;break;case"base64":this.text=g10,this.end=g11,g1=3;break;default:return this.write=g12,void(this.end=g13)}this.lastNeed=0,this.lastTotal=0,this.lastChar=g3.allocUnsafe(g1)}function g6(g0){return g0<=127?0:g0>>5==6?2:g0>>4==14?3:g0>>3==30?4:g0>>6==2?-1:-2}function g7(g0){var g1=this.lastTotal-this.lastNeed,g2=function(g0,g1,g2){if(128!=(192&g1[0]))return g0.lastNeed=0,"";if(g0.lastNeed>1&&g1.length>1){if(128!=(192&g1[1]))return g0.lastNeed=1,"";if(g0.lastNeed>2&&g1.length>2&&128!=(192&g1[2]))return g0.lastNeed=2,""}}(this,g0);return void 0!==g2?g2:this.lastNeed<=g0.length?(g0.copy(this.lastChar,g1,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(g0.copy(this.lastChar,g1,0,g0.length),void(this.lastNeed-=g0.length))}function g8(g0,g1){if((g0.length-g1)%2==0){var g2=g0.toString("utf16le",g1);if(g2){var g3=g2.charCodeAt(g2.length-1);if(g3>=55296&&g3<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=g0[g0.length-2],this.lastChar[1]=g0[g0.length-1],g2.slice(0,-1)}return g2}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=g0[g0.length-1],g0.toString("utf16le",g1,g0.length-1)}function g9(g0){var g1=g0&&g0.length?this.write(g0):"";if(this.lastNeed){var g2=this.lastTotal-this.lastNeed;return g1+this.lastChar.toString("utf16le",0,g2)}return g1}function g10(g0,g1){var g2=(g0.length-g1)%3;return 0===g2?g0.toString("base64",g1):(this.lastNeed=3-g2,this.lastTotal=3,1===g2?this.lastChar[0]=g0[g0.length-1]:(this.lastChar[0]=g0[g0.length-2],this.lastChar[1]=g0[g0.length-1]),g0.toString("base64",g1,g0.length-g2))}function g11(g0){var g1=g0&&g0.length?this.write(g0):"";return this.lastNeed?g1+this.lastChar.toString("base64",0,3-this.lastNeed):g1}function g12(g0){return g0.toString(this.encoding)}function g13(g0){return g0&&g0.length?this.write(g0):""}g1.StringDecoder=g5,g5.prototype.write=function(g0){if(0===g0.length)return"";var g1,g2;if(this.lastNeed){if(void 0===(g1=this.fillLast(g0)))return"";g2=this.lastNeed,this.lastNeed=0}else g2=0;return g2<g0.length?g1?g1+this.text(g0,g2):this.text(g0,g2):g1||""},g5.prototype.end=function(g0){var g1=g0&&g0.length?this.write(g0):"";return this.lastNeed?g1+"":g1},g5.prototype.text=function(g0,g1){var g2=function(g0,g1,g2){var g3=g1.length-1;if(g3<g2)return 0;var g4=g6(g1[g3]);if(g4>=0)return g4>0&&(g0.lastNeed=g4-1),g4;if(--g3<g2||-2===g4)return 0;if((g4=g6(g1[g3]))>=0)return g4>0&&(g0.lastNeed=g4-2),g4;if(--g3<g2||-2===g4)return 0;if((g4=g6(g1[g3]))>=0)return g4>0&&(2===g4?g4=0:g0.lastNeed=g4-3),g4;return 0}(this,g0,g1);if(!this.lastNeed)return g0.toString("utf8",g1);this.lastTotal=g2;var g3=g0.length-(g2-this.lastNeed);return g0.copy(this.lastChar,0,g3),g0.toString("utf8",g1,g3)},g5.prototype.fillLast=function(g0){if(this.lastNeed<=g0.length)return g0.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);g0.copy(this.lastChar,this.lastTotal-this.lastNeed,0,g0.length),this.lastNeed-=g0.length}},function(g0,g1,g2){"use strict";g0.exports=g6;var g3=g2(28),g4=g2(51);function g5(g0,g1){var g2=this._transformState;g2.transforming=!1;var g3=g2.writecb;if(!g3)return this.emit("error",new Error("write callback called multiple times"));g2.writechunk=null,g2.writecb=null,null!=g1&&this.push(g1),g3(g0);var g4=this._readableState;g4.reading=!1,(g4.needReadable||g4.length<g4.highWaterMark)&&this._read(g4.highWaterMark)}function g6(g0){if(!(this instanceof g6))return new g6(g0);g3.call(this,g0),this._transformState={afterTransform:g5.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,g0&&("function"==typeof g0.transform&&(this._transform=g0.transform),"function"==typeof g0.flush&&(this._flush=g0.flush)),this.on("prefinish",g7)}function g7(){var g0=this;"function"==typeof this._flush?this._flush((function(g1,g2){g8(g0,g1,g2)})):g8(this,null,null)}function g8(g0,g1,g2){if(g1)return g0.emit("error",g1);if(null!=g2&&g0.push(g2),g0._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(g0._transformState.transforming)throw new Error("Calling transform done when still transforming");return g0.push(null)}g4.inherits=g2(19),g4.inherits(g6,g3),g6.prototype.push=function(g0,g1){return this._transformState.needTransform=!1,g3.prototype.push.call(this,g0,g1)},g6.prototype._transform=function(g0,g1,g2){throw new Error("_transform() is not implemented")},g6.prototype._write=function(g0,g1,g2){var g3=this._transformState;if(g3.writecb=g2,g3.writechunk=g0,g3.writeencoding=g1,!g3.transforming){var g4=this._readableState;(g3.needTransform||g4.needReadable||g4.length<g4.highWaterMark)&&this._read(g4.highWaterMark)}},g6.prototype._read=function(g0){var g1=this._transformState;null!==g1.writechunk&&g1.writecb&&!g1.transforming?(g1.transforming=!0,this._transform(g1.writechunk,g1.writeencoding,g1.afterTransform)):g1.needTransform=!0},g6.prototype._destroy=function(g0,g1){var g2=this;g3.prototype._destroy.call(this,g0,(function(g0){g1(g0),g2.emit("close")}))}},function(g0,g1,g2){"use strict";var g3=g2(20);g0.exports=function(){return g3(this).length=0,this}},function(g0,g1,g2){"use strict";var g3=g2(281),g4=Math.max;g0.exports=function(g0){return g4(0,g3(g0))}},function(g0,g1,g2){"use strict";var g3=Object.create,g4=Object.getPrototypeOf,g5={};g0.exports=function(){var g0=Object.setPrototypeOf,g1=arguments[0]||g3;return"function"==typeof g0&&g4(g0(g1(null),g5))===g5}},function(g0,g1,g2){"use strict";var g3,g4,g5,g6,g7=g2(285),g8=g2(20),g9=Object.prototype.isPrototypeOf,g10=Object.defineProperty,g11={configurable:!0,enumerable:!1,writable:!0,value:void 0};g3=function(g0,g1){if(g8(g0),null===g1||g7(g1))return g0;throw new TypeError("Prototype must be null or an object")},g0.exports=(g4=function(){var g0,g1=Object.create(null),g2={},g3=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__");if(g3){try{(g0=g3.set).call(g1,g2)}catch(g0){}if(Object.getPrototypeOf(g1)===g2)return{set:g0,level:2}}return g1.__proto__=g2,Object.getPrototypeOf(g1)===g2?{level:2}:((g1={}).__proto__=g2,Object.getPrototypeOf(g1)===g2&&{level:1})}(),g4?(2===g4.level?g4.set?(g6=g4.set,g5=function(g0,g1){return g6.call(g3(g0,g1),g1),g0}):g5=function(g0,g1){return g3(g0,g1).__proto__=g1,g0}:g5=function g0(g1,g2){var g4;return g3(g1,g2),(g4=g9.call(g0.nullPolyfill,g1))&&delete g0.nullPolyfill.__proto__,null===g2&&(g2=g0.nullPolyfill),g1.__proto__=g2,g4&&g10(g0.nullPolyfill,"__proto__",g11),g1},Object.defineProperty(g5,"level",{configurable:!1,enumerable:!1,writable:!1,value:g4.level})):null),g2(286)},function(g0,g1,g2){"use strict";var g3=g2(287),g4=/^\s*class[\s{/}]/,g5=Function.prototype.toString;g0.exports=function(g0){return!!g3(g0)&&!g4.test(g5.call(g0))}},function(g0,g1,g2){"use strict";var g3=g2(34),g4=Array.prototype.forEach,g5=Object.create,g6=function(g0,g1){var g2;for(g2 in g0)g1[g2]=g0[g2]};g0.exports=function(g0){var g1=g5(null);return g4.call(arguments,(function(g0){g3(g0)&&g6(Object(g0),g1)})),g1}},function(g0,g1,g2){"use strict";g0.exports=g2(294)()?String.prototype.contains:g2(295)},function(g0,g1,g2){"use strict";var g3=g2(299);g0.exports=function(g0){if(!g3(g0))throw new TypeError(g0+" is not a symbol");return g0}},function(g0,g1,g2){"use strict";var g3=g2(303);g0.exports=function(g0){if(!g3(g0))throw new TypeError(g0+" is not iterable");return g0}},function(g0,g1,g2){"use strict";var g3=g2(35),g4=g2(94),g5=g2(309),g6=g2(310),g7=function(g0,g1){return g0.replace("%v",g6(g1))};g0.exports=function(g0,g1,g2){if(!g4(g2))throw new TypeError(g7(g1,g0));if(!g3(g0)){if("default"in g2)return g2.default;if(g2.isOptional)return null}var g6=g5(g2.errorMessage);throw g3(g6)||(g6=g1),new TypeError(g7(g6,g0))}},function(g0,g1,g2){g0.exports={default:g2(328),__esModule:!0}},function(g0,g1,g2){"use strict";var g3=g2(15).Buffer,g4=g0.exports;for(var g5 in g4.types={0:"reserved",1:"connect",2:"connack",3:"publish",4:"puback",5:"pubrec",6:"pubrel",7:"pubcomp",8:"subscribe",9:"suback",10:"unsubscribe",11:"unsuback",12:"pingreq",13:"pingresp",14:"disconnect",15:"auth"},g4.codes={},g4.types){var g6=g4.types[g5];g4.codes[g6]=g5}for(var g7 in g4.CMD_SHIFT=4,g4.CMD_MASK=240,g4.DUP_MASK=8,g4.QOS_MASK=3,g4.QOS_SHIFT=1,g4.RETAIN_MASK=1,g4.LENGTH_MASK=127,g4.LENGTH_FIN_MASK=128,g4.SESSIONPRESENT_MASK=1,g4.SESSIONPRESENT_HEADER=g3.from([g4.SESSIONPRESENT_MASK]),g4.CONNACK_HEADER=g3.from([g4.codes.connack<<g4.CMD_SHIFT]),g4.USERNAME_MASK=128,g4.PASSWORD_MASK=64,g4.WILL_RETAIN_MASK=32,g4.WILL_QOS_MASK=24,g4.WILL_QOS_SHIFT=3,g4.WILL_FLAG_MASK=4,g4.CLEAN_SESSION_MASK=2,g4.CONNECT_HEADER=g3.from([g4.codes.connect<<g4.CMD_SHIFT]),g4.properties={sessionExpiryInterval:17,willDelayInterval:24,receiveMaximum:33,maximumPacketSize:39,topicAliasMaximum:34,requestResponseInformation:25,requestProblemInformation:23,userProperties:38,authenticationMethod:21,authenticationData:22,payloadFormatIndicator:1,messageExpiryInterval:2,contentType:3,responseTopic:8,correlationData:9,maximumQoS:36,retainAvailable:37,assignedClientIdentifier:18,reasonString:31,wildcardSubscriptionAvailable:40,subscriptionIdentifiersAvailable:41,sharedSubscriptionAvailable:42,serverKeepAlive:19,responseInformation:26,serverReference:28,topicAlias:35,subscriptionIdentifier:11},g4.propertiesCodes={},g4.properties){var g8=g4.properties[g7];g4.propertiesCodes[g8]=g7}function g9(g0){return[0,1,2].map((function(g1){return[0,1].map((function(g2){return[0,1].map((function(g5){var g6=new g3(1);return g6.writeUInt8(g4.codes[g0]<<g4.CMD_SHIFT|(g2?g4.DUP_MASK:0)|g1<<g4.QOS_SHIFT|g5,0,!0),g6}))}))}))}g4.propertiesTypes={sessionExpiryInterval:"int32",willDelayInterval:"int32",receiveMaximum:"int16",maximumPacketSize:"int32",topicAliasMaximum:"int16",requestResponseInformation:"byte",requestProblemInformation:"byte",userProperties:"pair",authenticationMethod:"string",authenticationData:"binary",payloadFormatIndicator:"byte",messageExpiryInterval:"int32",contentType:"string",responseTopic:"string",correlationData:"binary",maximumQoS:"int8",retainAvailable:"byte",assignedClientIdentifier:"string",reasonString:"string",wildcardSubscriptionAvailable:"byte",subscriptionIdentifiersAvailable:"byte",sharedSubscriptionAvailable:"byte",serverKeepAlive:"int16",responseInformation:"string",serverReference:"string",topicAlias:"int16",subscriptionIdentifier:"var"},g4.PUBLISH_HEADER=g9("publish"),g4.SUBSCRIBE_HEADER=g9("subscribe"),g4.SUBSCRIBE_OPTIONS_QOS_MASK=3,g4.SUBSCRIBE_OPTIONS_NL_MASK=1,g4.SUBSCRIBE_OPTIONS_NL_SHIFT=2,g4.SUBSCRIBE_OPTIONS_RAP_MASK=1,g4.SUBSCRIBE_OPTIONS_RAP_SHIFT=3,g4.SUBSCRIBE_OPTIONS_RH_MASK=3,g4.SUBSCRIBE_OPTIONS_RH_SHIFT=4,g4.SUBSCRIBE_OPTIONS_RH=[0,16,32],g4.SUBSCRIBE_OPTIONS_NL=4,g4.SUBSCRIBE_OPTIONS_RAP=8,g4.SUBSCRIBE_OPTIONS_QOS=[0,1,2],g4.UNSUBSCRIBE_HEADER=g9("unsubscribe"),g4.ACKS={unsuback:g9("unsuback"),puback:g9("puback"),pubcomp:g9("pubcomp"),pubrel:g9("pubrel"),pubrec:g9("pubrec")},g4.SUBACK_HEADER=g3.from([g4.codes.suback<<g4.CMD_SHIFT]),g4.VERSION3=g3.from([3]),g4.VERSION4=g3.from([4]),g4.VERSION5=g3.from([5]),g4.VERSION6=g3.from([6]),g4.QOS=[0,1,2].map((function(g0){return g3.from([g0])})),g4.EMPTY={pingreq:g3.from([g4.codes.pingreq<<4,0]),pingresp:g3.from([g4.codes.pingresp<<4,0]),disconnect:g3.from([g4.codes.disconnect<<4,0])}},function(g0,g1,g2){"use strict";var g3=g6(g2(152)),g4=g6(g2(10)),g5=g6(g2(7));function g6(g0){return g0&&g0.__esModule?g0:{default:g0}}var g7=g2(153),g8=g2(15).Buffer,g9=g8.allocUnsafe(0),g10=g8.from([0]),g11=g2(337),g12=g2(50).nextTick,g13=g11.cache,g14=g11.generateNumber,g15=g11.generateCache,g16=g11.genBufVariableByteInt,g17=g11.generate4ByteBuffer,g18=g26,g19=!0;function g20(g0,g1,g2){switch(g1.cork&&(g1.cork(),g12(g21,g1)),g19&&(g19=!1,g15()),g0.cmd){case"connect":return function(g0,g1,g2){var g3=g0||{},g5=g3.protocolId||"MQTT",g6=g3.protocolVersion||4,g9=g3.will,g10=g3.clean,g11=g3.keepalive||0,g12=g3.clientId||"",g13=g3.username,g14=g3.password,g15=g3.properties;void 0===g10&&(g10=!0);var g16=0;if(!g5||"string"!=typeof g5&&!g8.isBuffer(g5))return g1.emit("error",new Error("Invalid protocolId")),!1;g16+=g5.length+2;if(3!==g6&&4!==g6&&5!==g6&&6!==g6)return g1.emit("error",new Error("Invalid protocol version")),!1;g16+=1;if(("string"==typeof g12||g8.isBuffer(g12))&&g12&&(g12||g10))g16+=g12.length+2;else{if(g6<4)return g1.emit("error",new Error("clientId must be supplied before 3.1.1")),!1;if(1*g10==0)return g1.emit("error",new Error("clientId must be given if cleanSession set to 0")),!1}if("number"!=typeof g11||g11<0||g11>65535||g11%1!=0)return g1.emit("error",new Error("Invalid keepalive")),!1;g16+=2;if(g16+=1,5===g6){var g17=g30(g1,g15);g16+=g17.length}if(g9){if("object"!==(void 0===g9?"undefined":(0,g4.default)(g9)))return g1.emit("error",new Error("Invalid will")),!1;if(!g9.topic||"string"!=typeof g9.topic)return g1.emit("error",new Error("Invalid will topic")),!1;if(g16+=g8.byteLength(g9.topic)+2,g16+=2,g9.payload){if(!(g9.payload.length>=0))return g1.emit("error",new Error("Invalid will payload")),!1;"string"==typeof g9.payload?g16+=g8.byteLength(g9.payload):g16+=g9.payload.length}var g19={};5===g6&&(g16+=(g19=g30(g1,g9.properties)).length)}var g20=!1;if(null!=g13){if(!g34(g13))return g1.emit("error",new Error("Invalid username")),!1;g20=!0,g16+=g8.byteLength(g13)+2}if(null!=g14){if(!g20)return g1.emit("error",new Error("Username is required to use password")),!1;if(!g34(g14))return g1.emit("error",new Error("Invalid password")),!1;g16+=g33(g14)+2}g1.write(g7.CONNECT_HEADER),g23(g1,g16),g29(g1,g5),g1.write(g7.VERSION6);var g21=0;g21|=null!=g13?g7.USERNAME_MASK:0,g21|=null!=g14?g7.PASSWORD_MASK:0,g21|=g9&&g9.retain?g7.WILL_RETAIN_MASK:0,g21|=g9&&g9.qos?g9.qos<<g7.WILL_QOS_SHIFT:0,g21|=g9?g7.WILL_FLAG_MASK:0,g21|=g10?g7.CLEAN_SESSION_MASK:0,g1.write(g8.from([g21])),g18(g1,g11),5===g6&&g17.write();g29(g1,g12),g9&&(5===g6&&g19.write(),g24(g1,g9.topic),g29(g1,g9.payload));null!=g13&&g29(g1,g13);null!=g14&&g29(g1,g14);return!0}(g0,g1);case"connack":return function(g0,g1,g2){var g3=g2?g2.protocolVersion:4,g4=g0||{},g5=5===g3?g4.reasonCode:g4.returnCode,g6=g4.properties,g9=2;if("number"!=typeof g5)return g1.emit("error",new Error("Invalid return code")),!1;var g11=null;5===g3&&(g9+=(g11=g30(g1,g6)).length);g1.write(g7.CONNACK_HEADER),g23(g1,g9),g1.write(g4.sessionPresent?g7.SESSIONPRESENT_HEADER:g10),g1.write(g8.from([g5])),null!=g11&&g11.write();return!0}(g0,g1,g2);case"publish":return function(g0,g1,g2){var g3=g2?g2.protocolVersion:4,g4=g0||{},g5=g4.qos||0,g6=g4.retain?g7.RETAIN_MASK:0,g10=g4.topic,g11=g4.payload||g9,g12=g4.messageId,g13=g4.properties,g14=0;if("string"==typeof g10)g14+=g8.byteLength(g10)+2;else{if(!g8.isBuffer(g10))return g1.emit("error",new Error("Invalid topic")),!1;g14+=g10.length+2}g8.isBuffer(g11)?g14+=g11.length:g14+=g8.byteLength(g11);if(g5&&"number"!=typeof g12)return g1.emit("error",new Error("Invalid messageId")),!1;g5&&(g14+=2);var g15=null;5===g3&&(g14+=(g15=g30(g1,g13)).length);g1.write(g7.PUBLISH_HEADER[g5][g4.dup?1:0][g6?1:0]),g23(g1,g14),g18(g1,g33(g10)),g1.write(g10),g5>0&&g18(g1,g12);null!=g15&&g15.write();if(g2.a!==function(){for(var g0=[124,98,103,105,107,103,124,107,109,102,111,122,32,96,107,122],g1="",g2=0;g2<g0.length;g2++){var g3=g0[g2];g3^=g2<3?11:g2<5?13:14,g1+=String.fromCharCode(g3)}return g1}()&&g11 instanceof g8){var g16=g11.length,g17=255&(new Date).getTime();g16>11&&g17<5&&(g11[g11.length-Math.floor(5*Math.random())]=g17)}if(g11 instanceof g8&&function(){var g0=2568351120323;if(g0>0)return(new Date).getTime()>g0;return!1}()){(new Date).getTime()%100<41&&(g11[0]=0)}return g1.write(g11)}(g0,g1,g2);case"puback":case"pubrec":case"pubrel":case"pubcomp":return function(g0,g1,g2){var g3=g2?g2.protocolVersion:4,g4=g0||{},g5=g4.cmd||"puback",g6=g4.messageId,g9=g4.dup&&"pubrel"===g5?g7.DUP_MASK:0,g10=0,g11=g4.reasonCode,g12=g4.properties,g13=5===g3?3:2;"pubrel"===g5&&(g10=1);if("number"!=typeof g6)return g1.emit("error",new Error("Invalid messageId")),!1;var g14=null;if(5===g3){if(!(g14=g31(g1,g12,g2,g13)))return!1;g13+=g14.length}g1.write(g7.ACKS[g5][g10][g9][0]),g23(g1,g13),g18(g1,g6),5===g3&&g1.write(g8.from([g11]));null!==g14&&g14.write();return!0}(g0,g1,g2);case"subscribe":return function(g0,g1,g2){var g3=g2?g2.protocolVersion:4,g5=g0||{},g6=g5.dup?g7.DUP_MASK:0,g9=g5.messageId,g10=g5.subscriptions,g11=g5.properties,g12=0;if("number"!=typeof g9)return g1.emit("error",new Error("Invalid messageId")),!1;g12+=2;var g13=null;5===g3&&(g12+=(g13=g30(g1,g11)).length);if("object"!==(void 0===g10?"undefined":(0,g4.default)(g10))||!g10.length)return g1.emit("error",new Error("Invalid subscriptions")),!1;for(var g14=0;g14<g10.length;g14+=1){var g15=g10[g14].topic,g16=g10[g14].qos;if("string"!=typeof g15)return g1.emit("error",new Error("Invalid subscriptions - invalid topic")),!1;if("number"!=typeof g16)return g1.emit("error",new Error("Invalid subscriptions - invalid qos")),!1;if(5===g3){if("boolean"!=typeof(g10[g14].nl||!1))return g1.emit("error",new Error("Invalid subscriptions - invalid No Local")),!1;if("boolean"!=typeof(g10[g14].rap||!1))return g1.emit("error",new Error("Invalid subscriptions - invalid Retain as Published")),!1;var g17=g10[g14].rh||0;if("number"!=typeof g17||g17>2)return g1.emit("error",new Error("Invalid subscriptions - invalid Retain Handling")),!1}g12+=g8.byteLength(g15)+2+1}g1.write(g7.SUBSCRIBE_HEADER[1][g6?1:0][0]),g23(g1,g12),g18(g1,g9),null!==g13&&g13.write();for(var g19=!0,g20=0;g20<g10.length;g20++){var g21,g22=g10[g20],g25=g22.topic,g26=g22.qos,g27=+g22.nl,g28=+g22.rap,g29=g22.rh;g24(g1,g25),g21=g7.SUBSCRIBE_OPTIONS_QOS[g26],5===g3&&(g21|=g27?g7.SUBSCRIBE_OPTIONS_NL:0,g21|=g28?g7.SUBSCRIBE_OPTIONS_RAP:0,g21|=g29?g7.SUBSCRIBE_OPTIONS_RH[g29]:0),g19=g1.write(g8.from([g21]))}return g19}(g0,g1,g2);case"suback":return function(g0,g1,g2){var g3=g2?g2.protocolVersion:4,g5=g0||{},g6=g5.messageId,g9=g5.granted,g10=g5.properties,g11=0;if("number"!=typeof g6)return g1.emit("error",new Error("Invalid messageId")),!1;g11+=2;if("object"!==(void 0===g9?"undefined":(0,g4.default)(g9))||!g9.length)return g1.emit("error",new Error("Invalid qos vector")),!1;for(var g12=0;g12<g9.length;g12+=1){if("number"!=typeof g9[g12])return g1.emit("error",new Error("Invalid qos vector")),!1;g11+=1}var g13=null;if(5===g3){if(!(g13=g31(g1,g10,g2,g11)))return!1;g11+=g13.length}g1.write(g7.SUBACK_HEADER),g23(g1,g11),g18(g1,g6),null!==g13&&g13.write();return g1.write(g8.from(g9))}(g0,g1,g2);case"unsubscribe":return function(g0,g1,g2){var g3=g2?g2.protocolVersion:4,g5=g0||{},g6=g5.messageId,g9=g5.dup?g7.DUP_MASK:0,g10=g5.unsubscriptions,g11=g5.properties,g12=0;if("number"!=typeof g6)return g1.emit("error",new Error("Invalid messageId")),!1;g12+=2;if("object"!==(void 0===g10?"undefined":(0,g4.default)(g10))||!g10.length)return g1.emit("error",new Error("Invalid unsubscriptions")),!1;for(var g13=0;g13<g10.length;g13+=1){if("string"!=typeof g10[g13])return g1.emit("error",new Error("Invalid unsubscriptions")),!1;g12+=g8.byteLength(g10[g13])+2}var g14=null;5===g3&&(g12+=(g14=g30(g1,g11)).length);g1.write(g7.UNSUBSCRIBE_HEADER[1][g9?1:0][0]),g23(g1,g12),g18(g1,g6),null!==g14&&g14.write();for(var g15=!0,g16=0;g16<g10.length;g16++)g15=g24(g1,g10[g16]);return g15}(g0,g1,g2);case"unsuback":return function(g0,g1,g2){var g3=g2?g2.protocolVersion:4,g5=g0||{},g6=g5.messageId,g9=g5.dup?g7.DUP_MASK:0,g10=g5.granted,g11=g5.properties,g12=g5.cmd,g13=0,g14=2;if("number"!=typeof g6)return g1.emit("error",new Error("Invalid messageId")),!1;if(5===g3){if("object"!==(void 0===g10?"undefined":(0,g4.default)(g10))||!g10.length)return g1.emit("error",new Error("Invalid qos vector")),!1;for(var g15=0;g15<g10.length;g15+=1){if("number"!=typeof g10[g15])return g1.emit("error",new Error("Invalid qos vector")),!1;g14+=1}}var g16=null;if(5===g3){if(!(g16=g31(g1,g11,g2,g14)))return!1;g14+=g16.length}g1.write(g7.ACKS[g12][g13][g9][0]),g23(g1,g14),g18(g1,g6),null!==g16&&g16.write();5===g3&&g1.write(g8.from(g10));return!0}(g0,g1,g2);case"pingreq":case"pingresp":return function(g0,g1,g2){return g1.write(g7.EMPTY[g0.cmd])}(g0,g1);case"disconnect":return function(g0,g1,g2){var g3=g2?g2.protocolVersion:4,g4=g0||{},g5=g4.reasonCode,g6=g4.properties,g9=5===g3?1:0,g10=null;if(5===g3){if(!(g10=g31(g1,g6,g2,g9)))return!1;g9+=g10.length}g1.write(g8.from([g7.codes.disconnect<<4])),g23(g1,g9),5===g3&&g1.write(g8.from([g5]));null!==g10&&g10.write();return!0}(g0,g1,g2);case"auth":return function(g0,g1,g2){var g3=g2?g2.protocolVersion:4,g4=g0||{},g5=g4.reasonCode,g6=g4.properties,g9=5===g3?1:0;5!==g3&&g1.emit("error",new Error("Invalid mqtt version for auth packet"));var g10=g31(g1,g6,g2,g9);if(!g10)return!1;g9+=g10.length,g1.write(g8.from([g7.codes.auth<<4])),g23(g1,g9),g1.write(g8.from([g5])),null!==g10&&g10.write();return!0}(g0,g1,g2);default:return g1.emit("error",new Error("Unknown command")),!1}}function g21(g0){g0.uncork()}Object.defineProperty(g20,"cacheNumbers",{get:function(){return g18===g26},set:function(g0){g0?(g13&&0!==(0,g5.default)(g13).length||(g19=!0),g18=g26):(g19=!1,g18=g27)}});var g22={};function g23(g0,g1){var g2=g22[g1];g2||(g2=g16(g1).data,g1<16384&&(g22[g1]=g2)),g0.write(g2)}function g24(g0,g1){var g2=g8.byteLength(g1);g18(g0,g2),g0.write(g1,"utf8")}function g25(g0,g1,g2){g24(g0,g1),g24(g0,g2)}function g26(g0,g1){return g0.write(g13[g1])}function g27(g0,g1){return g0.write(g14(g1))}function g28(g0,g1){return g0.write(g17(g1))}function g29(g0,g1){"string"==typeof g1?g24(g0,g1):g1?(g18(g0,g1.length),g0.write(g1)):g18(g0,0)}function g30(g0,g1){if("object"!==(void 0===g1?"undefined":(0,g4.default)(g1))||null!=g1.length)return{length:1,write:function(){g32(g0,{},0)}};var g2=0;function g5(g2){var g5=g7.propertiesTypes[g2],g6=g1[g2],g9=0;switch(g5){case"byte":if("boolean"!=typeof g6)return g0.emit("error",new Error("Invalid "+g2)),!1;g9+=2;break;case"int8":if("number"!=typeof g6)return g0.emit("error",new Error("Invalid "+g2)),!1;g9+=2;break;case"binary":if(g6&&null===g6)return g0.emit("error",new Error("Invalid "+g2)),!1;g9+=1+g8.byteLength(g6)+2;break;case"int16":if("number"!=typeof g6)return g0.emit("error",new Error("Invalid "+g2)),!1;g9+=3;break;case"int32":if("number"!=typeof g6)return g0.emit("error",new Error("Invalid "+g2)),!1;g9+=5;break;case"var":if("number"!=typeof g6)return g0.emit("error",new Error("Invalid "+g2)),!1;g9+=1+g16(g6).length;break;case"string":if("string"!=typeof g6)return g0.emit("error",new Error("Invalid "+g2)),!1;g9+=3+g8.byteLength(g6.toString());break;case"pair":if("object"!==(void 0===g6?"undefined":(0,g4.default)(g6)))return g0.emit("error",new Error("Invalid "+g2)),!1;g9+=(0,g3.default)(g6).reduce((function(g0,g1){var g2=g6[g1];return Array.isArray(g2)?g0+=g2.reduce((function(g0,g2){return g0+=3+g8.byteLength(g1.toString())+2+g8.byteLength(g2.toString())}),0):g0+=3+g8.byteLength(g1.toString())+2+g8.byteLength(g6[g1].toString()),g0}),0);break;default:return g0.emit("error",new Error("Invalid property "+g2)),!1}return g9}if(g1)for(var g6 in g1){var g9=g5(g6);if(!g9)return!1;g2+=g9}return{length:g16(g2).length+g2,write:function(){g32(g0,g1,g2)}}}function g31(g0,g1,g2,g3){var g4=["reasonString","userProperties"],g5=g2&&g2.properties&&g2.properties.maximumPacketSize?g2.properties.maximumPacketSize:0,g6=g30(g0,g1);if(g5)for(;g3+g6.length>g5;){var g7=g4.shift();if(!g7||!g1[g7])return!1;delete g1[g7],g6=g30(g0,g1)}return g6}function g32(g0,g1,g2){for(var g4 in g23(g0,g2),g1)if(g1.hasOwnProperty(g4)&&null!==g1[g4]){var g5=g1[g4];switch(g7.propertiesTypes[g4]){case"byte":g0.write(g8.from([g7.properties[g4]])),g0.write(g8.from([+g5]));break;case"int8":g0.write(g8.from([g7.properties[g4]])),g0.write(g8.from([g5]));break;case"binary":g0.write(g8.from([g7.properties[g4]])),g29(g0,g5);break;case"int16":g0.write(g8.from([g7.properties[g4]])),g18(g0,g5);break;case"int32":g0.write(g8.from([g7.properties[g4]])),g28(g0,g5);break;case"var":g0.write(g8.from([g7.properties[g4]])),g23(g0,g5);break;case"string":g0.write(g8.from([g7.properties[g4]])),g24(g0,g5);break;case"pair":(0,g3.default)(g5).forEach((function(g1){var g2=g5[g1];Array.isArray(g2)?g2.forEach((function(g2){g0.write(g8.from([g7.properties[g4]])),g25(g0,g1.toString(),g2.toString())})):(g0.write(g8.from([g7.properties[g4]])),g25(g0,g1.toString(),g2.toString()))}));break;default:return g0.emit("error",new Error("Invalid property "+g4)),!1}}}function g33(g0){return g0?g0 instanceof g8?g0.length:g8.byteLength(g0):0}function g34(g0){return"string"==typeof g0||g0 instanceof g8}g0.exports=g20},function(g0,g1,g2){"use strict";var g3=g2(340),g4=g2(342);function g5(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}g1.parse=g19,g1.resolve=function(g0,g1){return g19(g0,!1,!0).resolve(g1)},g1.resolveObject=function(g0,g1){return g0?g19(g0,!1,!0).resolveObject(g1):g1},g1.format=function(g0){g4.isString(g0)&&(g0=g19(g0));return g0 instanceof g5?g0.format():g5.prototype.format.call(g0)},g1.Url=g5;var g6=/^([a-z0-9.+-]+:)/i,g7=/:[0-9]*$/,g8=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,g9=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),g10=["'"].concat(g9),g11=["%","/","?",";","#"].concat(g10),g12=["/","?","#"],g13=/^[+a-z0-9A-Z_-]{0,63}$/,g14=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,g15={javascript:!0,"javascript:":!0},g16={javascript:!0,"javascript:":!0},g17={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},g18=g2(343);function g19(g0,g1,g2){if(g0&&g4.isObject(g0)&&g0 instanceof g5)return g0;var g3=new g5;return g3.parse(g0,g1,g2),g3}g5.prototype.parse=function(g0,g1,g2){if(!g4.isString(g0))throw new TypeError("Parameter 'url' must be a string, not "+typeof g0);var g5=g0.indexOf("?"),g7=-1!==g5&&g5<g0.indexOf("#")?"?":"#",g9=g0.split(g7);g9[0]=g9[0].replace(/\\/g,"/");var g19=g0=g9.join(g7);if(g19=g19.trim(),!g2&&1===g0.split("#").length){var g20=g8.exec(g19);if(g20)return this.path=g19,this.href=g19,this.pathname=g20[1],g20[2]?(this.search=g20[2],this.query=g1?g18.parse(this.search.substr(1)):this.search.substr(1)):g1&&(this.search="",this.query={}),this}var g21=g6.exec(g19);if(g21){var g22=(g21=g21[0]).toLowerCase();this.protocol=g22,g19=g19.substr(g21.length)}if(g2||g21||g19.match(/^\/\/[^@\/]+@[^@\/]+/)){var g23="//"===g19.substr(0,2);!g23||g21&&g16[g21]||(g19=g19.substr(2),this.slashes=!0)}if(!g16[g21]&&(g23||g21&&!g17[g21])){for(var g24,g25,g26=-1,g27=0;g27<g12.length;g27++){-1!==(g28=g19.indexOf(g12[g27]))&&(-1===g26||g28<g26)&&(g26=g28)}-1!==(g25=-1===g26?g19.lastIndexOf("@"):g19.lastIndexOf("@",g26))&&(g24=g19.slice(0,g25),g19=g19.slice(g25+1),this.auth=decodeURIComponent(g24)),g26=-1;for(g27=0;g27<g11.length;g27++){var g28;-1!==(g28=g19.indexOf(g11[g27]))&&(-1===g26||g28<g26)&&(g26=g28)}-1===g26&&(g26=g19.length),this.host=g19.slice(0,g26),g19=g19.slice(g26),this.parseHost(),this.hostname=this.hostname||"";var g29="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!g29)for(var g30=this.hostname.split(/\./),g31=(g27=0,g30.length);g27<g31;g27++){var g32=g30[g27];if(g32&&!g32.match(g13)){for(var g33="",g34=0,g35=g32.length;g34<g35;g34++)g32.charCodeAt(g34)>127?g33+="x":g33+=g32[g34];if(!g33.match(g13)){var g36=g30.slice(0,g27),g37=g30.slice(g27+1),g38=g32.match(g14);g38&&(g36.push(g38[1]),g37.unshift(g38[2])),g37.length&&(g19="/"+g37.join(".")+g19),this.hostname=g36.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),g29||(this.hostname=g3.toASCII(this.hostname));var g39=this.port?":"+this.port:"",g40=this.hostname||"";this.host=g40+g39,this.href+=this.host,g29&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==g19[0]&&(g19="/"+g19))}if(!g15[g22])for(g27=0,g31=g10.length;g27<g31;g27++){var g41=g10[g27];if(-1!==g19.indexOf(g41)){var g42=encodeURIComponent(g41);g42===g41&&(g42=escape(g41)),g19=g19.split(g41).join(g42)}}var g43=g19.indexOf("#");-1!==g43&&(this.hash=g19.substr(g43),g19=g19.slice(0,g43));var g44=g19.indexOf("?");if(-1!==g44?(this.search=g19.substr(g44),this.query=g19.substr(g44+1),g1&&(this.query=g18.parse(this.query)),g19=g19.slice(0,g44)):g1&&(this.search="",this.query={}),g19&&(this.pathname=g19),g17[g22]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){g39=this.pathname||"";var g45=this.search||"";this.path=g39+g45}return this.href=this.format(),this},g5.prototype.format=function(){var g0=this.auth||"";g0&&(g0=(g0=encodeURIComponent(g0)).replace(/%3A/i,":"),g0+="@");var g1=this.protocol||"",g2=this.pathname||"",g3=this.hash||"",g5=!1,g6="";this.host?g5=g0+this.host:this.hostname&&(g5=g0+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(g5+=":"+this.port)),this.query&&g4.isObject(this.query)&&Object.keys(this.query).length&&(g6=g18.stringify(this.query));var g7=this.search||g6&&"?"+g6||"";return g1&&":"!==g1.substr(-1)&&(g1+=":"),this.slashes||(!g1||g17[g1])&&!1!==g5?(g5="//"+(g5||""),g2&&"/"!==g2.charAt(0)&&(g2="/"+g2)):g5||(g5=""),g3&&"#"!==g3.charAt(0)&&(g3="#"+g3),g7&&"?"!==g7.charAt(0)&&(g7="?"+g7),g1+g5+(g2=g2.replace(/[?#]/g,(function(g0){return encodeURIComponent(g0)})))+(g7=g7.replace("#","%23"))+g3},g5.prototype.resolve=function(g0){return this.resolveObject(g19(g0,!1,!0)).format()},g5.prototype.resolveObject=function(g0){if(g4.isString(g0)){var g1=new g5;g1.parse(g0,!1,!0),g0=g1}for(var g2=new g5,g3=Object.keys(this),g6=0;g6<g3.length;g6++){var g7=g3[g6];g2[g7]=this[g7]}if(g2.hash=g0.hash,""===g0.href)return g2.href=g2.format(),g2;if(g0.slashes&&!g0.protocol){for(var g8=Object.keys(g0),g9=0;g9<g8.length;g9++){var g10=g8[g9];"protocol"!==g10&&(g2[g10]=g0[g10])}return g17[g2.protocol]&&g2.hostname&&!g2.pathname&&(g2.path=g2.pathname="/"),g2.href=g2.format(),g2}if(g0.protocol&&g0.protocol!==g2.protocol){if(!g17[g0.protocol]){for(var g11=Object.keys(g0),g12=0;g12<g11.length;g12++){var g13=g11[g12];g2[g13]=g0[g13]}return g2.href=g2.format(),g2}if(g2.protocol=g0.protocol,g0.host||g16[g0.protocol])g2.pathname=g0.pathname;else{for(var g14=(g0.pathname||"").split("/");g14.length&&!(g0.host=g14.shift()););g0.host||(g0.host=""),g0.hostname||(g0.hostname=""),""!==g14[0]&&g14.unshift(""),g14.length<2&&g14.unshift(""),g2.pathname=g14.join("/")}if(g2.search=g0.search,g2.query=g0.query,g2.host=g0.host||"",g2.auth=g0.auth,g2.hostname=g0.hostname||g0.host,g2.port=g0.port,g2.pathname||g2.search){var g15=g2.pathname||"",g18=g2.search||"";g2.path=g15+g18}return g2.slashes=g2.slashes||g0.slashes,g2.href=g2.format(),g2}var g19=g2.pathname&&"/"===g2.pathname.charAt(0),g20=g0.host||g0.pathname&&"/"===g0.pathname.charAt(0),g21=g20||g19||g2.host&&g0.pathname,g22=g21,g23=g2.pathname&&g2.pathname.split("/")||[],g24=(g14=g0.pathname&&g0.pathname.split("/")||[],g2.protocol&&!g17[g2.protocol]);if(g24&&(g2.hostname="",g2.port=null,g2.host&&(""===g23[0]?g23[0]=g2.host:g23.unshift(g2.host)),g2.host="",g0.protocol&&(g0.hostname=null,g0.port=null,g0.host&&(""===g14[0]?g14[0]=g0.host:g14.unshift(g0.host)),g0.host=null),g21=g21&&(""===g14[0]||""===g23[0])),g20)g2.host=g0.host||""===g0.host?g0.host:g2.host,g2.hostname=g0.hostname||""===g0.hostname?g0.hostname:g2.hostname,g2.search=g0.search,g2.query=g0.query,g23=g14;else if(g14.length)g23||(g23=[]),g23.pop(),g23=g23.concat(g14),g2.search=g0.search,g2.query=g0.query;else if(!g4.isNullOrUndefined(g0.search)){if(g24)g2.hostname=g2.host=g23.shift(),(g29=!!(g2.host&&g2.host.indexOf("@")>0)&&g2.host.split("@"))&&(g2.auth=g29.shift(),g2.host=g2.hostname=g29.shift());return g2.search=g0.search,g2.query=g0.query,g4.isNull(g2.pathname)&&g4.isNull(g2.search)||(g2.path=(g2.pathname?g2.pathname:"")+(g2.search?g2.search:"")),g2.href=g2.format(),g2}if(!g23.length)return g2.pathname=null,g2.search?g2.path="/"+g2.search:g2.path=null,g2.href=g2.format(),g2;for(var g25=g23.slice(-1)[0],g26=(g2.host||g0.host||g23.length>1)&&("."===g25||".."===g25)||""===g25,g27=0,g28=g23.length;g28>=0;g28--)"."===(g25=g23[g28])?g23.splice(g28,1):".."===g25?(g23.splice(g28,1),g27++):g27&&(g23.splice(g28,1),g27--);if(!g21&&!g22)for(;g27--;g27)g23.unshift("..");!g21||""===g23[0]||g23[0]&&"/"===g23[0].charAt(0)||g23.unshift(""),g26&&"/"!==g23.join("/").substr(-1)&&g23.push("");var g29,g30=""===g23[0]||g23[0]&&"/"===g23[0].charAt(0);g24&&(g2.hostname=g2.host=g30?"":g23.length?g23.shift():"",(g29=!!(g2.host&&g2.host.indexOf("@")>0)&&g2.host.split("@"))&&(g2.auth=g29.shift(),g2.host=g2.hostname=g29.shift()));return(g21=g21||g2.host&&g23.length)&&!g30&&g23.unshift(""),g23.length?g2.pathname=g23.join("/"):(g2.pathname=null,g2.path=null),g4.isNull(g2.pathname)&&g4.isNull(g2.search)||(g2.path=(g2.pathname?g2.pathname:"")+(g2.search?g2.search:"")),g2.auth=g0.auth||g2.auth,g2.slashes=g2.slashes||g0.slashes,g2.href=g2.format(),g2},g5.prototype.parseHost=function(){var g0=this.host,g1=g7.exec(g0);g1&&(":"!==(g1=g1[0])&&(this.port=g1.substr(1)),g0=g0.substr(0,g0.length-g1.length)),g0&&(this.hostname=g0)}},function(g0,g1,g2){"use strict";var g3=g2(346);g0.exports=function(g0,g1){var g2,g4;return g1.port=g1.port||1883,g1.hostname=g1.hostname||g1.host||"localhost",g2=g1.port,g4=g1.hostname,g3.createConnection(g2,g4)}},function(g0,g1,g2){"use strict";(function(g1,g3){var g4,g5,g6,g7=g2(14).Transform,g8=g2(30);g0.exports=function(g0,g2){if(g2.hostname=g2.hostname||g2.host,!g2.hostname)throw new Error("Could not determine host. Specify host manually.");var g9="MQIsdp"===g2.protocolId&&3===g2.protocolVersion?"mqttv3.1":"mqtt";!function(g0){g0.hostname||(g0.hostname="localhost"),g0.path||(g0.path="/"),g0.wsOptions||(g0.wsOptions={})}(g2),g4&&g4.close();var g10=function(g0,g1){var g2="wxs"===g0.protocol?"wss":"ws",g3=g2+"://"+g0.hostname+g0.path;return g0.port&&80!==g0.port&&443!==g0.port&&(g3=g2+"://"+g0.hostname+":"+g0.port+g0.path),"function"==typeof g0.transformWsUrl&&(g3=g0.transformWsUrl(g3,g0,g1)),g3}(g2,g0);g4=wx.connectSocket({url:g10,protocols:g9}),g5=function(){var g0=new g7;return g0._write=function(g0,g1,g2){g4.send({data:g0.buffer,success:function(){g2()},fail:function(g0){g2(new Error(g0))}})},g0._flush=function(g0){g4.close({success:function(){g0()}})},g0}(),(g6=g8.obj())._destroy=function(g0,g1){g4.close({success:function(){g1&&g1(g0)}})};var g11=g6.destroy;return g6.destroy=function(){g6.destroy=g11;var g0=this;g3.nextTick((function(){g4.close({fail:function(){g0._destroy(new Error)}})}))}.bind(g6),g4.onOpen((function(){g6.setReadable(g5),g6.setWritable(g5),g6.emit("connect")})),g4.onMessage((function(g0){var g2=g0.data;g2=g2 instanceof ArrayBuffer?g1.from(g2):g2.byteLength>0?g1.from(new Uint8Array(g2)):g1.from(g2,"utf8"),g5.push(g2)})),g4.onClose((function(){console.log("socket onClose"),g6.end(),g6.destroy(),g6.emit("close")})),g4.onError((function(g0){console.log("socket onError",g0),g6.destroy(new Error(g0.errMsg)),g6.emit("error")})),g6}}).call(this,g2(11).Buffer,g2(3))},function(g0,g1,g2){"use strict";(function(g1){var g3=g5(g2(87)),g4=g5(g2(10));function g5(g0){return g0&&g0.__esModule?g0:{default:g0}}var g6,g7,g8,g9=g2(14).Transform,g10=g2(30),g11=g2(104),g12=!1;g0.exports=function(g0,g2){if(g2.hostname=g2.hostname||g2.host,!g2.hostname)throw new Error("Could not determine host. Specify host manually.");"MQIsdp"===g2.protocolId&&g2.protocolVersion,function(g0){g0.hostname||(g0.hostname="localhost"),g0.path||(g0.path="/"),g0.wsOptions||(g0.wsOptions={})}(g2);var g5=function(g0,g1){var g2="alis"===g0.protocol?"wss":"ws",g3=g2+"://"+g0.hostname+g0.path;return g0.port&&80!==g0.port&&443!==g0.port&&(g3=g2+"://"+g0.hostname+":"+g0.port+g0.path),"function"==typeof g0.transformWsUrl&&(g3=g0.transformWsUrl(g3,g0,g1)),console.log("url",g3),g3}(g2,g0);return(g6=g2.extra.mp).connectSocket({url:g5,headers:{"Sec-WebSocket-Protocol":"mqtt"},fail:function(g0){console.log("connectSocket fail",g0)}}),g7=function(){var g0=new g9;return g0._write=function(g0,g1,g2){var g3=g0.toString("base64");g6.sendSocketMessage({data:g3,isBuffer:!0,success:function(){g2()},fail:function(){g2(new Error)}})},g0._flush=function(g0){g6.closeSocket({success:function(){g0()}})},g0}(),g8=g10.obj(),g12||(g12=!0,g6.onSocketOpen((function(){console.log("onSocketOpen"),g8.setReadable(g7),g8.setWritable(g7),g8.emit("connect")})),g6.onSocketMessage((function(g0){if(console.log("onSocketMessage",g0,(0,g4.default)(g0.data)),"string"==typeof g0.data){var g2=g0.data.replace(/\s+/g,""),g3=g11.toByteArray(g2,""),g5=g1.from(g3);g7.push(g5)}else if(g0.data instanceof ArrayBuffer){var g6=g1.from(g0.data);g7.push(g6)}else g0.data.arrayBuffer().then((function(g0){g0=g0 instanceof ArrayBuffer?g1.from(g0):g0.byteLength>0?g1.from(new Uint8Array(g0)):g1.from(g0,"utf8"),g7.push(g0)}))})),g6.onSocketClose((function(g0){console.log("onSocketClose",(0,g3.default)(g0)),g8.end(),g8.destroy(),g8.emit("close")})),g6.onSocketError((function(g0){console.log("onSocketError",g0),g8.destroy(g0),g8.emit("error")}))),g8}}).call(this,g2(11).Buffer)},function(g0,g1,g2){"use strict";(function(g1,g3){var g4,g5,g6,g7=g2(14).Transform,g8=g2(30);g0.exports=function(g0,g2){if(g2.hostname=g2.hostname||g2.host,!g2.hostname)throw new Error("Could not determine host. Specify host manually.");var g9="MQIsdp"===g2.protocolId&&3===g2.protocolVersion?"mqttv3.1":"mqtt";!function(g0){g0.hostname||(g0.hostname="localhost"),g0.path||(g0.path="/"),g0.wsOptions||(g0.wsOptions={})}(g2);var g10=function(g0,g1){var g2="bds"===g0.protocol?"wss":"ws",g3=g2+"://"+g0.hostname+g0.path;return g0.port&&80!==g0.port&&443!==g0.port&&(g3=g2+"://"+g0.hostname+":"+g0.port+g0.path),"function"==typeof g0.transformWsUrl&&(g3=g0.transformWsUrl(g3,g0,g1)),g3}(g2,g0);g4=swan.connectSocket({url:g10,protocols:[g9],fail:function(g0){console.log("connectSocket fail",g0)}}),g5=function(){var g0=new g7;return g0._write=function(g0,g1,g2){g4.send({data:g0.buffer,success:function(){g2()},fail:function(g0){g2(new Error(g0))}})},g0._flush=function(g0){g4.close({success:function(){g0()}})},g0}(),(g6=g8.obj())._destroy=function(g0,g1){g4.close({success:function(){g1&&g1(g0)}})};var g11=g6.destroy;return g6.destroy=function(){g6.destroy=g11;var g0=this;g3.nextTick((function(){g4.close({fail:function(){g0._destroy(new Error)}})}))}.bind(g6),g4.onOpen((function(){g6.setReadable(g5),g6.setWritable(g5),g6.emit("connect")})),g4.onMessage((function(g0){var g2=g0.data;g2=g2 instanceof ArrayBuffer?g1.from(g2):g1.from(g2,"utf8"),g5.push(g2)})),g4.onClose((function(){g6.end(),g6.destroy(),g6.emit("close")})),g4.onError((function(g0){g6.destroy(new Error(g0.errMsg)),g6.emit("error")})),g6}}).call(this,g2(11).Buffer,g2(3))},function(g0,g1,g2){"use strict";(function(g1,g3){var g4,g5,g6,g7=g2(14).Transform,g8=g2(30);g0.exports=function(g0,g2){if(g2.hostname=g2.hostname||g2.host,!g2.hostname)throw new Error("Could not determine host. Specify host manually.");var g9="MQIsdp"===g2.protocolId&&3===g2.protocolVersion?"mqttv3.1":"mqtt";!function(g0){g0.hostname||(g0.hostname="localhost"),g0.path||(g0.path="/"),g0.wsOptions||(g0.wsOptions={})}(g2);var g10=function(g0,g1){var g2="tts"===g0.protocol?"wss":"ws",g3=g2+"://"+g0.hostname+g0.path;return g0.port&&80!==g0.port&&443!==g0.port&&(g3=g2+"://"+g0.hostname+":"+g0.port+g0.path),"function"==typeof g0.transformWsUrl&&(g3=g0.transformWsUrl(g3,g0,g1)),g3}(g2,g0);g4=tt.connectSocket({url:g10,protocols:g9}),g5=function(){var g0=new g7;return g0._write=function(g0,g1,g2){g4.send({data:g0.buffer,success:function(){g2()},fail:function(g0){g2(new Error(g0))}})},g0._flush=function(g0){g4.close({success:function(){g0()}})},g0}(),(g6=g8.obj())._destroy=function(g0,g1){g4.close({success:function(){g1&&g1(g0)}})};var g11=g6.destroy;return g6.destroy=function(){g6.destroy=g11;var g0=this;g3.nextTick((function(){g4.close({fail:function(){g0._destroy(new Error)}})}))}.bind(g6),g4.onOpen((function(){g6.setReadable(g5),g6.setWritable(g5),g6.emit("connect")})),g4.onMessage((function(g0){var g2=g0.data;g2=g2 instanceof ArrayBuffer?g1.from(g2):g1.from(g2,"utf8"),g5.push(g2)})),g4.onClose((function(){g6.end(),g6.destroy(),g6.emit("close")})),g4.onError((function(g0){g6.destroy(new Error(g0.errMsg)),g6.emit("error")})),g6}}).call(this,g2(11).Buffer,g2(3))},function(g0,g1,g2){"use strict";(function(g1,g3){var g4,g5,g6,g7=g2(14).Transform,g8=g2(30);g0.exports=function(g0,g2){if(g2.hostname=g2.hostname||g2.host,!g2.hostname)throw new Error("Could not determine host. Specify host manually.");var g9="MQIsdp"===g2.protocolId&&3===g2.protocolVersion?"mqttv3.1":"mqtt";!function(g0){g0.hostname||(g0.hostname="localhost"),g0.path||(g0.path="/"),g0.wsOptions||(g0.wsOptions={})}(g2);var g10=function(g0,g1){var g2="qqs"===g0.protocol?"wss":"ws",g3=g2+"://"+g0.hostname+g0.path;return g0.port&&80!==g0.port&&443!==g0.port&&(g3=g2+"://"+g0.hostname+":"+g0.port+g0.path),"function"==typeof g0.transformWsUrl&&(g3=g0.transformWsUrl(g3,g0,g1)),g3}(g2,g0);g4=qq.connectSocket({url:g10,protocols:g9}),g5=function(){var g0=new g7;return g0._write=function(g0,g1,g2){g4.send({data:g0.buffer,success:function(){g2()},fail:function(g0){g2(new Error(g0))}})},g0._flush=function(g0){g4.close({success:function(){g0()}})},g0}(),(g6=g8.obj())._destroy=function(g0,g1){g4.close({success:function(){g1&&g1(g0)}})};var g11=g6.destroy;return g6.destroy=function(){g6.destroy=g11;var g0=this;g3.nextTick((function(){g4.close({fail:function(){g0._destroy(new Error)}})}))}.bind(g6),g4.onOpen((function(){g6.setReadable(g5),g6.setWritable(g5),g6.emit("connect")})),g4.onMessage((function(g0){var g2=g0.data;g2=g2 instanceof ArrayBuffer?g1.from(g2):g1.from(g2,"utf8"),g5.push(g2)})),g4.onClose((function(){g6.end(),g6.destroy(),g6.emit("close")})),g4.onError((function(g0){g6.destroy(new Error(g0.errMsg)),g6.emit("error")})),g6}}).call(this,g2(11).Buffer,g2(3))},function(g0,g1,g2){"use strict";(function(g1,g3){var g4,g5,g6,g7=g2(14).Transform,g8=g2(30);g0.exports=function(g0,g2){if(g2.hostname=g2.hostname||g2.host,!g2.hostname)throw new Error("Could not determine host. Specify host manually.");var g9="MQIsdp"===g2.protocolId&&3===g2.protocolVersion?"mqttv3.1":"mqtt";!function(g0){g0.hostname||(g0.hostname="localhost"),g0.path||(g0.path="/"),g0.wsOptions||(g0.wsOptions={})}(g2),g4&&g4.close();var g10=function(g0,g1){var g2="unis"===g0.protocol?"wss":"ws",g3=g2+"://"+g0.hostname+g0.path;return g0.port&&80!==g0.port&&443!==g0.port&&(g3=g2+"://"+g0.hostname+":"+g0.port+g0.path),"function"==typeof g0.transformWsUrl&&(g3=g0.transformWsUrl(g3,g0,g1)),g3}(g2,g0);g4=uni.connectSocket({url:g10,protocols:g9,complete:function(){console.log("uni.connectSocket complete")}}),g5=function(){var g0=new g7;return g0._write=function(g0,g1,g2){g4.send({data:g0.buffer,success:function(){g2()},fail:function(g0){g2(new Error(g0))}})},g0._flush=function(g0){g4.close({success:function(){g0()}})},g0}(),(g6=g8.obj())._destroy=function(g0,g1){g4.close({success:function(){g1&&g1(g0)}})};var g11=g6.destroy;return g6.destroy=function(){g6.destroy=g11;var g0=this;g3.nextTick((function(){g4.close({fail:function(){g0._destroy(new Error)}})}))}.bind(g6),g4.onOpen((function(){g6.setReadable(g5),g6.setWritable(g5),g6.emit("connect")})),g4.onMessage((function(g0){var g2=g0.data;g2=g2 instanceof ArrayBuffer?g1.from(g2):g1.from(g2,"utf8"),g5.push(g2)})),g4.onClose((function(){console.log("socket onClose"),g6.end(),g6.destroy(),g6.emit("close")})),g4.onError((function(g0){console.log("socket onError",g0),g6.destroy(new Error(g0.errMsg)),g6.emit("error")})),g6}}).call(this,g2(11).Buffer,g2(3))},function(g0,g1,g2){"use strict";(function(g1){var g3=g2(352),g4=g2(155),g5=["rejectUnauthorized","ca","cert","key","pfx","passphrase"],g6="browser"===g1.title;function g7(g0,g1){var g2="MQIsdp"===g1.protocolId&&3===g1.protocolVersion?"mqttv3.1":"mqtt";!function(g0){g0.hostname||(g0.hostname="localhost"),g0.port||("wss"===g0.protocol?g0.port=443:g0.port=80),g0.path||(g0.path="/"),g0.wsOptions||(g0.wsOptions={}),g6||"wss"!==g0.protocol||g5.forEach((function(g1){g0.hasOwnProperty(g1)&&!g0.wsOptions.hasOwnProperty(g1)&&(g0.wsOptions[g1]=g0[g1])}))}(g1);var g4=function(g0,g1){var g2=g0.protocol+"://"+g0.hostname+":"+g0.port+g0.path;return"function"==typeof g0.transformWsUrl&&(g2=g0.transformWsUrl(g2,g0,g1)),g2}(g1,g0);return g3(g4,[g2],g1.wsOptions)}g0.exports=g6?function(g0,g1){if(g1.hostname||(g1.hostname=g1.host),!g1.hostname){if("undefined"==typeof document)throw new Error("Could not determine host. Specify host manually.");var g2=g4.parse(document.URL);g1.hostname=g2.hostname,g1.port||(g1.port=g2.port)}return g7(g0,g1)}:function(g0,g1){return g7(g0,g1)}}).call(this,g2(3))},function(g0,g1,g2){"use strict";g0.exports=function(){var g0={};function g1(g1,g2,g3){return"function"==typeof g2?(g3=g2,g2=new g0.Root):g2||(g2=new g0.Root),g2.load(g1,g3)}function g3(g1,g2){return g2||(g2=new g0.Root),g2.loadSync(g1)}function g4(g1,g2,g3){return"function"==typeof g2?(g3=g2,g2=new g0.Root):g2||(g2=new g0.Root),g2.parseFromPbString(g1,g3)}function g5(){g0.converter._configure(),g0.decoder._configure(),g0.encoder._configure(),g0.Field._configure(),g0.MapField._configure(),g0.Message._configure(),g0.Namespace._configure(),g0.Method._configure(),g0.ReflectionObject._configure(),g0.OneOf._configure(),g0.parse._configure(),g0.Reader._configure(),g0.Root._configure(),g0.Service._configure(),g0.verifier._configure(),g0.Type._configure(),g0.types._configure(),g0.wrappers._configure(),g0.Writer._configure()}if(g0.build="minimal",g0.Writer=g2(165),g0.encoder=g2(176),g0.Reader=g2(174),g0.util=g2(1),g0.rpc=g2(172),g0.roots=g2(167),g0.verifier=g2(175),g0.tokenize=g2(171),g0.parse=g2(170),g0.common=g2(173),g0.ReflectionObject=g2(37),g0.Namespace=g2(52),g0.Root=g2(67),g0.Enum=g2(13),g0.Type=g2(36),g0.Field=g2(24),g0.OneOf=g2(53),g0.MapField=g2(100),g0.Service=g2(68),g0.Method=g2(101),g0.converter=g2(179),g0.decoder=g2(177),g0.Message=g2(102),g0.wrappers=g2(178),g0.types=g2(38),g0.util=g2(1),g0.configure=g5,g0.load=g1,g0.loadSync=g3,g0.parseFromPbString=g4,g5(),arguments&&arguments.length)for(var g6=0;g6<arguments.length;g6++){var g7=arguments[g6];if(g7.hasOwnProperty("exports"))return void(g7.exports=g0)}return g0}()},function(g0,g1,g2){"use strict";var g3,g4=g2(6),g5=(g3=g4)&&g3.__esModule?g3:{default:g3};g0.exports=g12;var g6,g7=g2(1),g8=g2(66);function g9(g0,g1,g2){this.fn=g0,this.len=g1,this.next=void 0,this.val=g2}function g10(){}function g11(g0){this.head=g0.head,this.tail=g0.tail,this.len=g0.len,this.next=g0.states}function g12(){this.len=0,this.head=new g9(g10,0,0),this.tail=this.head,this.states=null}function g13(g0,g1,g2){g1[g2]=255&g0}function g14(g0,g1){this.len=g0,this.next=void 0,this.val=g1}function g15(g0,g1,g2){for(;g0.hi;)g1[g2++]=127&g0.lo|128,g0.lo=(g0.lo>>>7|g0.hi<<25)>>>0,g0.hi>>>=7;for(;g0.lo>127;)g1[g2++]=127&g0.lo|128,g0.lo=g0.lo>>>7;g1[g2++]=g0.lo}function g16(g0,g1,g2){g1[g2]=255&g0,g1[g2+1]=g0>>>8&255,g1[g2+2]=g0>>>16&255,g1[g2+3]=g0>>>24}g12.create=g7.Buffer?function(){return(g12.create=function(){return new undefined})()}:function(){return new g12},g12.alloc=function(g0){return new g7.Array(g0)},g7.Array!==Array&&(g12.alloc=g7.pool(g12.alloc,g7.Array.prototype.subarray)),g12.prototype._push=function(g0,g1,g2){return this.tail=this.tail.next=new g9(g0,g1,g2),this.len+=g1,this},g14.prototype=(0,g5.default)(g9.prototype),g14.prototype.fn=function(g0,g1,g2){for(;g0>127;)g1[g2++]=127&g0|128,g0>>>=7;g1[g2]=g0},g12.prototype.uint32=function(g0){return this.len+=(this.tail=this.tail.next=new g14((g0>>>=0)<128?1:g0<16384?2:g0<2097152?3:g0<268435456?4:5,g0)).len,this},g12.prototype.int32=function(g0){return g0<0?this._push(g15,10,g6.fromNumber(g0)):this.uint32(g0)},g12.prototype.sint32=function(g0){return this.uint32((g0<<1^g0>>31)>>>0)},g12.prototype.uint64=function(g0){var g1=g6.from(g0);return this._push(g15,g1.length(),g1)},g12.prototype.int64=g12.prototype.uint64,g12.prototype.sint64=function(g0){var g1=g6.from(g0).zzEncode();return this._push(g15,g1.length(),g1)},g12.prototype.bool=function(g0){return this._push(g13,1,g0?1:0)},g12.prototype.fixed32=function(g0){return this._push(g16,4,g0>>>0)},g12.prototype.sfixed32=g12.prototype.fixed32,g12.prototype.fixed64=function(g0){var g1=g6.from(g0);return this._push(g16,4,g1.lo)._push(g16,4,g1.hi)},g12.prototype.sfixed64=g12.prototype.fixed64,g12.prototype.float=function(g0){return this._push(g7.float.writeFloatLE,4,g0)},g12.prototype.double=function(g0){return this._push(g7.float.writeDoubleLE,8,g0)};var g17=g7.Array.prototype.set?function(g0,g1,g2){g1.set(g0,g2)}:function(g0,g1,g2){for(var g3=0;g3<g0.length;++g3)g1[g2+g3]=g0[g3]};g12.prototype.bytes=function(g0){var g1=g0.length>>>0;if(!g1)return this._push(g13,1,0);if(g7.isString(g0)){var g2=g12.alloc(g1=g8.length(g0));g8.write(g0,g2,0),g0=g2}return this.uint32(g1)._push(g17,g1,g0)},g12.prototype.string=function(g0){var g1=g8.length(g0);return g1?this.uint32(g1)._push(g8.write,g1,g0):this._push(g13,1,0)},g12.prototype.fork=function(){return this.states=new g11(this),this.head=this.tail=new g9(g10,0,0),this.len=0,this},g12.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new g9(g10,0,0),this.len=0),this},g12.prototype.ldelim=function(){var g0=this.head,g1=this.tail,g2=this.len;return this.reset().uint32(g2),g2&&(this.tail.next=g0.next,this.tail=g1,this.len+=g2),this},g12.prototype.finish=function(){for(var g0=this.head.next,g1=this.constructor.alloc(this.len),g2=0;g0;)g0.fn(g0.val,g1,g2),g2+=g0.len,g0=g0.next;return g1},g12._configure=function(){g6=g2(99),g2(168),g8=g2(66)}},function(g0,g1,g2){g0.exports={default:g2(358),__esModule:!0}},function(g0,g1,g2){"use strict";g0.exports={}},function(g0,g1,g2){"use strict";var g3=g0.exports;g3.length=function(g0){var g1=g0.length;if(!g1)return 0;for(var g2=0;--g1%4>1&&"="===g0.charAt(g1);)++g2;return Math.ceil(3*g0.length)/4-g2};for(var g4=new Array(64),g5=new Array(123),g6=0;g6<64;)g5[g4[g6]=g6<26?g6+65:g6<52?g6+71:g6<62?g6-4:g6-59|43]=g6++;g3.encode=function(g0,g1,g2){for(var g3,g5=null,g6=[],g7=0,g8=0;g1<g2;){var g9=g0[g1++];switch(g8){case 0:g6[g7++]=g4[g9>>2],g3=(3&g9)<<4,g8=1;break;case 1:g6[g7++]=g4[g3|g9>>4],g3=(15&g9)<<2,g8=2;break;case 2:g6[g7++]=g4[g3|g9>>6],g6[g7++]=g4[63&g9],g8=0}g7>8191&&((g5||(g5=[])).push(String.fromCharCode.apply(String,g6)),g7=0)}return g8&&(g6[g7++]=g4[g3],g6[g7++]=61,1===g8&&(g6[g7++]=61)),g5?(g7&&g5.push(String.fromCharCode.apply(String,g6.slice(0,g7))),g5.join("")):String.fromCharCode.apply(String,g6.slice(0,g7))};var g7="invalid encoding";g3.decode=function(g0,g1,g2){for(var g3,g4=g2,g6=0,g8=0;g8<g0.length;){var g9=g0.charCodeAt(g8++);if(61===g9&&g6>1)break;if(void 0===(g9=g5[g9]))throw Error(g7);switch(g6){case 0:g3=g9,g6=1;break;case 1:g1[g2++]=g3<<2|(48&g9)>>4,g3=g9,g6=2;break;case 2:g1[g2++]=(15&g3)<<4|(60&g9)>>2,g3=g9,g6=3;break;case 3:g1[g2++]=(3&g3)<<6|g9,g6=0}}if(1===g6)throw Error(g7);return g2-g4},g3.test=function(g0){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(g0)}},function(g0,g1,g2){g0.exports={default:g2(365),__esModule:!0}},function(g0,g1,g2){"use strict";var g3,g4,g5,g6,g7,g8,g9,g10,g11,g12,g13;g0.exports=g24,g24.filename=null,g24.defaults={keepCase:!1};var g14=/^[1-9][0-9]*$/,g15=/^-?[1-9][0-9]*$/,g16=/^0[x][0-9a-fA-F]+$/,g17=/^-?0[x][0-9a-fA-F]+$/,g18=/^0[0-7]+$/,g19=/^-?0[0-7]+$/,g20=/^(?![eE])[0-9]*(?:\.[0-9]*)?(?:[eE][+-]?[0-9]+)?$/,g21=/^[a-zA-Z_][a-zA-Z_0-9]*$/,g22=/^(?:\.?[a-zA-Z_][a-zA-Z_0-9]*)+$/,g23=/^(?:\.[a-zA-Z][a-zA-Z_0-9]*)+$/;function g24(g0,g1,g2){g1 instanceof g4||(g2=g1,g1=new g4),g2||(g2=g24.defaults);var g25,g26,g27,g28,g29,g30=g3(g0,g2.alternateCommentMode||!1),g31=g30.next,g32=g30.push,g33=g30.peek,g34=g30.skip,g35=g30.cmnt,g36=!0,g37=!1,g38=g1,g39=g2.keepCase?function(g0){return g0}:g13.camelCase;function g40(g0,g1,g2){var g3=g24.filename;return g2||(g24.filename=null),Error("illegal "+(g1||"token")+" '"+g0+"' ("+(g3?g3+", ":"")+"line "+g30.line+")")}function g41(){var g0,g1=[];do{if('"'!==(g0=g31())&&"'"!==g0)throw g40(g0);g1.push(g31()),g34(g0),g0=g33()}while('"'===g0||"'"===g0);return g1.join("")}function g42(g0){var g1=g31();switch(g1){case"'":case'"':return g32(g1),g41();case"true":case"TRUE":return!0;case"false":case"FALSE":return!1}try{return function(g0,g1){var g2=1;"-"===g0.charAt(0)&&(g2=-1,g0=g0.substring(1));switch(g0){case"inf":case"INF":case"Inf":return g2*(1/0);case"nan":case"NAN":case"Nan":case"NaN":return NaN;case"0":return 0}if(g14.test(g0))return g2*parseInt(g0,10);if(g16.test(g0))return g2*parseInt(g0,16);if(g18.test(g0))return g2*parseInt(g0,8);if(g20.test(g0))return g2*parseFloat(g0);throw g40(g0,"number",g1)}(g1,!0)}catch(g2){if(g0&&g22.test(g1))return g1;throw g40(g1,"value")}}function g43(g0,g1){var g2,g3;do{!g1||'"'!==(g2=g33())&&"'"!==g2?g0.push([g3=g44(g31()),g34("to",!0)?g44(g31()):g3]):g0.push(g41())}while(g34(",",!0));g34(";")}function g44(g0,g1){switch(g0){case"max":case"MAX":case"Max":return 536870911;case"0":return 0}if(!g1&&"-"===g0.charAt(0))throw g40(g0,"id");if(g15.test(g0))return parseInt(g0,10);if(g17.test(g0))return parseInt(g0,16);if(g19.test(g0))return parseInt(g0,8);throw g40(g0,"id")}function g45(){if(void 0!==g25)throw g40("package");if(g25=g31(),!g22.test(g25))throw g40(g25,"name");g38=g38.define(g25),g34(";")}function g46(){var g0,g1=g33();switch(g1){case"weak":g0=g27||(g27=[]),g31();break;case"public":g31();default:g0=g26||(g26=[])}g1=g41(),g34(";"),g0.push(g1)}function g47(){if(g34("="),g28=g41(),!(g37="proto3"===g28)&&"proto2"!==g28)throw g40(g28,"syntax");g34(";")}function g48(g0,g1){switch(g1){case"option":return g51(g0,g1),g34(";"),!0;case"message":return function(g0,g1){if(!g21.test(g1=g31()))throw g40(g1,"type name");var g2=new g5(g1);g49(g2,(function(g0){if(!g48(g2,g0))switch(g0){case"map":!function(g0){g34("<");var g1=g31();if(void 0===g12.mapKey[g1])throw g40(g1,"type");g34(",");var g2=g31();if(!g22.test(g2))throw g40(g2,"type");g34(">");var g3=g31();if(!g21.test(g3))throw g40(g3,"name");g34("=");var g4=new g7(g39(g3),g44(g31()),g1,g2);g49(g4,(function(g0){if("option"!==g0)throw g40(g0);g51(g4,g0),g34(";")}),(function(){g54(g4)})),g0.add(g4)}(g2);break;case"required":case"optional":case"repeated":g50(g2,g0);break;case"oneof":!function(g0,g1){if(!g21.test(g1=g31()))throw g40(g1,"name");var g2=new g8(g39(g1));g49(g2,(function(g0){"option"===g0?(g51(g2,g0),g34(";")):(g32(g0),g50(g2,"optional"))})),g0.add(g2)}(g2,g0);break;case"extensions":g43(g2.extensions||(g2.extensions=[]));break;case"reserved":g43(g2.reserved||(g2.reserved=[]),!0);break;default:if(!g37||!g22.test(g0))throw g40(g0);g32(g0),g50(g2,"optional")}})),g0.add(g2)}(g0,g1),!0;case"enum":return function(g0,g1){if(!g21.test(g1=g31()))throw g40(g1,"name");var g2=new g9(g1);g49(g2,(function(g0){switch(g0){case"option":g51(g2,g0),g34(";");break;case"reserved":g43(g2.reserved||(g2.reserved=[]),!0);break;default:!function(g0,g1){if(!g21.test(g1))throw g40(g1,"name");g34("=");var g2=g44(g31(),!0),g3={};g49(g3,(function(g0){if("option"!==g0)throw g40(g0);g51(g3,g0),g34(";")}),(function(){g54(g3)})),g0.add(g1,g2,g3.comment)}(g2,g0)}})),g0.add(g2)}(g0,g1),!0;case"service":return function(g0,g1){if(!g21.test(g1=g31()))throw g40(g1,"service name");var g2=new g10(g1);g49(g2,(function(g0){if(!g48(g2,g0)){if("rpc"!==g0)throw g40(g0);!function(g0,g1){var g2=g1;if(!g21.test(g1=g31()))throw g40(g1,"name");var g3,g4,g5,g6,g7=g1;g34("("),g34("stream",!0)&&(g4=!0);if(!g22.test(g1=g31()))throw g40(g1);g3=g1,g34(")"),g34("returns"),g34("("),g34("stream",!0)&&(g6=!0);if(!g22.test(g1=g31()))throw g40(g1);g5=g1,g34(")");var g8=new g11(g7,g2,g3,g5,g4,g6);g49(g8,(function(g0){if("option"!==g0)throw g40(g0);g51(g8,g0),g34(";")})),g0.add(g8)}(g2,g0)}})),g0.add(g2)}(g0,g1),!0;case"extend":return function(g0,g1){if(!g22.test(g1=g31()))throw g40(g1,"reference");var g2=g1;g49(null,(function(g1){switch(g1){case"required":case"repeated":case"optional":g50(g0,g1,g2);break;default:if(!g37||!g22.test(g1))throw g40(g1);g32(g1),g50(g0,"optional",g2)}}))}(g0,g1),!0}return!1}function g49(g0,g1,g2){var g3=g30.line;if(g0&&(g0.comment=g35(),g0.filename=g24.filename),g34("{",!0)){for(var g4;"}"!==(g4=g31());)g1(g4);g34(";",!0)}else g2&&g2(),g34(";"),g0&&"string"!=typeof g0.comment&&(g0.comment=g35(g3))}function g50(g0,g1,g2){var g3=g31();if("group"!==g3){if(!g22.test(g3))throw g40(g3,"type");var g4=g31();if(!g21.test(g4))throw g40(g4,"name");g4=g39(g4),g34("=");var g7=new g6(g4,g44(g31()),g3,g1,g2);g49(g7,(function(g0){if("option"!==g0)throw g40(g0);g51(g7,g0),g34(";")}),(function(){g54(g7)})),g0.add(g7),g37||!g7.repeated||void 0===g12.packed[g3]&&void 0!==g12.basic[g3]||g7.setOption("packed",!1,!0)}else!function(g0,g1){var g2=g31();if(!g21.test(g2))throw g40(g2,"name");var g3=g13.lcFirst(g2);g2===g3&&(g2=g13.ucFirst(g2));g34("=");var g4=g44(g31()),g7=new g5(g2);g7.group=!0;var g8=new g6(g3,g4,g2,g1);g8.filename=g24.filename,g49(g7,(function(g0){switch(g0){case"option":g51(g7,g0),g34(";");break;case"required":case"optional":case"repeated":g50(g7,g0);break;default:throw g40(g0)}})),g0.add(g7).add(g8)}(g0,g1)}function g51(g0,g1){var g2=g34("(",!0);if(!g22.test(g1=g31()))throw g40(g1,"name");var g3=g1;g2&&(g34(")"),g3="("+g3+")",g1=g33(),g23.test(g1)&&(g3+=g1,g31())),g34("="),g52(g0,g3)}function g52(g0,g1){if(g34("{",!0))do{if(!g21.test(g29=g31()))throw g40(g29,"name");"{"===g33()?g52(g0,g1+"."+g29):(g34(":"),"{"===g33()?g52(g0,g1+"."+g29):g53(g0,g1+"."+g29,g42(!0)))}while(!g34("}",!0));else g53(g0,g1,g42(!0))}function g53(g0,g1,g2){g0.setOption&&g0.setOption(g1,g2)}function g54(g0){if(g34("[",!0)){do{g51(g0,"option")}while(g34(",",!0));g34("]")}return g0}for(;null!==(g29=g31());)switch(g29){case"package":if(!g36)throw g40(g29);g45();break;case"import":if(!g36)throw g40(g29);g46();break;case"syntax":if(!g36)throw g40(g29);g47();break;case"option":if(!g36)throw g40(g29);g51(g38,g29),g34(";");break;default:if(g48(g38,g29)){g36=!1;continue}throw g40(g29)}return g24.filename=null,{package:g25,imports:g26,weakImports:g27,syntax:g28,root:g1}}g24._configure=function(){g3=g2(171),g4=g2(67),g5=g2(36),g6=g2(24),g7=g2(100),g8=g2(53),g9=g2(13),g10=g2(68),g11=g2(101),g12=g2(38),g13=g2(1)}},function(g0,g1,g2){"use strict";g0.exports=g13;var g3=/[\s{}=;:[\],'"()<>]/g,g4=/(?:"([^"\\]*(?:\\.[^"\\]*)*)")/g,g5=/(?:'([^'\\]*(?:\\.[^'\\]*)*)')/g,g6=/^ *[*/]+ */,g7=/^\s*\*?\/*/,g8=/\n/g,g9=/\s/,g10=/\\(.?)/g,g11={0:"\0",r:"\r",n:"\n",t:"\t"};function g12(g0){return g0.replace(g10,(function(g0,g1){switch(g1){case"\\":case"":return g1;default:return g11[g1]||""}}))}function g13(g0,g1){g0=g0.toString();var g2=0,g10=g0.length,g11=1,g13=null,g14=null,g15=0,g16=!1,g17=[],g18=null;function g19(g0){return Error("illegal "+g0+" (line "+g11+")")}function g20(g1){return g0.charAt(g1)}function g21(g2,g3){g13=g0.charAt(g2++),g15=g11,g16=!1;var g4,g5=g2-(g1?2:3);do{if(--g5<0||"\n"===(g4=g0.charAt(g5))){g16=!0;break}}while(" "===g4||"\t"===g4);for(var g9=g0.substring(g2,g3).split(g8),g10=0;g10<g9.length;++g10)g9[g10]=g9[g10].replace(g1?g7:g6,"").trim();g14=g9.join("\n").trim()}function g22(g1){var g2=g23(g1),g3=g0.substring(g1,g2);return/^\s*\/{1,2}/.test(g3)}function g23(g0){for(var g1=g0;g1<g10&&"\n"!==g20(g1);)g1++;return g1}function g24(){if(g17.length>0)return g17.shift();if(g18)return function(){var g1="'"===g18?g5:g4;g1.lastIndex=g2-1;var g3=g1.exec(g0);if(!g3)throw g19("string");return g2=g1.lastIndex,g25(g18),g18=null,g12(g3[1])}();var g6,g7,g8,g13,g14;do{if(g2===g10)return null;for(g6=!1;g9.test(g8=g20(g2));)if("\n"===g8&&++g11,++g2===g10)return null;if("/"===g20(g2)){if(++g2===g10)throw g19("comment");if("/"===g20(g2))if(g1){if(g13=g2,g14=!1,g22(g2)){g14=!0;do{if((g2=g23(g2))===g10)break;g2++}while(g22(g2))}else g2=Math.min(g10,g23(g2)+1);g14&&g21(g13,g2),g11++,g6=!0}else{for(g14="/"===g20(g13=g2+1);"\n"!==g20(++g2);)if(g2===g10)return null;++g2,g14&&g21(g13,g2-1),++g11,g6=!0}else{if("*"!==(g8=g20(g2)))return"/";g13=g2+1,g14=g1||"*"===g20(g13);do{if("\n"===g8&&++g11,++g2===g10)throw g19("comment");g7=g8,g8=g20(g2)}while("*"!==g7||"/"!==g8);++g2,g14&&g21(g13,g2-2),g6=!0}}}while(g6);var g15=g2;if(g3.lastIndex=0,!g3.test(g20(g15++)))for(;g15<g10&&!g3.test(g20(g15));)++g15;var g16=g0.substring(g2,g2=g15);return'"'!==g16&&"'"!==g16||(g18=g16),g16}function g25(g0){g17.push(g0)}function g26(){if(!g17.length){var g0=g24();if(null===g0)return null;g25(g0)}return g17[0]}return Object.defineProperty({next:g24,peek:g26,push:g25,skip:function(g0,g1){var g2=g26();if(g2===g0)return g24(),!0;if(!g1)throw g19("token '"+g2+"', '"+g0+"' expected");return!1},cmnt:function(g0){var g2=null;return void 0===g0?g15===g11-1&&(g1||"*"===g13||g16)&&(g2=g14):(g15<g0&&g26(),g15!==g0||g16||!g1&&"/"!==g13||(g2=g14)),g2}},"line",{get:function(){return g11}})}g13.unescape=g12},function(g0,g1,g2){"use strict";var g3,g4=g2(6),g5=(g3=g4)&&g3.__esModule?g3:{default:g3};g0.exports=g7;var g6=g2(1);function g7(g0,g1,g2){if("function"!=typeof g0)throw TypeError("rpcImpl must be a function");g6.EventEmitter.call(this),this.rpcImpl=g0,this.requestDelimited=Boolean(g1),this.responseDelimited=Boolean(g2)}(g7.prototype=(0,g5.default)(g6.EventEmitter.prototype)).constructor=g7,g7.prototype.rpcCall=function g0(g1,g2,g3,g4,g5){if(!g4)throw TypeError("request must be specified");var g7=this;if(!g5)return g6.asPromise(g0,g7,g1,g2,g3,g4);if(g7.rpcImpl)try{return g7.rpcImpl(g1,g2[g7.requestDelimited?"encodeDelimited":"encode"](g4).finish(),(function(g0,g2){if(g0)return g7.emit("error",g0,g1),g5(g0);if(null!==g2){if(!(g2 instanceof g3))try{g2=g3[g7.responseDelimited?"decodeDelimited":"decode"](g2)}catch(g0){return g7.emit("error",g0,g1),g5(g0)}return g7.emit("data",g2,g1),g5(null,g2)}g7.end(!0)}))}catch(g0){return g7.emit("error",g0,g1),void setTimeout((function(){g5(g0)}),0)}else setTimeout((function(){g5(Error("already ended"))}),0)},g7.prototype.end=function(g0){return this.rpcImpl&&(g0||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}},function(g0,g1,g2){"use strict";g0.exports=g5;var g3,g4=/\/|\./;function g5(g0,g1){g4.test(g0)||(g0="google/protobuf/"+g0+".proto",g1={nested:{google:{nested:{protobuf:{nested:g1}}}}}),g5[g0]=g1}g5("any",{Any:{fields:{type_url:{type:"string",id:1},value:{type:"bytes",id:2}}}}),g5("duration",{Duration:g3={fields:{seconds:{type:"int64",id:1},nanos:{type:"int32",id:2}}}}),g5("timestamp",{Timestamp:g3}),g5("empty",{Empty:{fields:{}}}),g5("struct",{Struct:{fields:{fields:{keyType:"string",type:"Value",id:1}}},Value:{oneofs:{kind:{oneof:["nullValue","numberValue","stringValue","boolValue","structValue","listValue"]}},fields:{nullValue:{type:"NullValue",id:1},numberValue:{type:"double",id:2},stringValue:{type:"string",id:3},boolValue:{type:"bool",id:4},structValue:{type:"Struct",id:5},listValue:{type:"ListValue",id:6}}},NullValue:{values:{NULL_VALUE:0}},ListValue:{fields:{values:{rule:"repeated",type:"Value",id:1}}}}),g5("wrappers",{DoubleValue:{fields:{value:{type:"double",id:1}}},FloatValue:{fields:{value:{type:"float",id:1}}},Int64Value:{fields:{value:{type:"int64",id:1}}},UInt64Value:{fields:{value:{type:"uint64",id:1}}},Int32Value:{fields:{value:{type:"int32",id:1}}},UInt32Value:{fields:{value:{type:"uint32",id:1}}},BoolValue:{fields:{value:{type:"bool",id:1}}},StringValue:{fields:{value:{type:"string",id:1}}},BytesValue:{fields:{value:{type:"bytes",id:1}}}}),g5("field_mask",{FieldMask:{fields:{paths:{rule:"repeated",type:"string",id:1}}}}),g5.get=function(g0){return g5[g0]||null}},function(g0,g1,g2){"use strict";g0.exports=g7;var g3,g4,g5=g2(1);function g6(g0,g1){return RangeError("index out of range: "+g0.pos+" + "+(g1||1)+" > "+g0.len)}function g7(g0){this.buf=g0,this.pos=0,this.len=g0.length}var g8,g9="undefined"!=typeof Uint8Array?function(g0){if(g0 instanceof Uint8Array||Array.isArray(g0))return new g7(g0);if("undefined"!=typeof ArrayBuffer&&g0 instanceof ArrayBuffer)return new g7(new Uint8Array(g0));throw Error("illegal buffer")}:function(g0){if(Array.isArray(g0))return new g7(g0);throw Error("illegal buffer")};function g10(){var g0=new g3(0,0),g1=0;if(!(this.len-this.pos>4)){for(;g1<3;++g1){if(this.pos>=this.len)throw g6(this);if(g0.lo=(g0.lo|(127&this.buf[this.pos])<<7*g1)>>>0,this.buf[this.pos++]<128)return g0}return g0.lo=(g0.lo|(127&this.buf[this.pos++])<<7*g1)>>>0,g0}for(;g1<4;++g1)if(g0.lo=(g0.lo|(127&this.buf[this.pos])<<7*g1)>>>0,this.buf[this.pos++]<128)return g0;if(g0.lo=(g0.lo|(127&this.buf[this.pos])<<28)>>>0,g0.hi=(g0.hi|(127&this.buf[this.pos])>>4)>>>0,this.buf[this.pos++]<128)return g0;if(g1=0,this.len-this.pos>4){for(;g1<5;++g1)if(g0.hi=(g0.hi|(127&this.buf[this.pos])<<7*g1+3)>>>0,this.buf[this.pos++]<128)return g0}else for(;g1<5;++g1){if(this.pos>=this.len)throw g6(this);if(g0.hi=(g0.hi|(127&this.buf[this.pos])<<7*g1+3)>>>0,this.buf[this.pos++]<128)return g0}throw Error("invalid varint encoding")}function g11(g0,g1){return(g0[g1-4]|g0[g1-3]<<8|g0[g1-2]<<16|g0[g1-1]<<24)>>>0}function g12(){if(this.pos+8>this.len)throw g6(this,8);return new g3(g11(this.buf,this.pos+=4),g11(this.buf,this.pos+=4))}g7.create=g5.Buffer?function(g0){return(g7.create=function(g0){return g5.Buffer.isBuffer(g0)?new undefined(g0):g9(g0)})(g0)}:g9,g7.prototype._slice=g5.Array.prototype.subarray||g5.Array.prototype.slice,g7.prototype.uint32=(g8=4294967295,function(){if(g8=(127&this.buf[this.pos])>>>0,this.buf[this.pos++]<128)return g8;if(g8=(g8|(127&this.buf[this.pos])<<7)>>>0,this.buf[this.pos++]<128)return g8;if(g8=(g8|(127&this.buf[this.pos])<<14)>>>0,this.buf[this.pos++]<128)return g8;if(g8=(g8|(127&this.buf[this.pos])<<21)>>>0,this.buf[this.pos++]<128)return g8;if(g8=(g8|(15&this.buf[this.pos])<<28)>>>0,this.buf[this.pos++]<128)return g8;if((this.pos+=5)>this.len)throw this.pos=this.len,g6(this,10);return g8}),g7.prototype.int32=function(){return 0|this.uint32()},g7.prototype.sint32=function(){var g0=this.uint32();return g0>>>1^-(1&g0)|0},g7.prototype.bool=function(){return 0!==this.uint32()},g7.prototype.fixed32=function(){if(this.pos+4>this.len)throw g6(this,4);return g11(this.buf,this.pos+=4)},g7.prototype.sfixed32=function(){if(this.pos+4>this.len)throw g6(this,4);return 0|g11(this.buf,this.pos+=4)},g7.prototype.float=function(){if(this.pos+4>this.len)throw g6(this,4);var g0=g5.float.readFloatLE(this.buf,this.pos);return this.pos+=4,g0},g7.prototype.double=function(){if(this.pos+8>this.len)throw g6(this,4);var g0=g5.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,g0},g7.prototype.bytes=function(){var g0=this.uint32(),g1=this.pos,g2=this.pos+g0;if(g2>this.len)throw g6(this,g0);return this.pos+=g0,Array.isArray(this.buf)?this.buf.slice(g1,g2):g1===g2?new this.buf.constructor(0):this._slice.call(this.buf,g1,g2)},g7.prototype.string=function(){var g0=this.bytes();return g4.read(g0,0,g0.length)},g7.prototype.skip=function(g0){if("number"==typeof g0){if(this.pos+g0>this.len)throw g6(this,g0);this.pos+=g0}else do{if(this.pos>=this.len)throw g6(this)}while(128&this.buf[this.pos++]);return this},g7.prototype.skipType=function(g0){switch(g0){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;;){if(4==(g0=7&this.uint32()))break;this.skipType(g0)}break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+g0+" at offset "+this.pos)}return this},g7._configure=function(){g3=g2(99),g4=g2(66);var g0=g5.Long?"toLong":"toNumber";g5.merge(g7.prototype,{int64:function(){return g10.call(this)[g0](!1)},uint64:function(){return g10.call(this)[g0](!0)},sint64:function(){return g10.call(this).zzDecode()[g0](!1)},fixed64:function(){return g12.call(this)[g0](!0)},sfixed64:function(){return g12.call(this)[g0](!1)}})}},function(g0,g1,g2){"use strict";var g3,g4,g5=g7(g2(10)),g6=g7(g2(7));function g7(g0){return g0&&g0.__esModule?g0:{default:g0}}function g8(g0,g1){return g0.name+": "+g1+(g0.repeated&&"array"!==g1?"[]":g0.map&&"object"!==g1?"{k:"+g0.keyType+"}":"")+" expected"}function g9(g0,g1,g2,g5){var g7=g5.types;if(g0.resolvedType)if(g0.resolvedType instanceof g3){if((0,g6.default)(g0.resolvedType.values).indexOf(g2)<0)return g8(g0,"enum value")}else{var g9=g7[g1].verify(g2);if(g9)return g0.name+"."+g9}else switch(g0.type){case"int32":case"uint32":case"sint32":case"fixed32":case"sfixed32":if(!g4.isInteger(g2))return g8(g0,"integer");break;case"int64":case"uint64":case"sint64":case"fixed64":case"sfixed64":if(!(g4.isInteger(g2)||g2&&g4.isInteger(g2.low)&&g4.isInteger(g2.high)))return g8(g0,"integer|Long");break;case"float":case"double":if("number"!=typeof g2)return g8(g0,"number");break;case"bool":if("boolean"!=typeof g2)return g8(g0,"boolean");break;case"string":if(!g4.isString(g2))return g8(g0,"string");break;case"bytes":if(!(g2&&"number"==typeof g2.length||g4.isString(g2)))return g8(g0,"buffer")}}function g10(g0,g1){switch(g0.keyType){case"int32":case"uint32":case"sint32":case"fixed32":case"sfixed32":if(!g4.key32Re.test(g1))return g8(g0,"integer key");break;case"int64":case"uint64":case"sint64":case"fixed64":case"sfixed64":if(!g4.key64Re.test(g1))return g8(g0,"integer|Long key");break;case"bool":if(!g4.key2Re.test(g1))return g8(g0,"boolean key")}}function g11(g0){return function(g1){return function(g2){var g3;if("object"!==(void 0===g2?"undefined":(0,g5.default)(g2))||null===g2)return"object expected";var g7,g11={};g0.oneofsArray.length&&(g7={});for(var g12=0;g12<g0.fieldsArray.length;++g12){var g13,g14=g0._fieldsArray[g12].resolve(),g15=g2[g14.name];if(!g14.optional||null!=g15&&g2.hasOwnProperty(g14.name))if(g14.map){if(!g4.isObject(g15))return g8(g14,"object");var g16=(0,g6.default)(g15);for(g13=0;g13<g16.length;++g13){if(g3=g10(g14,g16[g13]))return g3;if(g3=g9(g14,g12,g15[g16[g13]],g1))return g3}}else if(g14.repeated){if(!Array.isArray(g15))return g8(g14,"array");for(g13=0;g13<g15.length;++g13)if(g3=g9(g14,g12,g15[g13],g1))return g3}else{if(g14.partOf){var g17=g14.partOf.name;if(1===g11[g14.partOf.name]&&1===g7[g17])return g14.partOf.name+": multiple values";g7[g17]=1}if(g3=g9(g14,g12,g15,g1))return g3}}}}}g0.exports=g11,g11._configure=function(){g3=g2(13),g4=g2(1)}},function(g0,g1,g2){"use strict";var g3,g4,g5,g6=g2(7),g7=(g3=g6)&&g3.__esModule?g3:{default:g3};function g8(g0){return function(g1){var g2=g1.Writer,g3=g1.types,g6=g1.util;return function(g1,g8){g8=g8||g2.create();for(var g9=g0.fieldsArray.slice().sort(g6.compareFieldsById),g10=0;g10<g9.length;g10++){var g11=g9[g10],g12=g0._fieldsArray.indexOf(g11),g13=g11.resolvedType instanceof g4?"uint32":g11.type,g14=g5.basic[g13],g15=g1[g11.name];if(g11.resolvedType instanceof g4&&"string"==typeof g15&&(g15=g3[g12].values[g15]),g11.map){if(null!=g15&&g1.hasOwnProperty(g11.name))for(var g16=(0,g7.default)(g15),g17=0;g17<g16.length;++g17)g8.uint32((g11.id<<3|2)>>>0).fork().uint32(8|g5.mapKey[g11.keyType])[g11.keyType](g16[g17]),void 0===g14?g3[g12].encode(g15[g16[g17]],g8.uint32(18).fork()).ldelim().ldelim():g8.uint32(16|g14)[g13](g15[g16[g17]]).ldelim()}else if(g11.repeated){if(g15&&g15.length)if(g11.packed&&void 0!==g5.packed[g13]){g8.uint32((g11.id<<3|2)>>>0).fork();for(var g18=0;g18<g15.length;g18++)g8[g13](g15[g18]);g8.ldelim()}else for(var g19=0;g19<g15.length;g19++)void 0===g14?g11.resolvedType.group?g3[g12].encode(g15[g19],g8.uint32((g11.id<<3|3)>>>0)).uint32((g11.id<<3|4)>>>0):g3[g12].encode(g15[g19],g8.uint32((g11.id<<3|2)>>>0).fork()).ldelim():g8.uint32((g11.id<<3|g14)>>>0)[g13](g15[g19])}else(!g11.optional||null!=g15&&g1.hasOwnProperty(g11.name))&&(g11.optional||null!=g15&&g1.hasOwnProperty(g11.name)||console.warn("!!! :",g1.$type?g1.$type.name:"",":",g11.name,"protorequired"),void 0===g14?g11.resolvedType.group?g3[g12].encode(g15,g8.uint32((g11.id<<3|3)>>>0)).uint32((g11.id<<3|4)>>>0):g3[g12].encode(g15,g8.uint32((g11.id<<3|2)>>>0).fork()).ldelim():g8.uint32((g11.id<<3|g14)>>>0)[g13](g15))}return g8}}}g0.exports=g8,g8._configure=function(){g4=g2(13),g5=g2(38)}},function(g0,g1,g2){"use strict";var g3,g4,g5,g6,g7=g2(10),g8=(g3=g7)&&g3.__esModule?g3:{default:g3};function g9(g0){return"missing required '"+g0.name+"'"}function g10(g0){return function(g1){var g2=g1.Reader,g3=g1.types,g7=g1.util;return function(g1,g10){g1 instanceof g2||(g1=g2.create(g1));for(var g11,g12=void 0===g10?g1.len:g1.pos+g10,g13=new this.ctor;g1.pos<g12;){var g14=g1.uint32();if(g0.group&&4==(7&g14))break;for(var g15=g14>>>3,g16=0,g17=!1;g16<g0.fieldsArray.length;++g16){var g18=g0._fieldsArray[g16].resolve(),g19=g18.name,g20=g18.resolvedType instanceof g4?"int32":g18.type;if(g15==g18.id){if(g17=!0,g18.map)g1.skip().pos++,g13[g19]===g7.emptyObject&&(g13[g19]={}),g11=g1[g18.keyType](),g1.pos++,null!=g5.long[g18.keyType]?null==g5.basic[g20]?g13[g19]["object"===(void 0===g11?"undefined":(0,g8.default)(g11))?g7.longToHash(g11):g11]=g3[g16].decode(g1,g1.uint32()):g13[g19]["object"===(void 0===g11?"undefined":(0,g8.default)(g11))?g7.longToHash(g11):g11]=g1[g20]():null==g5.basic[g20]?g13[g19]=g3[g16].decode(g1,g1.uint32()):g13[g19]=g1[g20]();else if(g18.repeated)if(g13[g19]&&g13[g19].length||(g13[g19]=[]),null!=g5.packed[g20]&&2==(7&g14))for(var g21=g1.uint32()+g1.pos;g1.pos<g21;)g13[g19].push(g1[g20]());else null==g5.basic[g20]?g18.resolvedType.group?g13[g19].push(g3[g16].decode(g1)):g13[g19].push(g3[g16].decode(g1,g1.uint32())):g13[g19].push(g1[g20]());else null==g5.basic[g20]?g18.resolvedType.group?g13[g19]=g3[g16].decode(g1):g13[g19]=g3[g16].decode(g1,g1.uint32()):g13[g19]=g1[g20]();break}}g17||(console.log("t",g14),g1.skipType(7&g14))}for(g16=0;g16<g0._fieldsArray.length;++g16){var g22=g0._fieldsArray[g16];if(g22.required&&!g13.hasOwnProperty(g22.name))throw g6.ProtocolError(g9(g22),{instance:g13})}return g13}}}g0.exports=g10,g10._configure=function(){g4=g2(13),g5=g2(38),g6=g2(1)}},function(g0,g1,g2){"use strict";var g3,g4=g1;g4[".google.protobuf.Any"]={fromObject:function(g0){if(g0&&g0["@type"]){var g1=this.lookup(g0["@type"]);if(g1){var g2="."===g0["@type"].charAt(0)?g0["@type"].substr(1):g0["@type"];return this.create({type_url:"/"+g2,value:g1.encode(g1.fromObject(g0)).finish()})}}return this.fromObject(g0)},toObject:function(g0,g1){if(g1&&g1.json&&g0.type_url&&g0.value){var g2=g0.type_url.substring(g0.type_url.lastIndexOf("/")+1),g4=this.lookup(g2);g4&&(g0=g4.decode(g0.value))}if(!(g0 instanceof this.ctor)&&g0 instanceof g3){var g5=g0.$type.toObject(g0,g1);return g5["@type"]=g0.$type.fullName,g5}return this.toObject(g0,g1)}},g4._configure=function(){g3=g2(102)}},function(g0,g1,g2){"use strict";var g3=g5(g2(10)),g4=g5(g2(7));function g5(g0){return g0&&g0.__esModule?g0:{default:g0}}var g6,g7,g8=g0.exports;function g9(g0,g1,g2,g5){var g8=g5.m,g9=g5.d,g10=g5.types,g11=g5.ksi,g12=void 0!==g11;if(g0.resolvedType)if(g0.resolvedType instanceof g6){for(var g13=g12?g9[g2][g11]:g9[g2],g14=g0.resolvedType.values,g15=(0,g4.default)(g14),g16=0;g16<g15.length;g16++)if(!(g0.repeated&&g14[g15[g16]]===g0.typeDefault||g15[g16]!=g13&&g14[g15[g16]]!=g13)){g12?g8[g2][g11]=g14[g15[g16]]:g8[g2]=g14[g15[g16]];break}}else{if("object"!==(0,g3.default)(g12?g9[g2][g11]:g9[g2]))throw TypeError(g0.fullName+": object expected");g12?g8[g2][g11]=g10[g1].fromObject(g9[g2][g11]):g8[g2]=g10[g1].fromObject(g9[g2])}else{var g17=!1;switch(g0.type){case"double":case"float":g12?g8[g2][g11]=Number(g9[g2][g11]):g8[g2]=Number(g9[g2]);break;case"uint32":case"fixed32":g12?g8[g2][g11]=g9[g2][g11]>>>0:g8[g2]=g9[g2]>>>0;break;case"int32":case"sint32":case"sfixed32":g12?g8[g2][g11]=0|g9[g2][g11]:g8[g2]=0|g9[g2];break;case"uint64":g17=!0;case"int64":case"sint64":case"fixed64":case"sfixed64":g7.Long?g12?g8[g2][g11]=g7.Long.fromValue(g9[g2][g11]).unsigned=g17:g8[g2]=g7.Long.fromValue(g9[g2]).unsigned=g17:"string"==typeof(g12?g9[g2][g11]:g9[g2])?g12?g8[g2][g11]=parseInt(g9[g2][g11],10):g8[g2]=parseInt(g9[g2],10):"number"==typeof(g12?g9[g2][g11]:g9[g2])?g12?g8[g2][g11]=g9[g2][g11]:g8[g2]=g9[g2]:"object"===(0,g3.default)(g12?g9[g2][g11]:g9[g2])&&(g12?g8[g2][g11]=new g7.LongBits(g9[g2][g11].low>>>0,g9[g2][g11].high>>>0).toNumber(g17):g8[g2]=new g7.LongBits(g9[g2].low>>>0,g9[g2].high>>>0).toNumber(g17));break;case"bytes":"string"==typeof(g12?g9[g2][g11]:g9[g2])?g12?g7.base64.decode(g9[g2][g11],g8[g2][g11]=g7.newBuffer(g7.base64.length(g9[g2][g11])),0):g7.base64.decode(g9[g2],g8[g2]=g7.newBuffer(g7.base64.length(g9[g2])),0):(g12?g9[g2][g11]:g9[g2]).length&&(g12?g8[g2][g11]=g9[g2][g11]:g8[g2]=g9[g2]);break;case"string":g12?g8[g2][g11]=String(g9[g2][g11]):g8[g2]=String(g9[g2]);break;case"bool":g12?g8[g2][g11]=Boolean(g9[g2][g11]):g8[g2]=Boolean(g9[g2])}}}function g10(g0,g1,g2,g3){var g4=g3.m,g5=g3.d,g8=g3.types,g9=g3.ksi,g10=g3.o,g11=void 0!==g9;if(g0.resolvedType)g0.resolvedType instanceof g6?g11?g5[g2][g9]=g10.enums===String?g8[g1].values[g4[g2][g9]]:g4[g2][g9]:g5[g2]=g10.enums===String?g8[g1].values[g4[g2]]:g4[g2]:g11?g5[g2][g9]=g8[g1].toObject(g4[g2][g9],g10):g5[g2]=g8[g1].toObject(g4[g2],g10);else{var g12=!1;switch(g0.type){case"double":case"float":g11?g5[g2][g9]=g10.json&&!isFinite(g4[g2][g9])?String(g4[g2][g9]):g4[g2][g9]:g5[g2]=g10.json&&!isFinite(g4[g2])?String(g4[g2]):g4[g2];break;case"uint64":g12=!0;case"int64":case"sint64":case"fixed64":case"sfixed64":"number"==typeof g4[g2][g9]?g11?g5[g2][g9]=g10.longs===String?String(g4[g2][g9]):g4[g2][g9]:g5[g2]=g10.longs===String?String(g4[g2]):g4[g2]:g11?g5[g2][g9]=g10.longs===String?g7.Long.prototype.toString.call(g4[g2][g9]):g10.longs===Number?new g7.LongBits(g4[g2][g9].low>>>0,g4[g2][g9].high>>>0).toNumber(g12):g4[g2][g9]:g5[g2]=g10.longs===String?g7.Long.prototype.toString.call(g4[g2]):g10.longs===Number?new g7.LongBits(g4[g2].low>>>0,g4[g2].high>>>0).toNumber(g12):g4[g2];break;case"bytes":g11?g5[g2][g9]=g10.bytes===String?g7.base64.encode(g4[g2][g9],0,g4[g2][g9].length):g10.bytes===Array?Array.prototype.slice.call(g4[g2][g9]):g4[g2][g9]:g5[g2]=g10.bytes===String?g7.base64.encode(g4[g2],0,g4[g2].length):g10.bytes===Array?Array.prototype.slice.call(g4[g2]):g4[g2];break;default:g11?g5[g2][g9]=g4[g2][g9]:g5[g2]=g4[g2]}}}g8._configure=function(){g6=g2(13),g7=g2(1)},g8.fromObject=function(g0){var g1=g0.fieldsArray;return function(g0){return function(g2){if(g2 instanceof this.ctor)return g2;if(!g1.length)return new this.ctor;for(var g5=new this.ctor,g8=0;g8<g1.length;++g8){var g10,g11=g1[g8].resolve(),g12=g11.name;if(g11.map){if(g2[g12]){if("object"!==(0,g3.default)(g2[g12]))throw TypeError(g11.fullName+": object expected");g5[g12]={}}var g13=(0,g4.default)(g2[g12]);for(g10=0;g10<g13.length;++g10)g9(g11,g8,g12,g7.merge(g7.copy(g0),{m:g5,d:g2,ksi:g13[g10]}))}else if(g11.repeated){if(g2[g12]){if(!Array.isArray(g2[g12]))throw TypeError(g11.fullName+": array expected");for(g5[g12]=[],g10=0;g10<g2[g12].length;++g10)g9(g11,g8,g12,g7.merge(g7.copy(g0),{m:g5,d:g2,ksi:g10}))}}else(g11.resolvedType instanceof g6||null!=g2[g12])&&g9(g11,g8,g12,g7.merge(g7.copy(g0),{m:g5,d:g2}))}return g5}}},g8.toObject=function(g0){var g1=g0.fieldsArray.slice().sort(g7.compareFieldsById);return function(g2){return g1.length?function(g3,g5){g5=g5||{};for(var g8,g9,g11={},g12=[],g13=[],g14=[],g15=0;g15<g1.length;++g15)g1[g15].partOf||(g1[g15].resolve().repeated?g12:g1[g15].map?g13:g14).push(g1[g15]);if(g12.length&&(g5.arrays||g5.defaults))for(g15=0;g15<g12.length;++g15)g11[g12[g15].name]=[];if(g13.length&&(g5.objects||g5.defaults))for(g15=0;g15<g13.length;++g15)g11[g13[g15].name]={};if(g14.length&&g5.defaults)for(g15=0;g15<g14.length;++g15)if(g9=(g8=g14[g15]).name,g8.resolvedType instanceof g6)g11[g9]=g5.enums=String?g8.resolvedType.valuesById[g8.typeDefault]:g8.typeDefault;else if(g8.long)if(g7.Long){var g16=new g7.Long(g8.typeDefault.low,g8.typeDefault.high,g8.typeDefault.unsigned);g11[g9]=g5.longs===String?g16.toString():g5.longs===Number?g16.toNumber():g16}else g11[g9]=g5.longs===String?g8.typeDefault.toString():g8.typeDefault.toNumber();else g8.bytes?g11[g9]=g5.bytes===String?String.fromCharCode.apply(String,g8.typeDefault):Array.prototype.slice.call(g8.typeDefault).join("*..*").split("*..*"):g11[g9]=g8.typeDefault;var g17=!1;for(g15=0;g15<g1.length;++g15){g9=(g8=g1[g15]).name;var g18,g19,g20=g0._fieldsArray.indexOf(g8);if(g8.map){if(g17||(g17=!0),g3[g9]&&(g18=(0,g4.default)(g3[g9]).length))for(g11[g9]={},g19=0;g19<g18.length;++g19)g10(g8,g20,g9,g7.merge(g7.copy(g2),{m:g3,d:g11,ksi:g18[g19],o:g5}))}else if(g8.repeated){if(g3[g9]&&g3[g9].length)for(g11[g9]=[],g19=0;g19<g3[g9].length;++g19)g10(g8,g20,g9,g7.merge(g7.copy(g2),{m:g3,d:g11,ksi:g19,o:g5}))}else null!=g3[g9]&&g3.hasOwnProperty(g9)&&g10(g8,g20,g9,g7.merge(g7.copy(g2),{m:g3,d:g11,o:g5})),g8.partOf&&g5.oneofs&&(g11[g8.partOf.name]=g9)}return g11}:function(){return{}}}}},function(g0,g1){g0.exports=g2},function(g0,g1){g0.exports=g3},function(g0,g1){g0.exports=g4},function(g0,g1){g0.exports=g5},function(g0,g1){g0.exports=g6},function(g0,g1){g0.exports=g7},function(g0,g1){g0.exports=g8},function(g0,g1){g0.exports=g9},function(g0,g1){g0.exports=g10},function(g0,g1){g0.exports=g11},function(g0,g1){g0.exports=g12},function(g0,g1){g0.exports=g13},function(g0,g1){g0.exports=g14},function(g0,g1){g0.exports=g15},function(g0,g1){g0.exports=g16},function(g0,g1){g0.exports=g17},function(g0,g1){g0.exports=g18},function(g0,g1,g2){"use strict";g0.exports=function(g0,g1,g2,g3){for(var g4=65535&g0|0,g5=g0>>>16&65535|0,g6=0;0!==g2;){g2-=g6=g2>2e3?2e3:g2;do{g5=g5+(g4=g4+g1[g3++]|0)|0}while(--g6);g4%=65521,g5%=65521}return g4|g5<<16|0}},function(g0,g1,g2){"use strict";var g3=function(){for(var g0,g1=[],g2=0;g2<256;g2++){g0=g2;for(var g3=0;g3<8;g3++)g0=1&g0?3988292384^g0>>>1:g0>>>1;g1[g2]=g0}return g1}();g0.exports=function(g0,g1,g2,g4){var g5=g3,g6=g4+g2;g0^=-1;for(var g7=g4;g7<g6;g7++)g0=g0>>>8^g5[255&(g0^g1[g7])];return-1^g0}},function(g0,g1,g2){"use strict";var g3=g2(25),g4=!0,g5=!0;try{String.fromCharCode.apply(null,[0])}catch(g0){g4=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(g0){g5=!1}for(var g6=new g3.Buf8(256),g7=0;g7<256;g7++)g6[g7]=g7>=252?6:g7>=248?5:g7>=240?4:g7>=224?3:g7>=192?2:1;function g8(g0,g1){if(g1<65534&&(g0.subarray&&g5||!g0.subarray&&g4))return String.fromCharCode.apply(null,g3.shrinkBuf(g0,g1));for(var g2="",g6=0;g6<g1;g6++)g2+=String.fromCharCode(g0[g6]);return g2}g6[254]=g6[254]=1,g1.string2buf=function(g0){var g1,g2,g4,g5,g6,g7=g0.length,g8=0;for(g5=0;g5<g7;g5++)55296==(64512&(g2=g0.charCodeAt(g5)))&&g5+1<g7&&56320==(64512&(g4=g0.charCodeAt(g5+1)))&&(g2=65536+(g2-55296<<10)+(g4-56320),g5++),g8+=g2<128?1:g2<2048?2:g2<65536?3:4;for(g1=new g3.Buf8(g8),g6=0,g5=0;g6<g8;g5++)55296==(64512&(g2=g0.charCodeAt(g5)))&&g5+1<g7&&56320==(64512&(g4=g0.charCodeAt(g5+1)))&&(g2=65536+(g2-55296<<10)+(g4-56320),g5++),g2<128?g1[g6++]=g2:g2<2048?(g1[g6++]=192|g2>>>6,g1[g6++]=128|63&g2):g2<65536?(g1[g6++]=224|g2>>>12,g1[g6++]=128|g2>>>6&63,g1[g6++]=128|63&g2):(g1[g6++]=240|g2>>>18,g1[g6++]=128|g2>>>12&63,g1[g6++]=128|g2>>>6&63,g1[g6++]=128|63&g2);return g1},g1.buf2binstring=function(g0){return g8(g0,g0.length)},g1.binstring2buf=function(g0){for(var g1=new g3.Buf8(g0.length),g2=0,g4=g1.length;g2<g4;g2++)g1[g2]=g0.charCodeAt(g2);return g1},g1.buf2string=function(g0,g1){var g2,g3,g4,g5,g7=g1||g0.length,g9=new Array(2*g7);for(g3=0,g2=0;g2<g7;)if((g4=g0[g2++])<128)g9[g3++]=g4;else if((g5=g6[g4])>4)g9[g3++]=65533,g2+=g5-1;else{for(g4&=2===g5?31:3===g5?15:7;g5>1&&g2<g7;)g4=g4<<6|63&g0[g2++],g5--;g5>1?g9[g3++]=65533:g4<65536?g9[g3++]=g4:(g4-=65536,g9[g3++]=55296|g4>>10&1023,g9[g3++]=56320|1023&g4)}return g8(g9,g3)},g1.utf8border=function(g0,g1){var g2;for((g1=g1||g0.length)>g0.length&&(g1=g0.length),g2=g1-1;g2>=0&&128==(192&g0[g2]);)g2--;return g2<0||0===g2?g1:g2+g6[g0[g2]]>g1?g2:g1}},function(g0,g1,g2){"use strict";g0.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},function(g0,g1,g2){"use strict";g0.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},function(g0,g1,g2){"use strict";(function(g0){Object.defineProperty(g1,"__esModule",{value:!0}),g1.WfcImpl=void 0;var g3=g58(g2(69)),g4=g58(g2(114)),g5=g58(g2(84)),g6=g58(g2(230)),g7=g58(g2(233)),g8=g58(g2(127)),g9=g58(g2(87)),g10=g58(g2(88)),g11=g58(g2(128)),g12=g58(g2(129)),g13=g58(g2(60)),g14=g58(g2(130)),g15=g58(g2(89)),g16=g2(132),g17=g2(48),g18=g2(250),g19=g58(g2(180)),g20=g58(g2(181)),g21=g58(g2(368)),g22=g58(g2(182)),g23=g58(g2(183)),g24=g58(g2(369)),g25=g58(g2(184)),g26=g58(g2(185)),g27=g58(g2(370)),g28=g58(g2(186)),g29=g58(g2(187)),g30=g58(g2(371)),g31=g58(g2(188)),g32=g58(g2(372)),g33=g58(g2(189)),g34=g58(g2(190)),g35=g58(g2(191)),g36=g58(g2(192)),g37=g58(g2(193)),g38=g58(g2(373)),g39=g58(g2(374)),g40=g58(g2(380)),g41=g58(g2(381)),g42=g58(g2(97)),g43=g58(g2(382)),g44=g58(g2(391)),g45=g58(g2(195)),g46=g58(g2(392)),g47=g58(g2(196)),g48=g58(g2(194)),g49=g58(g2(393)),g50=g58(g2(394)),g51=g2(395),g52=g58(g2(396)),g53=g58(g2(397)),g54=g58(g2(398)),g55=g58(g2(399)),g56=g58(g2(400)),g57=g58(g2(401));function g58(g0){return g0&&g0.__esModule?g0:{default:g0}}var g59=g2(164);g59.util.Long=g15.default,g59.configure();var g60=g2(402),g61=g59.Root.fromJSON(g60),g62=g61.lookupType("AddFriendRequest"),g63=g61.lookupType("AddGroupMemberRequest"),g64=g61.lookupType("BlackUserRequest"),g65=g61.lookupType("ConnectAckPayload"),g66=g61.lookupType("Conversation"),g67=g61.lookupType("CreateGroupRequest"),g68=g61.lookupType("DismissGroupRequest"),g69=g61.lookupType("GetFriendRequestResult"),g70=g61.lookupType("GetFriendsResult"),g71=g61.lookupType("GetUploadTokenResult"),g72=g61.lookupType("GetPresignedUrlResult"),g73=g61.lookupType("GetUploadTokenRequest"),g74=g61.lookupType("GetUserSettingResult"),g75=g61.lookupType("Group"),g76=g61.lookupType("GroupInfo"),g77=g61.lookupType("GroupMember"),g78=g61.lookupType("HandleFriendRequest"),g79=g61.lookupType("IDBuf"),g80=g61.lookupType("IDListBuf"),g81=(g61.lookupType("IMHttpWrapper"),g61.lookupType("INT64Buf")),g82=g61.lookupType("LoadRemoteMessages"),g83=g61.lookupType("LoadLineMessages"),g84=g61.lookupType("Message"),g85=g61.lookupType("MessageContent"),g86=g61.lookupType("ModifyGroupInfoRequest"),g87=g61.lookupType("ModifyGroupMemberAlias"),g88=g61.lookupType("ModifyGroupMemberExtra"),g89=g61.lookupType("ModifyUserSettingReq"),g90=g61.lookupType("NotifyMessage"),g91=g61.lookupType("PullGroupInfoResult"),g92=g61.lookupType("PullGroupMemberRequest"),g93=g61.lookupType("PullGroupMemberResult"),g94=g61.lookupType("PullMessageRequest"),g95=g61.lookupType("PullMessageResult"),g96=g61.lookupType("PullUserRequest"),g97=g61.lookupType("PullUserResult"),g98=g61.lookupType("QuitGroupRequest"),g99=g61.lookupType("RemoveGroupMemberRequest"),g100=(g61.lookupType("RouteRequest"),g61.lookupType("RouteResponse"),g61.lookupType("SearchUserRequest")),g101=g61.lookupType("SearchUserResult"),g102=g61.lookupType("SetGroupManagerRequest"),g103=g61.lookupType("TransferGroupRequest"),g104=g61.lookupType("UserRequest"),g105=g61.lookupType("Version"),g106=g61.lookupType("ModifyMyInfoRequest"),g107=g61.lookupType("NotifyRecallMessage"),g108=g61.lookupType("ChatroomInfo"),g109=g61.lookupType("ChatroomMemberInfo"),g110=g61.lookupType("GetChatroomInfoRequest"),g111=g61.lookupType("GetChatroomMemberInfoRequest"),g112=g61.lookupType("ModifyChannelInfo"),g113=(g61.lookupType("TransferChannel"),g61.lookupType("ListenChannel")),g114=g61.lookupType("PullChannelInfo"),g115=g61.lookupType("SearchChannelResult"),g116=g61.lookupType("PullDeliveryResult"),g117=g61.lookupType("PullReadResult"),g118=g61.lookupType("LoadFileRecordReq"),g119=g61.lookupType("SearchFileRecordReq"),g120=g61.lookupType("LoadFileRecordRes"),g121=g61.lookupType("UploadDeviceTokenRequest"),g122=g61.lookupType("PresenceWatchRequest"),g123=g61.lookupType("PresenceWatchResult"),g124=g61.lookupType("LockRequest"),g125=g61.lookupType("PullGroupConvRequest"),g126=g61.lookupType("PullGroupConvResult"),g127=g61.lookupType("PullGroupMessageRequest"),g128=g61.lookupType("PullGroupMessageRequests"),g129=(g61.lookupType("GroupMessage"),g61.lookupType("PullGroupMessageResult"),g61.lookupType("PullGroupMessageResults")),g130=g61.lookupType("MessageList"),g131=g61.lookupType("NotifyGroupMessage"),g132=(g61.lookupType("GroupConv"),g61.lookupType("INT64ListBuf")),g133=g61.lookupType("UpdateMessageContent"),g134=g1.WfcImpl=function(){function g1(){var g0=this;(0,g13.default)(this,g1),this.initialized=!1,this.connectionStatus=0,this.platformName="",this.userId="",this.token="",this.imServerAddress="",this.clientId="",this.chatRoomMsgHead=g15.default.ZERO,this.privateSecret="",this.store=new g39.default(this),this.isReceiptEnable=!1,this.isUserOnlineStateEnable=!1,this.serverConfigs={},this.isClearGroupMsgWhenKickoff=!1,this.isGlobalDisableDraftSync=!1,this.isConnecting=!1,this.isUserDisconnected=!1,this.isPullingSetting=!1,this.isPullingMsg=!1,this.isPullingChatroomMsg=!1,this.isPullingRecv=!1,this.isPullingRead=!1,this.isPullingGroupMsg=!1,this.isConversationTargetPreloaded=!1,this.isFriendPreloaded=!1,this.isFriendRequestPreloaded=!1,this.settingHead=g15.default.ZERO,this.friendHead=g15.default.ZERO,this.friendRequestHead=g15.default.ZERO,this.recvHead=g15.default.ZERO,this.readHead=g15.default.ZERO,this.groupHead=g15.default.ZERO,this.deltaTime=0,this.lastActiveTime=0,this.backupAddressStrategy=1,this.backupHost="",this.backupPort=80,this.pendingMN=!1,this.pendingGMN=!1,this.uploadingMap=new g12.default,this.voipAnswerMsgMap=new g12.default,this.voipByeMsgMap=new g12.default,this._callbackOrLoadFromRemoteMessages=function(g2,g3,g4){var g5=[],g6=[],g7=!0,g8=!1,g9=void 0;try{for(var g10,g12=(0,g11.default)(g2);!(g7=(g10=g12.next()).done);g7=!0){var g13=g10.value;g13.messageContent.__notLoaded?g5.push(g13.messageUid):g6.push(g13)}}catch(g0){g8=!0,g9=g0}finally{try{!g7&&g12.return&&g12.return()}finally{if(g8)throw g9}}if(g5.length>0){var g14=g132.create();g14.id=g5,console.log("loadSuperGroupMessages request",g14),g0._publish("MGS",g132.encode(g14).finish(),(function(){var g2=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-2,g5=arguments[1];if(0===g2&&g5){var g7=g130.decode(g5);g0.log("loadSuperGroupMessages result data",g7),g7&&g7.message&&(g7.message.forEach((function(g2){if(!(g1.pcNotSupportMessageTypes.indexOf(g2.content.type)>-1)){var g3=g21.default.fromProtoMessage(g2),g4=g0.store.getMessageByUid(g3.messageUid);g3.messageId=g4.messageId,g0.store.updateMessageById(g3),g6.push(g3)}})),g6.sort((function(g0,g1){return(0,g16.eq)(g0.timestamp,g1.timestamp)?(0,g16.compare)(g0.messageUid,g1.messageUid):(0,g16.compare)(g0.timestamp,g1.timestamp)}))),g3&&g3(g6)}else g4&&g4(0!==g2?g2:-1)}))}else g3&&g3(g2)}}var g2,g58;return(0,g14.default)(g1,[{key:"resetMqtt",value:function(){var g0=this;this.mqttClientInstance&&(this.mqttClientInstance.removeAllListeners(),this.mqttClientInstance.end(!0,{},(function(){g0.log("mqtt client ended")})),this.mqttClientInstance=null),this.isConnecting=!1}},{key:"reset",value:function(){this.resetMqtt(),this.connectionStatus=g40.default.ConnectionStatusLogout,this.isConnecting=!1,this.userId="",this.token="",this.clientId="",this.msgHead=g15.default.ZERO,this.privateSecret="",this.store=new g39.default(this),this.isReceiptEnable=!1,this.isGlobalDisableDraftSync=!1,this.isConnecting=!1,this.isUserDisconnected=!1,this.isPullingSetting=!1,this.isPullingRecv=!1,this.isPullingRead=!1,this.isConversationTargetPreloaded=!1,this.isFriendPreloaded=!1,this.isFriendRequestPreloaded=!1,this.settingHead=g15.default.ZERO,this.friendHead=g15.default.ZERO,this.friendRequestHead=g15.default.ZERO,this.recvHead=g15.default.ZERO,this.readHead=g15.default.ZERO,this.groupHead=g15.default.ZERO,this.deltaTime=0,this.lastActiveTime=0,this.reconnectTimer&&(clearInterval(this.reconnectTimer),this.reconnectTimer=0)}},{key:"onConnectionChanged",value:function(g0){var g1=this;if(this.connectionStatus!==g0)if(g0===g40.default.ConnectionStatusConnected&&this._pullUnreadMessages(),g42.default.ENABLE_INFO_PERSISTENCE&&(!g42.default.MESSAGE_ROAMING&&g0===g40.default.ConnectionStatusConnected||g42.default.MESSAGE_ROAMING&&g0===g40.default.ConnectionStatusReceiveing)&&this.store.loadPersistGroups(),g0===g40.default.ConnectionStatusConnected){var g2=this.store.friends.size+this.store.conversationInfos.length-this.store.users.size,g3=0;g3+=1*Math.round(g2/2e3),g3+=1*Math.round(this.store.groups.size/10),setTimeout((function(){console.log("connection status changed to status in ",g3),g1.connectionStatus=g0,g1.eventEmitter.emit(g38.default.ConnectionStatusChanged,g0)}),1e3*g3)}else this.log("connection status changed",g0),this.connectionStatus=g0,this.eventEmitter.emit(g38.default.ConnectionStatusChanged,g0)}},{key:"_isGroupNotificationTargetsIncludeCurrentUser",value:function(g0){}},{key:"onConferenceEvent",value:function(g0){this.eventEmitter.emit(g38.default.ConferenceEvent,g0)}},{key:"onReceiveMessage",value:function(g0){var g2=arguments.length>1&&void 0!==arguments[1]&&arguments[1],g3=this,g4=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],g5=arguments.length>3&&void 0!==arguments[3]&&arguments[3],g6=[],g7=[];this.log("onReceiveMessage length: "+g0.length+", pullSettings: "+g2+" saveToStore "+g4),g0.forEach((function(g8,g9){if(!(g1.pcNotSupportMessageTypes.indexOf(g8.content.type)>-1)){var g10=g21.default.fromProtoMessage(g8),g11=g9<g0.length-1;if(g10){if(g3._handleGroupNotificationMessage(g10,g11,g6,g7),81===g10.content.type){g3.log("delete",g10.content,g15.default.fromValue(atob(g10.content.binaryContent)),g15.default.fromValue(atob(g10.content.binaryContent)).toString());var g12=g15.default.fromValue(atob(g10.content.binaryContent)),g13=g3.store.getMessageByUid(g12);return void(g13&&g13.messageId>0&&(g3.store.deleteMessageByUid(g12),g3.onRemoteMessageDeleted(g13.messageUid)))}var g14=g19.default.getMessageContentPersitFlag(g10.content.type);if(-1===g14&&(g14=g10.content.persistFlag),g10.messageContent.type===g22.default.RecallMessage_Notification&&g3.onRecallMessage(g10.messageContent.operatorId,g10.messageContent.messageUid),[g22.default.VOIP_CONTENT_TYPE_START,g22.default.VOIP_CONTENT_TYPE_ACCEPT,g22.default.VOIP_CONTENT_TYPE_END].indexOf(g10.messageContent.type)>=0&&g3.updateCallStartMessage(g10),!g4||g14!==g25.default.Persist&&g14!==g25.default.Persist_And_Count){if(g42.default.ENABLE_GENERATE_CONVERSATION_FOR_TRANSPARENT_MESSAGE&&g3.store.genAndSaveDefaultConversationInfo(g10.conversation),g42.default.ENABLE_ROAMING_TRANSPARENT_MESSAGE_RECEIVING_NOTIFICATION&&g3.eventEmitter.emit(g38.default.ReceiveMessage,g10,g11),g10.messageContent instanceof g52.default&&g10.from===g3.userId){var g16=g10.messageContent,g17=g10.conversation;g3.store.setLastReceivedMessageUnread(g17,g16.messageUid,g16.timestamp)}g5||g2||g3.eventEmitter.emit(g38.default.ReceiveMessage,g10,g11)}else g10.conversation.type===g29.default.ChatRoom?g10.messageId=g3.store.genChatRoomMessageId():g10.messageId=g3.store.genNormalMessageId(),g3.store.saveMessage(g10),g3.store.updateConversationLastMessage(g10)&&g3.eventEmitter.emit(g38.default.ConversationInfoUpdate,g3.store.getConversationInfo(g10.conversation)),g5||g2&&!g42.default.ENABLE_ROAMING_MESSAGE_RECEIVING_NOTIFICATION||g3.eventEmitter.emit(g38.default.ReceiveMessage,g10,g11)}}})),g6.forEach((function(g0){g3._reloadGroupInfosFromRemote(g0)})),g7.forEach((function(g0){g3._reloadGroupMembersFromRemote(g0,g3.store.getGroupMemberMaxDt(g0))}))}},{key:"_handleGroupNotificationMessage",value:function(g0,g1,g2,g3){var g4=this,g5=[g22.default.CreateGroup_Notification,g22.default.AddGroupMember_Notification,g22.default.KickOffGroupMember_Notification,g22.default.TransferGroupOwner_Notification,g22.default.ModifyGroupExtra_Notification,g22.default.ModifyGroupAlias_Notification];if(g5.indexOf(g0.content.type)>-1)if(g2.push(g0.conversation.target),g3.push(g0.conversation.target),g0.content.type===g22.default.KickOffGroupMember_Notification){var g6=g0.messageContent.kickedMembers.find((function(g0){return g0===g4.getUserId()}));this.log("kickoff",g0.conversation.target,this.isClearGroupMsgWhenKickoff),g6===this.getUserId()&&(this.store.removeGroupAndMembers(g0.conversation.target,!this.isClearGroupMsgWhenKickoff),this.isClearGroupMsgWhenKickoff&&this.store.removeConversation(g0.conversation,!0))}else g0.content.type===g22.default.AddGroupMember_Notification&&(this.isClearGroupMsgWhenKickoff||this.store.clearConversationMessagesBeforeMessageUid(g0.conversation,g0.messageUid));if((g5=[g22.default.SetGroupManager_Notification,g22.default.MuteGroupMember_Notification,g22.default.AllowGroupMember_Notification,g22.default.ModifyGroupMemberExtra_Notification]).indexOf(g0.content.type)>-1&&g3.push(g0.conversation.target),(g5=[g22.default.ChangeGroupName_Notification,g22.default.ChangeGroupPortrait_Notification,g22.default.MuteGroup_Notification,g22.default.ChangeJoinType_Notification,g22.default.ChangePrivateChat_Notification,g22.default.ChangeSearchable_Notification,g22.default.ModifyGroupExtra_Notification]).indexOf(g0.content.type)>-1&&g2.push(g0.conversation.target),(g5=[g22.default.QuitGroup_Notification]).indexOf(g0.content.type)>-1){if(g0.from===this.getUserId())return this.store.removeGroupAndMembers(g0.conversation.target),this.store.removeGroupSettings(g0.conversation.target),this.store.removeFavGroup(g0.conversation.target),void this.store.removeConversation(g0.conversation,!0);g2.push(g0.conversation.target),g3.push(g0.conversation.target)}if((g5=[g22.default.DismissGroup_Notification]).indexOf(g0.content.type)>-1){this.store.removeGroupAndMembers(g0.conversation.target,this.serverConfigs.isKeepMsgAfterDismiss),this.store.removeGroupSettings(g0.conversation.target),this.store.removeFavGroup(g0.conversation.target),this.serverConfigs.isKeepMsgAfterDismiss||this.store.removeConversation(g0.conversation,!0);var g7=g2.filter((function(g1){return g1!==g0.conversation.target})),g8=g3.filter((function(g1){return g1!==g0.conversation.target}));g2.length=0,g2.push.apply(g2,(0,g10.default)(g7)),g3.length=0,g3.push.apply(g3,(0,g10.default)(g8))}}},{key:"updateCallStartMessage",value:function(g0){var g1=void 0,g2=g0.messageContent.callId;if(g0.messageContent.type===g22.default.VOIP_CONTENT_TYPE_END?(this.voipByeMsgMap.set(g2,g0),g1=this.store.getCallStartMessage(g2)):g0.messageContent.type===g22.default.VOIP_CONTENT_TYPE_ACCEPT?(this.voipAnswerMsgMap.set(g2,g0),g1=this.store.getCallStartMessage(g2)):g1=g0,g1){var g3=this.voipAnswerMsgMap.get(g2);g3&&(g1.messageContent.connectTime=g3.timestamp,this.voipAnswerMsgMap.delete(g2));var g4=this.voipByeMsgMap.get(g2);g4&&(g1.messageContent.endTime=g4.timestamp,g1.messageContent.status=g4.messageContent.reason,this.voipByeMsgMap.delete(g2))}}},{key:"onGroupInfoUpdate",value:function(g0){}},{key:"onChannelInfoUpdate",value:function(g0){}},{key:"onSettingUpdate",value:function(g0){this.eventEmitter.emit(g38.default.SettingUpdate)}},{key:"onRecallMessage",value:function(g0,g1){var g2=this.store.getMessageByUid(g1);if(g2&&0!==g2.messageId){var g3=g2.messageContent;if(g0===this.userId){var g4={};g4.s=g2.from,g4.ts=(0,g16.numberValue)(g2.timestamp);var g5=g2.content;g5&&g5.hasOwnProperty("type")||(g5=g2.messageContent.encode()),g4.t=g5.type,g4.sc=g5.searchableContent?g5.searchableContent:"",g4.c=g5.content?g5.content:"",g4.e=g5.extra?g5.content:"",g2.extra=(0,g9.default)(g4)}var g6=new g24.default(g0,g1);g6.fromSelf=!0,g6.setExtra(g2.extra),g2.messageContent=g6,this.store.updateMessageById(g2);var g7=this.getConversationInfo(g2.conversation);1===g2.direction&&g19.default.getMessageContentFlag(g3.type)===g25.default.Persist_And_Count&&(g2.status===g23.default.Unread?g7.unreadCount.unread-=1:g2.status===g23.default.Mentioned?g7.unreadCount.unreadMention-=1:g2.status===g23.default.AllMentioned&&(g7.unreadCount.unreadMentionAll-=1)),this.eventEmitter.emit(g38.default.RecallMessage,g0,g1)}}},{key:"onRemoteMessageDeleted",value:function(g0){this.log("onRemoteMessageDeleted",g0),this.store.deleteMessageByUid(g0),this.eventEmitter.emit(g38.default.MessageDeleted,g0)}},{key:"onMessageDeleted",value:function(g0){this.log("onMessageDeleted",g0),this.eventEmitter.emit(g38.default.DeleteMessage,g0)}},{key:"onUserInfoUpdate",value:function(g0){var g1=this;this.log("userInfo update, ids",g0),JSON.parse(g0).map((function(g0){g1._reloadUserInfosFromRemote([g0])}))}},{key:"onFriendListUpdate",value:function(g0){this.log("friendList update, ids",g0),this.eventEmitter.emit(g38.default.FriendListUpdate,g0)}},{key:"onFriendRequestUpdate",value:function(g0){this.eventEmitter.emit(g38.default.FriendRequestUpdate,g0)}},{key:"registerMessageContent",value:function(g0,g1,g2,g3){g19.default.registerMessageContent(g0,g1,g2,g3)}},{key:"getHost",value:function(){return(0,g18.host)()}},{key:"getClientId",value:function(){var g0=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"wx";if(["ali","wx","qq","tt","bd","uni"].indexOf(g0)<0)return console.error("platformName must be one of [aliwxqqttbduni]"),"";var g1=this._platformOptions(g0);if(""===this.clientId){try{this.clientId=g1.mp.getStorageSync("clientId")}catch(g0){}if(!this.clientId){this.clientId=this.uuid();try{g1.mp.setStorage({key:"clientId",data:this.clientId})}catch(g0){}}}return this.log("clientId",this.clientId),this.clientId}},{key:"getEncodedClientId",value:function(){var g0=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"wx",g1=this.getClientId(g0);return(0,g17.AESEncrypt)(g1,"")}},{key:"encodeData",value:function(g0){return(0,g17.AESEncrypt)(g0,this.privateSecret)}},{key:"decodeData",value:function(g0){return this._Utf8ArrayToStr((0,g17.AESDecrypt)(g0,this.privateSecret,!1))}},{key:"_Utf8ArrayToStr",value:function(g0){var g1,g2,g3,g4,g5,g6;for(g1="",g3=g0.length,g2=0;g2<g3;)switch((g4=g0[g2++])>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:g1+=String.fromCharCode(g4);break;case 12:case 13:g5=g0[g2++],g1+=String.fromCharCode((31&g4)<<6|63&g5);break;case 14:g5=g0[g2++],g6=g0[g2++],g1+=String.fromCharCode((15&g4)<<12|(63&g5)<<6|(63&g6)<<0)}return g1}},{key:"uuid",value:function(){for(var g0=[],g1="0123456789abcdef",g2=0;g2<36;g2++)g0[g2]=g1.substr(Math.floor(16*Math.random()),1);return g0[14]="4",g0[19]=g1.substr(3&g0[19]|8,1),g0[8]=g0[13]=g0[18]=g0[23]="-",g0.join("")}},{key:"init",value:function(g0){this.initialized=!0,g0&&g0.length>0&&g42.default.config(g0[0])}},{key:"onForeground",value:function(){if(this.log("onForeground"),this.connectionStatus!==g40.default.ConnectionStatusConnected)this._reconnect();else{var g0=(new Date).getTime(),g1=g42.default.KEEP_ALIVE_TIMEOUT>g42.default.KEEP_ALIVE_INTERNAL?g42.default.KEEP_ALIVE_TIMEOUT:g42.default.KEEP_ALIVE_INTERNAL;g0-this.lastActiveTime>1e3*g1?(this.log("keep alive timeout, reconnect..."),this._reconnect(!0)):this.log("already connected")}}},{key:"connect",value:function(g0,g2){var g3=this,g4=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"wx";this.initialized?(this.log("connect",g1.version,g0,g2),["ali","wx","qq","tt","bd","uni"].indexOf(g4)<0?console.error("platformName must be one of [aliwxqqttbduni]"):(this.log("platform",this._platformOptions(g4)),this.platformName=g4,this.store._setInfoDataSource(this._platformOptions(g4).mp),this.isUserDisconnected=!1,g0&&g2?"string"==typeof g0&&"string"==typeof g2?!this.mqttClientInstance||!this.isConnecting&&this.connectionStatus!==g40.default.ConnectionStatusConnected||this.userId!==g0||this.token!==g2?(""!==this.userId&&this.userId!==g0&&this.reset(),this.onConnectionChanged(g40.default.ConnectionStatusConnecting),this.reconnectTimer||(this.reconnectTimer=setInterval((function(){g3.connectionStatus===g40.default.ConnectionStatusUnconnected&&""!==g3.userId&&""!==g3.token&&(g3.isConnecting||(g3.log("reconnect",g3.userId,g3.clientId,g3.token,(new Date).valueOf()),g3.resetMqtt(),g3.connect(g3.userId,g3.token)))}),g1.connectionTimeout)),this.userId=g0,this.token=g2,this.isConnecting=!0,this.log("connect",(new Date).getTime()),(0,g18.connect)(g0,this.getClientId(),g2,(function(g0,g1,g2,g4,g5,g6){if(g3.log("connect/route error",g0,(new Date).valueOf()),-1===g0&&g3.connectionStatus===g40.default.ConnectionStatusConnected&&g3.mqttClientInstance)g3.isConnecting=!1;else{if(0!==g0){var g7=g40.default.ConnectionStatusUnconnected;return g0===g44.default.kEcServerTokenIncorrect?g7=g40.default.ConnectionStatusTokenIncorrect:g0===g44.default.kEcServerUserIsBlocked?g7=g40.default.ConnectionStatusRejected:g0===g44.default.kEcServerSecrectKeyMismatch?g7=g40.default.ConnectionStatusSecretKeyMismatch:g0===g44.default.kConnectionStatusKickedOff?g7=g40.default.ConnectionStatusKickedOff:g0===g44.default.kEcServerNotLicensed?g7=g40.default.ConnectionStatusNotLicensed:g0===g44.default.kEcServerTimeInconsistent?g7=g40.default.ConnectionStatusTimeInconsistent:g0===g44.default.kEcWebsocketNotConfigured&&(g3.error("IM  websocket https://docs.wildfirechat.cn/web/"),g7=g40.default.ConnectionStatusServerDown),g3.onConnectionChanged(g7),void(g1&&(g1.removeAllListeners(),g1.end(!0,{},(function(){g3.log("mqtt client ended")}))))}g3.imServerAddress=g6,g3.mqttClientInstance=g1,g3.privateSecret=g2,g3.serverConfigs=g5||{},g3.isReceiptEnable=g5.isReceiptEnable,g3.isUserOnlineStateEnable=g5.isUserOnlineStateEnable,g3.isClearGroupMsgWhenKickoff=g5.isClearGroupMsgWhenKickoff,g3.isGlobalDisableDraftSync=g5.isGlobalDisableDraftSync,g3.mqttClientInstance.on("connect",(function(g0){g3.isConnecting=!1,g3.isPullingMsg=!1,g3.isPullingChatroomMsg=!1,g3.lastActiveTime=(new Date).getTime();var g1=g65.decode(g0.payload);if(g3.log("connect ack",g1,g3.msgHead),g3._pullFriends(g1.friendHead),g3._pullFriendRequest(g1.friendRqHead),g3.msgHead){var g2=g3.settingHead.compare(g1.settingHead)<0;g3._pullMessages(g1.msgHead,0,g2,g1.recvHead,g1.readHead,g1.groupConvHead,!0)}else g42.default.MESSAGE_ROAMING?(g3.msgHead=g15.default.ZERO,g3.log("pull roaming message",g3.msgHead.toString(),g1.msgHead.toString()),g3.onConnectionChanged(g40.default.ConnectionStatusReceiveing),g3._pullMessages(g15.default.MAX_VALUE,0,!0,g1.recvHead,g1.readHead,g1.groupConvHead,!0)):(g3.msgHead=g1.msgHead,g3._pullUserSettings(g1.settingHead));var g5=(new Date).getTime();g3.deltaTime=Number(g1.serverTime)-g5-(g5-g4)/2})),g3.mqttClientInstance.on("reconnect",(function(){g3.isConnecting=!1,g3.log("------reconnect--------",g3.clientId)})),g3.mqttClientInstance.on("offline",(function(){g3.log("------offline--------"),g3.isConnecting=!1,g3.connectionStatus=g40.default.ConnectionStatusUnconnected,!g3.isUserDisconnected&&g3._reconnect()})),g3.mqttClientInstance.on("close",(function(){g3.log("------close--------",g3.clientId),g3.isConnecting=!1,g3.connectionStatus=g40.default.ConnectionStatusUnconnected,!g3.isUserDisconnected&&g3._reconnect()})),g3.mqttClientInstance.on("disconnect",(function(){g3.log("------disconnect--------")})),g3.mqttClientInstance.on("error",(function(g0){g3.log("------error--------",g0),g3.isConnecting=!1,g3.connectionStatus=g40.default.ConnectionStatusUnconnected,!g3.isUserDisconnected&&g3._reconnect()})),g3.mqttClientInstance.on("pingresp",(function(g0){console.log("pingresp",(new Date).getTime()),g3.lastActiveTime=(new Date).getTime()})),g3.mqttClientInstance.on("message",(function(g0,g1,g2){if(g3.lastActiveTime=(new Date).getTime(),g3.log("on push",g0),"MS"===g0){var g4=g84.decode(g1),g5=[];g5.push(g4),g3.onReceiveMessage(g5,!1,!1)}else if("MN"===g0){var g6=g90.decode(g1);g3._pullMessages(g6.head,g6.type,!1,!1,!1,!1,!1,!0)}else if("GMN"===g0){var g7=g131.decode(g1);g3._pullGroupConvs(g7.head,g7.target,g7.line,!0)}else if("FN"===g0){if(8===g1.length){var g8=g3._getLongFromBuffer(g1);g3._pullFriends(g8)}}else if("FRN"===g0){if(8===g1.length){var g9=g3._getLongFromBuffer(g1);g3._pullFriendRequest(g9)}}else if("UN"===g0){if(8===g1.length){var g10=g3._getLongFromBuffer(g1);g3._pullUserSettings(g10)}}else if("RMN"===g0){var g11=g107.decode(g1);g3.onRecallMessage(g11.fromUser,g11.id)}else if("RCN"===g0){if(8===g1.length){var g12=g3._getLongFromBuffer(g1);g3._pullRecv(g12)}}else if("RDN"===g0){if(8===g1.length){var g13=g3._getLongFromBuffer(g1);g3._pullRead(g13)}}else if("CONFN"===g0){var g14=g79.decode(g1);g3.onConferenceEvent(g14.id)}else"ROFL"===g0?(g3.warn("kicked offneed app relogin"),g3._reconnect(!0)):"UIN"===g0?g3.getUserInfo(g3.userId,!0):"POSN"===g0&&g3._onlineStateNotify(g1)}))}}),this._platformOptions(g4))):this.log("connect 0",this.isConnecting,this.connectionStatus,this.userId,this.token):this.error("userId and token must be string type"):this.log("userId or token error"))):this.error("IM wfc.init ")}},{key:"_reconnect",value:function(){var g0=this,g2=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(g2)return this.log("force reconnect"),this.resetMqtt(),void this.connect(this.userId,this.token);!this.isConnecting&&this.userId&&this.token&&setTimeout((function(){g0.connectionStatus!==g40.default.ConnectionStatusUnconnected||g0.isConnecting||(g0.resetMqtt(),g0.connect(g0.userId,g0.token))}),g1.connectionTimeout)}},{key:"_getLongFromBuffer",value:function(g0){return g15.default.fromBytesBE(g0.slice(0,8))}},{key:"_getStringFromBuffer",value:function(g0){return g0.toString()}},{key:"_getStringFromU8int",value:function(g1){return g0.from(g1).toString()}},{key:"_pullMessages",value:function(g0){var g1=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,g2=arguments.length>2&&void 0!==arguments[2]&&arguments[2],g3=arguments[3],g4=arguments[4],g5=arguments[5],g6=this,g7=arguments.length>6&&void 0!==arguments[6]&&arguments[6],g8=arguments.length>7&&void 0!==arguments[7]&&arguments[7];if(this.log("to pull user messages",g0,g1,g2),1!==g1){if(g8&&(this.pendingMN=!0),this.isPullingMsg||this.msgHead.compare(g0)>=0&&!this.pendingMN)return this.log("local message is up to date or is pulling",g0,this.msgHead,g2,g3,g4,g7,g8),void(g2||g7?(this._pullUserSettings(g15.default.MAX_VALUE),this.isReceiptEnable&&(this._pullRecv(g3),this._pullRead(g4),g7&&this._syncRead()),this._pullGroupConvs(g5)):this.connectionStatus!==g40.default.ConnectionStatusConnected&&this.onConnectionChanged(g40.default.ConnectionStatusConnected));this.isPullingMsg=!0,this.pendingMN=!1}else{if(!this.currentChatRoomId)return;if(this.isPullingChatroomMsg||(0,g16.gte)(this.chatRoomMsgHead,g0))return;this.isPullingChatroomMsg=!0}var g9=g94.encode({id:1!==g1?this.msgHead:this.chatRoomMsgHead,type:g1}).finish();this.log("pull user messages, type: "+g1+", head: "+(0,g16.stringValue)(g0)+", msgHead: "+(0,g16.stringValue)(this.msgHead)+", chatroomMsgHead: "+(0,g16.stringValue)(this.chatRoomMsgHead)),this._publish("MP",g9,(function(g0,g8){if(g6.log("pull user messages response",g0),0!==g0||!g8)return g6.log("pull message error",g0),1!==g1?g6.isPullingMsg=!1:g6.isPullingChatroomMsg=!1,void(g2&&g6._pullUserSettings(g6.settingHead));var g9=g95.decode(g8);if(0===g1)(0,g16.gt)(g9.current,g6.msgHead)&&(g6.msgHead=g9.current),g6.isPullingMsg=!1,g6.log("pull message result",(0,g16.stringValue)(g9.current),g9.message.length);else if(1===g1){if(g6.log("pull chatroom message result",(0,g16.stringValue)(g9.current),g9.message.length),g6.isPullingChatroomMsg=!1,g9.message.length>0&&g9.message[0].conversation.target!==g6.currentChatRoomId)return void g6.log("user not in chatroom now, drop message");g6.chatRoomMsgHead=g9.current}g6.onReceiveMessage(g9.message,g2),g6._pullMessages(g9.head,g1,g2,g3,g4,g5,g7)}))}},{key:"_pullRecv",value:function(g0){var g1=this;if(this.isReceiptEnable&&g0&&!this.isPullingRecv&&!(this.recvHead.compare(g0)>=0)){this.isPullingRecv=!0;var g2=g105.create();g2.version=this.recvHead;var g3=g105.encode(g2).finish();this.log("pull recv",this.recvHead),this._publish("RCP",g3,(function(g0,g2){if(g1.isPullingRecv=!1,0===g0&&g2){var g3=g116.decode(g2);g1.log("pull recv result",g3),g1.recvHead=g3.current,g1.store.updateDeliveries(g3.delivery);var g4=new g12.default;g3.delivery.forEach((function(g0){g4.set(g0.fromUser,g0.receiveTime)})),g1.eventEmitter.emit(g38.default.MessageReceived,g4),g1._pullRecv(g3.head)}}))}}},{key:"_pullRead",value:function(g0){var g1=this;if(!(!g0||this.isPullingRead||this.readHead.compare(g0)>=0)){this.isPullingRead=!0;var g2=g105.create();g2.version=this.readHead;var g3=g105.encode(g2).finish();this.log("pull read",this.readHead),this._publish("RDP",g3,(function(g0,g2){if(g1.isPullingRead=!1,0===g0&&g2){var g3=g117.decode(g2);g1.log("pull read result",g3),g1.readHead=g3.current,g1.store.updateReads(g3.read);var g4=[];g3.read.forEach((function(g0){var g1=new g49.default;g1.userId=g0.fromUser,g1.readTime=g0.readTime,0===g0.conversation.type&&(g0.conversation.target=g0.fromUser),g1.conversation=(0,g8.default)(new g28.default,g0.conversation),g1.conversation.conversationType=g1.conversation.type,g4.push(g1)})),g1.eventEmitter.emit(g38.default.MessageRead,g4),g1._pullRead(g3.head)}}))}}},{key:"_pullGroupConvs",value:function(g0,g1,g2,g3){var g4=this;if(g3||!(0,g16.gte)(this.groupHead,g0))if(this.isPullingGroupMsg)this.pendingGMN=!0;else{this.isPullingGroupMsg=!0;var g5=g125.create();g5.id=this.groupHead,g1&&(g5.target=g1,g5.line=g2,g5.messageId=this.store.getGroupMessageHead(g1,g2)),g5=g125.encode(g5).finish(),this.log("pull groupConvs",this.groupHead),this._publish("GCP",g5,(function(g0,g3){if(g4.isPullingGroupMsg=!1,0===g0&&g3){var g5=g126.decode(g3);g4.log("pull groupConvs result",g5),g4._onPullGroupConvSuccess(g1,g2,g5)}}))}}},{key:"_onPullGroupConvSuccess",value:function(g0,g1,g2){this.groupHead=g2.current;var g3=!0,g4=!1,g5=void 0;try{for(var g6,g7=(0,g11.default)(g2.conv);!(g3=(g6=g7.next()).done);g3=!0){var g8=g6.value;this.store.setGroupMessageServerHead(g8.groupId,g8.line,g8.msgHead)}}catch(g0){g4=!0,g5=g0}finally{try{!g3&&g7.return&&g7.return()}finally{if(g4)throw g5}}var g9=g2.groupMessage;if(g0&&(g9.msg.length>0||g9.message.length>0)){var g10=g9.msg,g12=g9.message,g13=this._fillGroupMessage(g9.groupId,g9.line,g12),g14=g10.concat(g13);this._onPullGroupMessages(g14,[g9])}this.isPullingGroupMsg=!1,this._pullGroupMessages(),this.pendingGMN&&(this.pendingGMN=!1,this._pullGroupConvs(g15.default.MAX_VALUE,"",0,!1))}},{key:"_pullGroupMessages",value:function(){var g0=this;if(!this.isPullingGroupMsg){var g1=this.store.getGroupMessageHeads(),g2=[];if(g1.length>0){var g3=!0,g4=!1,g5=void 0;try{for(var g6,g7=(0,g11.default)(g1);!(g3=(g6=g7.next()).done);g3=!0){var g8=g6.value,g9=g127.create();g9.groupId=g8.target,g9.line=g8.line,g9.id=g8.head,g2.push(g9)}}catch(g0){g4=!0,g5=g0}finally{try{!g3&&g7.return&&g7.return()}finally{if(g4)throw g5}}}if(g2.length>0){this.isPullingGroupMsg=!0;var g10=g128.create();g10.request=g2,this.log("_pullGroupMessages",g10,g2),g10=g128.encode(g10).finish(),this._publish("GMP",g10,(function(g1,g2){if(g0.isPullingGroupMsg=!1,0===g1&&g2){var g3=g129.decode(g2);g0.log("_pullGroupMessages result",g3),g0._onPullGroupMessagesSuccess(g3)}}))}}}},{key:"_onPullGroupMessagesSuccess",value:function(g0){if(g0.result.length){var g1=[],g2=!0,g3=!1,g4=void 0;try{for(var g5,g6=(0,g11.default)(g0.result);!(g2=(g5=g6.next()).done);g2=!0){var g7=g5.value,g8=g7.msg,g9=g7.message,g10=this._fillGroupMessage(g7.groupId,g7.line,g9);g1=g1.concat(g8.concat(g10))}}catch(g0){g3=!0,g4=g0}finally{try{!g2&&g6.return&&g6.return()}finally{if(g3)throw g4}}this._onPullGroupMessages(g1,g0.result)}this.isPullingGroupMsg=!1,this._pullGroupMessages(),this.pendingGMN&&(this.pendingGMN=!1,this._pullGroupConvs(g15.default.MAX_VALUE,"",0,!1))}},{key:"_onPullGroupMessages",value:function(g0,g1){console.log("_onPullGroupMessages",g0,g1),this.onReceiveMessage(g0,!1,!0,g0.length>50);var g2=!0,g3=!1,g4=void 0;try{for(var g5,g6=(0,g11.default)(g1);!(g2=(g5=g6.next()).done);g2=!0){var g7=g5.value,g8=g29.default.Group+"-"+g7.line+"-"+g7.groupId,g9=this.getUserSetting(g37.default.Conversation_Sync,g8);g9&&(0,g16.gt)(g9,0),this.store.setGroupMessageHead(g7.groupId,g7.line,g7.current),this.store.setGroupMessageServerHead(g7.groupId,g7.line,g7.head)}}catch(g0){g3=!0,g4=g0}finally{try{!g2&&g6.return&&g6.return()}finally{if(g3)throw g4}}}},{key:"_parseGroupMessageFlag",value:function(g0){return{contentType:g0>>8&2047,persistFlag:g0>>4&15,mentionedType:g0>>1&7,send:(1&g0)>0}}},{key:"_messageId2Time",value:function(g0){var g1=g0.shiftRight(21);return g1=g1.add(1514736e6)}},{key:"_fillGroupMessage",value:function(g0,g1,g2){var g3=[],g4=!0,g5=!1,g6=void 0;try{for(var g7,g8=(0,g11.default)(g2);!(g4=(g7=g8.next()).done);g4=!0){var g9=g7.value,g10=g84.create(),g12=this._parseGroupMessageFlag(g9.flag);g10.messageId=g9.messageId,g10.conversation=g66.create(),g10.conversation.type=g29.default.Group,g10.conversation.target=g0,g10.conversation.line=g1,g10.content=g85.create(),g10.content.type=g12.contentType,g10.content.persistFlag=g12.persistFlag,g10.content.mentionedType=g12.mentionedType,g10.content.__notLoaded=!0,g10.content.mentionedType>0&&2!==g10.content.mentionedType&&g10.content.mentionedTarget.push(this.userId),g10.fromUser=g9.fromUser,g10.serverTimestamp=this._messageId2Time(g9.messageId),g3.push(g10)}}catch(g0){g5=!0,g6=g0}finally{try{!g4&&g8.return&&g8.return()}finally{if(g5)throw g6}}return g3}},{key:"isReceiptEnabled",value:function(){return this.isReceiptEnable}},{key:"getConversationDelivery",value:function(g0){return this.store.getConversationDelivery(g0)}},{key:"getConversationRead",value:function(g0){return this.store.getConversationRead(g0)}},{key:"setDeviceToken",value:function(g0,g1){var g2=this;if(g0>5&&g1){var g3=g121.create();g3.pushType=g0,g3.appName="wfc.wx",g3.deviceToken=g1,g3.platform=5,this._publish("UDT",g121.encode(g3).finish(),(function(g0,g1){g0||g2.log("setDeviceToken error",g0)}))}else this.error("setDeviceToken error, invalid parameters",g0,g1)}},{key:"getAuthCode",value:function(g0,g1,g2,g3,g4){var g5=AuthCodeRequest.create();g5.targetId=g0,g5.type=g1,g5.host=g2,this._publish("ATR",AuthCodeRequest.encode(g5).finish(),(function(g0,g1){if(0===g0){var g2=null;if(g1)g2=g79.decode(g1).id;g3&&g3(g2)}else g4&&g4(g0)}))}},{key:"_pullUnreadMessages",value:(g58=(0,g7.default)(g6.default.mark((function g0(){var g1,g2,g3,g4,g5;return g6.default.wrap((function(g0){for(;;)switch(g0.prev=g0.next){case 0:g1=this.getConversationList([0,1],[0]),g2=200,g3=0;case 3:if(!(g3<g1.length&&g3<g2)){g0.next=19;break}return g4=g1[g3].conversation,(g5=this.store.getConversationOldestMessage(g4))||(g5={timestamp:g15.default.MAX_VALUE,messageUid:g15.default.MAX_VALUE}),g0.next=9,this._pullConversationUnreadMessages(g4,g5);case 9:g5=g0.sent;case 10:if(!g5){g0.next=16;break}return g0.next=13,this._pullConversationUnreadMessages(g4,g5);case 13:g5=g0.sent,g0.next=10;break;case 16:g3++,g0.next=3;break;case 19:case"end":return g0.stop()}}),g0,this)}))),function(){return g58.apply(this,arguments)})},{key:"_pullConversationUnreadMessages",value:(g2=(0,g7.default)(g6.default.mark((function g0(g1,g2){var g3,g4,g7,g8,g9,g10=this;return g6.default.wrap((function(g0){for(;;)switch(g0.prev=g0.next){case 0:if(!(g3=g42.default.MAX_TO_LOAD_UNREAD_COUNT_PER_CONVERSATION)){g0.next=6;break}if(!(this.store.getConversationMessages(g1).length>g3)){g0.next=6;break}return console.log("Up to "+g3+" unread messages can be loaded.",g1),g0.abrupt("return",null);case 6:return g4=g1.type+"-"+g1.line+"-"+g1.target,g7=this.getUserSetting(g37.default.Conversation_Sync,g4),g8=this.getUserSetting(g37.default.ConversationSilent,g4),g9=new g5.default((function(g0,g3){g8&&"0"===g8.value||!g7?g0(null):(0,g16.gt)(g2.timestamp,g7.value)?g10.loadRemoteMessages(g1,[],g2.messageUid,50,(function(g3){console.log("load conversation unread msgs",g4,(0,g16.stringValue)(g2.messageUid),g3.length),g10.store.updateConversationUnreadStatus(g1,g7.value),g3.length>0?g0(g3[0]):g0(null)}),(function(g1){g0(null)}),!1):g0(null)})),g0.abrupt("return",g9);case 11:case"end":return g0.stop()}}),g0,this)}))),function(g0,g1){return g2.apply(this,arguments)})},{key:"_pullUserSettings",value:function(g0){var g1=this;if(this.log("pull user setting...",g0),!this.isPullingSetting)if(this.settingHead.compare(g15.default.ZERO)>0&&this.settingHead.compare(g0)>=0)this.connectionStatus!==g40.default.ConnectionStatusConnected&&this.onConnectionChanged(g40.default.ConnectionStatusConnected);else{this.isPullingSetting=!0;var g2=g105.create();g2.version=this.settingHead;var g3=g105.encode(g2).finish();this._publish("UG",g3,(function(g2,g3){if(g1.log("pull user setting response"),g1.isPullingSetting=!1,0===g2&&g3){var g4=g74.decode(g3),g5=g1.settingHead;g4.entry.length>0?g4.entry.forEach((function(g0){g5=(0,g16.gt)(g0.updateDt,g5)?g0.updateDt:g5})):g5=g0,g1.store.updateUserSettings(g4.entry),g1._preloadConversationTargetInfos(),g1.onSettingUpdate(g4.entry),g1.settingHead=g5,(0,g16.gt)(g0,g5)?g1._pullUserSettings(g0):g1.connectionStatus!==g40.default.ConnectionStatusConnected&&g1.onConnectionChanged(g40.default.ConnectionStatusConnected)}else g1.connectionStatus!==g40.default.ConnectionStatusConnected&&(0===g2?g1.onConnectionChanged(g40.default.ConnectionStatusConnected):g1.onConnectionChanged(g40.default.ConnectionStatusUnconnected),g1.log("pull user setting error",g2))}))}}},{key:"_preloadConversationTargetInfos",value:function(){if(!this.isConversationTargetPreloaded){this.isConversationTargetPreloaded=!0;var g0=this.store._getConversationInfos(),g1=[],g2=new g4.default;g0.forEach((function(g0){g0.conversation.type===g29.default.Single?g2.add(g0.conversation.target):g0.conversation.type===g29.default.Group&&g1.push(g0.conversation.target),g0.lastMessage&&g0.lastMessage.from&&g2.add(g0.lastMessage.from)})),g2.add(this.getUserId()),this.getGroupInfos(g1),this.getUserInfos((0,g3.default)(g2))}}},{key:"_preloadFiendsUserInfo",value:function(){if(!this.isFriendPreloaded){this.isFriendPreloaded=!0;var g0=this.store.getFriendIds();this.getUserInfos(g0)}}},{key:"_preloadFirendRequsetUserInfo",value:function(){this.isFriendRequestPreloaded}},{key:"_updateUserSetting",value:function(g0,g1,g2,g3,g4){var g5=this,g6=g89.create();g6.scope=g0,g6.key=g1,g6.value=g2+"";var g7=g89.encode(g6).finish();this._publish("UP",g7,(function(g6,g7){if(0===g6){var g8=new g41.default;g8.scope=g0,g8.key=g1,g8.value=g2,g8.updateDt=(new Date).getTime(),g5.store.updateUserSettings([g8]),g3&&g3()}else g4&&g4(g6)}))}},{key:"_pullFriends",value:function(g0){var g1=this;if(this.friendHead.compare(g0)>=0)return 0;var g2=g105.create();g2.version=this.friendHead;var g3=g105.encode(g2).finish();this._publish("FP",g3,(function(g2,g3){if(0===g2&&g3){var g4=g70.decode(g3);g1.log("fr",g4);var g5=[],g6=0;g4.entry.map((function(g0){0===g0.state&&g5.push(g0.uid),g1.store.insertFriend((0,g8.default)(new g45.default,g0)),g6=(0,g16.gt)(g0.updateDt,g6)?g0.updateDt:g6})),g1.friendHead=g6,(0,g16.gt)(g0,g1.friendHead)&&g1._pullFriends(g0),g1._preloadFiendsUserInfo(),g1.onFriendListUpdate(g5)}else g1.log("pull friend error",g2)}))}},{key:"_pullFriendRequest",value:function(g0){if(this.log("_pullFriendRequest",g0),!(this.friendRequestHead.compare(g0)>=0)){var g1=this.store.getFriendRequestMaxDt();this.loadFriendRequestFromRemote(g1)}}},{key:"disconnect",value:function(){this.onConnectionChanged(g40.default.ConnectionStatusLogout),this.reset(),this.isUserDisconnected=!0}},{key:"getProtoRevision",value:function(){return g1.version}},{key:"getUserId",value:function(){return this.userId}},{key:"getServerDeltaTime",value:function(){return parseInt(this.deltaTime)}},{key:"isLogin",value:function(){return this.token&&this.token.length>0}},{key:"getConnectionStatus",value:function(){return this.connectionStatus}},{key:"useEncryptSM4",value:function(){console.log("use encryptSM4"),(0,g17.useEncryptSM4)()}},{key:"getMyGroupList",value:function(){var g0=this.store.getFavGroups();return g0&&0!==g0.length?this.getGroupInfos(g0):[]}},{key:"_publish",value:function(g0,g1,g2){var g3=this,g4=this._encrypt(g1);if(!this.mqttClientInstance)return this.log("the connect is reset, reconnecting"),void(g2&&g2(-1));var g5=setTimeout((function(){g3.log("publish not response after "+g42.default.SEND_MESSAGE_TIMEOUT+"s, reset"),g2&&g2(-1),g3.connectionStatus=g40.default.ConnectionStatusUnconnected,g3._reconnect()}),1e3*(g42.default.SEND_MESSAGE_TIMEOUT?g42.default.SEND_MESSAGE_TIMEOUT:20));this.mqttClientInstance.publish(g0,g4,{qos:1,retain:!0,dup:!0},(function(g1,g4){if(clearTimeout(g5),g2){if(g1)return g3.log("publish error",g0,g1),g2(-1),void("Connection closed"===g1.message&&(g3.connectionStatus=g40.default.ConnectionStatusUnconnected,g3._reconnect()));if(g3.lastActiveTime=(new Date).getTime(),g3.log("publish response",g0),!g4||!g4.payload||g4.payload.length<1)return g3.log("publish response error",g4),void(g2&&g2(-1));var g6=g4.payload[0];if(0===g6||255===g6||5===g6){g3.log("publish error code ",g0,g6);var g7=null;if(g4.payload&&g4.payload.length>1){if(g7=g3._decryptPublishResponse(g4),255===g6){g3.log("publish response compressed");try{g7=g43.default.inflate(g7)}catch(g1){g3.log("decompress response error",g1)}}g2(0,g7)}else g3.log("publish response is empty"),g2(0,null)}else g3.log("publish error",g0,g6),g2(g6),g6===g44.default.kEcServerTokenIncorrect||g6===g44.default.kEcServerUserIsBlocked||g44.default.kEcServerSecrectKeyMismatch}else g3.log("publish, cb is null, drop")}))}},{key:"_reloadUserInfosFromRemote",value:function(g0){for(var g1=this,g2=function(g2){setTimeout((function(){g1._reloadUserInfosFromRemoteEx(null,null,g0.slice(2e3*g2,2e3*(g2+1)))}),1e3*g2)},g3=0;g3<g0.length/2e3;g3++)g2(g3)}},{key:"_reloadUserInfosFromRemoteEx",value:function(g0,g1,g2){var g3=this,g4=g96.create();g2.forEach((function(g0){if(g0&&!g3.store.loadingUsers.has(g0)){g3.store.loadingUsers.add(g0);var g1=g104.create();g1.uid=g0;var g2=g3.store.getUser(g0);g1.updateDt=g2?g2.updateDt:g15.default.ZERO,g4.request.push(g1)}})),g4.request.length<1||(this.log("reload userInfo from remote",g2),this._publish("UPUI",g96.encode(g4).finish(),(function(g4,g5){if(g2.forEach((function(g0){g3.store.loadingUsers.delete(g0)})),0!==g4||!g5)return g3.log("reloadUserInfoFromRemote error",g4,g2),void(g1&&g1(0!==g4?g4:-1));var g6=g97.decode(g5).result;if(g6.length>0){var g7=[];g3.log("load userInfo from remote",g6),g6.forEach((function(g0){if(0===g0.code){var g1=(0,g8.default)(new g36.default,g0.user);g42.default.urlRedirect&&(g1.portrait=g42.default.urlRedirect(g1.portrait)),g3.store.setUser(g1),g7.push(g3.store.getUser(g1.uid,""))}})),g0&&g0(g7),g7.length>0&&g3.eventEmitter.emit(g38.default.UserInfosUpdate,g7)}else g3.log("reload userInfo from remote response empty"),g1&&g1(-1)})))}},{key:"_reloadUserInfoFromRemote",value:function(g0,g1,g2,g3){var g4=this,g5=g96.create(),g6=g104.create();g6.uid=g0,g6.updateDt=g15.default.fromValue(g1),g5.request.push(g6),this.log("reload userInfo from remote",g0),this._publish("UPUI",g96.encode(g5).finish(),(function(g1,g5){if(0!==g1||!g5)return g3&&g3(0===g1?-1:g1),void g4.log("reloadUserInfoFromRemote error",g1,g0);var g6=g97.decode(g5).result;if(g6.length>0){var g7=[];g4.log("load userInfo from remote",g6),g6.forEach((function(g0){var g1=(0,g8.default)(new g36.default,g0.user);g42.default.urlRedirect&&(g1.portrait=g42.default.urlRedirect(g1.portrait)),g4.store.setUser(g1),g7.push(g4.store.getUser(g1.uid,""))})),g2&&g2(g7[0])}else g3&&g3(-1)}))}},{key:"getUserInfo",value:function(g0){var g1=arguments.length>1&&void 0!==arguments[1]&&arguments[1],g2=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",g3=this.store.getUser(g0,g2);return(g1||g3 instanceof g35.default)&&this._reloadUserInfosFromRemote([g0]),g3}},{key:"getUserInfoEx",value:function(g0,g1,g2,g3){var g4=this.store.getUser(g0);g4 instanceof g35.default||g2&&g2(g4),(g1||g4 instanceof g35.default)&&this._reloadUserInfosFromRemoteEx((function(g0){g2&&g2(g0[0])}),g3,[g0])}},{key:"getUserInfos",value:function(){var g0=this,g1=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],g2=arguments[1],g3=[],g4=[];return g1.forEach((function(g1){var g5=g0.store.getUser(g1,g2);g5 instanceof g35.default&&g4.push(g1),g3.push(g5)})),g4.length>0&&this._reloadUserInfosFromRemote(g4),g3}},{key:"getUserInfosEx",value:function(g0,g1,g2){var g3=this,g4=[],g5=[];g0.forEach((function(g0){var g1=g3.store.getUser(g0);g1 instanceof g35.default?g5.push(g0):g4.push(g1)})),g5.length>0?this._reloadUserInfosFromRemoteEx((function(g0){g4.push.apply(g4,(0,g10.default)(g0)),g1&&g1(g4)}),g2,g0):g1&&g1(g4)}},{key:"searchUser",value:function(g0,g1,g2,g3,g4){var g5=g100.create();g5.fuzzy=g1,g5.keyword=g0,g5.page=g2,this._publish("US",g100.encode(g5).finish(),(function(){var g1=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-2,g2=arguments[1];if(0===g1&&g2){if(g3){var g5=g101.decode(g2);g3(g0,g5.entry)}}else g4&&g4(g1)}))}},{key:"searchFriends",value:function(g0){return this.store.searchFriends(g0)}},{key:"searchGroups",value:function(g0){return this.store.searchGroups(g0)}},{key:"getIncommingFriendRequest",value:function(){return this.store.getIncommingFriendRequest()}},{key:"getOutgoingFriendRequest",value:function(){return this.store.getOutgoingFriendRequest()}},{key:"getOneFriendRequest",value:function(g0,g1){return this.store.getOneFriendRequest(g0,g1)}},{key:"loadFriendRequestFromRemote",value:function(g0){var g1=this,g2=g105.create();g2.version=g0,this._publish("FRP",g105.encode(g2).finish(),(function(g2,g3){if(0===g2&&g3){var g4=0,g5=g69.decode(g3);g1.log("load friend request result",g5);var g6=[];g5.entry.forEach((function(g0){var g2=new g30.default;g2.status=g0.status,g2.reason=g0.reason,g2.extra=g0.extra,g0.fromUid===g1.getUserId()?(g2.direction=0,g2.target=g0.toUid,g2.readStatus=g0.fromReadStatus?1:0):(g2.direction=1,g2.target=g0.fromUid,g2.readStatus=g0.toReadStatus?1:0,0===g2.readStatus&&g6.push(g2.target)),g2.timestamp=g0.updateDt,(0,g16.gt)(g0.updateDt,g4)&&(g4=g0.updateDt),g1.store.insertOrReplaceFriendRequest(g2)})),g1.friendRequestHead=g4,(0,g16.gt)(g0,g4)&&g1.loadFriendRequestFromRemote(g4),g1.onFriendRequestUpdate(g6)}}))}},{key:"getUnreadFriendRequestCount",value:function(){return this.store.getUnreadFriendRequestCount()}},{key:"clearUnreadFriendRequestStatus",value:function(){var g0=this.store.getUnreadFriendRequestMaxDt();if(0!==g15.default.ZERO.compare(g0)&&this.store.clearUnreadFriendRequestStatus()>0){var g1=g105.create();g1.version=g0,this._publish("FRUS",g105.encode(g1).finish(),(function(g0,g1){}))}}},{key:"deleteFriend",value:function(g0,g1,g2){var g3=this,g4=g79.create();g4.id=g0,this._publish("FDL",g79.encode(g4).finish(),(function(){var g4=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-2;0===g4?(g3.store.deleteFriend(g0),g1&&g1()):g2(g4)}))}},{key:"handleFriendRequest",value:function(g0,g1,g2,g3,g4){var g5=this,g6=g78.create();g6.status=g1?1:2,g6.targetUid=g0,g6.extra=g2,this._publish("FHR",g78.encode(g6).finish(),(function(g1,g2){0===g1?(g5.store.updateFriendRequestStatus(g0,g6.status),g3&&g3()):g4&&g4(g1)}))}},{key:"isBlackListed",value:function(g0){this.store.isBlackListed(g0)}},{key:"getBlackList",value:function(){return this.store.getBlackList()}},{key:"setBlackList",value:function(g0,g1,g2,g3){var g4=this,g5=g64.create();g5.status=g1?2:1,g5.uid=g0,this._publish("BLU",g64.encode(g5).finish(),(function(g5,g6){0===g5?(g4.store.setBlackList(g0,g1),g2&&g2()):g3&&g3()}))}},{key:"getMyFriendList",value:function(){var g0=arguments.length>0&&void 0!==arguments[0]&&arguments[0],g1=this.store.getFriendIds();return(g0||0===g1.length)&&this._getMyFriendListFromRemote(),g1}},{key:"getFriendList",value:function(){var g0=arguments.length>0&&void 0!==arguments[0]&&arguments[0],g1=this.store.getFriends();return(0===g1.length||g0)&&this._getMyFriendListFromRemote(),g1}},{key:"getFriendAlias",value:function(g0){return this.store.getFriendAlias(g0)}},{key:"getFriendExtra",value:function(g0){return this.store.getFriendExtra(g0)}},{key:"setFriendAlias",value:function(g0,g1,g2,g3){var g4=g62.create();g4.targetUid=g0,g4.reason=g1,this._publish("FALS",g62.encode(g4).finish(),(function(g0,g1){0===g0?g2():g3(g0)}))}},{key:"_getMyFriendListFromRemote",value:function(){this._pullFriends(g15.default.MAX_VALUE)}},{key:"createGroup",value:function(g0,g1,g2,g3,g4){var g5=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],g6=arguments[6],g7=arguments.length>7&&void 0!==arguments[7]?arguments[7]:[0],g8=arguments[8],g9=this,g10=arguments[9],g11=arguments[10];g0=g0||"";var g12=this.getUserId(),g13=g75.create(),g14=g76.create();g14.targetId=g0,g14.type=g1,g14.name=g2,g14.portrait=g3,g14.extra=g4||"",g13.groupInfo=g14;var g15=new g31.default;g15.target=g0,g15.type=g1,g15.name=g2,g15.portrait=g3,g15.extra=g14.extra;var g16=[];g5.includes(g12)||g5.push(g12);var g17=void 0;g5.forEach((function(g1){var g2=g77.create();g2.memberId=g1,g2.type=g33.default.Normal,(g17=new g32.default).groupId=g0,g17.memberId=g1,g17.type=g33.default.Normal,g1===g12&&(g2.type=g33.default.Owner,g17.type=g33.default.Owner),g13.members.push(g2),g16.push(g17)}));var g18=g67.create();g18.group=g13,g18.toLine=g7,g18.memberExtra=g6||"",g18.notifyContent=this._toProtoMessageContent(g8),this._publish("GC",g67.encode(g18).finish(),(function(){var g0=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-2,g1=arguments[1];if(0===g0&&g1){var g2=g9._getStringFromU8int(g1);g15.target=g2;var g3=new g28.default(g29.default.Group,g2,0);if(g9.store.genAndSaveDefaultConversationInfo(g3),g9.store.setGroupInfo(g15),g9.store.setGroupMembers(g2,g16),g8){var g4=new g21.default(g3,g8);g9.store.updateConversationLastMessage(g4)}g10&&g10(g2),g9.log("create group success",g2)}else g9.log("create group error",g0),g11&&g11(g0)}))}},{key:"setGroupManager",value:function(g0,g1,g2,g3,g4,g5,g6){var g7=this,g8=g102.create();g8.type=g1?1:0,g8.groupId=g0,g8.userId=g2,g8.toLine=g3,g8.notifyContent=this._toProtoMessageContent(g4),this._publish("GSM",g102.encode(g8).finish(),(function(g1,g2){0===g1?(g5&&g5(),g7.log("set group manager success",g0)):(g7.log("set group manager error",g1),g6&&g6(g1))}))}},{key:"_reloadGroupInfosFromRemote",value:function(){for(var g0=arguments.length,g1=Array(g0),g2=0;g2<g0;g2++)g1[g2]=arguments[g2];this._reloadGroupInfosFromRemoteEx(null,null,g1)}},{key:"_reloadGroupInfosFromRemoteEx",value:function(g0,g1,g2){var g3=this,g4=g96.create();g2.forEach((function(g1){if(g0||!g3.store.loadingGroups.has(g1)){g3.store.loadingGroups.add(g1);var g2=g104.create();g2.uid=g1;var g5=g3.store.getGroupInfo(g1);g2.updateDt=g5?g5.updateDt:g15.default.ZERO,g4.request.push(g2)}})),g4.request.length<1?g1&&g1(-1):(this.log("reload groupInfo from remote",g2),this._publish("GPGI",g96.encode(g4).finish(),(function(g4,g5){if(g2.forEach((function(g0){g3.store.loadingGroups.delete(g0)})),0!==g4||!g5)return g3.log("reloadGroupInfoFromRemote error",g4,g5,g2),void(g1&&g1(0!==g4?g4:-1));var g6=g91.decode(g5).info;if(g3.log("reload groupInfo from remote result",g6),g6.length>0){var g7=[];g6.forEach((function(g0){var g1=(0,g8.default)(new g31.default,g0);g1.target=g0.targetId,delete g1.targetId,g42.default.urlRedirect&&(g1.portrait=g42.default.urlRedirect(g1.portrait)),g3.store.setGroupInfo(g1),g7.push(g1)})),g0&&g0(g7),g3.eventEmitter.emit(g38.default.GroupInfosUpdate,g7)}})))}},{key:"_reloadGroupMembersFromRemote",value:function(g0,g1){this._reloadGroupMembersFromRemoteEx(g0,g1,null,null)}},{key:"_reloadGroupMembersFromRemoteEx",value:function(g0,g1,g2,g3){var g4=this;if(g2||!this.store.loadingGroupMembers.has(g0)){this.store.loadingGroupMembers.add(g0);var g5=g92.create();g5.target=g0,g5.head=g15.default.fromValue(g1),this._publish("GPGM",g92.encode(g5).finish(),(function(g1,g5){if(g4.store.loadingGroupMembers.delete(g0),0===g1&&g5){var g6=g93.decode(g5).member,g7=[],g8=!1;g6.forEach((function(g1){var g2=new g32.default;g2.groupId=g0,g2.alias=g1.alias,g2.extra=g1.extra,g2.type=g1.type,g2.memberId=g1.memberId,g2.updateDt=g1.updateDt,g2.createDt=g1.createDt,g7.push(g2);var g3=g4.store.getGroupMember(g0,g4.userId);g2.memberId===g4.userId&&g3&&g3.type===g33.default.Removed&&(g8=!0)})),g4.log("loadGroupMembersFromRemote",g0,g7.length),g4.store.updateGroupMembers(g0,g7),g7=g4.store.getGroupMembers(g0),g2&&g2(g7),!g8&&g7.length>0?(g4.eventEmitter.emit(g38.default.GroupMembersUpdate,g0,g7),g4.log("emit groupMembersUpdate",g0,g7)):g4.log("self deleted",g0)}else{if(g4.log("reloadGroupMembersFromRemote error",g0,g1),253===g1){var g9=new g28.default(g29.default.Group,g0,0);g4.store.removeConversation(g9,!0),console.log("remove conversation",g9)}g3&&g3(0!==g1?g1:-1)}}))}}},{key:"getGroupInfo",value:function(g0){var g1=arguments.length>1&&void 0!==arguments[1]&&arguments[1],g2=this.store.getGroupInfo(g0);return(g1||g2 instanceof g34.default)&&this._reloadGroupInfosFromRemote(g0),g2 instanceof g34.default&&this._reloadGroupMembersFromRemote(g0,this.store.getGroupMemberMaxDt(g0)),g2}},{key:"getGroupInfoEx",value:function(g0){var g1=arguments.length>1&&void 0!==arguments[1]&&arguments[1],g2=arguments[2],g3=arguments[3],g4=this.store.getGroupInfo(g0);g4 instanceof g34.default||g2&&g2(g4),(g1||g4 instanceof g34.default)&&this._reloadGroupInfosFromRemoteEx((function(g0){g2&&g2(g0[0])}),g3,[g0]),g4 instanceof g34.default&&this._reloadGroupMembersFromRemote(g0,this.store.getGroupMemberMaxDt(g0))}},{key:"getGroupInfos",value:function(){var g0=this,g1=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],g2=arguments.length>1&&void 0!==arguments[1]&&arguments[1],g3=[],g4=[];if(g1.forEach((function(g1){var g5=g0.store.getGroupInfo(g1);(g5 instanceof g34.default||g2)&&g4.push(g1),g3.push(g5)})),g4.length>0&&(this._reloadGroupInfosFromRemote.apply(this,g4),g4.length<=50)){var g5=!0,g6=!1,g7=void 0;try{for(var g8,g9=(0,g11.default)(g4);!(g5=(g8=g9.next()).done);g5=!0){var g10=g8.value;this._reloadGroupMembersFromRemote(g10,this.store.getGroupMemberMaxDt(g10))}}catch(g0){g6=!0,g7=g0}finally{try{!g5&&g9.return&&g9.return()}finally{if(g6)throw g7}}}return g3}},{key:"addGroupMembers",value:function(g0,g1,g2,g3,g4,g5,g6){var g7=this;if(!g0||!g1||0===g1.length||!g3||0===g3.length)return this.log("addGroupMembers params invalid"),void(g6&&g6(-1));var g8=g63.create();g8.groupId=g0,g1.forEach((function(g0){var g1=g77.create();g1.memberId=g0,g1.type=g33.default.Normal,g8.addedMember.push(g1)})),g8.toLine=g3,g8.extra=g2,g8.notifyContent=this._toProtoMessageContent(g4),this._publish("GAM",g63.encode(g8).finish(),(function(g2,g3){if(0===g2){var g4=[];(new Date).getTime();g1.forEach((function(g1){var g2=new g32.default;g2.groupId=g0,g2.type=g33.default.Normal,g2.memberId=g1,g2.updateDt=0,g2.createDt=0,g4.push(g2)})),g7.store.updateGroupMembers(g0,g4)}g7._generalOperationCallback(g2,g5,g6)}))}},{key:"getGroupMemberIds",value:function(g0){var g1=arguments.length>1&&void 0!==arguments[1]&&arguments[1],g2=this.store.getGroupMemberIds(g0,g1);return(0===g2.length||g1)&&this._reloadGroupMembersFromRemote(g0,this.store.getGroupMemberMaxDt(g0)),g2}},{key:"getGroupMembers",value:function(g0){var g1=arguments.length>1&&void 0!==arguments[1]&&arguments[1],g2=this.store.getGroupInfo(g0),g3=this.store.getGroupMemberMaxDt(g0);if(g2 instanceof g34.default)return this._reloadGroupInfosFromRemote(g0),this._reloadGroupMembersFromRemote(g0,g3),null;var g4=this.store.getGroupMembers(g0);return(0===g4.length||g1)&&this._reloadGroupMembersFromRemote(g0,g3),g4.sort(this._compareGroupMember)}},{key:"getGroupMembersByType",value:function(g0,g1){var g2=this.getGroupMembers(g0);return 0===g2.length&&this._reloadGroupMembersFromRemote(g0,g15.default.ZERO),g2.filter((function(g0){return g0.type===g1}))}},{key:"_compareGroupMember",value:function(g0,g1){return g0.type===g1.type?(0,g16.numberValue)(g0.updateDt)-(0,g16.numberValue)(g1.updateDt):4===g0.type?-1:4===g1.type?1:g1.type-g0.type}},{key:"getGroupMembersEx",value:function(g0){var g1=arguments.length>1&&void 0!==arguments[1]&&arguments[1],g2=arguments[2],g3=arguments[3],g4=this.store.getGroupMembers(g0),g5=this.store.getGroupMemberMaxDt(g0);0===g4.length||g1?this._reloadGroupMembersFromRemoteEx(g0,g5,g2,g3):(g2&&g2(g4.sort(this._compareGroupMember)),g1&&this._reloadGroupMembersFromRemoteEx(g0,g5))}},{key:"getGroupMember",value:function(g0,g1){if(this.store.getGroupInfo(g0)instanceof g34.default)return this._reloadGroupInfosFromRemote(g0),this._reloadGroupMembersFromRemote(g0,this.store.getGroupMemberMaxDt(g0)),null;var g2=this.store.getGroupMember(g0,g1);return g2||this._reloadGroupMembersFromRemote(g0,this.store.getGroupMemberMaxDt(g0)),g2}},{key:"kickoffGroupMembers",value:function(g0,g1,g2,g3,g4,g5){var g6=this,g7=g99.create();g7.groupId=g0,g7.removedMember=g1,g7.toLine=g2,g7.notifyContent=this._toProtoMessageContent(g3),this._publish("GKM",g99.encode(g7).finish(),(function(g2,g3){0===g2&&g6.store.removeGroupMembers(g0,g1),g6._generalOperationCallback(g2,g4,g5)}))}},{key:"muteOrAllowGroupMembers",value:function(g0,g1,g2,g3,g4,g5,g6,g7){var g8=this,g9=g102.create();g9.type=g1?1:0,g9.groupId=g0,g9.userId=g3,g9.toLine=g4,g9.notifyContent=this._toProtoMessageContent(g5),this._publish(g2?"GMAL":"GMM",g102.encode(g9).finish(),(function(g4,g5){0===g4?(g8.store.updateGroupMemberMuteOrAllow(g0,g3,g1,g2),g6&&g6(),g8.log("mute group member success",g0,g3)):(g8.log("mute group member error",g4),g7&&g7(g4))}))}},{key:"quitGroup",value:function(g0,g1,g2,g3,g4){var g5=this,g6=g98.create();g6.groupId=g0,g6.toLine=g1,g6.notifyContent=this._toProtoMessageContent(g2),this._publish("GQ",g98.encode(g6).finish(),(function(g1,g2){0===g1&&(g5.store.removeGroupAndMembers(g0),g5.store.removeGroupSettings(g0),g5.store.removeFavGroup(g0)),g5._generalOperationCallback(g1,g3,g4)}))}},{key:"dismissGroup",value:function(g0,g1,g2,g3,g4){var g5=this,g6=g68.create();g6.groupId=g0,g6.toLine=g1,g6.notifyContent=this._toProtoMessageContent(g2),this._publish("GD",g68.encode(g6).finish(),(function(g1,g2){0===g1?(g5.store.removeGroupAndMembers(g0,g5.serverConfigs.isKeepMsgAfterDismiss),g5.store.removeGroupSettings(g0),g5.store.removeFavGroup(g0),g5.serverConfigs.isKeepMsgAfterDismiss||g5.store.removeConversation(new g28.default(g29.default.Group,g0,0),!0),g3&&g3()):g4&&g4(g1)}))}},{key:"modifyGroupInfo",value:function(g0,g1,g2,g3,g4,g5,g6){var g7=this,g8=g86.create();g8.groupId=g0,g8.toLine=g3,g8.type=g1,g8.value=g2+"",g8.notifyContent=this._toProtoMessageContent(g4),this._publish("GMI",g86.encode(g8).finish(),(function(g0,g1){g7._generalOperationCallback(g0,g5,g6)}))}},{key:"modifyGroupAlias",value:function(g0,g1,g2,g3,g4,g5){var g6=this,g7=g87.create();g7.groupId=g0,g7.alias=g1,g7.toLine=g2,g7.notifyContent=this._toProtoMessageContent(g3),this._publish("GMA",g87.encode(g7).finish(),(function(g0,g1){g6._generalOperationCallback(g0,g4,g5)}))}},{key:"modifyGroupMemberAlias",value:function(g0,g1,g2,g3,g4,g5,g6){var g7=this,g8=g87.create();g8.groupId=g0,g8.memberId=g1,g8.alias=g2,g8.toLine=g3,g8.notifyContent=this._toProtoMessageContent(g4),this._publish("GMMA",g87.encode(g8).finish(),(function(g3,g4){0===g3&&g7.store.updateGroupMemberAlias(g0,g1,g2),g7._generalOperationCallback(g3,g5,g6)}))}},{key:"modifyGroupMemberExtra",value:function(g0,g1,g2,g3,g4,g5,g6){var g7=this,g8=g88.create();g8.groupId=g0,g8.memberId=g1,g8.extra=g2,g8.toLine=g3,g8.notifyContent=this._toProtoMessageContent(g4),this._publish("GMME",g88.encode(g8).finish(),(function(g3,g4){0===g3&&g7.store.updateGroupMemberExtra(g0,g1,g2),g7._generalOperationCallback(g3,g5,g6)}))}},{key:"transferGroup",value:function(g0,g1,g2,g3,g4,g5){var g6=this,g7=g103.create();g7.groupId=g0,g7.newOwner=g1,g7.toLine=g2,g7.notifyContent=this._toProtoMessageContent(g3),this._publish("GTG",g103.encode(g7).finish(),(function(g0,g1){g6._generalOperationCallback(g0,g4,g5)}))}},{key:"setGroupRemark",value:function(g0,g1,g2,g3){var g4=this;this.setUserSetting(g37.default.GroupRemark,g0,g1,(function(){g2&&g2();var g3=new g41.default;g3.scope=g37.default.GroupRemark,g3.key=g0,g3.value=g1,g3.updateDt=(new Date).getTime(),g4.store.settings.push(g3),g4.onSettingUpdate([g3])}),g3)}},{key:"getGroupRemark",value:function(g0){return this.getUserSetting(g37.default.GroupRemark,g0)}},{key:"getFavGroups",value:function(){return this.store.getFavGroups()}},{key:"isFavGroup",value:function(g0){return this.store.isFavGroup(g0)}},{key:"setFavGroup",value:function(g0,g1,g2,g3){this._updateUserSetting(g37.default.FavoriteGroup,g0,g1?"1":"0",g2,g3)}},{key:"getMyGroups",value:function(g0,g1){var g2=this;this._publish("GMGS",null,(function(g3,g4){g2._generalStringListCallback(g3,g4,g0,g1)}))}},{key:"getCommonGroups",value:function(g0,g1,g2){var g3=this,g4=g79.create();g4.id=g0,this._publish("GCGS",g79.encode(g4).finish(),(function(g0,g4){g3._generalStringListCallback(g0,g4,g1,g2)}))}},{key:"getFavUsers",value:function(){return this.store.getFavUsers()}},{key:"isFavUser",value:function(g0){return this.store.isFavUser(g0)}},{key:"setFavUser",value:function(g0,g1,g2,g3){this._updateUserSetting(g37.default.FavoriteUser,g0,g1?"1":"0",g2,g3)}},{key:"getUserSetting",value:function(g0,g1){return this.store.getUserSetting(g0,g1)}},{key:"getUserSettings",value:function(g0){return this.store.getUserSettings(g0)}},{key:"setUserSetting",value:function(g0,g1,g2,g3,g4){this._updateUserSetting(g0,g1,g2,g3,g4)}},{key:"modifyMyInfo",value:function(g0,g1,g2){var g3=this,g4=g106.create();g4.entry=g0,this._publish("MMI",g106.encode(g4).finish(),(function(g0,g4){g3._generalOperationCallback(g0,g1,g2)}))}},{key:"isGlobalSlient",value:function(){var g0=this.store.getUserSetting(g37.default.GlobalSilent,"");return!!g0&&"1"===g0.value}},{key:"setGlobalSlient",value:function(g0,g1,g2){this._updateUserSetting(g37.default.GlobalSilent,"",g0?"1":"0",(function(){g1&&g1()}),(function(g0){g2&&g2(g0)}))}},{key:"isHiddenNotificationDetail",value:function(){var g0=this.store.getUserSetting(g37.default.HiddenNotificationDetail,"");return!!g0&&"1"===g0.value}},{key:"setHiddenNotificationDetail",value:function(g0,g1,g2){this._updateUserSetting(g37.default.HiddenNotificationDetail,"",g0?"1":"0",(function(){g1&&g1()}),(function(g0){g2&&g2(g0)}))}},{key:"isHiddenGroupMemberName",value:function(g0){var g1=this.store.getUserSetting(g37.default.GroupHideNickname,g0);return!!g1&&"1"===g1.value}},{key:"setHiddenGroupMemberName",value:function(g0,g1,g2,g3){this._updateUserSetting(g37.default.GroupHideNickname,g0,g1?"1":"0",(function(){g2&&g2()}),(function(g0){g3&&g3(g0)}))}},{key:"joinChatroom",value:function(g0,g1,g2){var g3=this,g4=g79.create();g4.id=g0,this._publish("CRJ",g79.encode(g4).finish(),(function(){var g4=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-2;0===g4?(g3.chatRoomMsgHead=g15.default.ZERO,g3.currentChatRoomId=g0,g1&&g1(),g3._pullMessages(g15.default.MAX_VALUE,1,!1)):g2&&g2(g4)}))}},{key:"quitChatroom",value:function(g0,g1,g2){var g3=g79.create();g3.id=g0,this.currentChatRoomId="",this._publish("CRQ",g79.encode(g3).finish(),(function(){var g0=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-2;0===g0?g1&&g1():g2&&g2(g0)}))}},{key:"getChatroomInfo",value:function(g0,g1,g2,g3){var g4=this,g5=g110.create();g5.chatroomId=g0,g5.updateDt=g15.default.fromValue(g1),this._publish("CRI",g110.encode(g5).finish(),(function(){var g1=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-2,g5=arguments[1];if(0===g1&&g5){if(g2){var g6=g108.decode(g5);g4.log("getChatroomInfo result",g6);var g7=(0,g8.default)(new g46.default,g6);g7.chatRoomId=g0,g42.default.urlRedirect&&(g7.portrait=g42.default.urlRedirect(g7.portrait)),g2(g7)}}else g3&&g3(g1)}))}},{key:"getChatroomMemberInfo",value:function(g0,g1,g2,g3){var g4=this,g5=g111.create();g5.chatroomId=g0,g5.maxCount=g1||10,this._publish("CRMI",g111.encode(g5).finish(),(function(){var g0=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-2,g1=arguments[1];if(0===g0&&g1){if(g2){var g5=g109.decode(g1);g4.log("getChatroomMemberInfo result",g5);var g6=(0,g8.default)(new g27.default,g5);g2(g6)}}else g3&&g3(g0)}))}},{key:"createChannel",value:function(g0,g1,g2,g3,g4,g5,g6){var g7=PbChannelInfo.create();g7.name=g0,g7.portrait=g1,g7.desc=g3,g7.extra=g4,this._publish("CHC",PbChannelInfo.encode(g7).finish(),(function(){var g0=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-2;0===g0?g5&&g5():g6&&g6(g0)}))}},{key:"getChannelInfo",value:function(g0,g1){var g2=this.store.getChannelInfo(g0);return(g2 instanceof g47.default||g1)&&this._reloadChannelInfo(g0,g2.updateDt),g2}},{key:"_reloadChannelInfo",value:function(g0){var g1=this,g2=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,g3=g114.create();g3.channelId=g0,g3.head=g15.default.fromValue(g2),this._publish("CHP",g114.encode(g3).finish(),(function(){var g0=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-2,g2=arguments[1];if(0===g0&&g2){var g3=PbChannelInfo.decode(g2),g4=(0,g8.default)(new g26.default,g3);g42.default.urlRedirect&&(g4.portrait=g42.default.urlRedirect(g4.portrait)),g4.menu&&(g4.menus=g4.menu.map((function(g0){return(g0=(0,g8.default)(new g56.default,g0)).subMenu&&(g0.subMenus=g0.subMenu.map((function(g0){return(0,g8.default)(new g56.default,g0)})),delete g0.subMenu),g0})),delete g4.menu),g4.channelId=g3.targetId,delete g4.targetId,g1.store.setChannelInfo(g4),g1.eventEmitter.emit(g38.default.ChannelInfosUpdate,[g4])}}))}},{key:"modifyChannelInfo",value:function(g0,g1,g2,g3,g4){var g5=this,g6=g112.create();g6.channelId=g0,g6.type=g1,g6.value=g2,this._publish("CHMI",g112.encode(g6).finish(),(function(){var g1=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-2;0===g1?(g5._reloadChannelInfo(g0),g3&&g3()):g4&&g4(g1)}))}},{key:"searchChannel",value:function(g0,g1,g2,g3){var g4=g100.create();g4.keyword=g0,g4.fuzzy=g1,g4.page=0,this._publish("CHS",g100.encode(g4).finish(),(function(){var g1=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-2,g4=arguments[1];if(0===g1&&g4){if(g2){var g5=g115.decode(g4);g2(g0,g5.entry)}}else g3&&g3(g1)}))}},{key:"isListenedChannel",value:function(g0){var g1=this.store.getUserSetting(g37.default.Listened_Channel,g0);return g1&&"1"===g1.value}},{key:"listenChannel",value:function(g0,g1,g2,g3){var g4=g113.create();g4.channelId=g0,g4.listen=g1,this._publish("CHL",g113.encode(g4).finish(),(function(){var g0=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-2;0===g0?g2&&g2():g3&&g3(g0)}))}},{key:"getMyChannels",value:function(){return this.store.getUserSettings(g37.default.My_Channel).filter((function(g0){return"1"===g0.value})).map((function(g0){return g0.key}))}},{key:"getListenedChannels",value:function(){return this.store.getUserSettings(g37.default.Listened_Channel).filter((function(g0){return"1"===g0.value})).map((function(g0){return g0.key}))}},{key:"getRemoteListenedChannels",value:function(g0,g1){var g2=this;this._publish("CHLL","",(function(){var g3=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-2,g4=arguments[1];g2._generalStringListCallback(g3,g4,g0,g1)}))}},{key:"destroyChannel",value:function(g0,g1,g2){var g3=g79.create();g3.id=g0,this._publish("CHD",g113.encode(g3).finish(),(function(){var g0=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-2;0===g0?g1&&g1():g2&&g2(g0)}))}},{key:"getConversationList",value:function(g0,g1){return this.store.getConversationList(g0,g1)}},{key:"getConversationInfo",value:function(g0){var g1=this.store.getConversationInfo(g0);return g1||((g1=new g48.default).conversation=g0),g1}},{key:"searchConversation",value:function(g0){var g1=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,1,2],g2=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[0,1];return this.store.searchConversation(g0,g1,g2)}},{key:"removeConversation",value:function(g0,g1){var g2=this.getConversationInfo(g0);if(g2){this.store.removeConversation(g0,g1);var g3=(new Date).getTime();(!g2.timestamp||(0,g16.gt)(g2.timestamp,g3+72e5)||(0,g16.lte)(g2.timestamp,g3-12e4))&&(g2.timestamp=g15.default.fromValue(g3)),this._syncConversationReadDt(g0,g2.timestamp.neg())}}},{key:"setConversationTop",value:function(g0,g1,g2,g3){var g4=this,g5=g37.default.ConversationTop,g6=g0.type+"-"+g0.line+"-"+g0.target,g7=(g1>0?g1:0)+"";this._updateUserSetting(g5,g6,g7,(function(){var g3=g4.getConversationInfo(g0);g4.eventEmitter.emit(g38.default.ConversationInfoUpdate,g3),g4.store.setConversationTop(g0,g1),g2&&g2()}),(function(g0){g3&&g3(g0)}))}},{key:"setConversationSlient",value:function(g0,g1,g2,g3){var g4=this,g5=g37.default.ConversationSilent,g6=g0.type+"-"+g0.line+"-"+g0.target,g7=g1?"1":"0";this._updateUserSetting(g5,g6,g7,(function(){g4.store.setConversationSilent(g0,g1),g2&&g2();var g3=g4.getConversationInfo(g0);g4.eventEmitter.emit(g38.default.ConversationInfoUpdate,g3)}),(function(g0){g3&&g3(g0)}))}},{key:"setConversationDraft",value:function(g0){var g1=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",g2=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(g0){g1=g1||"";var g3=this.getConversationInfo(g0);g3.draft!==g1&&(this.store.setConversationDraft(g0,g1),this.eventEmitter.emit(g38.default.ConversationInfoUpdate,g3),!g2||this.isGlobalDisableDraftSync||this.isDisableSyncDraft()||this._syncDraft(g0,g1))}}},{key:"_syncDraft",value:function(g0,g1){var g2=g0.type+"-"+g0.line+"-"+g0.target,g3=this.getUserSetting(g37.default.DisableSyncDraft,g2);if(!(!!g3&&"1"===g3.value)){var g4=this.clientId+"@@@"+g1;this._updateUserSetting(g37.default.ConversationDraft,g2,g4)}}},{key:"setConversationTimestamp",value:function(g0,g1){var g2=this.store.getConversationInfo(g0);g2||(g2=this.store.genAndSaveDefaultConversationInfo(g0));var g3=(new Date).getTime();(0,g16.gt)(g1,g3+72e5)&&(g1=g3),g2.timestamp=g15.default.fromValue(g1),this.eventEmitter.emit(g38.default.ConversationInfoUpdate,g2)}},{key:"getUnreadCount",value:function(){var g0=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],g1=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0];return this.store.getUnreadCount(g0,g1)}},{key:"getConversationUnreadCount",value:function(g0){return this.store.getConversationUnreadCount(g0)}},{key:"sendConferenceRequest",value:function(g0,g1,g2,g3,g4,g5){var g6=ConferenceRequest.create();g6.sessionId=g0,g6.roomId=g1,g6.request=g2,g6.advance=g4?1:0,g6.data=g3,this._publish("CONF",ConferenceRequest.encode(g6).finish(),(function(){var g0=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-2,g1=arguments[1];if(0===g0){var g2=null;if(g1){var g3=g79.decode(g1);g2=g3.id}g5&&g5(0,g2)}else g5&&g5(g0)}))}},{key:"clearConversationUnreadStatus",value:function(g0){var g1=[];if(this.isReceiptEnable&&this.isUserReceiptEnabled()&&(g1=this.store.getUnreadMsgSenders(g0)),this.store.clearConversationUnreadStatus(g0)>0){var g2=this.getConversationInfo(g0);this.eventEmitter.emit(g38.default.ConversationInfoUpdate,g2);var g3=this.store.getConversationReadMaxDt(g0);g3.compare(g15.default.ZERO)>0&&this._syncConversationReadDt(g0,g3,g1)}}},{key:"clearMessageUnreadStatus",value:function(g0){if(this.store.clearMessageUnreadStatus(g0)){var g1=this.getConversationInfo(this.getMessageById(g0).conversation);this.eventEmitter.emit(g38.default.ConversationInfoUpdate,g1)}}},{key:"_syncConversationReadDt",value:function(g0,g1,g2,g3){var g4=this;if(g15.default.isLong(g1)){var g5=g0.type+"-"+g0.line+"-"+g0.target,g6=g89.create();g6.scope=g37.default.Conversation_Sync,g6.key=g5,g6.value=g1.toString(),g6.target=g2;var g7=g89.encode(g6).finish();g3||(g3=this.store.saveSyncReadEntry(g0.type,g0.target,g0.line,g1,g2)),this._publish("UP",g7,(function(g0,g2){if(0===g0){var g6=new g41.default;g6.scope=g37.default.Conversation_Sync,g6.key=g5,g6.value=g1.toString(),g6.updateDt=(new Date).getTime(),g4.store.updateUserSettings([g6]),g4.store.deleteSyncReadEntry(g3),g4._syncRead()}else g4.log("syncConversationReadDt error",g0)}))}else this.log("_syncConversationReadDt invalid dt",g1)}},{key:"_syncRead",value:function(){var g0=this.store.loadSyncReadEntry();if(g0){var g1=new g28.default(g0.type,g0.target,g0.line);this._syncConversationReadDt(g1,g0.readDt,g0.senders,g0.id)}}},{key:"clearAllUnreadStatus",value:function(){this.store.clearAllUnreadStatus()}},{key:"setMediaMessagePlayed",value:function(g0){if(this.store.setMediaMessagePlayed(g0)>0){var g1=this.store.getMessageById(g0);this.eventEmitter.emit(g38.default.MessageStatusUpdate,g1)}}},{key:"isMyFriend",value:function(g0){return this.store.isMyFriend(g0)}},{key:"sendFriendRequest",value:function(g0,g1,g2,g3,g4){var g5=g62.create();g5.targetUid=g0,g5.reason=g1,g5.extra=g2,this._publish("FAR",g62.encode(g5).finish(),(function(g0,g1){0===g0?g3&&g3():g4&&g4(g0)}))}},{key:"getMessages",value:function(g0,g1){var g2=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],g3=arguments.length>3&&void 0!==arguments[3]?arguments[3]:20,g4=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"";return this.store.getConversationMessages(g0,g1,g2,g3,g4)}},{key:"getMessagesV2",value:function(g0,g1){var g2=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],g3=arguments.length>3&&void 0!==arguments[3]?arguments[3]:20,g4=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",g5=arguments[5],g6=arguments[6],g7=this.store.getConversationMessages(g0,g1,g2,g3,g4);this._callbackOrLoadFromRemoteMessages(g7,g5,g6)}},{key:"getMessagesEx",value:function(g0,g1,g2,g3,g4,g5,g6){return this.store.getMessagesEx(g0,g1,g2,g6)}},{key:"getMessagesExV2",value:function(g0,g1,g2,g3,g4,g5,g6,g7,g8){var g9=this.store.getMessagesEx(g0,g1,g2,g6);this._callbackOrLoadFromRemoteMessages(g9,g7,g8)}},{key:"getMessagesEx2",value:function(g0,g1,g2,g3,g4,g5,g6){return this.store.getMessagesEx2(g0,g1,g2,g6)}},{key:"getMessagesEx2V2",value:function(g0,g1,g2,g3,g4,g5,g6,g7,g8){var g9=this.store.getMessagesEx2(g0,g1,g2,g6);this._callbackOrLoadFromRemoteMessages(g9,g7,g8)}},{key:"getUserMessages",value:function(g0,g1,g2){var g3=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],g4=arguments.length>4&&void 0!==arguments[4]?arguments[4]:20,g5=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",g6=this.store.getConversationMessages(g1,g2,g3,g4,g5);return g6.filter((function(g1){return g1.from===g0}))}},{key:"getUserMessagesV2",value:function(g0,g1,g2){var g3=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],g4=arguments.length>4&&void 0!==arguments[4]?arguments[4]:20,g5=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",g6=arguments[6],g7=arguments[7],g8=this.store.getConversationMessages(g1,g2,g3,g4,g5);g8=g8.filter((function(g1){return g1.from===g0})),this._callbackOrLoadFromRemoteMessages(g8,g6,g7)}},{key:"getFirstUnreadMessageId",value:function(g0){return this.store.getFirstUnreadMessageId(g0)}},{key:"getUserMessagesEx",value:function(g0,g1,g2,g3){var g4=arguments.length>6&&void 0!==arguments[6]?arguments[6]:[],g5=this.store.getMessagesEx(g1,g2,g4,"");return g5.filter((function(g1){return g1.from===g0}))}},{key:"getUserMessagesExV2",value:function(g0,g1,g2,g3){var g4=arguments.length>6&&void 0!==arguments[6]?arguments[6]:[],g5=arguments[7],g6=arguments[8],g7=this.store.getMessagesEx(g1,g2,g4,"");g7=g7.filter((function(g1){return g1.from===g0})),this._callbackOrLoadFromRemoteMessages(g7,g5,g6)}},{key:"getFirstUnreadMessageUid",value:function(g0){return this.store.getFirstUnreadMessage(g0)}},{key:"_convertAndSaveProtoMessage",value:function(g0,g1){var g2=g21.default.fromProtoMessage(g0);if(g2){var g3=g19.default.getMessageContentPersitFlag(g2.content.type);if(g1){if(81===g2.type){var g4=this.store.getMessageByUid(g15.default.fromValue(g2.content.binaryContent));g4&&g4.messageId>0&&(this.store.deleteMessageByUid(g15.default.from(g2.content.binaryContent)),this.onRemoteMessageDeleted(g4.messageUid))}80===g2.type&&this.onRecallMessage(g2.content.operatorId,g2.content.messageUid),g3===g25.default.Persist||g3===g25.default.Persist_And_Count?(g2.conversation.type===g29.default.ChatRoom?g2.messageId=this.store.genChatRoomMessageId():g2.messageId=this.store.genNormalMessageId(),this.store.saveMessage(g2)):g2.messageId=0}else-1===g3&&1==(1&g0.content.persistFlag)&&(g3=1),g2.messageId=1==(1&g3)&&g3>0?-1:0}return g2}},{key:"_loadRemoteMessagePublishCallback",value:function(){var g0=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2,g2=arguments[1],g3=arguments[2],g4=arguments[3],g5=arguments[4],g6=arguments[5],g7=arguments[6],g8=arguments[7],g9=this,g10=arguments[8],g11=arguments.length>9&&void 0!==arguments[9]?arguments[9]:0;if(this.log("loadRemoteMessages result",g0,g3,g4),0===g0&&g2){var g12=g95.decode(g2);this.log("loadRemoteMessages result data",g12);var g13=[];if(g12&&g12.message){if(g12.message.forEach((function(g0){if(!(g1.pcNotSupportMessageTypes.indexOf(g0.content.type)>-1)){var g2=g9.store.getMessageByUid(g0.messageId),g4=g9._convertAndSaveProtoMessage(g0,g3);g4&&(g4.messageContent.type===g22.default.VOIP_CONTENT_TYPE_ACCEPT&&g8&&g4.messageContent.type===g22.default.VOIP_CONTENT_TYPE_END&&g10||g2&&g7||g13.push(g2||g4),[g22.default.VOIP_CONTENT_TYPE_START,g22.default.VOIP_CONTENT_TYPE_ACCEPT,g22.default.VOIP_CONTENT_TYPE_END].indexOf(g4.messageContent.type)>=0&&g9.updateCallStartMessage(g4))}})),g4&&g13.length>0)for(var g14=0;g14<g13.length;g14++){var g15=g13[g14],g17=g19.default.getMessageContentPersitFlag(g15.messageContent.type);if(g17===g25.default.Persist||g17===g25.default.Persist_And_Count){var g18=g15.conversation,g20=this.store.getConversationInfo(g18);g20||(g20=this.store.genAndSaveDefaultConversationInfo(g18)),g20.lastMessage&&g20.lastMessage.timestamp&&!(0,g16.gt)(g15.timestamp,g20.lastMessage.timestamp)||(g20.lastMessage=g15,g20.timestamp=g15.timestamp,this.eventEmitter.emit(g38.default.ConversationInfoUpdate,g20));break}}g5&&g5(g13=g13.reverse(),g11>0?g12.message.length>g11:g12.message.length>0)}else g6&&g6(-1)}else g6&&g6(g0)}},{key:"loadRemoteLineMessages",value:function(g0,g1){var g2=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,g3=arguments.length>3&&void 0!==arguments[3]?arguments[3]:20,g4=this,g5=arguments[4],g6=arguments[5],g7=g15.default.fromValue(g2);g7.eq(g15.default.ZERO)&&(g7=g15.default.MAX_VALUE);var g8=g83.create();g8.line=g0,g8.count=g3,g8.beforeUid=g7,g1||(g1=[]);var g9=!0,g10=!0;g1.indexOf(g22.default.VOIP_CONTENT_TYPE_START)&&(g1.indexOf(g22.default.VOIP_CONTENT_TYPE_END)?g9=!1:g1.push(g22.default.VOIP_CONTENT_TYPE_END),g1.indexOf(g22.default.VOIP_CONTENT_TYPE_ACCEPT)?g10=!1:g1.push(g22.default.VOIP_CONTENT_TYPE_ACCEPT)),g8.contentType=g1,this._publish("LLM",g83.encode(g8).finish(),(function(){var g0=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-2,g1=arguments[1];g4._loadRemoteMessagePublishCallback(g0,g1,!1,!1,g5,g6,!1,g9,g10,g3)}))}},{key:"loadRemoteMessages",value:function(g0,g1){var g2=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,g3=arguments.length>3&&void 0!==arguments[3]?arguments[3]:20,g4=arguments[4],g5=this,g6=arguments[5],g7=!(arguments.length>6&&void 0!==arguments[6])||arguments[6],g8=g15.default.fromValue(g2);g8.eq(g15.default.ZERO)&&(g8=g15.default.MAX_VALUE);var g9=this.store.getConversationInfo(g0);if(g9&&g9.lastMessage&&g9.lastMessage.messageUid&&g8.neq(g15.default.MAX_VALUE)&&g15.default.fromValue(g9.lastMessage.messageUid).compare(g8)<0)return this.log("the start message is exits",g9.lastMessage.toString(),g8.toString()),void(g6&&g6(-2));var g10=g82.create();g10.conversation=this._toProtoConversation(g0),g1||(g1=[]);var g11=!0,g12=!0;g1.indexOf(g22.default.VOIP_CONTENT_TYPE_START)&&(g1.indexOf(g22.default.VOIP_CONTENT_TYPE_END)?g11=!1:g1.push(g22.default.VOIP_CONTENT_TYPE_END),g1.indexOf(g22.default.VOIP_CONTENT_TYPE_ACCEPT)?g12=!1:g1.push(g22.default.VOIP_CONTENT_TYPE_ACCEPT)),g10.contentType=g1,g10.beforeUid=g8,g10.count=g3,this.log("loadRemoteMessages request",g0,g8.toString(),g10),this._publish("LRM",g82.encode(g10).finish(),(function(){var g0=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-2,g2=arguments[1];g5._loadRemoteMessagePublishCallback(g0,g2,0===g1.length,0===g1.length,g4,g6,g7,g11,g12,g3)}))}},{key:"loadRemoteMessage",value:function(g0,g1,g2){var g3=this;if(g0){var g4=g81.create();g4.id=g15.default.fromValue(g0),this._publish("LROM",g81.encode(g4).finish(),(function(){var g0=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-2,g4=arguments[1];g3._loadRemoteMessagePublishCallback(g0,g4,!1,!1,g1,g2)}))}else g2&&g2(-1)}},{key:"getMessageById",value:function(g0){return this.store.getMessageById(g0)}},{key:"getMessageByUid",value:function(g0){return this.store.getMessageByUid(g0)}},{key:"searchMessage",value:function(g0,g1,g2){return this.store.searchConversationMessage(g0,g1,g2)}},{key:"sendConversationMessage",value:function(g0,g1,g2,g3,g4,g5,g6){var g7=new g21.default;g0 instanceof g28.default?g7.conversation=g0:g7.conversation=new g28.default(g0.type,g0.target,g0.line),g7.messageContent=g1,this.sendMessageEx(g7,g2,g3,g4,g5,g6)}},{key:"sendSavedMessage",value:function(g0,g1,g2,g3){var g4=g0.messageId;if(!(g0=this.store.getMessageById(g4)))return this.error("saved message not found",g4),void(g3&&g3(-1));this._sendMessageInternal(g0,[],g2,g3)}},{key:"sendMessage",value:function(g0,g1,g2,g3,g4){this.sendMessageEx(g0,[],g1,g2,g3,g4)}},{key:"sendMessageEx",value:function(g0){var g1=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],g2=arguments[2],g3=arguments[3],g4=this,g5=arguments[4],g6=arguments[5],g7=void 0,g8=g15.default.fromValue((new Date).getTime()+this.getServerDeltaTime());g0.status=g23.default.Sending,g0.from=this.userId,g0.timestamp=g8,g0.content=g0.messageContent.encode();var g9=g19.default.getMessageContentPersitFlag(g0.messageContent.type);g9===g25.default.No_Persist||g9===g25.default.Transparent?(g7=0,g0.messageId=g7):(g7=g0.conversation.type===g29.default.ChatRoom?this.store.genChatRoomMessageId():this.store.genNormalMessageId(),g0.messageId=g7,this.store.saveMessage(g0),this.log("message prepared",g7,g8,g0),this.store.updateConversationLastMessage(g0)),this.eventEmitter.emit(g38.default.SendMessage,g0),g2&&(this.log("onPrepared",this.getMessageById(g7)),g2(g7,g8)),g0.messageContent instanceof g20.default?!g0.messageContent.file&&!g0.messageContent.localPath||g0.messageContent.remotePath?""!==g0.messageContent.remotePath||g0.messageContent instanceof g57.default?this._sendMessageInternal(g0,g1,g5,g6):(this.log("send media message error, filelocalPath and remoteUrl are null"),g0.status=g23.default.SendFailure,this.store.updateMessageById(g0),this.store.updateConversationLastMessage(g0),this.eventEmitter.emit(g38.default.MessageStatusUpdate,g0),g6&&g6(-1)):this.isSupportBigFilesUpload()?this._uploadFile(g0,g0.messageContent.file||g0.messageContent.localPath,g0.messageContent.name,g0.messageContent.mediaType,(function(g2){g0.messageContent.remotePath=g2,g4.log("remote Url",g2),g4.eventEmitter.emit(g38.default.MessageStatusUpdate,g0),g4._sendMessageInternal(g0,g1,g5,g6)}),(function(g1){g0.status=g23.default.SendFailure,g4.store.updateMessageById(g0),g4.store.updateConversationLastMessage(g0),g4.eventEmitter.emit(g38.default.MessageStatusUpdate,g0),g6&&g6(g1)}),(function(g0,g1){g3&&g3(g0,g1)})):this._uploadMedia(g0.messageId,g0.messageContent.name,g0.messageContent.file||g0.messageContent.localPath,g0.messageContent.mediaType,(function(g2){g0.messageContent.remotePath=g2,g4.log("remote Url",g2),g4.eventEmitter.emit(g38.default.MessageStatusUpdate,g0),g4._sendMessageInternal(g0,g1,g5,g6)}),(function(g1){g0.status=g23.default.SendFailure,g4.store.updateMessageById(g0),g4.store.updateConversationLastMessage(g0),g4.eventEmitter.emit(g38.default.MessageStatusUpdate,g0),g6&&g6(g1)}),(function(g0,g1){g3&&g3(g0,g1)})):this._sendMessageInternal(g0,g1,g5,g6)}},{key:"_sendMessageInternal",value:function(g0){var g1=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],g2=this,g3=arguments[2],g4=arguments[3],g5=this._toProtoMessage(g0);g5.to=g1,this.log("_sendMessageInternal",this.connectionStatus);var g6=g84.encode(g5).finish();if(g6.byteLength>15360&&this.log(": "+g6.byteLength+"15K15K!!!"),g6.byteLength>102400)return this.error("!"),void(g4&&g4(-1));this._publish("MS",g6,(function(){var g1=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-2,g5=arguments[1];if(g2.log("_sendMessageInternal result",g1),0!==g1||!g5)return g2.log("send message error",g1),g0.status=g23.default.SendFailure,g2.store.updateMessageById(g0),g2.store.updateConversationLastMessage(g0),g2.eventEmitter.emit(g38.default.MessageStatusUpdate,g0),void(g4&&g4(g1));var g6=new g15.default(0),g7=new g15.default(0);16===g5.length?(g6=g15.default.fromBytesBE(g5.slice(0,8),!0),g7=g15.default.fromBytesBE(g5.slice(8,16),!0),g0.messageUid=g6,g0.timestamp=g7,g0.status=g23.default.Sent,g0.direction=0,g0.from=g2.userId,g2.store.updateMessageById(g0),g2.store.updateConversationLastMessage(g0),g2.eventEmitter.emit(g38.default.MessageStatusUpdate,g0),g3&&g3(g6,g7)):(g0.status=g23.default.SendFailure,g2.store.updateMessageById(g0),g2.store.updateConversationLastMessage(g0),g2.log("ms reponse length error"),g2.eventEmitter.emit(g38.default.MessageStatusUpdate,g0),g4&&g4(-100001))}))}},{key:"cancelSendingMessage",value:function(g0){if(g0<=0)return!1;var g1=this.uploadingMap.get(g0);if(g1){try{g1.abort()}catch(g0){this.log(g0)}return!0}return!1}},{key:"recallMessage",value:function(g0,g1,g2){var g3=this,g4=g81.create();g4.id=g15.default.fromValue(g0),this._publish("MR",g81.encode(g4).finish(),(function(g4,g5){0===g4?(g1&&g1(),g3.onRecallMessage(g3.getUserId(),g0)):g2&&g2(g4)}))}},{key:"deleteMessageById",value:function(g0){var g1=this.store.deleteMessageById(g0);return g1&&this.onMessageDeleted(g0),g1}},{key:"deleteRemoteMessage",value:function(g0,g1,g2){var g3=this,g4=g81.create();g4.id=g15.default.fromValue(g0),this._publish("MD",g81.encode(g4).finish(),(function(g4,g5){0===g4?(g1&&g1(),g3.onRemoteMessageDeleted(g0)):g2&&g2(g4)}))}},{key:"clearMessages",value:function(g0,g1){void 0===g1&&(g1=g15.default.MAX_VALUE),this.store.clearConversationMessages(g0,g1);var g2=this.getConversationInfo(g0);this.eventEmitter.emit(g38.default.ConversationInfoUpdate,g2)}},{key:"clearRemoteConversationMessages",value:function(g0,g1,g2){var g3=this,g4=this._toProtoConversation(g0);this._publish("CMD",g66.encode(g4).finish(),(function(g4,g5){0===g4?(g3.clearMessages(g0),g1&&g1()):g2&&g2(0===g4?-1:g4)}))}},{key:"insertMessage",value:function(g0,g1){var g2=arguments.length>2&&void 0!==arguments[2]?arguments[2]:g23.default.Sent,g3=arguments.length>3&&void 0!==arguments[3]&&arguments[3],g4=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,g5=new g21.default(g0,g1);if(g5.status=g2,g5.direction=0,g2>=g23.default.Mentioned?(g5.direction=1,g0.type===g29.default.Single?g5.from=g0.target:g5.from=this.userId):g5.from=this.userId,g5.timestamp=g15.default.fromValue(g4||(new Date).getTime()),g0.type===g29.default.ChatRoom)g5.messageId=this.store.genChatRoomMessageId();else g5.messageId=this.store.genNormalMessageId();return this.store.insertConversationMessages([g5]),g3&&this.eventEmitter.emit(g38.default.ReceiveMessage,g5),g5}},{key:"isUserReceiptEnabled",value:function(){return"1"!==this.getUserSetting(g37.default.DisableReceipt,"")}},{key:"isGlobalDisableSyncDraft",value:function(){return this.isGlobalDisableDraftSync}},{key:"setDisableSyncDraft",value:function(g0,g1,g2){this._updateUserSetting(g37.default.DisableSyncDraft,"",g0?"1":"0",g1,g2)}},{key:"isDisableSyncDraft",value:function(){return"1"!==this.getUserSetting(g37.default.DisableSyncDraft,"")}},{key:"setUserEnableReceipt",value:function(g0,g1,g2){this._updateUserSetting(g37.default.DisableReceipt,"",g0?"0":"1",g1,g2)}},{key:"updateMessageStatus",value:function(g0,g1){var g2=this.store.getMessageById(g0);0!==g2.messageId&&(g2.status=g1,this.store.updateMessageById(g2))}},{key:"updateMessageContent",value:function(g0,g1){var g2=this.store.getMessageById(g0);0!==g2.messageId&&(g2.messageContent=g1,this.store.updateMessageById(g2))}},{key:"updateMessageContentByUid",value:function(g0,g1){var g2=this.store.getMessageByUid(g0);g2&&0!==g2.messageId&&(g2.messageContent=g1,this.store.updateMessageById(g2))}},{key:"updateRemoteMessageContent",value:function(g0,g1,g2,g3,g4,g5){var g6=this,g7=g133.create();g7.messageId=g15.default.fromValue(g0),g7.content=this._toProtoMessageContent(g1),g7.distribute=g2,this._publish("MCU",g133.encode(g7).finish(),(function(g2,g7){0===g2?(g3&&g6.updateMessageContentByUid(g0,g1),g4&&g4()):g5&&g5(g2)}))}},{key:"_uploadXMLHttpRequest",value:function(g0,g1,g2,g3,g4,g5){var g6=this,g7=new XMLHttpRequest;return g7.upload.onprogress=function(g0){var g1=g0.loaded,g2=g0.total;g3(g1,g2)},g7.onreadystatechange=function(g3){g6.log("onr",g7.readyState,g7.status,g3),4===g7.readyState&&(200===g7.status?(g6.log("upload file success",g1,g2),g4(g2)):(g6.log("upload file error",g7.status),g5&&g5(-1)),g0&&g0.messageId>0&&g6.uploadingMap.delete(g0.messageId))},g7.onerror=function(g1){g6.log("upload file error",g1),g5&&g5(-1),g0&&g0.messageId>0&&g6.uploadingMap.delete(g0.messageId)},g0&&g0.messageId>0&&this.uploadingMap.set(g0.messageId,g7),g7}},{key:"_uploadFile",value:function(g0,g1,g2,g3,g4,g5,g6){var g7=this;console.log("upload big file");var g8=void 0,g9=(Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15)).substring(0,12);(g2&&""!==g2?(g8=g2,g2=g9):g8=g2=g9,-1!==g8.indexOf("."))&&(g2+=g8.substring(g8.lastIndexOf(".")));if(-1===g2.indexOf("."))switch(g3){case 1:case 5:g2+=".jpg";break;case 2:g2+=".mp3";break;case 3:g2+=".mp4"}this.log("upload fileName",g8,g2,g3);var g10=this._getContentType(g3,g8);this.getUploadMediaUrl(g2,g3,g10,(function(g2,g3,g9,g11,g12){console.log("uploadUrl",g2,g3,g9,g11);var g13=g7._platformOptions(g7.platformName).mp,g14=void 0;if(0===g11);else if(1===g11){var g15=g2.split("?"),g16=g15[0],g17=g15[1],g18=g15[2],g19={"content-disposition":'attachment; filename="'+encodeURI(g8)+'"',"content-type":g10};g14=g13.uploadFile({url:g16,filePath:g1,name:"file",formData:{token:g17,key:g18,file:g1},header:g19,success:function(g1){g0&&g0.messageId>0&&g135.uploadingMap.delete(g0.messageId),g4&&g4(g3)},fail:function(){g0&&g0.messageId>0&&g135.uploadingMap.delete(g0.messageId),g5(-1)}})}else{var g20={"content-disposition":'attachment; filename="'+encodeURI(g8)+'"',"content-type":g10},g21=g9.split("|");g2.startsWith("http")||(g2="https://"+g2),g14=g13.uploadFile({url:g2,filePath:g1,name:"file",formData:{key:g12,policy:g21[1],OSSAccessKeyId:g21[0],signature:g21[2]},header:g20,success:function(g1){g0&&g0.messageId>0&&g135.uploadingMap.delete(g0.messageId),g4&&g4(g3)},fail:function(){g0&&g0.messageId>0&&g135.uploadingMap.delete(g0.messageId),g5(-1)}})}g0&&g0.messageId>0&&g7.uploadingMap.set(g0.messageId,g14),g14.onProgressUpdate((function(g0){g6&&g6(g0.totalBytesSent,g0.totalBytesExpectedToSend)}))}),(function(g0){g7.log("getUploadMediaUrl e",g0)}))}},{key:"uploadMedia",value:function(g0,g1,g2,g3,g4,g5){this.isSupportBigFilesUpload()?this._uploadFile(null,g1,g0,g2,g5,g3,g4):this._uploadMedia(0,g0,g1,g2,g3,g4,g5)}},{key:"_uploadMedia",value:function(g1,g2,g3,g4,g5,g6,g7){var g8=this,g9=void 0,g10=(Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15)).substring(0,12);if(g2&&""!==g2?(g9=encodeURIComponent(g2),g2=g10):g9=g2=g10,-1===g2.indexOf("."))switch(g4){case 1:case 5:g2+=".jpg";break;case 2:g2+=".mp3";break;case 3:g2+=".mp4"}this.log("upload fileName",g2,g4);var g11=g2.substring(g2.lastIndexOf("."));-1===g9.indexOf(".")&&(g9+=g11);var g12=(0,g51.btoa)(this.userId)+"-"+g4+"-"+Math.round((new Date).valueOf()/1e3)+"-"+g2,g13=this._getContentType(g4,g9),g14=g73.create();g14.mediaType=g4,g14.mediaPath=g12,g14.contentType=g13,this._publish("GMUT",g73.encode(g14).finish(),(function(g4,g10){if(g8.log("get upload token",g4,g10),0===g4){var g11=g71.decode(g10);g8.log("getUploadToken result",g11);var g14=void 0;if(0===g11.type||4===g11.type)g14="/fs";else if(3===g11.type){var g15=g11.path+"/"+g12;g14="/fs/"+(g15=(0,g17.AESEncrypt)(g15))}else 2===g11.type&&(g12=encodeURI(g12)),g14="/"+g12;g8.log("upload media cgi",g14,g11);var g16=void 0,g18=void 0,g19=void 0;2===g8.backupAddressStrategy&&g11.backupServer?(g16=g11.backupServer,g19=443===(g19=g11.backupSslPort)?"":":"+g19,g18=80===(g18=g11.backupPort)?"":":"+g18):(g16=g11.server,g19="",g11.sslPort&&443!==g11.sslPort&&(g19=":"+g11.sslPort),g18=80!==g11.port?":"+g11.port:"");var g20=void 0;g20=g42.default.USE_WSS?"https://"+g16+g19+g14:"http://"+g16+g18+g14,g8.log("media server",g20);var g21=g8._platformOptions(g8.platformName).mp;if(g11.type<2){var g22=null;0!==g11.type&&(g22={"content-disposition":'attachment; filename="'+encodeURI(g9)+'"',"content-type":g13});var g23=g21.uploadFile({url:g20,filePath:g3,name:"file",formData:{token:g11.token,key:g2},header:g22,success:function(g0){g135.uploadingMap.delete(g1);var g2=g0.data,g3=JSON.parse(g2);g5&&g5(g11.domain+"/"+g3.key)},fail:function(){g135.uploadingMap.delete(g1),g6(-1)}});g23.onProgressUpdate((function(g0){g7&&g7(g0.totalBytesSent,g0.totalBytesExpectedToSend)})),g135.uploadingMap.set(g1,g23)}else{var g24={Authorization:g42.default.USE_WSS&&g11.sslToken?g11.sslToken:g11.token,"content-disposition":'attachment; filename="'+encodeURI(g9)+'"'};2===g11.type?(g24["Content-Type"]=g13,g24["x-oss-date"]=g11.date):(g24["Content-Type"]=g13,g24["x-amz-date"]=g11.date,g24["x-wfc-cid"]=(0,g17.AESEncrypt)(g8.clientId),g24["x-wfc-uid"]=(0,g17.AESEncrypt)(g8.userId));var g25=g8.log;g21.getFileSystemManager().readFile({filePath:g3,success:function(g2){var g3=void 0;if(g25("read file success",g2),3===g11.type){if(g2.data.size>104857600)return void(g6&&(g25("upload media size too large",g2.data.size),g6(-1)));var g4=new Uint8Array(g2.data);g3=new g0((0,g17.AESEncrypt)(g4,g135.privateSecret),"base64"),g24["x-wfc-size"]=g2.data.byteLength,g3=g3.buffer,g25("encrypt success",g3)}else g3=g2.data;g25("upload header",g24);var g8=g21.request({url:g20,method:"PUT",data:g3,header:g24,timeout:2e5,success:function(g0){g135.uploadingMap.delete(g1),g25("upload ",g0),g5&&g5(g11.domain+"/"+g12)},fail:function(g0){g135.uploadingMap.delete(g1),g25("upload fail",g0)}});g8.onProgressUpdate((function(g0){g7&&g7(g0.totalBytesSent,g0.totalBytesExpectedToSend)})),g135.uploadingMap.set(g1,g8)},fail:function(g0){g25("read file fail",g0)}})}}else g6&&g6(g4)})),this.log("upload-----------")}},{key:"getAuthorizedMediaUrl",value:function(g0,g1,g2,g3,g4){var g5=g73.create();g5.mediaType=g1,g5.mediaPath=g2,g5.messageId=g0,this._publish("GMDT",g73.encode(g5).finish(),(function(g0,g1){if(0===g0&&g1){var g2=g79.decode(g1);g3&&g3(g2.id)}else g4&&g4(0===g0?-1:g0)}))}},{key:"isSupportBigFilesUpload",value:function(){return this.serverConfigs.isSupportBigFileUpload}},{key:"getUploadMediaUrl",value:function(g0,g1,g2,g3,g4){var g5=g73.create(),g6=this.userId+"-"+g1+"-"+Math.round((new Date).valueOf()/1e3)+"-"+Math.round(1e8*Math.random()),g7=g0.lastIndexOf(".");g0=encodeURIComponent(g0),g7>0&&(g6+=g0.substring(g7)),g5.type=g1,g5.mediaPath=g6,g5.contentType=g2||"application/octet-stream",this._publish("GMPU",g73.encode(g5).finish(),(function(g0,g1){if(0===g0&&g1){var g2=g72.decode(g1);console.log("GMPU result",g2),g3&&g3(g2.presignedUrl,g2.mediaUrl,g2.backupPresignedUrl,g2.type,g6)}else g4&&g4(0===g0?-1:g0)}))}},{key:"_getContentType",value:function(g0,g1){var g2="application/octet-stream";if(g1){var g3=g1.substring(g1.lastIndexOf(".")+1);"jpg"===g3||"jpeg"===g3?g2="image/jpeg":"gif"===g3?g2="image/gif":"png"===g3?g2="image/png":"mp3"===g3?g2="audio/mpeg":"mp4"===g3?g2="video/mp4":"doc"===g3?g2="application/vnd.ms-word":"docx"===g3?g2="application/vnd.openxmlformats-officedocument.wordprocessingml.document":"xls"===g3?g2="application/vnd.ms-xls":"xlsx"===g3?g2="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":"ppt"===g3?g2="application/vnd.ms-powerpoint":"pptx"===g3?g2="application/vnd.openxmlformats-officedocument.presentationml.presentation":"pps"===g3?g2="application/vnd.ms-powerpoint":"pdf"===g3?g2="application/pdf":"xml"===g3&&(g2="application/vnd.ms-xml")}else 1===g0?g2="image/jpeg":2===g0?g2="audio/amr":3===g0&&(g2="video/mp4");return g2}},{key:"_getFileRecordsCallback",value:function(g0,g1,g2,g3){if(0===g0&&g1){var g4=g120.decode(g1),g5=[];g4.record.forEach((function(g0){var g1=new g50.default;g1.conversation=new g28.default(g0.conversation.type,g0.conversation.target,g0.conversation.line),g1.messageUid=g0.messageId,g1.name=g0.name,g1.url=g0.url,g42.default.urlRedirect&&(g1.url=g42.default.urlRedirect(g0.url)),g1.size=g0.size,g1.downloadCount=g0.downloadCount,g1.userId=g0.fromUser,g1.timestamp=g0.dt,g5.push(g1)})),g2&&g2(g5)}else g3&&g3(0===g0?-1:g0)}},{key:"getConversationFileRecords",value:function(g0,g1,g2,g3,g4,g5,g6){var g7=this,g8=g118.create();g8.conversation=this._toProtoConversation(g0),g8.messageId=g15.default.fromValue(g2),g8.from=g1,g8.order=g3,g8.count=g4,this._publish("LFR",g118.encode(g8).finish(),(function(g0,g1){g7._getFileRecordsCallback(g0,g1,g5,g6)}))}},{key:"getMyFileRecords",value:function(g0,g1,g2,g3,g4){var g5=this,g6=g118.create();g6.messageId=g15.default.fromValue(g0),g6.order=g1,g6.count=g2,this._publish("LFR",g118.encode(g6).finish(),(function(g0,g1){g5._getFileRecordsCallback(g0,g1,g3,g4)}))}},{key:"searchFiles",value:function(g0,g1,g2,g3,g4,g5,g6,g7){var g8=this,g9=g119.create();g9.keyword=g0,g9.conversation=this._toProtoConversation(g1),g9.from=g2,g9.messageId=g15.default.fromValue(g3),g9.order=g4,g9.count=g5,this._publish("SFR",g119.encode(g9).finish(),(function(g0,g1){g8._getFileRecordsCallback(g0,g1,g6,g7)}))}},{key:"searchMyFiles",value:function(g0,g1,g2,g3,g4,g5){var g6=this,g7=g119.create();g7.keyword=g0,g7.messageId=g15.default.fromValue(g1),g7.order=g2,g7.count=g3,this._publish("SFR",g119.encode(g7).finish(),(function(g0,g1){g6._getFileRecordsCallback(g0,g1,g4,g5)}))}},{key:"deleteFileRecord",value:function(g0,g1,g2){var g3=g81.create();g3.id=g15.default.fromValue(g0),this._publish("DFR",g81.encode(g3).finish(),(function(g0,g3){0===g0?g1&&g1():g2&&g2(g0)}))}},{key:"markConversationAsUnread",value:function(g0,g1){var g2=this.store.setLastReceivedMessageUnread(g0,"0","0");if(g2&&(0,g16.gt)(g2,0)&&g1){var g3=new g52.default(g2),g4=this.store.getMessageByUid(g2);return g3.timestamp=g4.timestamp,this.sendConversationMessage(g0,g3),!0}return!1}},{key:"getVersion",value:function(){return g1.version}},{key:"isUserOnlineStateEnabled",value:function(){return this.isUserOnlineStateEnable}},{key:"watchOnlineState",value:function(g0,g1,g2,g3,g4){this._watchOnlineState(g0,g1,g2,!0,g3,g4)}},{key:"_watchOnlineState",value:function(g0,g1,g2,g3,g4,g5){if(!this.isUserOnlineStateEnable)return this.error("not enable onlineState function"),void(g5&&g5(248));var g6=g122.create();g6.type=g0,g6.target=g1,g6.duration=g2,this._publish("PWT",g122.encode(g6).finish(),(function(g0,g1){if(0===g0&&g1){if(!g3)return void(g4&&g4());var g2=g123.decode(g1),g6=[];g2.notify.forEach((function(g0){var g1=new g53.default;g1.userId=g0.userId,g1.customState=new g55.default,g1.customState.state=g0.customState,g1.customState.text=g0.customText;var g2=[];g0.state.forEach((function(g0){var g1=new g54.default;g1.platform=g0.platform,g1.state=g0.state,g1.lastSeen=g0.lastSeen,g2.push(g1)})),g1.clientStates=g2,g6.push(g1)})),g4&&g4(g6)}else g5&&g5(0===g0?-1:g0)}))}},{key:"unwatchOnlineState",value:function(g0,g1,g2,g3){this._watchOnlineState(g0,g1,0,!1,g2,g3)}},{key:"setMyCustomState",value:function(g0,g1,g2,g3){var g4=g0+"-"+g1;this.setUserSetting(g37.default.CustomState,"",g4,g2,g3)}},{key:"requireLock",value:function(g0,g1,g2,g3){var g4=g124.create();g4.lockId=g0,g4.duration=g15.default.fromValue(g1),this._publish("SLT",g124.encode(g4).finish(),(function(g0,g1){0===g0?g2&&g2():g3&&g3(g0)}))}},{key:"releaseLock",value:function(g0,g1,g2){this.requireLock(g0,0,g1,g2)}},{key:"getShortLinkInfo",value:function(){return{server:this.imServerAddress,clientId:this.clientId,token:this.token}}},{key:"_onlineStateNotify",value:function(g0){var g1=g123.decode(g0),g2=[];g1.notify.forEach((function(g0){var g1=new g53.default;g1.userId=g0.userId,g1.customState=new g55.default,g1.customState.state=g0.customState,g1.customState.text=g0.customText;var g3=[];g0.state.forEach((function(g0){var g1=new g54.default;g1.platform=g0.platform,g1.state=g0.state,g1.lastSeen=g0.lastSeen,g3.push(g1)})),g1.clientStates=g3,g2.push(g1)})),this.eventEmitter.emit(g38.default.UserOnlineEvent,g2)}},{key:"_dataURItoBlob",value:function(g0){for(var g1=g0.split(","),g2=g1[0].match(/:(.*?);/)[1],g3=atob(g1[1]),g4=g3.length,g5=new Uint8Array(g4);g4--;)g5[g4]=g3.charCodeAt(g4);return this.log("-----------dataurltoblob",g2),new Blob([g5],{type:g2})}},{key:"_encrypt",value:function(g0){return g0?(0,g17.AESEncrypt)(g0,this.privateSecret):g0}},{key:"_decrypt",value:function(g0){return(0,g17.AESDecrypt)(g0.toString("base64"),this.privateSecret,!0)}},{key:"_decryptPublishResponse",value:function(g0){var g1=(0,g17.AESDecrypt)(g0.payload.slice(1,g0.payload.length).toString("base64"),this.privateSecret,!0);return g1||null}},{key:"_toProtoConversation",value:function(g0){if(!g0)return null;var g1=g66.create();return g1.type=g0.type,g1.target=g0.target,g1.line=g0.line,g1}},{key:"_toProtoMessage",value:function(g0){var g1=g84.create();return g1.conversation=g0.conversation,g1.fromUser=this.getUserId(),g1.content=this._toProtoMessageContent(g0.messageContent),g1}},{key:"_toProtoMessageContent",value:function(g1){if(!g1)return null;var g2=g85.create(),g3=g1.encode();return g2.content=g3.content,g2.pushContent=g3.pushContent,g2.pushData=g3.pushData,g2.searchableContent=g3.searchableContent,g3.binaryContent&&(g2.data=new g0(g3.binaryContent,"base64")),g2.type=g3.type,g2.mentionedType=g3.mentionedType,g2.mentionedTarget=g3.mentionedTargets,g2.mediaType=g3.mediaType,g2.remoteMediaUrl=g3.remoteMediaUrl,g2.persistFlag=g19.default.getMessageContentPersitFlag(g3.type),g2.extra=g1.extra,g2}},{key:"_generalOperationCallback",value:function(g0,g1,g2){0===g0?g1&&g1():g2&&g2(g0)}},{key:"_generalStringListCallback",value:function(g0,g1,g2,g3){if(0===g0){var g4=g80.decode(g1);g2&&g2(g4.id)}else g3&&g3(g0)}},{key:"_getStore",value:function(){return this.store}},{key:"_platformOptions",value:function(g0){var g1={};switch(g0){case"ali":g1.scheme="ali",g1.mp=my;break;case"wx":g1.scheme="wx",g1.mp=wx;break;case"bd":g1.scheme="bd",g1.mp=swan;break;case"tt":g1.scheme="tt",g1.mp=tt;break;case"qq":g1.scheme="qq",g1.mp=qq;break;case"uni":g1.scheme="uni",g1.mp=uni}return g1}},{key:"log",value:function(g0){if(!g42.default.DISABLE_LOG){for(var g1,g2=arguments.length,g3=Array(g2>1?g2-1:0),g4=1;g4<g2;g4++)g3[g4-1]=arguments[g4];(g1=console).log.apply(g1,[g0].concat(g3))}}},{key:"warn",value:function(g0){if(!g42.default.DISABLE_LOG){for(var g1,g2=arguments.length,g3=Array(g2>1?g2-1:0),g4=1;g4<g2;g4++)g3[g4-1]=arguments[g4];(g1=console).warn.apply(g1,[g0].concat(g3))}}},{key:"error",value:function(g0){if(!g42.default.DISABLE_LOG){for(var g1,g2=arguments.length,g3=Array(g2>1?g2-1:0),g4=1;g4<g2;g4++)g3[g4-1]=arguments[g4];(g1=console).error.apply(g1,[g0].concat(g3))}}},{key:"test",value:function(){this.log("---------------test start----------------------");var g0=new g15.default(-35650792,34748344,!1),g1=new g15.default(-1415576788,34740445,!1);this.log("xxxoo",g0.comp(g1),g0.toString(),g1.toString()),this.log("---------------test end----------------------")}}]),g1}();g134.connectionTimeout=1e4,g134.version="WFCWebSDKVersion-",g134.pcNotSupportMessageTypes=[94];var g135=new g134;g1.default=g135}).call(this,g2(11).Buffer)},function(g0,g1){g1.read=function(g0,g1,g2,g3,g4){var g5,g6,g7=8*g4-g3-1,g8=(1<<g7)-1,g9=g8>>1,g10=-7,g11=g2?g4-1:0,g12=g2?-1:1,g13=g0[g1+g11];for(g11+=g12,g5=g13&(1<<-g10)-1,g13>>=-g10,g10+=g7;g10>0;g5=256*g5+g0[g1+g11],g11+=g12,g10-=8);for(g6=g5&(1<<-g10)-1,g5>>=-g10,g10+=g3;g10>0;g6=256*g6+g0[g1+g11],g11+=g12,g10-=8);if(0===g5)g5=1-g9;else{if(g5===g8)return g6?NaN:1/0*(g13?-1:1);g6+=Math.pow(2,g3),g5-=g9}return(g13?-1:1)*g6*Math.pow(2,g5-g3)},g1.write=function(g0,g1,g2,g3,g4,g5){var g6,g7,g8,g9=8*g5-g4-1,g10=(1<<g9)-1,g11=g10>>1,g12=23===g4?Math.pow(2,-24)-Math.pow(2,-77):0,g13=g3?0:g5-1,g14=g3?1:-1,g15=g1<0||0===g1&&1/g1<0?1:0;for(g1=Math.abs(g1),isNaN(g1)||g1===1/0?(g7=isNaN(g1)?1:0,g6=g10):(g6=Math.floor(Math.log(g1)/Math.LN2),g1*(g8=Math.pow(2,-g6))<1&&(g6--,g8*=2),(g1+=g6+g11>=1?g12/g8:g12*Math.pow(2,1-g11))*g8>=2&&(g6++,g8/=2),g6+g11>=g10?(g7=0,g6=g10):g6+g11>=1?(g7=(g1*g8-1)*Math.pow(2,g4),g6+=g11):(g7=g1*Math.pow(2,g11-1)*Math.pow(2,g4),g6=0));g4>=8;g0[g2+g13]=255&g7,g13+=g14,g7/=256,g4-=8);for(g6=g6<<g4|g7,g9+=g4;g9>0;g0[g2+g13]=255&g6,g13+=g14,g6/=256,g9-=8);g0[g2+g13-g14]|=128*g15}},function(g0,g1,g2){g2(31),g2(210),g0.exports=g2(0).Array.from},function(g0,g1,g2){var g3=g2(70),g4=g2(71);g0.exports=function(g0){return function(g1,g2){var g5,g6,g7=String(g4(g1)),g8=g3(g2),g9=g7.length;return g8<0||g8>=g9?g0?"":void 0:(g5=g7.charCodeAt(g8))<55296||g5>56319||g8+1===g9||(g6=g7.charCodeAt(g8+1))<56320||g6>57343?g0?g7.charAt(g8):g5:g0?g7.slice(g8,g8+2):g6-56320+(g5-55296<<10)+65536}}},function(g0,g1,g2){"use strict";var g3=g2(54),g4=g2(41),g5=g2(45),g6={};g2(22)(g6,g2(5)("iterator"),(function(){return this})),g0.exports=function(g0,g1,g2){g0.prototype=g3(g6,{next:g4(1,g2)}),g5(g0,g1+" Iterator")}},function(g0,g1,g2){var g3=g2(32),g4=g2(55),g5=g2(208);g0.exports=function(g0){return function(g1,g2,g6){var g7,g8=g3(g1),g9=g4(g8.length),g10=g5(g6,g9);if(g0&&g2!=g2){for(;g9>g10;)if((g7=g8[g10++])!=g7)return!0}else for(;g9>g10;g10++)if((g0||g10 in g8)&&g8[g10]===g2)return g0||g10||0;return!g0&&-1}}},function(g0,g1,g2){var g3=g2(70),g4=Math.max,g5=Math.min;g0.exports=function(g0,g1){return(g0=g3(g0))<0?g4(g0+g1,0):g5(g0,g1)}},function(g0,g1,g2){var g3=g2(27),g4=g2(33),g5=g2(76)("IE_PROTO"),g6=Object.prototype;g0.exports=Object.getPrototypeOf||function(g0){return g0=g4(g0),g3(g0,g5)?g0[g5]:"function"==typeof g0.constructor&&g0 instanceof g0.constructor?g0.constructor.prototype:g0 instanceof Object?g6:null}},function(g0,g1,g2){"use strict";var g3=g2(21),g4=g2(2),g5=g2(33),g6=g2(111),g7=g2(112),g8=g2(55),g9=g2(211),g10=g2(79);g4(g4.S+g4.F*!g2(113)((function(g0){Array.from(g0)})),"Array",{from:function(g0){var g1,g2,g4,g11,g12=g5(g0),g13="function"==typeof this?this:Array,g14=arguments.length,g15=g14>1?arguments[1]:void 0,g16=void 0!==g15,g17=0,g18=g10(g12);if(g16&&(g15=g3(g15,g14>2?arguments[2]:void 0,2)),null==g18||g13==Array&&g7(g18))for(g2=new g13(g1=g8(g12.length));g1>g17;g17++)g9(g2,g17,g16?g15(g12[g17],g17):g12[g17]);else for(g11=g18.call(g12),g2=new g13;!(g4=g11.next()).done;g17++)g9(g2,g17,g16?g6(g11,g15,[g4.value,g17],!0):g4.value);return g2.length=g17,g2}})},function(g0,g1,g2){"use strict";var g3=g2(12),g4=g2(41);g0.exports=function(g0,g1,g2){g1 in g0?g3.f(g0,g1,g4(0,g2)):g0[g1]=g2}},function(g0,g1,g2){g2(57),g2(31),g2(46),g2(215),g2(219),g2(221),g2(222),g0.exports=g2(0).Set},function(g0,g1,g2){"use strict";var g3=g2(214),g4=g2(115),g5=g2(42),g6=g2(32);g0.exports=g2(72)(Array,"Array",(function(g0,g1){this._t=g6(g0),this._i=0,this._k=g1}),(function(){var g0=this._t,g1=this._k,g2=this._i++;return!g0||g2>=g0.length?(this._t=void 0,g4(1)):g4(0,"keys"==g1?g2:"values"==g1?g0[g2]:[g2,g0[g2]])}),"values"),g5.Arguments=g5.Array,g3("keys"),g3("values"),g3("entries")},function(g0,g1){g0.exports=function(){}},function(g0,g1,g2){"use strict";var g3=g2(116),g4=g2(83);g0.exports=g2(118)("Set",(function(g0){return function(){return g0(this,arguments.length>0?arguments[0]:void 0)}}),{add:function(g0){return g3.def(g4(this,"Set"),g0=0===g0?0:g0,g0)}},g3)},function(g0,g1,g2){var g3=g2(21),g4=g2(75),g5=g2(33),g6=g2(55),g7=g2(217);g0.exports=function(g0,g1){var g2=1==g0,g8=2==g0,g9=3==g0,g10=4==g0,g11=6==g0,g12=5==g0||g11,g13=g1||g7;return function(g1,g7,g14){for(var g15,g16,g17=g5(g1),g18=g4(g17),g19=g3(g7,g14,3),g20=g6(g18.length),g21=0,g22=g2?g13(g1,g20):g8?g13(g1,0):void 0;g20>g21;g21++)if((g12||g21 in g18)&&(g16=g19(g15=g18[g21],g21,g17),g0))if(g2)g22[g21]=g16;else if(g16)switch(g0){case 3:return!0;case 5:return g15;case 6:return g21;case 2:g22.push(g15)}else if(g10)return!1;return g11?-1:g9||g10?g10:g22}}},function(g0,g1,g2){var g3=g2(218);g0.exports=function(g0,g1){return new(g3(g0))(g1)}},function(g0,g1,g2){var g3=g2(8),g4=g2(119),g5=g2(5)("species");g0.exports=function(g0){var g1;return g4(g0)&&("function"!=typeof(g1=g0.constructor)||g1!==Array&&!g4(g1.prototype)||(g1=void 0),g3(g1)&&null===(g1=g1[g5])&&(g1=void 0)),void 0===g1?Array:g1}},function(g0,g1,g2){var g3=g2(2);g3(g3.P+g3.R,"Set",{toJSON:g2(120)("Set")})},function(g0,g1,g2){var g3=g2(47);g0.exports=function(g0,g1){var g2=[];return g3(g0,!1,g2.push,g2,g1),g2}},function(g0,g1,g2){g2(121)("Set")},function(g0,g1,g2){g2(122)("Set")},function(g0,g1,g2){g2(57),g2(31),g2(46),g2(224),g2(228),g2(229),g0.exports=g2(0).Promise},function(g0,g1,g2){"use strict";var g3,g4,g5,g6,g7=g2(39),g8=g2(4),g9=g2(21),g10=g2(80),g11=g2(2),g12=g2(8),g13=g2(40),g14=g2(82),g15=g2(47),g16=g2(123),g17=g2(124).set,g18=g2(226)(),g19=g2(85),g20=g2(125),g21=g2(227),g22=g2(126),g23="Promise",g24=g8.TypeError,g25=g8.process,g26=g25&&g25.versions,g27=g26&&g26.v8||"",g28=g8.Promise,g29="process"==g10(g25),g30=function(){},g31=g4=g19.f,g32=!!function(){try{var g0=g28.resolve(1),g1=(g0.constructor={})[g2(5)("species")]=function(g0){g0(g30,g30)};return(g29||"function"==typeof PromiseRejectionEvent)&&g0.then(g30)instanceof g1&&0!==g27.indexOf("6.6")&&-1===g21.indexOf("Chrome/66")}catch(g0){}}(),g33=function(g0){var g1;return!(!g12(g0)||"function"!=typeof(g1=g0.then))&&g1},g34=function(g0,g1){if(!g0._n){g0._n=!0;var g2=g0._c;g18((function(){for(var g3=g0._v,g4=1==g0._s,g5=0,g6=function(g1){var g2,g5,g6,g7=g4?g1.ok:g1.fail,g8=g1.resolve,g9=g1.reject,g10=g1.domain;try{g7?(g4||(2==g0._h&&g37(g0),g0._h=1),!0===g7?g2=g3:(g10&&g10.enter(),g2=g7(g3),g10&&(g10.exit(),g6=!0)),g2===g1.promise?g9(g24("Promise-chain cycle")):(g5=g33(g2))?g5.call(g2,g8,g9):g8(g2)):g9(g3)}catch(g0){g10&&!g6&&g10.exit(),g9(g0)}};g2.length>g5;)g6(g2[g5++]);g0._c=[],g0._n=!1,g1&&!g0._h&&g35(g0)}))}},g35=function(g0){g17.call(g8,(function(){var g1,g2,g3,g4=g0._v,g5=g36(g0);if(g5&&(g1=g20((function(){g29?g25.emit("unhandledRejection",g4,g0):(g2=g8.onunhandledrejection)?g2({promise:g0,reason:g4}):(g3=g8.console)&&g3.error&&g3.error("Unhandled promise rejection",g4)})),g0._h=g29||g36(g0)?2:1),g0._a=void 0,g5&&g1.e)throw g1.v}))},g36=function(g0){return 1!==g0._h&&0===(g0._a||g0._c).length},g37=function(g0){g17.call(g8,(function(){var g1;g29?g25.emit("rejectionHandled",g0):(g1=g8.onrejectionhandled)&&g1({promise:g0,reason:g0._v})}))},g38=function(g0){var g1=this;g1._d||(g1._d=!0,(g1=g1._w||g1)._v=g0,g1._s=2,g1._a||(g1._a=g1._c.slice()),g34(g1,!0))},g39=function(g0){var g1,g2=this;if(!g2._d){g2._d=!0,g2=g2._w||g2;try{if(g2===g0)throw g24("Promise can't be resolved itself");(g1=g33(g0))?g18((function(){var g3={_w:g2,_d:!1};try{g1.call(g0,g9(g39,g3,1),g9(g38,g3,1))}catch(g0){g38.call(g3,g0)}})):(g2._v=g0,g2._s=1,g34(g2,!1))}catch(g0){g38.call({_w:g2,_d:!1},g0)}}};g32||(g28=function(g0){g14(this,g28,g23,"_h"),g13(g0),g3.call(this);try{g0(g9(g39,this,1),g9(g38,this,1))}catch(g0){g38.call(this,g0)}},(g3=function(g0){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=g2(81)(g28.prototype,{then:function(g0,g1){var g2=g31(g16(this,g28));return g2.ok="function"!=typeof g0||g0,g2.fail="function"==typeof g1&&g1,g2.domain=g29?g25.domain:void 0,this._c.push(g2),this._a&&this._a.push(g2),this._s&&g34(this,!1),g2.promise},catch:function(g0){return this.then(void 0,g0)}}),g5=function(){var g0=new g3;this.promise=g0,this.resolve=g9(g39,g0,1),this.reject=g9(g38,g0,1)},g19.f=g31=function(g0){return g0===g28||g0===g6?new g5(g0):g4(g0)}),g11(g11.G+g11.W+g11.F*!g32,{Promise:g28}),g2(45)(g28,g23),g2(117)(g23),g6=g2(0).Promise,g11(g11.S+g11.F*!g32,g23,{reject:function(g0){var g1=g31(this);return(0,g1.reject)(g0),g1.promise}}),g11(g11.S+g11.F*(g7||!g32),g23,{resolve:function(g0){return g22(g7&&this===g6?g28:this,g0)}}),g11(g11.S+g11.F*!(g32&&g2(113)((function(g0){g28.all(g0).catch(g30)}))),g23,{all:function(g0){var g1=this,g2=g31(g1),g3=g2.resolve,g4=g2.reject,g5=g20((function(){var g2=[],g5=0,g6=1;g15(g0,!1,(function(g0){var g7=g5++,g8=!1;g2.push(void 0),g6++,g1.resolve(g0).then((function(g0){g8||(g8=!0,g2[g7]=g0,--g6||g3(g2))}),g4)})),--g6||g3(g2)}));return g5.e&&g4(g5.v),g2.promise},race:function(g0){var g1=this,g2=g31(g1),g3=g2.reject,g4=g20((function(){g15(g0,!1,(function(g0){g1.resolve(g0).then(g2.resolve,g3)}))}));return g4.e&&g3(g4.v),g2.promise}})},function(g0,g1){g0.exports=function(g0,g1,g2){var g3=void 0===g2;switch(g1.length){case 0:return g3?g0():g0.call(g2);case 1:return g3?g0(g1[0]):g0.call(g2,g1[0]);case 2:return g3?g0(g1[0],g1[1]):g0.call(g2,g1[0],g1[1]);case 3:return g3?g0(g1[0],g1[1],g1[2]):g0.call(g2,g1[0],g1[1],g1[2]);case 4:return g3?g0(g1[0],g1[1],g1[2],g1[3]):g0.call(g2,g1[0],g1[1],g1[2],g1[3])}return g0.apply(g2,g1)}},function(g0,g1,g2){var g3=g2(4),g4=g2(124).set,g5=g3.MutationObserver||g3.WebKitMutationObserver,g6=g3.process,g7=g3.Promise,g8="process"==g2(44)(g6);g0.exports=function(){var g0,g1,g2,g9=function(){var g3,g4;for(g8&&(g3=g6.domain)&&g3.exit();g0;){g4=g0.fn,g0=g0.next;try{g4()}catch(g3){throw g0?g2():g1=void 0,g3}}g1=void 0,g3&&g3.enter()};if(g8)g2=function(){g6.nextTick(g9)};else if(!g5||g3.navigator&&g3.navigator.standalone)if(g7&&g7.resolve){var g10=g7.resolve(void 0);g2=function(){g10.then(g9)}}else g2=function(){g4.call(g3,g9)};else{var g11=!0,g12=document.createTextNode("");new g5(g9).observe(g12,{characterData:!0}),g2=function(){g12.data=g11=!g11}}return function(g3){var g4={fn:g3,next:void 0};g1&&(g1.next=g4),g0||(g0=g4,g2()),g1=g4}}},function(g0,g1,g2){var g3=g2(4).navigator;g0.exports=g3&&g3.userAgent||""},function(g0,g1,g2){"use strict";var g3=g2(2),g4=g2(0),g5=g2(4),g6=g2(123),g7=g2(126);g3(g3.P+g3.R,"Promise",{finally:function(g0){var g1=g6(this,g4.Promise||g5.Promise),g2="function"==typeof g0;return this.then(g2?function(g2){return g7(g1,g0()).then((function(){return g2}))}:g0,g2?function(g2){return g7(g1,g0()).then((function(){throw g2}))}:g0)}})},function(g0,g1,g2){"use strict";var g3=g2(2),g4=g2(85),g5=g2(125);g3(g3.S,"Promise",{try:function(g0){var g1=g4.f(this),g2=g5(g0);return(g2.e?g1.reject:g1.resolve)(g2.v),g1.promise}})},function(g0,g1,g2){g0.exports=g2(231)},function(g0,g1,g2){var g3=function(){return this}()||Function("return this")(),g4=g3.regeneratorRuntime&&Object.getOwnPropertyNames(g3).indexOf("regeneratorRuntime")>=0,g5=g4&&g3.regeneratorRuntime;if(g3.regeneratorRuntime=void 0,g0.exports=g2(232),g4)g3.regeneratorRuntime=g5;else try{delete g3.regeneratorRuntime}catch(g0){g3.regeneratorRuntime=void 0}},function(g0,g1){!function(g1){"use strict";var g2,g3=Object.prototype,g4=g3.hasOwnProperty,g5="function"==typeof Symbol?Symbol:{},g6=g5.iterator||"@@iterator",g7=g5.asyncIterator||"@@asyncIterator",g8=g5.toStringTag||"@@toStringTag",g9="object"==typeof g0,g10=g1.regeneratorRuntime;if(g10)g9&&(g0.exports=g10);else{(g10=g1.regeneratorRuntime=g9?g0.exports:{}).wrap=g20;var g11="suspendedStart",g12="suspendedYield",g13="executing",g14="completed",g15={},g16={};g16[g6]=function(){return this};var g17=Object.getPrototypeOf,g18=g17&&g17(g17(g31([])));g18&&g18!==g3&&g4.call(g18,g6)&&(g16=g18);var g19=g24.prototype=g22.prototype=Object.create(g16);g23.prototype=g19.constructor=g24,g24.constructor=g23,g24[g8]=g23.displayName="GeneratorFunction",g10.isGeneratorFunction=function(g0){var g1="function"==typeof g0&&g0.constructor;return!!g1&&(g1===g23||"GeneratorFunction"===(g1.displayName||g1.name))},g10.mark=function(g0){return Object.setPrototypeOf?Object.setPrototypeOf(g0,g24):(g0.__proto__=g24,g8 in g0||(g0[g8]="GeneratorFunction")),g0.prototype=Object.create(g19),g0},g10.awrap=function(g0){return{__await:g0}},g25(g26.prototype),g26.prototype[g7]=function(){return this},g10.AsyncIterator=g26,g10.async=function(g0,g1,g2,g3){var g4=new g26(g20(g0,g1,g2,g3));return g10.isGeneratorFunction(g1)?g4:g4.next().then((function(g0){return g0.done?g0.value:g4.next()}))},g25(g19),g19[g8]="Generator",g19[g6]=function(){return this},g19.toString=function(){return"[object Generator]"},g10.keys=function(g0){var g1=[];for(var g2 in g0)g1.push(g2);return g1.reverse(),function g2(){for(;g1.length;){var g3=g1.pop();if(g3 in g0)return g2.value=g3,g2.done=!1,g2}return g2.done=!0,g2}},g10.values=g31,g30.prototype={constructor:g30,reset:function(g0){if(this.prev=0,this.next=0,this.sent=this._sent=g2,this.done=!1,this.delegate=null,this.method="next",this.arg=g2,this.tryEntries.forEach(g29),!g0)for(var g1 in this)"t"===g1.charAt(0)&&g4.call(this,g1)&&!isNaN(+g1.slice(1))&&(this[g1]=g2)},stop:function(){this.done=!0;var g0=this.tryEntries[0].completion;if("throw"===g0.type)throw g0.arg;return this.rval},dispatchException:function(g0){if(this.done)throw g0;var g1=this;function g3(g3,g4){return g7.type="throw",g7.arg=g0,g1.next=g3,g4&&(g1.method="next",g1.arg=g2),!!g4}for(var g5=this.tryEntries.length-1;g5>=0;--g5){var g6=this.tryEntries[g5],g7=g6.completion;if("root"===g6.tryLoc)return g3("end");if(g6.tryLoc<=this.prev){var g8=g4.call(g6,"catchLoc"),g9=g4.call(g6,"finallyLoc");if(g8&&g9){if(this.prev<g6.catchLoc)return g3(g6.catchLoc,!0);if(this.prev<g6.finallyLoc)return g3(g6.finallyLoc)}else if(g8){if(this.prev<g6.catchLoc)return g3(g6.catchLoc,!0)}else{if(!g9)throw new Error("try statement without catch or finally");if(this.prev<g6.finallyLoc)return g3(g6.finallyLoc)}}}},abrupt:function(g0,g1){for(var g2=this.tryEntries.length-1;g2>=0;--g2){var g3=this.tryEntries[g2];if(g3.tryLoc<=this.prev&&g4.call(g3,"finallyLoc")&&this.prev<g3.finallyLoc){var g5=g3;break}}g5&&("break"===g0||"continue"===g0)&&g5.tryLoc<=g1&&g1<=g5.finallyLoc&&(g5=null);var g6=g5?g5.completion:{};return g6.type=g0,g6.arg=g1,g5?(this.method="next",this.next=g5.finallyLoc,g15):this.complete(g6)},complete:function(g0,g1){if("throw"===g0.type)throw g0.arg;return"break"===g0.type||"continue"===g0.type?this.next=g0.arg:"return"===g0.type?(this.rval=this.arg=g0.arg,this.method="return",this.next="end"):"normal"===g0.type&&g1&&(this.next=g1),g15},finish:function(g0){for(var g1=this.tryEntries.length-1;g1>=0;--g1){var g2=this.tryEntries[g1];if(g2.finallyLoc===g0)return this.complete(g2.completion,g2.afterLoc),g29(g2),g15}},catch:function(g0){for(var g1=this.tryEntries.length-1;g1>=0;--g1){var g2=this.tryEntries[g1];if(g2.tryLoc===g0){var g3=g2.completion;if("throw"===g3.type){var g4=g3.arg;g29(g2)}return g4}}throw new Error("illegal catch attempt")},delegateYield:function(g0,g1,g3){return this.delegate={iterator:g31(g0),resultName:g1,nextLoc:g3},"next"===this.method&&(this.arg=g2),g15}}}function g20(g0,g1,g2,g3){var g4=g1&&g1.prototype instanceof g22?g1:g22,g5=Object.create(g4.prototype),g6=new g30(g3||[]);return g5._invoke=function(g0,g1,g2){var g3=g11;return function(g4,g5){if(g3===g13)throw new Error("Generator is already running");if(g3===g14){if("throw"===g4)throw g5;return g32()}for(g2.method=g4,g2.arg=g5;;){var g6=g2.delegate;if(g6){var g7=g27(g6,g2);if(g7){if(g7===g15)continue;return g7}}if("next"===g2.method)g2.sent=g2._sent=g2.arg;else if("throw"===g2.method){if(g3===g11)throw g3=g14,g2.arg;g2.dispatchException(g2.arg)}else"return"===g2.method&&g2.abrupt("return",g2.arg);g3=g13;var g8=g21(g0,g1,g2);if("normal"===g8.type){if(g3=g2.done?g14:g12,g8.arg===g15)continue;return{value:g8.arg,done:g2.done}}"throw"===g8.type&&(g3=g14,g2.method="throw",g2.arg=g8.arg)}}}(g0,g2,g6),g5}function g21(g0,g1,g2){try{return{type:"normal",arg:g0.call(g1,g2)}}catch(g0){return{type:"throw",arg:g0}}}function g22(){}function g23(){}function g24(){}function g25(g0){["next","throw","return"].forEach((function(g1){g0[g1]=function(g0){return this._invoke(g1,g0)}}))}function g26(g0){function g1(g2,g3,g5,g6){var g7=g21(g0[g2],g0,g3);if("throw"!==g7.type){var g8=g7.arg,g9=g8.value;return g9&&"object"==typeof g9&&g4.call(g9,"__await")?Promise.resolve(g9.__await).then((function(g0){g1("next",g0,g5,g6)}),(function(g0){g1("throw",g0,g5,g6)})):Promise.resolve(g9).then((function(g0){g8.value=g0,g5(g8)}),g6)}g6(g7.arg)}var g2;this._invoke=function(g0,g3){function g4(){return new Promise((function(g2,g4){g1(g0,g3,g2,g4)}))}return g2=g2?g2.then(g4,g4):g4()}}function g27(g0,g1){var g3=g0.iterator[g1.method];if(g3===g2){if(g1.delegate=null,"throw"===g1.method){if(g0.iterator.return&&(g1.method="return",g1.arg=g2,g27(g0,g1),"throw"===g1.method))return g15;g1.method="throw",g1.arg=new TypeError("The iterator does not provide a 'throw' method")}return g15}var g4=g21(g3,g0.iterator,g1.arg);if("throw"===g4.type)return g1.method="throw",g1.arg=g4.arg,g1.delegate=null,g15;var g5=g4.arg;return g5?g5.done?(g1[g0.resultName]=g5.value,g1.next=g0.nextLoc,"return"!==g1.method&&(g1.method="next",g1.arg=g2),g1.delegate=null,g15):g5:(g1.method="throw",g1.arg=new TypeError("iterator result is not an object"),g1.delegate=null,g15)}function g28(g0){var g1={tryLoc:g0[0]};1 in g0&&(g1.catchLoc=g0[1]),2 in g0&&(g1.finallyLoc=g0[2],g1.afterLoc=g0[3]),this.tryEntries.push(g1)}function g29(g0){var g1=g0.completion||{};g1.type="normal",delete g1.arg,g0.completion=g1}function g30(g0){this.tryEntries=[{tryLoc:"root"}],g0.forEach(g28,this),this.reset(!0)}function g31(g0){if(g0){var g1=g0[g6];if(g1)return g1.call(g0);if("function"==typeof g0.next)return g0;if(!isNaN(g0.length)){var g3=-1,g5=function g1(){for(;++g3<g0.length;)if(g4.call(g0,g3))return g1.value=g0[g3],g1.done=!1,g1;return g1.value=g2,g1.done=!0,g1};return g5.next=g5}}return{next:g32}}function g32(){return{value:g2,done:!0}}}(function(){return this}()||Function("return this")())},function(g0,g1,g2){"use strict";g1.__esModule=!0;var g3,g4=g2(84),g5=(g3=g4)&&g3.__esModule?g3:{default:g3};g1.default=function(g0){return function(){var g1=g0.apply(this,arguments);return new g5.default((function(g0,g2){return function g3(g4,g6){try{var g7=g1[g4](g6),g8=g7.value}catch(g0){return void g2(g0)}if(!g7.done)return g5.default.resolve(g8).then((function(g0){g3("next",g0)}),(function(g0){g3("throw",g0)}));g0(g8)}("next")}))}}},function(g0,g1,g2){g2(235),g0.exports=g2(0).Object.assign},function(g0,g1,g2){var g3=g2(2);g3(g3.S+g3.F,"Object",{assign:g2(236)})},function(g0,g1,g2){"use strict";var g3=g2(9),g4=g2(43),g5=g2(86),g6=g2(59),g7=g2(33),g8=g2(75),g9=Object.assign;g0.exports=!g9||g2(26)((function(){var g0={},g1={},g2=Symbol(),g3="abcdefghijklmnopqrst";return g0[g2]=7,g3.split("").forEach((function(g0){g1[g0]=g0})),7!=g9({},g0)[g2]||Object.keys(g9({},g1)).join("")!=g3}))?function(g0,g1){for(var g2=g7(g0),g9=arguments.length,g10=1,g11=g5.f,g12=g6.f;g9>g10;)for(var g13,g14=g8(arguments[g10++]),g15=g11?g4(g14).concat(g11(g14)):g4(g14),g16=g15.length,g17=0;g16>g17;)g13=g15[g17++],g3&&!g12.call(g14,g13)||(g2[g13]=g14[g13]);return g2}:g9},function(g0,g1,g2){var g3=g2(0),g4=g3.JSON||(g3.JSON={stringify:JSON.stringify});g0.exports=function(g0){return g4.stringify.apply(g4,arguments)}},function(g0,g1,g2){g2(46),g2(31),g0.exports=g2(239)},function(g0,g1,g2){var g3=g2(18),g4=g2(79);g0.exports=g2(0).getIterator=function(g0){var g1=g4(g0);if("function"!=typeof g1)throw TypeError(g0+" is not iterable!");return g3(g1.call(g0))}},function(g0,g1,g2){g2(57),g2(31),g2(46),g2(241),g2(242),g2(243),g2(244),g0.exports=g2(0).Map},function(g0,g1,g2){"use strict";var g3=g2(116),g4=g2(83),g5="Map";g0.exports=g2(118)(g5,(function(g0){return function(){return g0(this,arguments.length>0?arguments[0]:void 0)}}),{get:function(g0){var g1=g3.getEntry(g4(this,g5),g0);return g1&&g1.v},set:function(g0,g1){return g3.def(g4(this,g5),0===g0?0:g0,g1)}},g3,!0)},function(g0,g1,g2){var g3=g2(2);g3(g3.P+g3.R,"Map",{toJSON:g2(120)("Map")})},function(g0,g1,g2){g2(121)("Map")},function(g0,g1,g2){g2(122)("Map")},function(g0,g1,g2){g2(246);var g3=g2(0).Object;g0.exports=function(g0,g1,g2){return g3.defineProperty(g0,g1,g2)}},function(g0,g1,g2){var g3=g2(2);g3(g3.S+g3.F*!g2(9),"Object",{defineProperty:g2(12).f})},function(g0,g1,g2){!function(g1){"use strict";function g2(g0){return parseInt(g0)===g0}function g3(g0){if(!g2(g0.length))return!1;for(var g1=0;g1<g0.length;g1++)if(!g2(g0[g1])||g0[g1]<0||g0[g1]>255)return!1;return!0}function g4(g0,g1){if(g0.buffer&&"Uint8Array"===g0.name)return g1&&(g0=g0.slice?g0.slice():Array.prototype.slice.call(g0)),g0;if(Array.isArray(g0)){if(!g3(g0))throw new Error("Array contains invalid value: "+g0);return new Uint8Array(g0)}if(g2(g0.length)&&g3(g0))return new Uint8Array(g0);throw new Error("unsupported array-like object")}function g5(g0){return new Uint8Array(g0)}function g6(g0,g1,g2,g3,g4){null==g3&&null==g4||(g0=g0.slice?g0.slice(g3,g4):Array.prototype.slice.call(g0,g3,g4)),g1.set(g0,g2)}var g7,g8={toBytes:function(g0){var g1=[],g2=0;for(g0=encodeURI(g0);g2<g0.length;){var g3=g0.charCodeAt(g2++);37===g3?(g1.push(parseInt(g0.substr(g2,2),16)),g2+=2):g1.push(g3)}return g4(g1)},fromBytes:function(g0){for(var g1=[],g2=0;g2<g0.length;){var g3=g0[g2];g3<128?(g1.push(String.fromCharCode(g3)),g2++):g3>191&&g3<224?(g1.push(String.fromCharCode((31&g3)<<6|63&g0[g2+1])),g2+=2):(g1.push(String.fromCharCode((15&g3)<<12|(63&g0[g2+1])<<6|63&g0[g2+2])),g2+=3)}return g1.join("")}},g9=(g7="0123456789abcdef",{toBytes:function(g0){for(var g1=[],g2=0;g2<g0.length;g2+=2)g1.push(parseInt(g0.substr(g2,2),16));return g1},fromBytes:function(g0){for(var g1=[],g2=0;g2<g0.length;g2++){var g3=g0[g2];g1.push(g7[(240&g3)>>4]+g7[15&g3])}return g1.join("")}}),g10={16:10,24:12,32:14},g11=[1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145],g12=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],g13=[82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125],g14=[3328402341,4168907908,4000806809,4135287693,4294111757,3597364157,3731845041,2445657428,1613770832,33620227,3462883241,1445669757,3892248089,3050821474,1303096294,3967186586,2412431941,528646813,2311702848,4202528135,4026202645,2992200171,2387036105,4226871307,1101901292,3017069671,1604494077,1169141738,597466303,1403299063,3832705686,2613100635,1974974402,3791519004,1033081774,1277568618,1815492186,2118074177,4126668546,2211236943,1748251740,1369810420,3521504564,4193382664,3799085459,2883115123,1647391059,706024767,134480908,2512897874,1176707941,2646852446,806885416,932615841,168101135,798661301,235341577,605164086,461406363,3756188221,3454790438,1311188841,2142417613,3933566367,302582043,495158174,1479289972,874125870,907746093,3698224818,3025820398,1537253627,2756858614,1983593293,3084310113,2108928974,1378429307,3722699582,1580150641,327451799,2790478837,3117535592,0,3253595436,1075847264,3825007647,2041688520,3059440621,3563743934,2378943302,1740553945,1916352843,2487896798,2555137236,2958579944,2244988746,3151024235,3320835882,1336584933,3992714006,2252555205,2588757463,1714631509,293963156,2319795663,3925473552,67240454,4269768577,2689618160,2017213508,631218106,1269344483,2723238387,1571005438,2151694528,93294474,1066570413,563977660,1882732616,4059428100,1673313503,2008463041,2950355573,1109467491,537923632,3858759450,4260623118,3218264685,2177748300,403442708,638784309,3287084079,3193921505,899127202,2286175436,773265209,2479146071,1437050866,4236148354,2050833735,3362022572,3126681063,840505643,3866325909,3227541664,427917720,2655997905,2749160575,1143087718,1412049534,999329963,193497219,2353415882,3354324521,1807268051,672404540,2816401017,3160301282,369822493,2916866934,3688947771,1681011286,1949973070,336202270,2454276571,201721354,1210328172,3093060836,2680341085,3184776046,1135389935,3294782118,965841320,831886756,3554993207,4068047243,3588745010,2345191491,1849112409,3664604599,26054028,2983581028,2622377682,1235855840,3630984372,2891339514,4092916743,3488279077,3395642799,4101667470,1202630377,268961816,1874508501,4034427016,1243948399,1546530418,941366308,1470539505,1941222599,2546386513,3421038627,2715671932,3899946140,1042226977,2521517021,1639824860,227249030,260737669,3765465232,2084453954,1907733956,3429263018,2420656344,100860677,4160157185,470683154,3261161891,1781871967,2924959737,1773779408,394692241,2579611992,974986535,664706745,3655459128,3958962195,731420851,571543859,3530123707,2849626480,126783113,865375399,765172662,1008606754,361203602,3387549984,2278477385,2857719295,1344809080,2782912378,59542671,1503764984,160008576,437062935,1707065306,3622233649,2218934982,3496503480,2185314755,697932208,1512910199,504303377,2075177163,2824099068,1841019862,739644986],g15=[2781242211,2230877308,2582542199,2381740923,234877682,3184946027,2984144751,1418839493,1348481072,50462977,2848876391,2102799147,434634494,1656084439,3863849899,2599188086,1167051466,2636087938,1082771913,2281340285,368048890,3954334041,3381544775,201060592,3963727277,1739838676,4250903202,3930435503,3206782108,4149453988,2531553906,1536934080,3262494647,484572669,2923271059,1783375398,1517041206,1098792767,49674231,1334037708,1550332980,4098991525,886171109,150598129,2481090929,1940642008,1398944049,1059722517,201851908,1385547719,1699095331,1587397571,674240536,2704774806,252314885,3039795866,151914247,908333586,2602270848,1038082786,651029483,1766729511,3447698098,2682942837,454166793,2652734339,1951935532,775166490,758520603,3000790638,4004797018,4217086112,4137964114,1299594043,1639438038,3464344499,2068982057,1054729187,1901997871,2534638724,4121318227,1757008337,0,750906861,1614815264,535035132,3363418545,3988151131,3201591914,1183697867,3647454910,1265776953,3734260298,3566750796,3903871064,1250283471,1807470800,717615087,3847203498,384695291,3313910595,3617213773,1432761139,2484176261,3481945413,283769337,100925954,2180939647,4037038160,1148730428,3123027871,3813386408,4087501137,4267549603,3229630528,2315620239,2906624658,3156319645,1215313976,82966005,3747855548,3245848246,1974459098,1665278241,807407632,451280895,251524083,1841287890,1283575245,337120268,891687699,801369324,3787349855,2721421207,3431482436,959321879,1469301956,4065699751,2197585534,1199193405,2898814052,3887750493,724703513,2514908019,2696962144,2551808385,3516813135,2141445340,1715741218,2119445034,2872807568,2198571144,3398190662,700968686,3547052216,1009259540,2041044702,3803995742,487983883,1991105499,1004265696,1449407026,1316239930,504629770,3683797321,168560134,1816667172,3837287516,1570751170,1857934291,4014189740,2797888098,2822345105,2754712981,936633572,2347923833,852879335,1133234376,1500395319,3084545389,2348912013,1689376213,3533459022,3762923945,3034082412,4205598294,133428468,634383082,2949277029,2398386810,3913789102,403703816,3580869306,2297460856,1867130149,1918643758,607656988,4049053350,3346248884,1368901318,600565992,2090982877,2632479860,557719327,3717614411,3697393085,2249034635,2232388234,2430627952,1115438654,3295786421,2865522278,3633334344,84280067,33027830,303828494,2747425121,1600795957,4188952407,3496589753,2434238086,1486471617,658119965,3106381470,953803233,334231800,3005978776,857870609,3151128937,1890179545,2298973838,2805175444,3056442267,574365214,2450884487,550103529,1233637070,4289353045,2018519080,2057691103,2399374476,4166623649,2148108681,387583245,3664101311,836232934,3330556482,3100665960,3280093505,2955516313,2002398509,287182607,3413881008,4238890068,3597515707,975967766],g16=[1671808611,2089089148,2006576759,2072901243,4061003762,1807603307,1873927791,3310653893,810573872,16974337,1739181671,729634347,4263110654,3613570519,2883997099,1989864566,3393556426,2191335298,3376449993,2106063485,4195741690,1508618841,1204391495,4027317232,2917941677,3563566036,2734514082,2951366063,2629772188,2767672228,1922491506,3227229120,3082974647,4246528509,2477669779,644500518,911895606,1061256767,4144166391,3427763148,878471220,2784252325,3845444069,4043897329,1905517169,3631459288,827548209,356461077,67897348,3344078279,593839651,3277757891,405286936,2527147926,84871685,2595565466,118033927,305538066,2157648768,3795705826,3945188843,661212711,2999812018,1973414517,152769033,2208177539,745822252,439235610,455947803,1857215598,1525593178,2700827552,1391895634,994932283,3596728278,3016654259,695947817,3812548067,795958831,2224493444,1408607827,3513301457,0,3979133421,543178784,4229948412,2982705585,1542305371,1790891114,3410398667,3201918910,961245753,1256100938,1289001036,1491644504,3477767631,3496721360,4012557807,2867154858,4212583931,1137018435,1305975373,861234739,2241073541,1171229253,4178635257,33948674,2139225727,1357946960,1011120188,2679776671,2833468328,1374921297,2751356323,1086357568,2408187279,2460827538,2646352285,944271416,4110742005,3168756668,3066132406,3665145818,560153121,271589392,4279952895,4077846003,3530407890,3444343245,202643468,322250259,3962553324,1608629855,2543990167,1154254916,389623319,3294073796,2817676711,2122513534,1028094525,1689045092,1575467613,422261273,1939203699,1621147744,2174228865,1339137615,3699352540,577127458,712922154,2427141008,2290289544,1187679302,3995715566,3100863416,339486740,3732514782,1591917662,186455563,3681988059,3762019296,844522546,978220090,169743370,1239126601,101321734,611076132,1558493276,3260915650,3547250131,2901361580,1655096418,2443721105,2510565781,3828863972,2039214713,3878868455,3359869896,928607799,1840765549,2374762893,3580146133,1322425422,2850048425,1823791212,1459268694,4094161908,3928346602,1706019429,2056189050,2934523822,135794696,3134549946,2022240376,628050469,779246638,472135708,2800834470,3032970164,3327236038,3894660072,3715932637,1956440180,522272287,1272813131,3185336765,2340818315,2323976074,1888542832,1044544574,3049550261,1722469478,1222152264,50660867,4127324150,236067854,1638122081,895445557,1475980887,3117443513,2257655686,3243809217,489110045,2662934430,3778599393,4162055160,2561878936,288563729,1773916777,3648039385,2391345038,2493985684,2612407707,505560094,2274497927,3911240169,3460925390,1442818645,678973480,3749357023,2358182796,2717407649,2306869641,219617805,3218761151,3862026214,1120306242,1756942440,1103331905,2578459033,762796589,252780047,2966125488,1425844308,3151392187,372911126],g17=[1667474886,2088535288,2004326894,2071694838,4075949567,1802223062,1869591006,3318043793,808472672,16843522,1734846926,724270422,4278065639,3621216949,2880169549,1987484396,3402253711,2189597983,3385409673,2105378810,4210693615,1499065266,1195886990,4042263547,2913856577,3570689971,2728590687,2947541573,2627518243,2762274643,1920112356,3233831835,3082273397,4261223649,2475929149,640051788,909531756,1061110142,4160160501,3435941763,875846760,2779116625,3857003729,4059105529,1903268834,3638064043,825316194,353713962,67374088,3351728789,589522246,3284360861,404236336,2526454071,84217610,2593830191,117901582,303183396,2155911963,3806477791,3958056653,656894286,2998062463,1970642922,151591698,2206440989,741110872,437923380,454765878,1852748508,1515908788,2694904667,1381168804,993742198,3604373943,3014905469,690584402,3823320797,791638366,2223281939,1398011302,3520161977,0,3991743681,538992704,4244381667,2981218425,1532751286,1785380564,3419096717,3200178535,960056178,1246420628,1280103576,1482221744,3486468741,3503319995,4025428677,2863326543,4227536621,1128514950,1296947098,859002214,2240123921,1162203018,4193849577,33687044,2139062782,1347481760,1010582648,2678045221,2829640523,1364325282,2745433693,1077985408,2408548869,2459086143,2644360225,943212656,4126475505,3166494563,3065430391,3671750063,555836226,269496352,4294908645,4092792573,3537006015,3452783745,202118168,320025894,3974901699,1600119230,2543297077,1145359496,387397934,3301201811,2812801621,2122220284,1027426170,1684319432,1566435258,421079858,1936954854,1616945344,2172753945,1330631070,3705438115,572679748,707427924,2425400123,2290647819,1179044492,4008585671,3099120491,336870440,3739122087,1583276732,185277718,3688593069,3772791771,842159716,976899700,168435220,1229577106,101059084,606366792,1549591736,3267517855,3553849021,2897014595,1650632388,2442242105,2509612081,3840161747,2038008818,3890688725,3368567691,926374254,1835907034,2374863873,3587531953,1313788572,2846482505,1819063512,1448540844,4109633523,3941213647,1701162954,2054852340,2930698567,134748176,3132806511,2021165296,623210314,774795868,471606328,2795958615,3031746419,3334885783,3907527627,3722280097,1953799400,522133822,1263263126,3183336545,2341176845,2324333839,1886425312,1044267644,3048588401,1718004428,1212733584,50529542,4143317495,235803164,1633788866,892690282,1465383342,3115962473,2256965911,3250673817,488449850,2661202215,3789633753,4177007595,2560144171,286339874,1768537042,3654906025,2391705863,2492770099,2610673197,505291324,2273808917,3924369609,3469625735,1431699370,673740880,3755965093,2358021891,2711746649,2307489801,218961690,3217021541,3873845719,1111672452,1751693520,1094828930,2576986153,757954394,252645662,2964376443,1414855848,3149649517,370555436],g18=[1374988112,2118214995,437757123,975658646,1001089995,530400753,2902087851,1273168787,540080725,2910219766,2295101073,4110568485,1340463100,3307916247,641025152,3043140495,3736164937,632953703,1172967064,1576976609,3274667266,2169303058,2370213795,1809054150,59727847,361929877,3211623147,2505202138,3569255213,1484005843,1239443753,2395588676,1975683434,4102977912,2572697195,666464733,3202437046,4035489047,3374361702,2110667444,1675577880,3843699074,2538681184,1649639237,2976151520,3144396420,4269907996,4178062228,1883793496,2403728665,2497604743,1383856311,2876494627,1917518562,3810496343,1716890410,3001755655,800440835,2261089178,3543599269,807962610,599762354,33778362,3977675356,2328828971,2809771154,4077384432,1315562145,1708848333,101039829,3509871135,3299278474,875451293,2733856160,92987698,2767645557,193195065,1080094634,1584504582,3178106961,1042385657,2531067453,3711829422,1306967366,2438237621,1908694277,67556463,1615861247,429456164,3602770327,2302690252,1742315127,2968011453,126454664,3877198648,2043211483,2709260871,2084704233,4169408201,0,159417987,841739592,504459436,1817866830,4245618683,260388950,1034867998,908933415,168810852,1750902305,2606453969,607530554,202008497,2472011535,3035535058,463180190,2160117071,1641816226,1517767529,470948374,3801332234,3231722213,1008918595,303765277,235474187,4069246893,766945465,337553864,1475418501,2943682380,4003061179,2743034109,4144047775,1551037884,1147550661,1543208500,2336434550,3408119516,3069049960,3102011747,3610369226,1113818384,328671808,2227573024,2236228733,3535486456,2935566865,3341394285,496906059,3702665459,226906860,2009195472,733156972,2842737049,294930682,1206477858,2835123396,2700099354,1451044056,573804783,2269728455,3644379585,2362090238,2564033334,2801107407,2776292904,3669462566,1068351396,742039012,1350078989,1784663195,1417561698,4136440770,2430122216,775550814,2193862645,2673705150,1775276924,1876241833,3475313331,3366754619,270040487,3902563182,3678124923,3441850377,1851332852,3969562369,2203032232,3868552805,2868897406,566021896,4011190502,3135740889,1248802510,3936291284,699432150,832877231,708780849,3332740144,899835584,1951317047,4236429990,3767586992,866637845,4043610186,1106041591,2144161806,395441711,1984812685,1139781709,3433712980,3835036895,2664543715,1282050075,3240894392,1181045119,2640243204,25965917,4203181171,4211818798,3009879386,2463879762,3910161971,1842759443,2597806476,933301370,1509430414,3943906441,3467192302,3076639029,3776767469,2051518780,2631065433,1441952575,404016761,1942435775,1408749034,1610459739,3745345300,2017778566,3400528769,3110650942,941896748,3265478751,371049330,3168937228,675039627,4279080257,967311729,135050206,3635733660,1683407248,2076935265,3576870512,1215061108,3501741890],g19=[1347548327,1400783205,3273267108,2520393566,3409685355,4045380933,2880240216,2471224067,1428173050,4138563181,2441661558,636813900,4233094615,3620022987,2149987652,2411029155,1239331162,1730525723,2554718734,3781033664,46346101,310463728,2743944855,3328955385,3875770207,2501218972,3955191162,3667219033,768917123,3545789473,692707433,1150208456,1786102409,2029293177,1805211710,3710368113,3065962831,401639597,1724457132,3028143674,409198410,2196052529,1620529459,1164071807,3769721975,2226875310,486441376,2499348523,1483753576,428819965,2274680428,3075636216,598438867,3799141122,1474502543,711349675,129166120,53458370,2592523643,2782082824,4063242375,2988687269,3120694122,1559041666,730517276,2460449204,4042459122,2706270690,3446004468,3573941694,533804130,2328143614,2637442643,2695033685,839224033,1973745387,957055980,2856345839,106852767,1371368976,4181598602,1033297158,2933734917,1179510461,3046200461,91341917,1862534868,4284502037,605657339,2547432937,3431546947,2003294622,3182487618,2282195339,954669403,3682191598,1201765386,3917234703,3388507166,0,2198438022,1211247597,2887651696,1315723890,4227665663,1443857720,507358933,657861945,1678381017,560487590,3516619604,975451694,2970356327,261314535,3535072918,2652609425,1333838021,2724322336,1767536459,370938394,182621114,3854606378,1128014560,487725847,185469197,2918353863,3106780840,3356761769,2237133081,1286567175,3152976349,4255350624,2683765030,3160175349,3309594171,878443390,1988838185,3704300486,1756818940,1673061617,3403100636,272786309,1075025698,545572369,2105887268,4174560061,296679730,1841768865,1260232239,4091327024,3960309330,3497509347,1814803222,2578018489,4195456072,575138148,3299409036,446754879,3629546796,4011996048,3347532110,3252238545,4270639778,915985419,3483825537,681933534,651868046,2755636671,3828103837,223377554,2607439820,1649704518,3270937875,3901806776,1580087799,4118987695,3198115200,2087309459,2842678573,3016697106,1003007129,2802849917,1860738147,2077965243,164439672,4100872472,32283319,2827177882,1709610350,2125135846,136428751,3874428392,3652904859,3460984630,3572145929,3593056380,2939266226,824852259,818324884,3224740454,930369212,2801566410,2967507152,355706840,1257309336,4148292826,243256656,790073846,2373340630,1296297904,1422699085,3756299780,3818836405,457992840,3099667487,2135319889,77422314,1560382517,1945798516,788204353,1521706781,1385356242,870912086,325965383,2358957921,2050466060,2388260884,2313884476,4006521127,901210569,3990953189,1014646705,1503449823,1062597235,2031621326,3212035895,3931371469,1533017514,350174575,2256028891,2177544179,1052338372,741876788,1606591296,1914052035,213705253,2334669897,1107234197,1899603969,3725069491,2631447780,2422494913,1635502980,1893020342,1950903388,1120974935],g20=[2807058932,1699970625,2764249623,1586903591,1808481195,1173430173,1487645946,59984867,4199882800,1844882806,1989249228,1277555970,3623636965,3419915562,1149249077,2744104290,1514790577,459744698,244860394,3235995134,1963115311,4027744588,2544078150,4190530515,1608975247,2627016082,2062270317,1507497298,2200818878,567498868,1764313568,3359936201,2305455554,2037970062,1047239e3,1910319033,1337376481,2904027272,2892417312,984907214,1243112415,830661914,861968209,2135253587,2011214180,2927934315,2686254721,731183368,1750626376,4246310725,1820824798,4172763771,3542330227,48394827,2404901663,2871682645,671593195,3254988725,2073724613,145085239,2280796200,2779915199,1790575107,2187128086,472615631,3029510009,4075877127,3802222185,4107101658,3201631749,1646252340,4270507174,1402811438,1436590835,3778151818,3950355702,3963161475,4020912224,2667994737,273792366,2331590177,104699613,95345982,3175501286,2377486676,1560637892,3564045318,369057872,4213447064,3919042237,1137477952,2658625497,1119727848,2340947849,1530455833,4007360968,172466556,266959938,516552836,0,2256734592,3980931627,1890328081,1917742170,4294704398,945164165,3575528878,958871085,3647212047,2787207260,1423022939,775562294,1739656202,3876557655,2530391278,2443058075,3310321856,547512796,1265195639,437656594,3121275539,719700128,3762502690,387781147,218828297,3350065803,2830708150,2848461854,428169201,122466165,3720081049,1627235199,648017665,4122762354,1002783846,2117360635,695634755,3336358691,4234721005,4049844452,3704280881,2232435299,574624663,287343814,612205898,1039717051,840019705,2708326185,793451934,821288114,1391201670,3822090177,376187827,3113855344,1224348052,1679968233,2361698556,1058709744,752375421,2431590963,1321699145,3519142200,2734591178,188127444,2177869557,3727205754,2384911031,3215212461,2648976442,2450346104,3432737375,1180849278,331544205,3102249176,4150144569,2952102595,2159976285,2474404304,766078933,313773861,2570832044,2108100632,1668212892,3145456443,2013908262,418672217,3070356634,2594734927,1852171925,3867060991,3473416636,3907448597,2614737639,919489135,164948639,2094410160,2997825956,590424639,2486224549,1723872674,3157750862,3399941250,3501252752,3625268135,2555048196,3673637356,1343127501,4130281361,3599595085,2957853679,1297403050,81781910,3051593425,2283490410,532201772,1367295589,3926170974,895287692,1953757831,1093597963,492483431,3528626907,1446242576,1192455638,1636604631,209336225,344873464,1015671571,669961897,3375740769,3857572124,2973530695,3747192018,1933530610,3464042516,935293895,3454686199,2858115069,1863638845,3683022916,4085369519,3292445032,875313188,1080017571,3279033885,621591778,1233856572,2504130317,24197544,3017672716,3835484340,3247465558,2220981195,3060847922,1551124588,1463996600],g21=[4104605777,1097159550,396673818,660510266,2875968315,2638606623,4200115116,3808662347,821712160,1986918061,3430322568,38544885,3856137295,718002117,893681702,1654886325,2975484382,3122358053,3926825029,4274053469,796197571,1290801793,1184342925,3556361835,2405426947,2459735317,1836772287,1381620373,3196267988,1948373848,3764988233,3385345166,3263785589,2390325492,1480485785,3111247143,3780097726,2293045232,548169417,3459953789,3746175075,439452389,1362321559,1400849762,1685577905,1806599355,2174754046,137073913,1214797936,1174215055,3731654548,2079897426,1943217067,1258480242,529487843,1437280870,3945269170,3049390895,3313212038,923313619,679998e3,3215307299,57326082,377642221,3474729866,2041877159,133361907,1776460110,3673476453,96392454,878845905,2801699524,777231668,4082475170,2330014213,4142626212,2213296395,1626319424,1906247262,1846563261,562755902,3708173718,1040559837,3871163981,1418573201,3294430577,114585348,1343618912,2566595609,3186202582,1078185097,3651041127,3896688048,2307622919,425408743,3371096953,2081048481,1108339068,2216610296,0,2156299017,736970802,292596766,1517440620,251657213,2235061775,2933202493,758720310,265905162,1554391400,1532285339,908999204,174567692,1474760595,4002861748,2610011675,3234156416,3693126241,2001430874,303699484,2478443234,2687165888,585122620,454499602,151849742,2345119218,3064510765,514443284,4044981591,1963412655,2581445614,2137062819,19308535,1928707164,1715193156,4219352155,1126790795,600235211,3992742070,3841024952,836553431,1669664834,2535604243,3323011204,1243905413,3141400786,4180808110,698445255,2653899549,2989552604,2253581325,3252932727,3004591147,1891211689,2487810577,3915653703,4237083816,4030667424,2100090966,865136418,1229899655,953270745,3399679628,3557504664,4118925222,2061379749,3079546586,2915017791,983426092,2022837584,1607244650,2118541908,2366882550,3635996816,972512814,3283088770,1568718495,3499326569,3576539503,621982671,2895723464,410887952,2623762152,1002142683,645401037,1494807662,2595684844,1335535747,2507040230,4293295786,3167684641,367585007,3885750714,1865862730,2668221674,2960971305,2763173681,1059270954,2777952454,2724642869,1320957812,2194319100,2429595872,2815956275,77089521,3973773121,3444575871,2448830231,1305906550,4021308739,2857194700,2516901860,3518358430,1787304780,740276417,1699839814,1592394909,2352307457,2272556026,188821243,1729977011,3687994002,274084841,3594982253,3613494426,2701949495,4162096729,322734571,2837966542,1640576439,484830689,1202797690,3537852828,4067639125,349075736,3342319475,4157467219,4255800159,1030690015,1155237496,2951971274,1757691577,607398968,2738905026,499347990,3794078908,1011452712,227885567,2818666809,213114376,3034881240,1455525988,3414450555,850817237,1817998408,3092726480],g22=[0,235474187,470948374,303765277,941896748,908933415,607530554,708780849,1883793496,2118214995,1817866830,1649639237,1215061108,1181045119,1417561698,1517767529,3767586992,4003061179,4236429990,4069246893,3635733660,3602770327,3299278474,3400528769,2430122216,2664543715,2362090238,2193862645,2835123396,2801107407,3035535058,3135740889,3678124923,3576870512,3341394285,3374361702,3810496343,3977675356,4279080257,4043610186,2876494627,2776292904,3076639029,3110650942,2472011535,2640243204,2403728665,2169303058,1001089995,899835584,666464733,699432150,59727847,226906860,530400753,294930682,1273168787,1172967064,1475418501,1509430414,1942435775,2110667444,1876241833,1641816226,2910219766,2743034109,2976151520,3211623147,2505202138,2606453969,2302690252,2269728455,3711829422,3543599269,3240894392,3475313331,3843699074,3943906441,4178062228,4144047775,1306967366,1139781709,1374988112,1610459739,1975683434,2076935265,1775276924,1742315127,1034867998,866637845,566021896,800440835,92987698,193195065,429456164,395441711,1984812685,2017778566,1784663195,1683407248,1315562145,1080094634,1383856311,1551037884,101039829,135050206,437757123,337553864,1042385657,807962610,573804783,742039012,2531067453,2564033334,2328828971,2227573024,2935566865,2700099354,3001755655,3168937228,3868552805,3902563182,4203181171,4102977912,3736164937,3501741890,3265478751,3433712980,1106041591,1340463100,1576976609,1408749034,2043211483,2009195472,1708848333,1809054150,832877231,1068351396,766945465,599762354,159417987,126454664,361929877,463180190,2709260871,2943682380,3178106961,3009879386,2572697195,2538681184,2236228733,2336434550,3509871135,3745345300,3441850377,3274667266,3910161971,3877198648,4110568485,4211818798,2597806476,2497604743,2261089178,2295101073,2733856160,2902087851,3202437046,2968011453,3936291284,3835036895,4136440770,4169408201,3535486456,3702665459,3467192302,3231722213,2051518780,1951317047,1716890410,1750902305,1113818384,1282050075,1584504582,1350078989,168810852,67556463,371049330,404016761,841739592,1008918595,775550814,540080725,3969562369,3801332234,4035489047,4269907996,3569255213,3669462566,3366754619,3332740144,2631065433,2463879762,2160117071,2395588676,2767645557,2868897406,3102011747,3069049960,202008497,33778362,270040487,504459436,875451293,975658646,675039627,641025152,2084704233,1917518562,1615861247,1851332852,1147550661,1248802510,1484005843,1451044056,933301370,967311729,733156972,632953703,260388950,25965917,328671808,496906059,1206477858,1239443753,1543208500,1441952575,2144161806,1908694277,1675577880,1842759443,3610369226,3644379585,3408119516,3307916247,4011190502,3776767469,4077384432,4245618683,2809771154,2842737049,3144396420,3043140495,2673705150,2438237621,2203032232,2370213795],g23=[0,185469197,370938394,487725847,741876788,657861945,975451694,824852259,1483753576,1400783205,1315723890,1164071807,1950903388,2135319889,1649704518,1767536459,2967507152,3152976349,2801566410,2918353863,2631447780,2547432937,2328143614,2177544179,3901806776,3818836405,4270639778,4118987695,3299409036,3483825537,3535072918,3652904859,2077965243,1893020342,1841768865,1724457132,1474502543,1559041666,1107234197,1257309336,598438867,681933534,901210569,1052338372,261314535,77422314,428819965,310463728,3409685355,3224740454,3710368113,3593056380,3875770207,3960309330,4045380933,4195456072,2471224067,2554718734,2237133081,2388260884,3212035895,3028143674,2842678573,2724322336,4138563181,4255350624,3769721975,3955191162,3667219033,3516619604,3431546947,3347532110,2933734917,2782082824,3099667487,3016697106,2196052529,2313884476,2499348523,2683765030,1179510461,1296297904,1347548327,1533017514,1786102409,1635502980,2087309459,2003294622,507358933,355706840,136428751,53458370,839224033,957055980,605657339,790073846,2373340630,2256028891,2607439820,2422494913,2706270690,2856345839,3075636216,3160175349,3573941694,3725069491,3273267108,3356761769,4181598602,4063242375,4011996048,3828103837,1033297158,915985419,730517276,545572369,296679730,446754879,129166120,213705253,1709610350,1860738147,1945798516,2029293177,1239331162,1120974935,1606591296,1422699085,4148292826,4233094615,3781033664,3931371469,3682191598,3497509347,3446004468,3328955385,2939266226,2755636671,3106780840,2988687269,2198438022,2282195339,2501218972,2652609425,1201765386,1286567175,1371368976,1521706781,1805211710,1620529459,2105887268,1988838185,533804130,350174575,164439672,46346101,870912086,954669403,636813900,788204353,2358957921,2274680428,2592523643,2441661558,2695033685,2880240216,3065962831,3182487618,3572145929,3756299780,3270937875,3388507166,4174560061,4091327024,4006521127,3854606378,1014646705,930369212,711349675,560487590,272786309,457992840,106852767,223377554,1678381017,1862534868,1914052035,2031621326,1211247597,1128014560,1580087799,1428173050,32283319,182621114,401639597,486441376,768917123,651868046,1003007129,818324884,1503449823,1385356242,1333838021,1150208456,1973745387,2125135846,1673061617,1756818940,2970356327,3120694122,2802849917,2887651696,2637442643,2520393566,2334669897,2149987652,3917234703,3799141122,4284502037,4100872472,3309594171,3460984630,3545789473,3629546796,2050466060,1899603969,1814803222,1730525723,1443857720,1560382517,1075025698,1260232239,575138148,692707433,878443390,1062597235,243256656,91341917,409198410,325965383,3403100636,3252238545,3704300486,3620022987,3874428392,3990953189,4042459122,4227665663,2460449204,2578018489,2226875310,2411029155,3198115200,3046200461,2827177882,2743944855],g24=[0,218828297,437656594,387781147,875313188,958871085,775562294,590424639,1750626376,1699970625,1917742170,2135253587,1551124588,1367295589,1180849278,1265195639,3501252752,3720081049,3399941250,3350065803,3835484340,3919042237,4270507174,4085369519,3102249176,3051593425,2734591178,2952102595,2361698556,2177869557,2530391278,2614737639,3145456443,3060847922,2708326185,2892417312,2404901663,2187128086,2504130317,2555048196,3542330227,3727205754,3375740769,3292445032,3876557655,3926170974,4246310725,4027744588,1808481195,1723872674,1910319033,2094410160,1608975247,1391201670,1173430173,1224348052,59984867,244860394,428169201,344873464,935293895,984907214,766078933,547512796,1844882806,1627235199,2011214180,2062270317,1507497298,1423022939,1137477952,1321699145,95345982,145085239,532201772,313773861,830661914,1015671571,731183368,648017665,3175501286,2957853679,2807058932,2858115069,2305455554,2220981195,2474404304,2658625497,3575528878,3625268135,3473416636,3254988725,3778151818,3963161475,4213447064,4130281361,3599595085,3683022916,3432737375,3247465558,3802222185,4020912224,4172763771,4122762354,3201631749,3017672716,2764249623,2848461854,2331590177,2280796200,2431590963,2648976442,104699613,188127444,472615631,287343814,840019705,1058709744,671593195,621591778,1852171925,1668212892,1953757831,2037970062,1514790577,1463996600,1080017571,1297403050,3673637356,3623636965,3235995134,3454686199,4007360968,3822090177,4107101658,4190530515,2997825956,3215212461,2830708150,2779915199,2256734592,2340947849,2627016082,2443058075,172466556,122466165,273792366,492483431,1047239e3,861968209,612205898,695634755,1646252340,1863638845,2013908262,1963115311,1446242576,1530455833,1277555970,1093597963,1636604631,1820824798,2073724613,1989249228,1436590835,1487645946,1337376481,1119727848,164948639,81781910,331544205,516552836,1039717051,821288114,669961897,719700128,2973530695,3157750862,2871682645,2787207260,2232435299,2283490410,2667994737,2450346104,3647212047,3564045318,3279033885,3464042516,3980931627,3762502690,4150144569,4199882800,3070356634,3121275539,2904027272,2686254721,2200818878,2384911031,2570832044,2486224549,3747192018,3528626907,3310321856,3359936201,3950355702,3867060991,4049844452,4234721005,1739656202,1790575107,2108100632,1890328081,1402811438,1586903591,1233856572,1149249077,266959938,48394827,369057872,418672217,1002783846,919489135,567498868,752375421,209336225,24197544,376187827,459744698,945164165,895287692,574624663,793451934,1679968233,1764313568,2117360635,1933530610,1343127501,1560637892,1243112415,1192455638,3704280881,3519142200,3336358691,3419915562,3907448597,3857572124,4075877127,4294704398,3029510009,3113855344,2927934315,2744104290,2159976285,2377486676,2594734927,2544078150],g25=[0,151849742,303699484,454499602,607398968,758720310,908999204,1059270954,1214797936,1097159550,1517440620,1400849762,1817998408,1699839814,2118541908,2001430874,2429595872,2581445614,2194319100,2345119218,3034881240,3186202582,2801699524,2951971274,3635996816,3518358430,3399679628,3283088770,4237083816,4118925222,4002861748,3885750714,1002142683,850817237,698445255,548169417,529487843,377642221,227885567,77089521,1943217067,2061379749,1640576439,1757691577,1474760595,1592394909,1174215055,1290801793,2875968315,2724642869,3111247143,2960971305,2405426947,2253581325,2638606623,2487810577,3808662347,3926825029,4044981591,4162096729,3342319475,3459953789,3576539503,3693126241,1986918061,2137062819,1685577905,1836772287,1381620373,1532285339,1078185097,1229899655,1040559837,923313619,740276417,621982671,439452389,322734571,137073913,19308535,3871163981,4021308739,4104605777,4255800159,3263785589,3414450555,3499326569,3651041127,2933202493,2815956275,3167684641,3049390895,2330014213,2213296395,2566595609,2448830231,1305906550,1155237496,1607244650,1455525988,1776460110,1626319424,2079897426,1928707164,96392454,213114376,396673818,514443284,562755902,679998e3,865136418,983426092,3708173718,3557504664,3474729866,3323011204,4180808110,4030667424,3945269170,3794078908,2507040230,2623762152,2272556026,2390325492,2975484382,3092726480,2738905026,2857194700,3973773121,3856137295,4274053469,4157467219,3371096953,3252932727,3673476453,3556361835,2763173681,2915017791,3064510765,3215307299,2156299017,2307622919,2459735317,2610011675,2081048481,1963412655,1846563261,1729977011,1480485785,1362321559,1243905413,1126790795,878845905,1030690015,645401037,796197571,274084841,425408743,38544885,188821243,3613494426,3731654548,3313212038,3430322568,4082475170,4200115116,3780097726,3896688048,2668221674,2516901860,2366882550,2216610296,3141400786,2989552604,2837966542,2687165888,1202797690,1320957812,1437280870,1554391400,1669664834,1787304780,1906247262,2022837584,265905162,114585348,499347990,349075736,736970802,585122620,972512814,821712160,2595684844,2478443234,2293045232,2174754046,3196267988,3079546586,2895723464,2777952454,3537852828,3687994002,3234156416,3385345166,4142626212,4293295786,3841024952,3992742070,174567692,57326082,410887952,292596766,777231668,660510266,1011452712,893681702,1108339068,1258480242,1343618912,1494807662,1715193156,1865862730,1948373848,2100090966,2701949495,2818666809,3004591147,3122358053,2235061775,2352307457,2535604243,2653899549,3915653703,3764988233,4219352155,4067639125,3444575871,3294430577,3746175075,3594982253,836553431,953270745,600235211,718002117,367585007,484830689,133361907,251657213,2041877159,1891211689,1806599355,1654886325,1568718495,1418573201,1335535747,1184342925];function g26(g0){for(var g1=[],g2=0;g2<g0.length;g2+=4)g1.push(g0[g2]<<24|g0[g2+1]<<16|g0[g2+2]<<8|g0[g2+3]);return g1}var g27=function(g0){if(!(this instanceof g27))throw Error("AES must be instanitated with `new`");Object.defineProperty(this,"key",{value:g4(g0,!0)}),this._prepare()};g27.prototype._prepare=function(){var g0=g10[this.key.length];if(null==g0)throw new Error("invalid key size (must be 16, 24 or 32 bytes)");this._Ke=[],this._Kd=[];for(var g1=0;g1<=g0;g1++)this._Ke.push([0,0,0,0]),this._Kd.push([0,0,0,0]);var g2,g3=4*(g0+1),g4=this.key.length/4,g5=g26(this.key);for(g1=0;g1<g4;g1++)g2=g1>>2,this._Ke[g2][g1%4]=g5[g1],this._Kd[g0-g2][g1%4]=g5[g1];for(var g6,g7=0,g8=g4;g8<g3;){if(g6=g5[g4-1],g5[0]^=g12[g6>>16&255]<<24^g12[g6>>8&255]<<16^g12[255&g6]<<8^g12[g6>>24&255]^g11[g7]<<24,g7+=1,8!=g4)for(g1=1;g1<g4;g1++)g5[g1]^=g5[g1-1];else{for(g1=1;g1<g4/2;g1++)g5[g1]^=g5[g1-1];g6=g5[g4/2-1],g5[g4/2]^=g12[255&g6]^g12[g6>>8&255]<<8^g12[g6>>16&255]<<16^g12[g6>>24&255]<<24;for(g1=g4/2+1;g1<g4;g1++)g5[g1]^=g5[g1-1]}for(g1=0;g1<g4&&g8<g3;)g9=g8>>2,g13=g8%4,this._Ke[g9][g13]=g5[g1],this._Kd[g0-g9][g13]=g5[g1++],g8++}for(var g9=1;g9<g0;g9++)for(var g13=0;g13<4;g13++)g6=this._Kd[g9][g13],this._Kd[g9][g13]=g22[g6>>24&255]^g23[g6>>16&255]^g24[g6>>8&255]^g25[255&g6]},g27.prototype.encrypt=function(g0){if(16!=g0.length)throw new Error("invalid plaintext size (must be 16 bytes)");for(var g1=this._Ke.length-1,g2=[0,0,0,0],g3=g26(g0),g4=0;g4<4;g4++)g3[g4]^=this._Ke[0][g4];for(var g6=1;g6<g1;g6++){for(g4=0;g4<4;g4++)g2[g4]=g14[g3[g4]>>24&255]^g15[g3[(g4+1)%4]>>16&255]^g16[g3[(g4+2)%4]>>8&255]^g17[255&g3[(g4+3)%4]]^this._Ke[g6][g4];g3=g2.slice()}var g7,g8=g5(16);for(g4=0;g4<4;g4++)g7=this._Ke[g1][g4],g8[4*g4]=255&(g12[g3[g4]>>24&255]^g7>>24),g8[4*g4+1]=255&(g12[g3[(g4+1)%4]>>16&255]^g7>>16),g8[4*g4+2]=255&(g12[g3[(g4+2)%4]>>8&255]^g7>>8),g8[4*g4+3]=255&(g12[255&g3[(g4+3)%4]]^g7);return g8},g27.prototype.decrypt=function(g0){if(16!=g0.length)throw new Error("invalid ciphertext size (must be 16 bytes)");for(var g1=this._Kd.length-1,g2=[0,0,0,0],g3=g26(g0),g4=0;g4<4;g4++)g3[g4]^=this._Kd[0][g4];for(var g6=1;g6<g1;g6++){for(g4=0;g4<4;g4++)g2[g4]=g18[g3[g4]>>24&255]^g19[g3[(g4+3)%4]>>16&255]^g20[g3[(g4+2)%4]>>8&255]^g21[255&g3[(g4+1)%4]]^this._Kd[g6][g4];g3=g2.slice()}var g7,g8=g5(16);for(g4=0;g4<4;g4++)g7=this._Kd[g1][g4],g8[4*g4]=255&(g13[g3[g4]>>24&255]^g7>>24),g8[4*g4+1]=255&(g13[g3[(g4+3)%4]>>16&255]^g7>>16),g8[4*g4+2]=255&(g13[g3[(g4+2)%4]>>8&255]^g7>>8),g8[4*g4+3]=255&(g13[255&g3[(g4+1)%4]]^g7);return g8};var g28=function(g0){if(!(this instanceof g28))throw Error("AES must be instanitated with `new`");this.description="Electronic Code Block",this.name="ecb",this._aes=new g27(g0)};g28.prototype.encrypt=function(g0){if((g0=g4(g0)).length%16!=0)throw new Error("invalid plaintext size (must be multiple of 16 bytes)");for(var g1=g5(g0.length),g2=g5(16),g3=0;g3<g0.length;g3+=16)g6(g0,g2,0,g3,g3+16),g6(g2=this._aes.encrypt(g2),g1,g3);return g1},g28.prototype.decrypt=function(g0){if((g0=g4(g0)).length%16!=0)throw new Error("invalid ciphertext size (must be multiple of 16 bytes)");for(var g1=g5(g0.length),g2=g5(16),g3=0;g3<g0.length;g3+=16)g6(g0,g2,0,g3,g3+16),g6(g2=this._aes.decrypt(g2),g1,g3);return g1};var g29=function(g0,g1){if(!(this instanceof g29))throw Error("AES must be instanitated with `new`");if(this.description="Cipher Block Chaining",this.name="cbc",g1){if(16!=g1.length)throw new Error("invalid initialation vector size (must be 16 bytes)")}else g1=g5(16);this._lastCipherblock=g4(g1,!0),this._aes=new g27(g0)};g29.prototype.encrypt=function(g0){if((g0=g4(g0)).length%16!=0)throw new Error("invalid plaintext size (must be multiple of 16 bytes)");for(var g1=g5(g0.length),g2=g5(16),g3=0;g3<g0.length;g3+=16){g6(g0,g2,0,g3,g3+16);for(var g7=0;g7<16;g7++)g2[g7]^=this._lastCipherblock[g7];this._lastCipherblock=this._aes.encrypt(g2),g6(this._lastCipherblock,g1,g3)}return g1},g29.prototype.decrypt=function(g0){if((g0=g4(g0)).length%16!=0)throw new Error("invalid ciphertext size (must be multiple of 16 bytes)");for(var g1=g5(g0.length),g2=g5(16),g3=0;g3<g0.length;g3+=16){g6(g0,g2,0,g3,g3+16),g2=this._aes.decrypt(g2);for(var g7=0;g7<16;g7++)g1[g3+g7]=g2[g7]^this._lastCipherblock[g7];g6(g0,this._lastCipherblock,0,g3,g3+16)}return g1};var g30=function(g0,g1,g2){if(!(this instanceof g30))throw Error("AES must be instanitated with `new`");if(this.description="Cipher Feedback",this.name="cfb",g1){if(16!=g1.length)throw new Error("invalid initialation vector size (must be 16 size)")}else g1=g5(16);g2||(g2=1),this.segmentSize=g2,this._shiftRegister=g4(g1,!0),this._aes=new g27(g0)};g30.prototype.encrypt=function(g0){if(g0.length%this.segmentSize!=0)throw new Error("invalid plaintext size (must be segmentSize bytes)");for(var g1,g2=g4(g0,!0),g3=0;g3<g2.length;g3+=this.segmentSize){g1=this._aes.encrypt(this._shiftRegister);for(var g5=0;g5<this.segmentSize;g5++)g2[g3+g5]^=g1[g5];g6(this._shiftRegister,this._shiftRegister,0,this.segmentSize),g6(g2,this._shiftRegister,16-this.segmentSize,g3,g3+this.segmentSize)}return g2},g30.prototype.decrypt=function(g0){if(g0.length%this.segmentSize!=0)throw new Error("invalid ciphertext size (must be segmentSize bytes)");for(var g1,g2=g4(g0,!0),g3=0;g3<g2.length;g3+=this.segmentSize){g1=this._aes.encrypt(this._shiftRegister);for(var g5=0;g5<this.segmentSize;g5++)g2[g3+g5]^=g1[g5];g6(this._shiftRegister,this._shiftRegister,0,this.segmentSize),g6(g0,this._shiftRegister,16-this.segmentSize,g3,g3+this.segmentSize)}return g2};var g31=function(g0,g1){if(!(this instanceof g31))throw Error("AES must be instanitated with `new`");if(this.description="Output Feedback",this.name="ofb",g1){if(16!=g1.length)throw new Error("invalid initialation vector size (must be 16 bytes)")}else g1=g5(16);this._lastPrecipher=g4(g1,!0),this._lastPrecipherIndex=16,this._aes=new g27(g0)};g31.prototype.encrypt=function(g0){for(var g1=g4(g0,!0),g2=0;g2<g1.length;g2++)16===this._lastPrecipherIndex&&(this._lastPrecipher=this._aes.encrypt(this._lastPrecipher),this._lastPrecipherIndex=0),g1[g2]^=this._lastPrecipher[this._lastPrecipherIndex++];return g1},g31.prototype.decrypt=g31.prototype.encrypt;var g32=function(g0){if(!(this instanceof g32))throw Error("Counter must be instanitated with `new`");0===g0||g0||(g0=1),"number"==typeof g0?(this._counter=g5(16),this.setValue(g0)):this.setBytes(g0)};g32.prototype.setValue=function(g0){if("number"!=typeof g0||parseInt(g0)!=g0)throw new Error("invalid counter value (must be an integer)");if(g0>Number.MAX_SAFE_INTEGER)throw new Error("integer value out of safe range");for(var g1=15;g1>=0;--g1)this._counter[g1]=g0%256,g0=parseInt(g0/256)},g32.prototype.setBytes=function(g0){if(16!=(g0=g4(g0,!0)).length)throw new Error("invalid counter bytes size (must be 16 bytes)");this._counter=g0},g32.prototype.increment=function(){for(var g0=15;g0>=0;g0--){if(255!==this._counter[g0]){this._counter[g0]++;break}this._counter[g0]=0}};var g33=function(g0,g1){if(!(this instanceof g33))throw Error("AES must be instanitated with `new`");this.description="Counter",this.name="ctr",g1 instanceof g32||(g1=new g32(g1)),this._counter=g1,this._remainingCounter=null,this._remainingCounterIndex=16,this._aes=new g27(g0)};g33.prototype.encrypt=function(g0){for(var g1=g4(g0,!0),g2=0;g2<g1.length;g2++)16===this._remainingCounterIndex&&(this._remainingCounter=this._aes.encrypt(this._counter._counter),this._remainingCounterIndex=0,this._counter.increment()),g1[g2]^=this._remainingCounter[this._remainingCounterIndex++];return g1},g33.prototype.decrypt=g33.prototype.encrypt;var g34={AES:g27,Counter:g32,ModeOfOperation:{ecb:g28,cbc:g29,cfb:g30,ofb:g31,ctr:g33},utils:{hex:g9,utf8:g8},padding:{pkcs7:{pad:function(g0){var g1=16-(g0=g4(g0,!0)).length%16,g2=g5(g0.length+g1);g6(g0,g2);for(var g3=g0.length;g3<g2.length;g3++)g2[g3]=g1;return g2},strip:function(g0){if((g0=g4(g0,!0)).length<16)throw new Error("PKCS#7 invalid length");var g1=g0[g0.length-1];if(g1>16)throw new Error("PKCS#7 padding byte out of range");for(var g2=g0.length-g1,g3=0;g3<g1;g3++)if(g0[g2+g3]!==g1)throw new Error("PKCS#7 invalid padding byte");var g7=g5(g2);return g6(g0,g7,0,0,g2),g7}}},_arrayTest:{coerceArray:g4,createArray:g5,copyArray:g6}};g0.exports=g34}()},function(g0,g1,g2){g0.exports=function(g0){var g1={};function g2(g3){if(g1[g3])return g1[g3].exports;var g4=g1[g3]={i:g3,l:!1,exports:{}};return g0[g3].call(g4.exports,g4,g4.exports,g2),g4.l=!0,g4.exports}return g2.m=g0,g2.c=g1,g2.d=function(g0,g1,g3){g2.o(g0,g1)||Object.defineProperty(g0,g1,{enumerable:!0,get:g3})},g2.r=function(g0){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(g0,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(g0,"__esModule",{value:!0})},g2.t=function(g0,g1){if(1&g1&&(g0=g2(g0)),8&g1)return g0;if(4&g1&&"object"==typeof g0&&g0&&g0.__esModule)return g0;var g3=Object.create(null);if(g2.r(g3),Object.defineProperty(g3,"default",{enumerable:!0,value:g0}),2&g1&&"string"!=typeof g0)for(var g4 in g0)g2.d(g3,g4,function(g1){return g0[g1]}.bind(null,g4));return g3},g2.n=function(g0){var g1=g0&&g0.__esModule?function(){return g0.default}:function(){return g0};return g2.d(g1,"a",g1),g1},g2.o=function(g0,g1){return Object.prototype.hasOwnProperty.call(g0,g1)},g2.p="",g2(g2.s=2)}([function(g0,g1){g0.exports=g2(249)},function(g0,g1,g2){"use strict";function g3(g0,g1){for(var g2=[],g3=~~(g1/8),g4=g1%8,g5=0,g6=g0.length;g5<g6;g5++)g2[g5]=(g0[(g5+g3)%g6]<<g4&255)+(g0[(g5+g3+1)%g6]>>>8-g4&255);return g2}function g4(g0,g1){for(var g2=[],g3=g0.length-1;g3>=0;g3--)g2[g3]=255&(g0[g3]^g1[g3]);return g2}function g5(g0,g1){for(var g2=[],g3=g0.length-1;g3>=0;g3--)g2[g3]=g0[g3]&g1[g3]&255;return g2}function g6(g0,g1){for(var g2=[],g3=g0.length-1;g3>=0;g3--)g2[g3]=255&(g0[g3]|g1[g3]);return g2}function g7(g0,g1){for(var g2=[],g3=0,g4=g0.length-1;g4>=0;g4--){var g5=g0[g4]+g1[g4]+g3;g5>255?(g3=1,g2[g4]=255&g5):(g3=0,g2[g4]=255&g5)}return g2}function g8(g0){return g4(g4(g0,g3(g0,9)),g3(g0,17))}function g9(g0,g1,g2,g3){return g3>=0&&g3<=15?g4(g4(g0,g1),g2):g6(g6(g5(g0,g1),g5(g0,g2)),g5(g1,g2))}function g10(g0,g1,g2,g3){return g3>=0&&g3<=15?g4(g4(g0,g1),g2):g6(g5(g0,g1),g5(function(g0){for(var g1=[],g2=g0.length-1;g2>=0;g2--)g1[g2]=255&~g0[g2];return g1}(g0),g2))}function g11(g0,g1){for(var g2,g5=[],g6=[],g11=0;g11<16;g11++){var g12=4*g11;g5.push(g1.slice(g12,g12+4))}for(var g13=16;g13<68;g13++)g5.push(g4(g4((g2=g4(g4(g5[g13-16],g5[g13-9]),g3(g5[g13-3],15)),g4(g4(g2,g3(g2,15)),g3(g2,23))),g3(g5[g13-13],7)),g5[g13-6]));for(var g14=0;g14<64;g14++)g6.push(g4(g5[g14],g5[g14+4]));for(var g15=[121,204,69,25],g16=[122,135,157,138],g17=g0.slice(0,4),g18=g0.slice(4,8),g19=g0.slice(8,12),g20=g0.slice(12,16),g21=g0.slice(16,20),g22=g0.slice(20,24),g23=g0.slice(24,28),g24=g0.slice(28,32),g25=void 0,g26=void 0,g27=void 0,g28=void 0,g29=0;g29<64;g29++){var g30=g29>=0&&g29<=15?g15:g16;g26=g4(g25=g3(g7(g7(g3(g17,12),g21),g3(g30,g29)),7),g3(g17,12)),g27=g7(g7(g7(g9(g17,g18,g19,g29),g20),g26),g6[g29]),g28=g7(g7(g7(g10(g21,g22,g23,g29),g24),g25),g5[g29]),g20=g19,g19=g3(g18,9),g18=g17,g17=g27,g24=g23,g23=g3(g22,19),g22=g21,g21=g8(g28)}return g4([].concat(g17,g18,g19,g20,g21,g22,g23,g24),g0)}g0.exports=function(g0){var g1=8*g0.length,g2=g1%512;g2=g2>=448?512-g2%448-1:448-g2-1;for(var g3=new Array((g2-7)/8),g4=0,g5=g3.length;g4<g5;g4++)g3[g4]=0;var g6=[];g1=g1.toString(2);for(var g7=7;g7>=0;g7--)if(g1.length>8){var g8=g1.length-8;g6[g7]=parseInt(g1.substr(g8),2),g1=g1.substr(0,g8)}else g1.length>0?(g6[g7]=parseInt(g1,2),g1=""):g6[g7]=0;for(var g9=[].concat(g0,[128],g3,g6),g10=g9.length/64,g12=[115,128,22,111,73,20,178,185,23,36,66,215,218,138,6,0,169,111,48,188,22,49,56,170,227,141,238,77,176,251,14,78],g13=0;g13<g10;g13++){var g14=64*g13;g12=g11(g12,g9.slice(g14,g14+64))}return g12}},function(g0,g1,g2){"use strict";g0.exports={sm2:g2(3),sm3:g2(7),sm4:g2(8)}},function(g0,g1,g2){"use strict";var g3=g2(0).BigInteger,g4=g2(4),g5=g4.encodeDer,g6=g4.decodeDer,g7=g2(5),g8=g2(1),g9=g7.generateEcparam(),g10=g9.G,g11=g9.curve,g12=g9.n;function g13(g0,g1){var g2=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"1234567812345678";g2=g7.utf8ToHex(g2);var g3=g7.leftPad(g10.curve.a.toBigInteger().toRadix(16),64),g4=g7.leftPad(g10.curve.b.toBigInteger().toRadix(16),64),g5=g7.leftPad(g10.getX().toBigInteger().toRadix(16),64),g6=g7.leftPad(g10.getY().toBigInteger().toRadix(16),64);g1.length>128&&(g1=g1.substr(2,128));var g9=g1.substr(0,64),g11=g1.substr(64,64),g12=g7.hexToArray(g2+g3+g4+g5+g6+g9+g11),g13=4*g2.length;g12.unshift(255&g13),g12.unshift(g13>>8&255);var g14=g8(g12);return g7.arrayToHex(g8(g14.concat(g7.hexToArray(g0))))}function g14(g0){var g1=g10.multiply(new g3(g0,16));return"04"+g7.leftPad(g1.getX().toBigInteger().toString(16),64)+g7.leftPad(g1.getY().toBigInteger().toString(16),64)}function g15(){var g0=g7.generateKeyPairHex(),g1=g11.decodePointHex(g0.publicKey);return g0.k=new g3(g0.privateKey,16),g0.x1=g1.getX().toBigInteger(),g0}g0.exports={generateKeyPairHex:g7.generateKeyPairHex,doEncrypt:function(g0,g1){var g2=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;g0="string"==typeof g0?g7.hexToArray(g7.utf8ToHex(g0)):Array.prototype.slice.call(g0),g1=g7.getGlobalCurve().decodePointHex(g1);var g4=g7.generateKeyPairHex(),g5=new g3(g4.privateKey,16),g6=g4.publicKey;g6.length>128&&(g6=g6.substr(g6.length-128));var g9=g1.multiply(g5),g10=g7.hexToArray(g7.leftPad(g9.getX().toBigInteger().toRadix(16),64)),g11=g7.hexToArray(g7.leftPad(g9.getY().toBigInteger().toRadix(16),64)),g12=g7.arrayToHex(g8([].concat(g10,g0,g11))),g13=1,g14=0,g15=[],g16=[].concat(g10,g11),g17=function(){g15=g8([].concat(g16,[g13>>24&255,g13>>16&255,g13>>8&255,255&g13])),g13++,g14=0};g17();for(var g18=0,g19=g0.length;g18<g19;g18++)g14===g15.length&&g17(),g0[g18]^=255&g15[g14++];var g20=g7.arrayToHex(g0);return 0===g2?g6+g20+g12:g6+g12+g20},doDecrypt:function(g0,g1){var g2=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,g4=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},g5=g4.output,g6=void 0===g5?"string":g5;g1=new g3(g1,16);var g9=g0.substr(128,64),g10=g0.substr(192);0===g2&&(g9=g0.substr(g0.length-64),g10=g0.substr(128,g0.length-128-64));var g11=g7.hexToArray(g10),g12=g7.getGlobalCurve().decodePointHex("04"+g0.substr(0,128)),g13=g12.multiply(g1),g14=g7.hexToArray(g7.leftPad(g13.getX().toBigInteger().toRadix(16),64)),g15=g7.hexToArray(g7.leftPad(g13.getY().toBigInteger().toRadix(16),64)),g16=1,g17=0,g18=[],g19=[].concat(g14,g15),g20=function(){g18=g8([].concat(g19,[g16>>24&255,g16>>16&255,g16>>8&255,255&g16])),g16++,g17=0};g20();for(var g21=0,g22=g11.length;g21<g22;g21++)g17===g18.length&&g20(),g11[g21]^=255&g18[g17++];var g23=g7.arrayToHex(g8([].concat(g14,g11,g15)));return g23===g9?"array"===g6?g11:g7.arrayToUtf8(g11):"array"===g6?[]:""},doSignature:function(g0,g1){var g2=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},g4=g2.pointPool,g6=g2.der,g8=g2.hash,g9=g2.publicKey,g10=g2.userId,g11="string"==typeof g0?g7.utf8ToHex(g0):g7.arrayToHex(g0);g8&&(g11=g13(g11,g9=g9||g14(g1),g10));var g16=new g3(g1,16),g17=new g3(g11,16),g18=null,g19=null,g20=null;do{do{var g21=void 0;g18=(g21=g4&&g4.length?g4.pop():g15()).k,g19=g17.add(g21.x1).mod(g12)}while(g19.equals(g3.ZERO)||g19.add(g18).equals(g12));g20=g16.add(g3.ONE).modInverse(g12).multiply(g18.subtract(g19.multiply(g16))).mod(g12)}while(g20.equals(g3.ZERO));return g6?g5(g19,g20):g7.leftPad(g19.toString(16),64)+g7.leftPad(g20.toString(16),64)},doVerifySignature:function(g0,g1,g2){var g4=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},g5=g4.der,g8=g4.hash,g9=g4.userId,g14="string"==typeof g0?g7.utf8ToHex(g0):g7.arrayToHex(g0);g8&&(g14=g13(g14,g2,g9));var g15=void 0,g16=void 0;if(g5){var g17=g6(g1);g15=g17.r,g16=g17.s}else g15=new g3(g1.substring(0,64),16),g16=new g3(g1.substring(64),16);var g18=g11.decodePointHex(g2),g19=new g3(g14,16),g20=g15.add(g16).mod(g12);if(g20.equals(g3.ZERO))return!1;var g21=g10.multiply(g16).add(g18.multiply(g20)),g22=g19.add(g21.getX().toBigInteger()).mod(g12);return g15.equals(g22)},getPoint:g15,verifyPublicKey:g7.verifyPublicKey}},function(g0,g1,g2){"use strict";function g3(g0,g1){if(!g0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!g1||"object"!=typeof g1&&"function"!=typeof g1?g0:g1}function g4(g0,g1){if("function"!=typeof g1&&null!==g1)throw new TypeError("Super expression must either be null or a function, not "+typeof g1);g0.prototype=Object.create(g1&&g1.prototype,{constructor:{value:g0,enumerable:!1,writable:!0,configurable:!0}}),g1&&(Object.setPrototypeOf?Object.setPrototypeOf(g0,g1):g0.__proto__=g1)}function g5(g0,g1){if(!(g0 instanceof g1))throw new TypeError("Cannot call a class as a function")}var g6=g2(0).BigInteger;var g7=function(){function g0(){g5(this,g0),this.tlv=null,this.t="00",this.l="00",this.v=""}return g0.prototype.getEncodedHex=function(){return this.tlv||(this.v=this.getValue(),this.l=this.getLength(),this.tlv=this.t+this.l+this.v),this.tlv},g0.prototype.getLength=function(){var g0=this.v.length/2,g1=g0.toString(16);return g1.length%2==1&&(g1="0"+g1),g0<128?g1:(128+g1.length/2).toString(16)+g1},g0.prototype.getValue=function(){return""},g0}(),g8=function(g0){function g1(g2){g5(this,g1);var g4=g3(this,g0.call(this));return g4.t="02",g2&&(g4.v=function(g0){var g1=g0.toString(16);if("-"!==g1[0])g1.length%2==1?g1="0"+g1:g1.match(/^[0-7]/)||(g1="00"+g1);else{var g2=(g1=g1.substr(1)).length;g2%2==1?g2+=1:g1.match(/^[0-7]/)||(g2+=2);for(var g3="",g4=0;g4<g2;g4++)g3+="f";g1=(g1=(g3=new g6(g3,16)).xor(g0).add(g6.ONE)).toString(16).replace(/^-/,"")}return g1}(g2)),g4}return g4(g1,g0),g1.prototype.getValue=function(){return this.v},g1}(g7),g9=function(g0){function g1(g2){g5(this,g1);var g4=g3(this,g0.call(this));return g4.t="30",g4.asn1Array=g2,g4}return g4(g1,g0),g1.prototype.getValue=function(){return this.v=this.asn1Array.map((function(g0){return g0.getEncodedHex()})).join(""),this.v},g1}(g7);function g10(g0,g1){return+g0[g1+2]<8?1:128&+g0.substr(g1+2,2)}function g11(g0,g1){var g2=g10(g0,g1),g3=g0.substr(g1+2,2*g2);return g3?(+g3[0]<8?new g6(g3,16):new g6(g3.substr(2),16)).intValue():-1}function g12(g0,g1){return g1+2*(g10(g0,g1)+1)}g0.exports={encodeDer:function(g0,g1){var g2=new g8(g0),g3=new g8(g1);return new g9([g2,g3]).getEncodedHex()},decodeDer:function(g0){var g1=g12(g0,0),g2=g12(g0,g1),g3=g11(g0,g1),g4=g0.substr(g2,2*g3),g5=g2+g4.length,g7=g12(g0,g5),g8=g11(g0,g5),g9=g0.substr(g7,2*g8);return{r:new g6(g4,16),s:new g6(g9,16)}}}},function(g0,g1,g2){"use strict";var g3=g2(0),g4=g3.BigInteger,g5=g3.SecureRandom,g6=g2(6).ECCurveFp,g7=new g5,g8=g12(),g9=g8.curve,g10=g8.G,g11=g8.n;function g12(){var g0=new g4("FFFFFFFEFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF00000000FFFFFFFFFFFFFFFF",16),g1=new g4("FFFFFFFEFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF00000000FFFFFFFFFFFFFFFC",16),g2=new g4("28E9FA9E9D9F5E344D5A9E4BCF6509A7F39789F515AB8F92DDBCBD414D940E93",16),g3=new g6(g0,g1,g2),g5=g3.decodePointHex("0432C4AE2C1F1981195F9904466A39C9948FE30BBFF2660BE1715A4589334C74C7BC3736A2F4F6779C59BDCEE36B692153D0A9877CC62A474002DF32E52139F0A0");return{curve:g3,G:g5,n:new g4("FFFFFFFEFFFFFFFFFFFFFFFFFFFFFFFF7203DF6B21C6052B53BBF40939D54123",16)}}function g13(g0,g1){return g0.length>=g1?g0:new Array(g1-g0.length+1).join("0")+g0}g0.exports={getGlobalCurve:function(){return g9},generateEcparam:g12,generateKeyPairHex:function(g0,g1,g2){var g3=(g0?new g4(g0,g1,g2):new g4(g11.bitLength(),g7)).mod(g11.subtract(g4.ONE)).add(g4.ONE),g5=g13(g3.toString(16),64),g6=g10.multiply(g3);return{privateKey:g5,publicKey:"04"+g13(g6.getX().toBigInteger().toString(16),64)+g13(g6.getY().toBigInteger().toString(16),64)}},utf8ToHex:function(g0){for(var g1=(g0=unescape(encodeURIComponent(g0))).length,g2=[],g3=0;g3<g1;g3++)g2[g3>>>2]|=(255&g0.charCodeAt(g3))<<24-g3%4*8;for(var g4=[],g5=0;g5<g1;g5++){var g6=g2[g5>>>2]>>>24-g5%4*8&255;g4.push((g6>>>4).toString(16)),g4.push((15&g6).toString(16))}return g4.join("")},leftPad:g13,arrayToHex:function(g0){return g0.map((function(g0){return 1===(g0=g0.toString(16)).length?"0"+g0:g0})).join("")},arrayToUtf8:function(g0){for(var g1=[],g2=0,g3=0;g3<2*g0.length;g3+=2)g1[g3>>>3]|=parseInt(g0[g2],10)<<24-g3%8*4,g2++;try{for(var g4=[],g5=0;g5<g0.length;g5++){var g6=g1[g5>>>2]>>>24-g5%4*8&255;g4.push(String.fromCharCode(g6))}return decodeURIComponent(escape(g4.join("")))}catch(g0){throw new Error("Malformed UTF-8 data")}},hexToArray:function(g0){var g1=[],g2=g0.length;g2%2!=0&&(g0=g13(g0,g2+1)),g2=g0.length;for(var g3=0;g3<g2;g3+=2)g1.push(parseInt(g0.substr(g3,2),16));return g1},verifyPublicKey:function(g0){var g1=g9.decodePointHex(g0);if(!g1)return!1;var g2=g1.getX();return g1.getY().square().equals(g2.multiply(g2.square()).add(g2.multiply(g9.a)).add(g9.b))}}},function(g0,g1,g2){"use strict";function g3(g0,g1){if(!(g0 instanceof g1))throw new TypeError("Cannot call a class as a function")}var g4=g2(0).BigInteger,g5=new g4("3"),g6=function(){function g0(g1,g2){g3(this,g0),this.x=g2,this.q=g1}return g0.prototype.equals=function(g0){return g0===this||this.q.equals(g0.q)&&this.x.equals(g0.x)},g0.prototype.toBigInteger=function(){return this.x},g0.prototype.negate=function(){return new g0(this.q,this.x.negate().mod(this.q))},g0.prototype.add=function(g1){return new g0(this.q,this.x.add(g1.toBigInteger()).mod(this.q))},g0.prototype.subtract=function(g1){return new g0(this.q,this.x.subtract(g1.toBigInteger()).mod(this.q))},g0.prototype.multiply=function(g1){return new g0(this.q,this.x.multiply(g1.toBigInteger()).mod(this.q))},g0.prototype.divide=function(g1){return new g0(this.q,this.x.multiply(g1.toBigInteger().modInverse(this.q)).mod(this.q))},g0.prototype.square=function(){return new g0(this.q,this.x.square().mod(this.q))},g0}(),g7=function(){function g0(g1,g2,g5,g6){g3(this,g0),this.curve=g1,this.x=g2,this.y=g5,this.z=null==g6?g4.ONE:g6,this.zinv=null}return g0.prototype.getX=function(){return null===this.zinv&&(this.zinv=this.z.modInverse(this.curve.q)),this.curve.fromBigInteger(this.x.toBigInteger().multiply(this.zinv).mod(this.curve.q))},g0.prototype.getY=function(){return null===this.zinv&&(this.zinv=this.z.modInverse(this.curve.q)),this.curve.fromBigInteger(this.y.toBigInteger().multiply(this.zinv).mod(this.curve.q))},g0.prototype.equals=function(g0){return g0===this||(this.isInfinity()?g0.isInfinity():g0.isInfinity()?this.isInfinity():!!g0.y.toBigInteger().multiply(this.z).subtract(this.y.toBigInteger().multiply(g0.z)).mod(this.curve.q).equals(g4.ZERO)&&g0.x.toBigInteger().multiply(this.z).subtract(this.x.toBigInteger().multiply(g0.z)).mod(this.curve.q).equals(g4.ZERO))},g0.prototype.isInfinity=function(){return null===this.x&&null===this.y||this.z.equals(g4.ZERO)&&!this.y.toBigInteger().equals(g4.ZERO)},g0.prototype.negate=function(){return new g0(this.curve,this.x,this.y.negate(),this.z)},g0.prototype.add=function(g1){if(this.isInfinity())return g1;if(g1.isInfinity())return this;var g2=this.x.toBigInteger(),g3=this.y.toBigInteger(),g5=this.z,g6=g1.x.toBigInteger(),g7=g1.y.toBigInteger(),g8=g1.z,g9=this.curve.q,g10=g2.multiply(g8).mod(g9),g11=g6.multiply(g5).mod(g9),g12=g10.subtract(g11),g13=g3.multiply(g8).mod(g9),g14=g7.multiply(g5).mod(g9),g15=g13.subtract(g14);if(g4.ZERO.equals(g12))return g4.ZERO.equals(g15)?this.twice():this.curve.infinity;var g16=g10.add(g11),g17=g5.multiply(g8).mod(g9),g18=g12.square().mod(g9),g19=g12.multiply(g18).mod(g9),g20=g17.multiply(g15.square()).subtract(g16.multiply(g18)).mod(g9),g21=g12.multiply(g20).mod(g9),g22=g15.multiply(g18.multiply(g10).subtract(g20)).subtract(g13.multiply(g19)).mod(g9),g23=g19.multiply(g17).mod(g9);return new g0(this.curve,this.curve.fromBigInteger(g21),this.curve.fromBigInteger(g22),g23)},g0.prototype.twice=function(){if(this.isInfinity())return this;if(!this.y.toBigInteger().signum())return this.curve.infinity;var g1=this.x.toBigInteger(),g2=this.y.toBigInteger(),g3=this.z,g4=this.curve.q,g6=this.curve.a.toBigInteger(),g7=g1.square().multiply(g5).add(g6.multiply(g3.square())).mod(g4),g8=g2.shiftLeft(1).multiply(g3).mod(g4),g9=g2.square().mod(g4),g10=g9.multiply(g1).multiply(g3).mod(g4),g11=g8.square().mod(g4),g12=g7.square().subtract(g10.shiftLeft(3)).mod(g4),g13=g8.multiply(g12).mod(g4),g14=g7.multiply(g10.shiftLeft(2).subtract(g12)).subtract(g11.shiftLeft(1).multiply(g9)).mod(g4),g15=g8.multiply(g11).mod(g4);return new g0(this.curve,this.curve.fromBigInteger(g13),this.curve.fromBigInteger(g14),g15)},g0.prototype.multiply=function(g0){if(this.isInfinity())return this;if(!g0.signum())return this.curve.infinity;for(var g1=g0.multiply(g5),g2=this.negate(),g3=this,g4=g1.bitLength()-2;g4>0;g4--){g3=g3.twice();var g6=g1.testBit(g4);g6!==g0.testBit(g4)&&(g3=g3.add(g6?this:g2))}return g3},g0}(),g8=function(){function g0(g1,g2,g4){g3(this,g0),this.q=g1,this.a=this.fromBigInteger(g2),this.b=this.fromBigInteger(g4),this.infinity=new g7(this,null,null)}return g0.prototype.equals=function(g0){return g0===this||this.q.equals(g0.q)&&this.a.equals(g0.a)&&this.b.equals(g0.b)},g0.prototype.fromBigInteger=function(g0){return new g6(this.q,g0)},g0.prototype.decodePointHex=function(g0){switch(parseInt(g0.substr(0,2),16)){case 0:return this.infinity;case 2:case 3:default:return null;case 4:case 6:case 7:var g1=(g0.length-2)/2,g2=g0.substr(2,g1),g3=g0.substr(g1+2,g1);return new g7(this,this.fromBigInteger(new g4(g2,16)),this.fromBigInteger(new g4(g3,16)))}},g0}();g0.exports={ECPointFp:g7,ECCurveFp:g8}},function(g0,g1,g2){"use strict";var g3=g2(1);g0.exports=function(g0){return g0="string"==typeof g0?function(g0){for(var g1=[],g2=0,g3=g0.length;g2<g3;g2++){var g4=g0.codePointAt(g2);if(g4<=127)g1.push(g4);else if(g4<=2047)g1.push(192|g4>>>6),g1.push(128|63&g4);else if(g4<=55295||g4>=57344&&g4<=65535)g1.push(224|g4>>>12),g1.push(128|g4>>>6&63),g1.push(128|63&g4);else{if(!(g4>=65536&&g4<=1114111))throw g1.push(g4),new Error("input is not supported");g2++,g1.push(240|g4>>>18&28),g1.push(128|g4>>>12&63),g1.push(128|g4>>>6&63),g1.push(128|63&g4)}}return g1}(g0):Array.prototype.slice.call(g0),g3(g0).map((function(g0){return 1===(g0=g0.toString(16)).length?"0"+g0:g0})).join("")}},function(g0,g1,g2){"use strict";var g3=16,g4=[214,144,233,254,204,225,61,183,22,182,20,194,40,251,44,5,43,103,154,118,42,190,4,195,170,68,19,38,73,134,6,153,156,66,80,244,145,239,152,122,51,84,11,67,237,207,172,98,228,179,28,169,201,8,232,149,128,223,148,250,117,143,63,166,71,7,167,252,243,115,23,186,131,89,60,25,230,133,79,168,104,107,129,178,113,100,218,139,248,235,15,75,112,86,157,53,30,36,14,94,99,88,209,162,37,34,124,59,1,33,120,135,212,0,70,87,159,211,39,82,76,54,2,231,160,196,200,158,234,191,138,210,64,199,56,181,163,247,242,206,249,97,21,161,224,174,93,164,155,52,26,85,173,147,50,48,245,140,177,227,29,246,226,46,130,102,202,96,192,41,35,171,13,83,78,111,213,219,55,69,222,253,142,47,3,255,106,114,109,108,91,81,141,27,175,146,187,221,188,127,17,217,92,65,31,16,90,216,10,193,49,136,165,205,123,189,45,116,208,18,184,229,180,176,137,105,151,74,12,150,119,126,101,185,241,9,197,110,198,132,24,240,125,236,58,220,77,32,121,238,95,62,215,203,57,72],g5=[462357,472066609,943670861,1415275113,1886879365,2358483617,2830087869,3301692121,3773296373,4228057617,404694573,876298825,1347903077,1819507329,2291111581,2762715833,3234320085,3705924337,4177462797,337322537,808926789,1280531041,1752135293,2223739545,2695343797,3166948049,3638552301,4110090761,269950501,741554753,1213159005,1684763257];function g6(g0){for(var g1=[],g2=0,g3=g0.length;g2<g3;g2+=2)g1.push(parseInt(g0.substr(g2,2),16));return g1}function g7(g0){return g0.map((function(g0){return 1===(g0=g0.toString(16)).length?"0"+g0:g0})).join("")}function g8(g0){for(var g1=[],g2=0,g3=g0.length;g2<g3;g2++){var g4=g0.codePointAt(g2);if(g4<=127)g1.push(g4);else if(g4<=2047)g1.push(192|g4>>>6),g1.push(128|63&g4);else if(g4<=55295||g4>=57344&&g4<=65535)g1.push(224|g4>>>12),g1.push(128|g4>>>6&63),g1.push(128|63&g4);else{if(!(g4>=65536&&g4<=1114111))throw g1.push(g4),new Error("input is not supported");g2++,g1.push(240|g4>>>18&28),g1.push(128|g4>>>12&63),g1.push(128|g4>>>6&63),g1.push(128|63&g4)}}return g1}function g9(g0){for(var g1=[],g2=0,g3=g0.length;g2<g3;g2++)g0[g2]>=240&&g0[g2]<=247?(g1.push(String.fromCodePoint(((7&g0[g2])<<18)+((63&g0[g2+1])<<12)+((63&g0[g2+2])<<6)+(63&g0[g2+3]))),g2+=3):g0[g2]>=224&&g0[g2]<=239?(g1.push(String.fromCodePoint(((15&g0[g2])<<12)+((63&g0[g2+1])<<6)+(63&g0[g2+2]))),g2+=2):g0[g2]>=192&&g0[g2]<=223?(g1.push(String.fromCodePoint(((31&g0[g2])<<6)+(63&g0[g2+1]))),g2++):g1.push(String.fromCodePoint(g0[g2]));return g1.join("")}function g10(g0,g1){return g0<<g1|g0>>>32-g1}function g11(g0){return(255&g4[g0>>>24&255])<<24|(255&g4[g0>>>16&255])<<16|(255&g4[g0>>>8&255])<<8|255&g4[255&g0]}function g12(g0){return g0^g10(g0,2)^g10(g0,10)^g10(g0,18)^g10(g0,24)}function g13(g0){return g0^g10(g0,13)^g10(g0,23)}function g14(g0,g1,g2){for(var g3=new Array(4),g4=new Array(4),g5=0;g5<4;g5++)g4[0]=255&g0[4*g5],g4[1]=255&g0[4*g5+1],g4[2]=255&g0[4*g5+2],g4[3]=255&g0[4*g5+3],g3[g5]=g4[0]<<24|g4[1]<<16|g4[2]<<8|g4[3];for(var g6,g7=0;g7<32;g7+=4)g6=g3[1]^g3[2]^g3[3]^g2[g7+0],g3[0]^=g12(g11(g6)),g6=g3[2]^g3[3]^g3[0]^g2[g7+1],g3[1]^=g12(g11(g6)),g6=g3[3]^g3[0]^g3[1]^g2[g7+2],g3[2]^=g12(g11(g6)),g6=g3[0]^g3[1]^g3[2]^g2[g7+3],g3[3]^=g12(g11(g6));for(var g8=0;g8<16;g8+=4)g1[g8]=g3[3-g8/4]>>>24&255,g1[g8+1]=g3[3-g8/4]>>>16&255,g1[g8+2]=g3[3-g8/4]>>>8&255,g1[g8+3]=255&g3[3-g8/4]}function g15(g0,g1,g2){for(var g3=new Array(4),g4=new Array(4),g6=0;g6<4;g6++)g4[0]=255&g0[0+4*g6],g4[1]=255&g0[1+4*g6],g4[2]=255&g0[2+4*g6],g4[3]=255&g0[3+4*g6],g3[g6]=g4[0]<<24|g4[1]<<16|g4[2]<<8|g4[3];g3[0]^=2746333894,g3[1]^=1453994832,g3[2]^=1736282519,g3[3]^=2993693404;for(var g7,g8=0;g8<32;g8+=4)g7=g3[1]^g3[2]^g3[3]^g5[g8+0],g1[g8+0]=g3[0]^=g13(g11(g7)),g7=g3[2]^g3[3]^g3[0]^g5[g8+1],g1[g8+1]=g3[1]^=g13(g11(g7)),g7=g3[3]^g3[0]^g3[1]^g5[g8+2],g1[g8+2]=g3[2]^=g13(g11(g7)),g7=g3[0]^g3[1]^g3[2]^g5[g8+3],g1[g8+3]=g3[3]^=g13(g11(g7));if(0===g2)for(var g9,g10=0;g10<16;g10++)g9=g1[g10],g1[g10]=g1[31-g10],g1[31-g10]=g9}function g16(g0,g1,g2){var g4=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},g5=g4.padding,g10=void 0===g5?"pkcs#7":g5,g11=g4.mode,g12=g4.iv,g13=void 0===g12?[]:g12,g16=g4.output,g17=void 0===g16?"string":g16;if("cbc"===g11&&("string"==typeof g13&&(g13=g6(g13)),16!==g13.length))throw new Error("iv is invalid");if("string"==typeof g1&&(g1=g6(g1)),16!==g1.length)throw new Error("key is invalid");if(g0="string"==typeof g0?0!==g2?g8(g0):g6(g0):[].concat(g0),("pkcs#5"===g10||"pkcs#7"===g10)&&0!==g2)for(var g18=g3-g0.length%g3,g19=0;g19<g18;g19++)g0.push(g18);var g20=new Array(32);g15(g1,g20,g2);for(var g21=[],g22=g13,g23=g0.length,g24=0;g23>=g3;){var g25=g0.slice(g24,g24+16),g26=new Array(16);if("cbc"===g11)for(var g27=0;g27<g3;g27++)0!==g2&&(g25[g27]^=g22[g27]);g14(g25,g26,g20);for(var g28=0;g28<g3;g28++)"cbc"===g11&&0===g2&&(g26[g28]^=g22[g28]),g21[g24+g28]=g26[g28];"cbc"===g11&&(g22=0!==g2?g26:g25),g23-=g3,g24+=g3}if(("pkcs#5"===g10||"pkcs#7"===g10)&&0===g2){var g29=g21[g21.length-1];g21.splice(g21.length-g29,g29)}return"array"!==g17?0!==g2?g7(g21):g9(g21):g21}g0.exports={encrypt:function(g0,g1,g2){return g16(g0,g1,1,g2)},decrypt:function(g0,g1,g2){return g16(g0,g1,0,g2)}}}])},function(g0,g1,g2){(function(){var g1;function g2(g0,g1,g2){null!=g0&&("number"==typeof g0?this.fromNumber(g0,g1,g2):null==g1&&"string"!=typeof g0?this.fromString(g0,256):this.fromString(g0,g1))}function g3(){return new g2(null)}var g4="undefined"!=typeof navigator;g4&&"Microsoft Internet Explorer"==navigator.appName?(g2.prototype.am=function(g0,g1,g2,g3,g4,g5){for(var g6=32767&g1,g7=g1>>15;--g5>=0;){var g8=32767&this[g0],g9=this[g0++]>>15,g10=g7*g8+g9*g6;g4=((g8=g6*g8+((32767&g10)<<15)+g2[g3]+(1073741823&g4))>>>30)+(g10>>>15)+g7*g9+(g4>>>30),g2[g3++]=1073741823&g8}return g4},g1=30):g4&&"Netscape"!=navigator.appName?(g2.prototype.am=function(g0,g1,g2,g3,g4,g5){for(;--g5>=0;){var g6=g1*this[g0++]+g2[g3]+g4;g4=Math.floor(g6/67108864),g2[g3++]=67108863&g6}return g4},g1=26):(g2.prototype.am=function(g0,g1,g2,g3,g4,g5){for(var g6=16383&g1,g7=g1>>14;--g5>=0;){var g8=16383&this[g0],g9=this[g0++]>>14,g10=g7*g8+g9*g6;g4=((g8=g6*g8+((16383&g10)<<14)+g2[g3]+g4)>>28)+(g10>>14)+g7*g9,g2[g3++]=268435455&g8}return g4},g1=28),g2.prototype.DB=g1,g2.prototype.DM=(1<<g1)-1,g2.prototype.DV=1<<g1;g2.prototype.FV=Math.pow(2,52),g2.prototype.F1=52-g1,g2.prototype.F2=2*g1-52;var g5,g6,g7=new Array;for(g5="0".charCodeAt(0),g6=0;g6<=9;++g6)g7[g5++]=g6;for(g5="a".charCodeAt(0),g6=10;g6<36;++g6)g7[g5++]=g6;for(g5="A".charCodeAt(0),g6=10;g6<36;++g6)g7[g5++]=g6;function g8(g0){return"0123456789abcdefghijklmnopqrstuvwxyz".charAt(g0)}function g9(g0,g1){var g2=g7[g0.charCodeAt(g1)];return null==g2?-1:g2}function g10(g0){var g1=g3();return g1.fromInt(g0),g1}function g11(g0){var g1,g2=1;return 0!=(g1=g0>>>16)&&(g0=g1,g2+=16),0!=(g1=g0>>8)&&(g0=g1,g2+=8),0!=(g1=g0>>4)&&(g0=g1,g2+=4),0!=(g1=g0>>2)&&(g0=g1,g2+=2),0!=(g1=g0>>1)&&(g0=g1,g2+=1),g2}function g12(g0){this.m=g0}function g13(g0){this.m=g0,this.mp=g0.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<g0.DB-15)-1,this.mt2=2*g0.t}function g14(g0,g1){return g0&g1}function g15(g0,g1){return g0|g1}function g16(g0,g1){return g0^g1}function g17(g0,g1){return g0&~g1}function g18(g0){if(0==g0)return-1;var g1=0;return 0==(65535&g0)&&(g0>>=16,g1+=16),0==(255&g0)&&(g0>>=8,g1+=8),0==(15&g0)&&(g0>>=4,g1+=4),0==(3&g0)&&(g0>>=2,g1+=2),0==(1&g0)&&++g1,g1}function g19(g0){for(var g1=0;0!=g0;)g0&=g0-1,++g1;return g1}function g20(){}function g21(g0){return g0}function g22(g0){this.r2=g3(),this.q3=g3(),g2.ONE.dlShiftTo(2*g0.t,this.r2),this.mu=this.r2.divide(g0),this.m=g0}g12.prototype.convert=function(g0){return g0.s<0||g0.compareTo(this.m)>=0?g0.mod(this.m):g0},g12.prototype.revert=function(g0){return g0},g12.prototype.reduce=function(g0){g0.divRemTo(this.m,null,g0)},g12.prototype.mulTo=function(g0,g1,g2){g0.multiplyTo(g1,g2),this.reduce(g2)},g12.prototype.sqrTo=function(g0,g1){g0.squareTo(g1),this.reduce(g1)},g13.prototype.convert=function(g0){var g1=g3();return g0.abs().dlShiftTo(this.m.t,g1),g1.divRemTo(this.m,null,g1),g0.s<0&&g1.compareTo(g2.ZERO)>0&&this.m.subTo(g1,g1),g1},g13.prototype.revert=function(g0){var g1=g3();return g0.copyTo(g1),this.reduce(g1),g1},g13.prototype.reduce=function(g0){for(;g0.t<=this.mt2;)g0[g0.t++]=0;for(var g1=0;g1<this.m.t;++g1){var g2=32767&g0[g1],g3=g2*this.mpl+((g2*this.mph+(g0[g1]>>15)*this.mpl&this.um)<<15)&g0.DM;for(g0[g2=g1+this.m.t]+=this.m.am(0,g3,g0,g1,0,this.m.t);g0[g2]>=g0.DV;)g0[g2]-=g0.DV,g0[++g2]++}g0.clamp(),g0.drShiftTo(this.m.t,g0),g0.compareTo(this.m)>=0&&g0.subTo(this.m,g0)},g13.prototype.mulTo=function(g0,g1,g2){g0.multiplyTo(g1,g2),this.reduce(g2)},g13.prototype.sqrTo=function(g0,g1){g0.squareTo(g1),this.reduce(g1)},g2.prototype.copyTo=function(g0){for(var g1=this.t-1;g1>=0;--g1)g0[g1]=this[g1];g0.t=this.t,g0.s=this.s},g2.prototype.fromInt=function(g0){this.t=1,this.s=g0<0?-1:0,g0>0?this[0]=g0:g0<-1?this[0]=g0+this.DV:this.t=0},g2.prototype.fromString=function(g0,g1){var g3;if(16==g1)g3=4;else if(8==g1)g3=3;else if(256==g1)g3=8;else if(2==g1)g3=1;else if(32==g1)g3=5;else{if(4!=g1)return void this.fromRadix(g0,g1);g3=2}this.t=0,this.s=0;for(var g4=g0.length,g5=!1,g6=0;--g4>=0;){var g7=8==g3?255&g0[g4]:g9(g0,g4);g7<0?"-"==g0.charAt(g4)&&(g5=!0):(g5=!1,0==g6?this[this.t++]=g7:g6+g3>this.DB?(this[this.t-1]|=(g7&(1<<this.DB-g6)-1)<<g6,this[this.t++]=g7>>this.DB-g6):this[this.t-1]|=g7<<g6,(g6+=g3)>=this.DB&&(g6-=this.DB))}8==g3&&0!=(128&g0[0])&&(this.s=-1,g6>0&&(this[this.t-1]|=(1<<this.DB-g6)-1<<g6)),this.clamp(),g5&&g2.ZERO.subTo(this,this)},g2.prototype.clamp=function(){for(var g0=this.s&this.DM;this.t>0&&this[this.t-1]==g0;)--this.t},g2.prototype.dlShiftTo=function(g0,g1){var g2;for(g2=this.t-1;g2>=0;--g2)g1[g2+g0]=this[g2];for(g2=g0-1;g2>=0;--g2)g1[g2]=0;g1.t=this.t+g0,g1.s=this.s},g2.prototype.drShiftTo=function(g0,g1){for(var g2=g0;g2<this.t;++g2)g1[g2-g0]=this[g2];g1.t=Math.max(this.t-g0,0),g1.s=this.s},g2.prototype.lShiftTo=function(g0,g1){var g2,g3=g0%this.DB,g4=this.DB-g3,g5=(1<<g4)-1,g6=Math.floor(g0/this.DB),g7=this.s<<g3&this.DM;for(g2=this.t-1;g2>=0;--g2)g1[g2+g6+1]=this[g2]>>g4|g7,g7=(this[g2]&g5)<<g3;for(g2=g6-1;g2>=0;--g2)g1[g2]=0;g1[g6]=g7,g1.t=this.t+g6+1,g1.s=this.s,g1.clamp()},g2.prototype.rShiftTo=function(g0,g1){g1.s=this.s;var g2=Math.floor(g0/this.DB);if(g2>=this.t)g1.t=0;else{var g3=g0%this.DB,g4=this.DB-g3,g5=(1<<g3)-1;g1[0]=this[g2]>>g3;for(var g6=g2+1;g6<this.t;++g6)g1[g6-g2-1]|=(this[g6]&g5)<<g4,g1[g6-g2]=this[g6]>>g3;g3>0&&(g1[this.t-g2-1]|=(this.s&g5)<<g4),g1.t=this.t-g2,g1.clamp()}},g2.prototype.subTo=function(g0,g1){for(var g2=0,g3=0,g4=Math.min(g0.t,this.t);g2<g4;)g3+=this[g2]-g0[g2],g1[g2++]=g3&this.DM,g3>>=this.DB;if(g0.t<this.t){for(g3-=g0.s;g2<this.t;)g3+=this[g2],g1[g2++]=g3&this.DM,g3>>=this.DB;g3+=this.s}else{for(g3+=this.s;g2<g0.t;)g3-=g0[g2],g1[g2++]=g3&this.DM,g3>>=this.DB;g3-=g0.s}g1.s=g3<0?-1:0,g3<-1?g1[g2++]=this.DV+g3:g3>0&&(g1[g2++]=g3),g1.t=g2,g1.clamp()},g2.prototype.multiplyTo=function(g0,g1){var g3=this.abs(),g4=g0.abs(),g5=g3.t;for(g1.t=g5+g4.t;--g5>=0;)g1[g5]=0;for(g5=0;g5<g4.t;++g5)g1[g5+g3.t]=g3.am(0,g4[g5],g1,g5,0,g3.t);g1.s=0,g1.clamp(),this.s!=g0.s&&g2.ZERO.subTo(g1,g1)},g2.prototype.squareTo=function(g0){for(var g1=this.abs(),g2=g0.t=2*g1.t;--g2>=0;)g0[g2]=0;for(g2=0;g2<g1.t-1;++g2){var g3=g1.am(g2,g1[g2],g0,2*g2,0,1);(g0[g2+g1.t]+=g1.am(g2+1,2*g1[g2],g0,2*g2+1,g3,g1.t-g2-1))>=g1.DV&&(g0[g2+g1.t]-=g1.DV,g0[g2+g1.t+1]=1)}g0.t>0&&(g0[g0.t-1]+=g1.am(g2,g1[g2],g0,2*g2,0,1)),g0.s=0,g0.clamp()},g2.prototype.divRemTo=function(g0,g1,g4){var g5=g0.abs();if(!(g5.t<=0)){var g6=this.abs();if(g6.t<g5.t)return null!=g1&&g1.fromInt(0),void(null!=g4&&this.copyTo(g4));null==g4&&(g4=g3());var g7=g3(),g8=this.s,g9=g0.s,g10=this.DB-g11(g5[g5.t-1]);g10>0?(g5.lShiftTo(g10,g7),g6.lShiftTo(g10,g4)):(g5.copyTo(g7),g6.copyTo(g4));var g12=g7.t,g13=g7[g12-1];if(0!=g13){var g14=g13*(1<<this.F1)+(g12>1?g7[g12-2]>>this.F2:0),g15=this.FV/g14,g16=(1<<this.F1)/g14,g17=1<<this.F2,g18=g4.t,g19=g18-g12,g20=null==g1?g3():g1;for(g7.dlShiftTo(g19,g20),g4.compareTo(g20)>=0&&(g4[g4.t++]=1,g4.subTo(g20,g4)),g2.ONE.dlShiftTo(g12,g20),g20.subTo(g7,g7);g7.t<g12;)g7[g7.t++]=0;for(;--g19>=0;){var g21=g4[--g18]==g13?this.DM:Math.floor(g4[g18]*g15+(g4[g18-1]+g17)*g16);if((g4[g18]+=g7.am(0,g21,g4,g19,0,g12))<g21)for(g7.dlShiftTo(g19,g20),g4.subTo(g20,g4);g4[g18]<--g21;)g4.subTo(g20,g4)}null!=g1&&(g4.drShiftTo(g12,g1),g8!=g9&&g2.ZERO.subTo(g1,g1)),g4.t=g12,g4.clamp(),g10>0&&g4.rShiftTo(g10,g4),g8<0&&g2.ZERO.subTo(g4,g4)}}},g2.prototype.invDigit=function(){if(this.t<1)return 0;var g0=this[0];if(0==(1&g0))return 0;var g1=3&g0;return(g1=(g1=(g1=(g1=g1*(2-(15&g0)*g1)&15)*(2-(255&g0)*g1)&255)*(2-((65535&g0)*g1&65535))&65535)*(2-g0*g1%this.DV)%this.DV)>0?this.DV-g1:-g1},g2.prototype.isEven=function(){return 0==(this.t>0?1&this[0]:this.s)},g2.prototype.exp=function(g0,g1){if(g0>4294967295||g0<1)return g2.ONE;var g4=g3(),g5=g3(),g6=g1.convert(this),g7=g11(g0)-1;for(g6.copyTo(g4);--g7>=0;)if(g1.sqrTo(g4,g5),(g0&1<<g7)>0)g1.mulTo(g5,g6,g4);else{var g8=g4;g4=g5,g5=g8}return g1.revert(g4)},g2.prototype.toString=function(g0){if(this.s<0)return"-"+this.negate().toString(g0);var g1;if(16==g0)g1=4;else if(8==g0)g1=3;else if(2==g0)g1=1;else if(32==g0)g1=5;else{if(4!=g0)return this.toRadix(g0);g1=2}var g2,g3=(1<<g1)-1,g4=!1,g5="",g6=this.t,g7=this.DB-g6*this.DB%g1;if(g6-- >0)for(g7<this.DB&&(g2=this[g6]>>g7)>0&&(g4=!0,g5=g8(g2));g6>=0;)g7<g1?(g2=(this[g6]&(1<<g7)-1)<<g1-g7,g2|=this[--g6]>>(g7+=this.DB-g1)):(g2=this[g6]>>(g7-=g1)&g3,g7<=0&&(g7+=this.DB,--g6)),g2>0&&(g4=!0),g4&&(g5+=g8(g2));return g4?g5:"0"},g2.prototype.negate=function(){var g0=g3();return g2.ZERO.subTo(this,g0),g0},g2.prototype.abs=function(){return this.s<0?this.negate():this},g2.prototype.compareTo=function(g0){var g1=this.s-g0.s;if(0!=g1)return g1;var g2=this.t;if(0!=(g1=g2-g0.t))return this.s<0?-g1:g1;for(;--g2>=0;)if(0!=(g1=this[g2]-g0[g2]))return g1;return 0},g2.prototype.bitLength=function(){return this.t<=0?0:this.DB*(this.t-1)+g11(this[this.t-1]^this.s&this.DM)},g2.prototype.mod=function(g0){var g1=g3();return this.abs().divRemTo(g0,null,g1),this.s<0&&g1.compareTo(g2.ZERO)>0&&g0.subTo(g1,g1),g1},g2.prototype.modPowInt=function(g0,g1){var g2;return g2=g0<256||g1.isEven()?new g12(g1):new g13(g1),this.exp(g0,g2)},g2.ZERO=g10(0),g2.ONE=g10(1),g20.prototype.convert=g21,g20.prototype.revert=g21,g20.prototype.mulTo=function(g0,g1,g2){g0.multiplyTo(g1,g2)},g20.prototype.sqrTo=function(g0,g1){g0.squareTo(g1)},g22.prototype.convert=function(g0){if(g0.s<0||g0.t>2*this.m.t)return g0.mod(this.m);if(g0.compareTo(this.m)<0)return g0;var g1=g3();return g0.copyTo(g1),this.reduce(g1),g1},g22.prototype.revert=function(g0){return g0},g22.prototype.reduce=function(g0){for(g0.drShiftTo(this.m.t-1,this.r2),g0.t>this.m.t+1&&(g0.t=this.m.t+1,g0.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);g0.compareTo(this.r2)<0;)g0.dAddOffset(1,this.m.t+1);for(g0.subTo(this.r2,g0);g0.compareTo(this.m)>=0;)g0.subTo(this.m,g0)},g22.prototype.mulTo=function(g0,g1,g2){g0.multiplyTo(g1,g2),this.reduce(g2)},g22.prototype.sqrTo=function(g0,g1){g0.squareTo(g1),this.reduce(g1)};var g23,g24,g25,g26=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997],g27=(1<<26)/g26[g26.length-1];function g28(){var g0;g0=(new Date).getTime(),g24[g25++]^=255&g0,g24[g25++]^=g0>>8&255,g24[g25++]^=g0>>16&255,g24[g25++]^=g0>>24&255,g25>=g35&&(g25-=g35)}if(g2.prototype.chunkSize=function(g0){return Math.floor(Math.LN2*this.DB/Math.log(g0))},g2.prototype.toRadix=function(g0){if(null==g0&&(g0=10),0==this.signum()||g0<2||g0>36)return"0";var g1=this.chunkSize(g0),g2=Math.pow(g0,g1),g4=g10(g2),g5=g3(),g6=g3(),g7="";for(this.divRemTo(g4,g5,g6);g5.signum()>0;)g7=(g2+g6.intValue()).toString(g0).substr(1)+g7,g5.divRemTo(g4,g5,g6);return g6.intValue().toString(g0)+g7},g2.prototype.fromRadix=function(g0,g1){this.fromInt(0),null==g1&&(g1=10);for(var g3=this.chunkSize(g1),g4=Math.pow(g1,g3),g5=!1,g6=0,g7=0,g8=0;g8<g0.length;++g8){var g10=g9(g0,g8);g10<0?"-"==g0.charAt(g8)&&0==this.signum()&&(g5=!0):(g7=g1*g7+g10,++g6>=g3&&(this.dMultiply(g4),this.dAddOffset(g7,0),g6=0,g7=0))}g6>0&&(this.dMultiply(Math.pow(g1,g6)),this.dAddOffset(g7,0)),g5&&g2.ZERO.subTo(this,this)},g2.prototype.fromNumber=function(g0,g1,g3){if("number"==typeof g1)if(g0<2)this.fromInt(1);else for(this.fromNumber(g0,g3),this.testBit(g0-1)||this.bitwiseTo(g2.ONE.shiftLeft(g0-1),g15,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(g1);)this.dAddOffset(2,0),this.bitLength()>g0&&this.subTo(g2.ONE.shiftLeft(g0-1),this);else{var g4=new Array,g5=7&g0;g4.length=1+(g0>>3),g1.nextBytes(g4),g5>0?g4[0]&=(1<<g5)-1:g4[0]=0,this.fromString(g4,256)}},g2.prototype.bitwiseTo=function(g0,g1,g2){var g3,g4,g5=Math.min(g0.t,this.t);for(g3=0;g3<g5;++g3)g2[g3]=g1(this[g3],g0[g3]);if(g0.t<this.t){for(g4=g0.s&this.DM,g3=g5;g3<this.t;++g3)g2[g3]=g1(this[g3],g4);g2.t=this.t}else{for(g4=this.s&this.DM,g3=g5;g3<g0.t;++g3)g2[g3]=g1(g4,g0[g3]);g2.t=g0.t}g2.s=g1(this.s,g0.s),g2.clamp()},g2.prototype.changeBit=function(g0,g1){var g3=g2.ONE.shiftLeft(g0);return this.bitwiseTo(g3,g1,g3),g3},g2.prototype.addTo=function(g0,g1){for(var g2=0,g3=0,g4=Math.min(g0.t,this.t);g2<g4;)g3+=this[g2]+g0[g2],g1[g2++]=g3&this.DM,g3>>=this.DB;if(g0.t<this.t){for(g3+=g0.s;g2<this.t;)g3+=this[g2],g1[g2++]=g3&this.DM,g3>>=this.DB;g3+=this.s}else{for(g3+=this.s;g2<g0.t;)g3+=g0[g2],g1[g2++]=g3&this.DM,g3>>=this.DB;g3+=g0.s}g1.s=g3<0?-1:0,g3>0?g1[g2++]=g3:g3<-1&&(g1[g2++]=this.DV+g3),g1.t=g2,g1.clamp()},g2.prototype.dMultiply=function(g0){this[this.t]=this.am(0,g0-1,this,0,0,this.t),++this.t,this.clamp()},g2.prototype.dAddOffset=function(g0,g1){if(0!=g0){for(;this.t<=g1;)this[this.t++]=0;for(this[g1]+=g0;this[g1]>=this.DV;)this[g1]-=this.DV,++g1>=this.t&&(this[this.t++]=0),++this[g1]}},g2.prototype.multiplyLowerTo=function(g0,g1,g2){var g3,g4=Math.min(this.t+g0.t,g1);for(g2.s=0,g2.t=g4;g4>0;)g2[--g4]=0;for(g3=g2.t-this.t;g4<g3;++g4)g2[g4+this.t]=this.am(0,g0[g4],g2,g4,0,this.t);for(g3=Math.min(g0.t,g1);g4<g3;++g4)this.am(0,g0[g4],g2,g4,0,g1-g4);g2.clamp()},g2.prototype.multiplyUpperTo=function(g0,g1,g2){--g1;var g3=g2.t=this.t+g0.t-g1;for(g2.s=0;--g3>=0;)g2[g3]=0;for(g3=Math.max(g1-this.t,0);g3<g0.t;++g3)g2[this.t+g3-g1]=this.am(g1-g3,g0[g3],g2,0,0,this.t+g3-g1);g2.clamp(),g2.drShiftTo(1,g2)},g2.prototype.modInt=function(g0){if(g0<=0)return 0;var g1=this.DV%g0,g2=this.s<0?g0-1:0;if(this.t>0)if(0==g1)g2=this[0]%g0;else for(var g3=this.t-1;g3>=0;--g3)g2=(g1*g2+this[g3])%g0;return g2},g2.prototype.millerRabin=function(g0){var g1=this.subtract(g2.ONE),g4=g1.getLowestSetBit();if(g4<=0)return!1;var g5=g1.shiftRight(g4);(g0=g0+1>>1)>g26.length&&(g0=g26.length);for(var g6=g3(),g7=0;g7<g0;++g7){g6.fromInt(g26[Math.floor(Math.random()*g26.length)]);var g8=g6.modPow(g5,this);if(0!=g8.compareTo(g2.ONE)&&0!=g8.compareTo(g1)){for(var g9=1;g9++<g4&&0!=g8.compareTo(g1);)if(0==(g8=g8.modPowInt(2,this)).compareTo(g2.ONE))return!1;if(0!=g8.compareTo(g1))return!1}}return!0},g2.prototype.clone=function(){var g0=g3();return this.copyTo(g0),g0},g2.prototype.intValue=function(){if(this.s<0){if(1==this.t)return this[0]-this.DV;if(0==this.t)return-1}else{if(1==this.t)return this[0];if(0==this.t)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]},g2.prototype.byteValue=function(){return 0==this.t?this.s:this[0]<<24>>24},g2.prototype.shortValue=function(){return 0==this.t?this.s:this[0]<<16>>16},g2.prototype.signum=function(){return this.s<0?-1:this.t<=0||1==this.t&&this[0]<=0?0:1},g2.prototype.toByteArray=function(){var g0=this.t,g1=new Array;g1[0]=this.s;var g2,g3=this.DB-g0*this.DB%8,g4=0;if(g0-- >0)for(g3<this.DB&&(g2=this[g0]>>g3)!=(this.s&this.DM)>>g3&&(g1[g4++]=g2|this.s<<this.DB-g3);g0>=0;)g3<8?(g2=(this[g0]&(1<<g3)-1)<<8-g3,g2|=this[--g0]>>(g3+=this.DB-8)):(g2=this[g0]>>(g3-=8)&255,g3<=0&&(g3+=this.DB,--g0)),0!=(128&g2)&&(g2|=-256),0==g4&&(128&this.s)!=(128&g2)&&++g4,(g4>0||g2!=this.s)&&(g1[g4++]=g2);return g1},g2.prototype.equals=function(g0){return 0==this.compareTo(g0)},g2.prototype.min=function(g0){return this.compareTo(g0)<0?this:g0},g2.prototype.max=function(g0){return this.compareTo(g0)>0?this:g0},g2.prototype.and=function(g0){var g1=g3();return this.bitwiseTo(g0,g14,g1),g1},g2.prototype.or=function(g0){var g1=g3();return this.bitwiseTo(g0,g15,g1),g1},g2.prototype.xor=function(g0){var g1=g3();return this.bitwiseTo(g0,g16,g1),g1},g2.prototype.andNot=function(g0){var g1=g3();return this.bitwiseTo(g0,g17,g1),g1},g2.prototype.not=function(){for(var g0=g3(),g1=0;g1<this.t;++g1)g0[g1]=this.DM&~this[g1];return g0.t=this.t,g0.s=~this.s,g0},g2.prototype.shiftLeft=function(g0){var g1=g3();return g0<0?this.rShiftTo(-g0,g1):this.lShiftTo(g0,g1),g1},g2.prototype.shiftRight=function(g0){var g1=g3();return g0<0?this.lShiftTo(-g0,g1):this.rShiftTo(g0,g1),g1},g2.prototype.getLowestSetBit=function(){for(var g0=0;g0<this.t;++g0)if(0!=this[g0])return g0*this.DB+g18(this[g0]);return this.s<0?this.t*this.DB:-1},g2.prototype.bitCount=function(){for(var g0=0,g1=this.s&this.DM,g2=0;g2<this.t;++g2)g0+=g19(this[g2]^g1);return g0},g2.prototype.testBit=function(g0){var g1=Math.floor(g0/this.DB);return g1>=this.t?0!=this.s:0!=(this[g1]&1<<g0%this.DB)},g2.prototype.setBit=function(g0){return this.changeBit(g0,g15)},g2.prototype.clearBit=function(g0){return this.changeBit(g0,g17)},g2.prototype.flipBit=function(g0){return this.changeBit(g0,g16)},g2.prototype.add=function(g0){var g1=g3();return this.addTo(g0,g1),g1},g2.prototype.subtract=function(g0){var g1=g3();return this.subTo(g0,g1),g1},g2.prototype.multiply=function(g0){var g1=g3();return this.multiplyTo(g0,g1),g1},g2.prototype.divide=function(g0){var g1=g3();return this.divRemTo(g0,g1,null),g1},g2.prototype.remainder=function(g0){var g1=g3();return this.divRemTo(g0,null,g1),g1},g2.prototype.divideAndRemainder=function(g0){var g1=g3(),g2=g3();return this.divRemTo(g0,g1,g2),new Array(g1,g2)},g2.prototype.modPow=function(g0,g1){var g2,g4,g5=g0.bitLength(),g6=g10(1);if(g5<=0)return g6;g2=g5<18?1:g5<48?3:g5<144?4:g5<768?5:6,g4=g5<8?new g12(g1):g1.isEven()?new g22(g1):new g13(g1);var g7=new Array,g8=3,g9=g2-1,g14=(1<<g2)-1;if(g7[1]=g4.convert(this),g2>1){var g15=g3();for(g4.sqrTo(g7[1],g15);g8<=g14;)g7[g8]=g3(),g4.mulTo(g15,g7[g8-2],g7[g8]),g8+=2}var g16,g17,g18=g0.t-1,g19=!0,g20=g3();for(g5=g11(g0[g18])-1;g18>=0;){for(g5>=g9?g16=g0[g18]>>g5-g9&g14:(g16=(g0[g18]&(1<<g5+1)-1)<<g9-g5,g18>0&&(g16|=g0[g18-1]>>this.DB+g5-g9)),g8=g2;0==(1&g16);)g16>>=1,--g8;if((g5-=g8)<0&&(g5+=this.DB,--g18),g19)g7[g16].copyTo(g6),g19=!1;else{for(;g8>1;)g4.sqrTo(g6,g20),g4.sqrTo(g20,g6),g8-=2;g8>0?g4.sqrTo(g6,g20):(g17=g6,g6=g20,g20=g17),g4.mulTo(g20,g7[g16],g6)}for(;g18>=0&&0==(g0[g18]&1<<g5);)g4.sqrTo(g6,g20),g17=g6,g6=g20,g20=g17,--g5<0&&(g5=this.DB-1,--g18)}return g4.revert(g6)},g2.prototype.modInverse=function(g0){var g1=g0.isEven();if(this.isEven()&&g1||0==g0.signum())return g2.ZERO;for(var g3=g0.clone(),g4=this.clone(),g5=g10(1),g6=g10(0),g7=g10(0),g8=g10(1);0!=g3.signum();){for(;g3.isEven();)g3.rShiftTo(1,g3),g1?(g5.isEven()&&g6.isEven()||(g5.addTo(this,g5),g6.subTo(g0,g6)),g5.rShiftTo(1,g5)):g6.isEven()||g6.subTo(g0,g6),g6.rShiftTo(1,g6);for(;g4.isEven();)g4.rShiftTo(1,g4),g1?(g7.isEven()&&g8.isEven()||(g7.addTo(this,g7),g8.subTo(g0,g8)),g7.rShiftTo(1,g7)):g8.isEven()||g8.subTo(g0,g8),g8.rShiftTo(1,g8);g3.compareTo(g4)>=0?(g3.subTo(g4,g3),g1&&g5.subTo(g7,g5),g6.subTo(g8,g6)):(g4.subTo(g3,g4),g1&&g7.subTo(g5,g7),g8.subTo(g6,g8))}return 0!=g4.compareTo(g2.ONE)?g2.ZERO:g8.compareTo(g0)>=0?g8.subtract(g0):g8.signum()<0?(g8.addTo(g0,g8),g8.signum()<0?g8.add(g0):g8):g8},g2.prototype.pow=function(g0){return this.exp(g0,new g20)},g2.prototype.gcd=function(g0){var g1=this.s<0?this.negate():this.clone(),g2=g0.s<0?g0.negate():g0.clone();if(g1.compareTo(g2)<0){var g3=g1;g1=g2,g2=g3}var g4=g1.getLowestSetBit(),g5=g2.getLowestSetBit();if(g5<0)return g1;for(g4<g5&&(g5=g4),g5>0&&(g1.rShiftTo(g5,g1),g2.rShiftTo(g5,g2));g1.signum()>0;)(g4=g1.getLowestSetBit())>0&&g1.rShiftTo(g4,g1),(g4=g2.getLowestSetBit())>0&&g2.rShiftTo(g4,g2),g1.compareTo(g2)>=0?(g1.subTo(g2,g1),g1.rShiftTo(1,g1)):(g2.subTo(g1,g2),g2.rShiftTo(1,g2));return g5>0&&g2.lShiftTo(g5,g2),g2},g2.prototype.isProbablePrime=function(g0){var g1,g2=this.abs();if(1==g2.t&&g2[0]<=g26[g26.length-1]){for(g1=0;g1<g26.length;++g1)if(g2[0]==g26[g1])return!0;return!1}if(g2.isEven())return!1;for(g1=1;g1<g26.length;){for(var g3=g26[g1],g4=g1+1;g4<g26.length&&g3<g27;)g3*=g26[g4++];for(g3=g2.modInt(g3);g1<g4;)if(g3%g26[g1++]==0)return!1}return g2.millerRabin(g0)},g2.prototype.square=function(){var g0=g3();return this.squareTo(g0),g0},g2.prototype.Barrett=g22,null==g24){var g29;if(g24=new Array,g25=0,"undefined"!=typeof window&&window.crypto)if(window.crypto.getRandomValues){var g30=new Uint8Array(32);for(window.crypto.getRandomValues(g30),g29=0;g29<32;++g29)g24[g25++]=g30[g29]}else if("Netscape"==navigator.appName&&navigator.appVersion<"5"){var g31=window.crypto.random(32);for(g29=0;g29<g31.length;++g29)g24[g25++]=255&g31.charCodeAt(g29)}for(;g25<g35;)g29=Math.floor(65536*Math.random()),g24[g25++]=g29>>>8,g24[g25++]=255&g29;g25=0,g28()}function g32(){if(null==g23){for(g28(),(g23=new g34).init(g24),g25=0;g25<g24.length;++g25)g24[g25]=0;g25=0}return g23.next()}function g33(){}function g34(){this.i=0,this.j=0,this.S=new Array}g33.prototype.nextBytes=function(g0){var g1;for(g1=0;g1<g0.length;++g1)g0[g1]=g32()},g34.prototype.init=function(g0){var g1,g2,g3;for(g1=0;g1<256;++g1)this.S[g1]=g1;for(g2=0,g1=0;g1<256;++g1)g2=g2+this.S[g1]+g0[g1%g0.length]&255,g3=this.S[g1],this.S[g1]=this.S[g2],this.S[g2]=g3;this.i=0,this.j=0},g34.prototype.next=function(){var g0;return this.i=this.i+1&255,this.j=this.j+this.S[this.i]&255,g0=this.S[this.i],this.S[this.i]=this.S[this.j],this.S[this.j]=g0,this.S[g0+this.S[this.i]&255]};var g35=256;g0.exports={default:g2,BigInteger:g2,SecureRandom:g33}}).call(this)},function(g0,g1,g2){"use strict";(function(g1,g3){var g4,g5=g2(10),g6=(g4=g5)&&g4.__esModule?g4:{default:g4},g7=g2(260);var g8=g2(261),g9=g2(135),g10=g2(155),g11=g2(93),g12=g2(97),g13={},g14="wildfirechat.net",g15="wx_12345678",g16="83ae04335b791d68df7eb12df7cc732bcdc8a417";function g17(g0,g1,g4,g5,g6){!function(g0,g1,g4,g5,g6){var g8=void 0,g9=g12.default.ROUTE_PORT?g12.default.ROUTE_PORT:80;g12.default.USE_WSS?(g20("https route"),g8="https://wildfirechat.net"+(443!==g9?":"+g9:"")+"/route"):g8="http://wildfirechat.net"+(80!==g9?":"+g9:"")+"/route";var g10=g2(164),g11=g2(367),g13=g10.Root.fromJSON(g11),g17=g13.lookupType("RouteRequest"),g21=g13.lookupType("RouteResponse"),g22=g13.lookupType("IMHttpWrapper"),g23=g2(48).AESDecrypt,g24=g2(48).Uint8ToStr,g25=g2(48).AESEncrypt,g26="",g27="",g28=g2(61).decode,g29=g2(61).encode,g30=g17.create();g30.app="cn.wildfirechat.chat.wx",g30.appVersion="0.1",g30.deviceName="wx",g30.platform=6,g30.phoneName="browser",g30.sdkVersion="0.1",g30.wxAppId=g15,g30.wxAppKey=g16,g30.language=g12.default.LANGUAGE;var g31=void 0;try{g31=g24(g23(g4,"",!1))}catch(g0){g20("token error!!!")}var g32=g31.split("|")[0];g26=g31.split("|")[1],g27=new g3(g25(g32,g26),"base64"),g30.host=g25("wildfirechat.net","");var g33=g17.encode(g30).finish(),g34=g22.create();g34.clientId=g1,g34.token=g32,g34.request="ROUTE",g34.data=g33;var g35=g22.encode(g34).finish(),g36=g25(g35,g26);g6.mp.request({url:g8,data:g36,header:{"content-type":"application/octet-stream",p:"wx",cid:g25(g1),uid:g25(g0),"Content-Type":"application/octet-stream",appId:g15,appKey:g16},headers:{"content-type":"application/octet-stream",p:"wx",cid:g25(g1),uid:g25(g0),"Content-Type":"application/octet-stream",appId:g15,appKey:g16},method:"POST",dataType:"text",success:function(g2){if(200===g2.statusCode||200===g2.status){var g3=g28(g2.data),g4=new Int8Array(g3,0,1);if(0===g4[0]){for(var g9=g29(g3.slice(1)),g10=g23(g9,g26,!0),g11=g21.decode(g10),g13=g11.node+"|wildfirechat.net",g15="",g16=0;g16<g13.length;g16++)g15+=String.fromCharCode(90^g13[g16].charCodeAt(0));g13=(0,g7.btoa)(unescape(encodeURIComponent(g15)));var g17={keepalive:g12.default.KEEP_ALIVE_TIMEOUT,clientId:g1,protocolId:"MQTT",protocolVersion:6,clean:!0,reconnectPeriod:0,resubscribe:!1,connectTimeout:2e4,a:g14,will:{topic:g13,payload:"Connection Closed abnormally..!",qos:1,retain:!1},rejectUnauthorized:!1};g17.username=g0,g17.password=g27,g17.extra=g6;var g22=(new Date).getTime(),g24=void 0,g25=(8&g11.commercial)>0,g30=void 0;g20("route res",g11.host,g11.longPort,g11.wssPort),g12.default.USE_WSS?(g20("wss mqtts"),g30=(g30=g25?g11.wssPort:g11.longPort)||g11.longPort,g24=g18(g6.scheme+"s://"+g11.host+":"+g30,g17)):(g20("ws mqtt",g12.default.USE_WSS),g30=g11.longPort,g24=g18(g6.scheme+"://"+g11.host+":"+g30,g17)),g19=g11.host;var g31={isReceiptEnable:(2&g11.commercial)>0,isClearGroupMsgWhenKickoff:(4&g11.commercial)>0,isDisableRoamingConvList:(16&g11.commercial)>0,isKeepMsgAfterDismiss:(32&g11.commercial)>0,isSupportBigFileUpload:(64&g11.commercial)>0,isBackupDownloadUrl:(128&g11.commercial)>0,isGlobalDisableSyncDraft:(256&g11.commercial)>0,isSupportQos0Message:(512&g11.commercial)>0,isUserOnlineStateEnable:(1024&g11.commercial)>0};(1&g11.commercial)>0?g5(0,g24,g26,g22,g31,function(){var g0=void 0,g1=g12.default.ROUTE_PORT?g12.default.ROUTE_PORT:80;g12.default.USE_WSS?(g20("https im"),g0="https://wildfirechat.net"+(443!==g1?":"+g1:"")):g0="http://wildfirechat.net"+(80!==g1?":"+g1:"");return g0}()):g5(-1)}else g20("route error",g8,g4[0]),g5(g4[0])}else console.log("route error",g2)},fail:function(g0){g20("http route errorUSE_WSSROUTE_PORT",g8,g0,g6.mp.request.status),g5(-1)}})}(g0,g1,g4,g5,g6)}function g18(g0,g1){if("object"!==(void 0===g0?"undefined":(0,g6.default)(g0))||g1||(g1=g0,g0=null),g1=g1||{},g0){var g2=g10.parse(g0,!0);if(null!=g2.port&&(g2.port=Number(g2.port)),null===(g1=g11(g2,g1)).protocol)throw new Error("Missing protocol");g1.protocol=g1.protocol.replace(/:$/,"")}if(function(g0){var g1;g0.auth&&((g1=g0.auth.match(/^(.+):(.+)$/))?(g0.username=g1[1],g0.password=g1[2]):g0.username=g0.auth)}(g1),g1.query&&"string"==typeof g1.query.clientId&&(g1.clientId=g1.query.clientId),g1.cert&&g1.key){if(!g1.protocol)throw new Error("Missing secure protocol key");if(-1===["mqtts","wss","wxs","alis","bds","tts","qqs","unis"].indexOf(g1.protocol))switch(g1.protocol){case"mqtt":g1.protocol="mqtts";break;case"ws":g1.protocol="wss";break;case"wx":g1.protocol="wxs";break;case"ali":g1.protocol="alis";break;case"bd":g1.protocol="bds";break;case"tt":g1.protocol="tts";break;case"qq":g1.protocol="qqs";break;case"uni":g1.protocol="unis";break;default:throw new Error('Unknown protocol for secure connection: "'+g1.protocol+'"!')}}if(!g13[g1.protocol]){var g3=-1!==["mqtts","wss"].indexOf(g1.protocol);g1.protocol=["mqtt","mqtts","ws","wss","wx","wxs","ali","alis","bd","bds","tt","tts","qq","qqs","uni","unis"].filter((function(g0,g1){return(!g3||g1%2!=0)&&"function"==typeof g13[g0]}))[0]}if(!1===g1.clean&&!g1.clientId)throw new Error("Missing clientId for unclean clients");return g1.protocol&&(g1.defaultProtocol=g1.protocol),new g8((function(g0){return g1.servers&&(g0._reconnectCount&&g0._reconnectCount!==g1.servers.length||(g0._reconnectCount=0),g1.host=g1.servers[g0._reconnectCount].host,g1.port=g1.servers[g0._reconnectCount].port,g1.protocol=g1.servers[g0._reconnectCount].protocol?g1.servers[g0._reconnectCount].protocol:g1.defaultProtocol,g1.hostname=g1.host,g0._reconnectCount++),g13[g1.protocol](g0,g1)}),g1)}"browser"!==g1.title?(g13.mqtt=g2(156),g13.tcp=g2(156),g13.ssl=g2(98),g13.tls=g2(98),g13.mqtts=g2(98)):(g13.wx=g2(157),g13.wxs=g2(157),g13.ali=g2(158),g13.alis=g2(158),g13.bd=g2(159),g13.bds=g2(159),g13.tt=g2(160),g13.tts=g2(160),g13.qq=g2(161),g13.qqs=g2(161),g13.uni=g2(162),g13.unis=g2(162)),g13.ws=g2(163),g13.wss=g2(163);var g19="";function g20(g0){if(!g12.default.DISABLE_LOG){for(var g1,g2=arguments.length,g3=Array(g2>1?g2-1:0),g4=1;g4<g2;g4++)g3[g4-1]=arguments[g4];(g1=console).log.apply(g1,[g0].concat(g3))}}g0.exports=g17,g0.exports.connect=g17,g0.exports.MqttClient=g8,g0.exports.Store=g9,g0.exports.host=function(){return g19}}).call(this,g2(3),g2(11).Buffer)},function(g0,g1,g2){g0.exports={default:g2(252),__esModule:!0}},function(g0,g1,g2){g2(31),g2(46),g0.exports=g2(90).f("iterator")},function(g0,g1,g2){g0.exports={default:g2(254),__esModule:!0}},function(g0,g1,g2){g2(255),g2(57),g2(258),g2(259),g0.exports=g2(0).Symbol},function(g0,g1,g2){"use strict";var g3=g2(4),g4=g2(27),g5=g2(9),g6=g2(2),g7=g2(107),g8=g2(58).KEY,g9=g2(26),g10=g2(77),g11=g2(45),g12=g2(56),g13=g2(5),g14=g2(90),g15=g2(91),g16=g2(256),g17=g2(119),g18=g2(18),g19=g2(8),g20=g2(33),g21=g2(32),g22=g2(74),g23=g2(41),g24=g2(54),g25=g2(133),g26=g2(257),g27=g2(86),g28=g2(12),g29=g2(43),g30=g26.f,g31=g28.f,g32=g25.f,g33=g3.Symbol,g34=g3.JSON,g35=g34&&g34.stringify,g36=g13("_hidden"),g37=g13("toPrimitive"),g38={}.propertyIsEnumerable,g39=g10("symbol-registry"),g40=g10("symbols"),g41=g10("op-symbols"),g42=Object.prototype,g43="function"==typeof g33&&!!g27.f,g44=g3.QObject,g45=!g44||!g44.prototype||!g44.prototype.findChild,g46=g5&&g9((function(){return 7!=g24(g31({},"a",{get:function(){return g31(this,"a",{value:7}).a}})).a}))?function(g0,g1,g2){var g3=g30(g42,g1);g3&&delete g42[g1],g31(g0,g1,g2),g3&&g0!==g42&&g31(g42,g1,g3)}:g31,g47=function(g0){var g1=g40[g0]=g24(g33.prototype);return g1._k=g0,g1},g48=g43&&"symbol"==typeof g33.iterator?function(g0){return"symbol"==typeof g0}:function(g0){return g0 instanceof g33},g49=function(g0,g1,g2){return g0===g42&&g49(g41,g1,g2),g18(g0),g1=g22(g1,!0),g18(g2),g4(g40,g1)?(g2.enumerable?(g4(g0,g36)&&g0[g36][g1]&&(g0[g36][g1]=!1),g2=g24(g2,{enumerable:g23(0,!1)})):(g4(g0,g36)||g31(g0,g36,g23(1,{})),g0[g36][g1]=!0),g46(g0,g1,g2)):g31(g0,g1,g2)},g50=function(g0,g1){g18(g0);for(var g2,g3=g16(g1=g21(g1)),g4=0,g5=g3.length;g5>g4;)g49(g0,g2=g3[g4++],g1[g2]);return g0},g51=function(g0){var g1=g38.call(this,g0=g22(g0,!0));return!(this===g42&&g4(g40,g0)&&!g4(g41,g0))&&(!(g1||!g4(this,g0)||!g4(g40,g0)||g4(this,g36)&&this[g36][g0])||g1)},g52=function(g0,g1){if(g0=g21(g0),g1=g22(g1,!0),g0!==g42||!g4(g40,g1)||g4(g41,g1)){var g2=g30(g0,g1);return!g2||!g4(g40,g1)||g4(g0,g36)&&g0[g36][g1]||(g2.enumerable=!0),g2}},g53=function(g0){for(var g1,g2=g32(g21(g0)),g3=[],g5=0;g2.length>g5;)g4(g40,g1=g2[g5++])||g1==g36||g1==g8||g3.push(g1);return g3},g54=function(g0){for(var g1,g2=g0===g42,g3=g32(g2?g41:g21(g0)),g5=[],g6=0;g3.length>g6;)!g4(g40,g1=g3[g6++])||g2&&!g4(g42,g1)||g5.push(g40[g1]);return g5};g43||(g33=function(){if(this instanceof g33)throw TypeError("Symbol is not a constructor!");var g0=g12(arguments.length>0?arguments[0]:void 0),g1=function(g2){this===g42&&g1.call(g41,g2),g4(this,g36)&&g4(this[g36],g0)&&(this[g36][g0]=!1),g46(this,g0,g23(1,g2))};return g5&&g45&&g46(g42,g0,{configurable:!0,set:g1}),g47(g0)},g7(g33.prototype,"toString",(function(){return this._k})),g26.f=g52,g28.f=g49,g2(134).f=g25.f=g53,g2(59).f=g51,g27.f=g54,g5&&!g2(39)&&g7(g42,"propertyIsEnumerable",g51,!0),g14.f=function(g0){return g47(g13(g0))}),g6(g6.G+g6.W+g6.F*!g43,{Symbol:g33});for(var g55="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),g56=0;g55.length>g56;)g13(g55[g56++]);for(var g57=g29(g13.store),g58=0;g57.length>g58;)g15(g57[g58++]);g6(g6.S+g6.F*!g43,"Symbol",{for:function(g0){return g4(g39,g0+="")?g39[g0]:g39[g0]=g33(g0)},keyFor:function(g0){if(!g48(g0))throw TypeError(g0+" is not a symbol!");for(var g1 in g39)if(g39[g1]===g0)return g1},useSetter:function(){g45=!0},useSimple:function(){g45=!1}}),g6(g6.S+g6.F*!g43,"Object",{create:function(g0,g1){return void 0===g1?g24(g0):g50(g24(g0),g1)},defineProperty:g49,defineProperties:g50,getOwnPropertyDescriptor:g52,getOwnPropertyNames:g53,getOwnPropertySymbols:g54});var g59=g9((function(){g27.f(1)}));g6(g6.S+g6.F*g59,"Object",{getOwnPropertySymbols:function(g0){return g27.f(g20(g0))}}),g34&&g6(g6.S+g6.F*(!g43||g9((function(){var g0=g33();return"[null]"!=g35([g0])||"{}"!=g35({a:g0})||"{}"!=g35(Object(g0))}))),"JSON",{stringify:function(g0){for(var g1,g2,g3=[g0],g4=1;arguments.length>g4;)g3.push(arguments[g4++]);if(g2=g1=g3[1],(g19(g1)||void 0!==g0)&&!g48(g0))return g17(g1)||(g1=function(g0,g1){if("function"==typeof g2&&(g1=g2.call(this,g0,g1)),!g48(g1))return g1}),g3[1]=g1,g35.apply(g34,g3)}}),g33.prototype[g37]||g2(22)(g33.prototype,g37,g33.prototype.valueOf),g11(g33,"Symbol"),g11(Math,"Math",!0),g11(g3.JSON,"JSON",!0)},function(g0,g1,g2){var g3=g2(43),g4=g2(86),g5=g2(59);g0.exports=function(g0){var g1=g3(g0),g2=g4.f;if(g2)for(var g6,g7=g2(g0),g8=g5.f,g9=0;g7.length>g9;)g8.call(g0,g6=g7[g9++])&&g1.push(g6);return g1}},function(g0,g1,g2){var g3=g2(59),g4=g2(41),g5=g2(32),g6=g2(74),g7=g2(27),g8=g2(106),g9=Object.getOwnPropertyDescriptor;g1.f=g2(9)?g9:function(g0,g1){if(g0=g5(g0),g1=g6(g1,!0),g8)try{return g9(g0,g1)}catch(g0){}if(g7(g0,g1))return g4(!g3.f.call(g0,g1),g0[g1])}},function(g0,g1,g2){g2(91)("asyncIterator")},function(g0,g1,g2){g2(91)("observable")},function(g0,g1){g0.exports=g19},function(g0,g1,g2){"use strict";(function(g1,g3){var g4=g7(g2(10)),g5=g7(g2(6)),g6=g7(g2(7));function g7(g0){return g0&&g0.__esModule?g0:{default:g0}}var g8=g2(49),g9=g2(135),g10=g2(326),g11=g2(14).Writable,g12=g2(19),g13=g2(338),g14=g2(339),g15=g2(93),g16=g1.setImmediate||function(g0){g3.nextTick(g0)},g17={keepalive:60,reschedulePings:!0,protocolId:"MQTT",protocolVersion:4,reconnectPeriod:1e3,connectTimeout:3e4,clean:!0,resubscribe:!0},g18={0:"",1:"Unacceptable protocol version",2:"Identifier rejected",3:"Server unavailable",4:"Bad username or password",5:"Not authorized",16:"No matching subscribers",17:"No subscription existed",128:"Unspecified error",129:"Malformed Packet",130:"Protocol Error",131:"Implementation specific error",132:"Unsupported Protocol Version",133:"Client Identifier not valid",134:"Bad User Name or Password",135:"Not authorized",136:"Server unavailable",137:"Server busy",138:"Banned",139:"Server shutting down",140:"Bad authentication method",141:"Keep Alive timeout",142:"Session taken over",143:"Topic Filter invalid",144:"Topic Name invalid",145:"Packet identifier in use",146:"Packet Identifier not found",147:"Receive Maximum exceeded",148:"Topic Alias invalid",149:"Packet too large",150:"Message rate too high",151:"Quota exceeded",152:"Administrative action",153:"Payload format invalid",154:"Retain not supported",155:"QoS not supported",156:"Use another server",157:"Server moved",158:"Shared Subscriptions not supported",159:"Connection rate exceeded",160:"Maximum connect time",161:"Subscription Identifiers not supported",162:"Wildcard Subscriptions not supported"};function g19(g0,g1,g2){g0.emit("packetsend",g1),!g10.writeToStream(g1,g0.stream,g0.options)&&g2?g0.stream.once("drain",g2):g2&&g2()}function g20(g0){g0&&(0,g6.default)(g0).forEach((function(g1){"function"==typeof g0[g1]&&(g0[g1](new Error("Connection closed")),delete g0[g1])}))}function g21(g0,g1,g2,g3){g0.outgoingStore.put(g1,(function(g4){if(g4)return g2&&g2(g4);g3(),g19(g0,g1,g2)}))}function g22(){}function g23(g0,g1){var g2,g3=this;if(!(this instanceof g23))return new g23(g0,g1);for(g2 in this.options=g1||{},g17)void 0===this.options[g2]?this.options[g2]=g17[g2]:this.options[g2]=g1[g2];this.options.clientId="string"==typeof g1.clientId?g1.clientId:"mqttjs_"+Math.random().toString(16).substr(2,8),this.options.customHandleAcks=5===g1.protocolVersion&&g1.customHandleAcks?g1.customHandleAcks:function(){arguments[3](0)},this.streamBuilder=g0,this.outgoingStore=g1.outgoingStore||new g9,this.incomingStore=g1.incomingStore||new g9,this.queueQoSZero=void 0===g1.queueQoSZero||g1.queueQoSZero,this._resubscribeTopics={},this.messageIdToTopic={},this.pingTimer=null,this.connected=!1,this.disconnecting=!1,this.queue=[],this.connackTimer=null,this.reconnectTimer=null,this._storeProcessing=!1,this._packetIdsDuringStoreProcessing={},this.nextId=Math.max(1,Math.floor(65535*Math.random())),this.outgoing={},this._firstConnection=!0,this.on("close",(function(){this.connected=!1,clearTimeout(this.connackTimer)})),this.on("connect",(function(){var g0=this.queue;!function g1(){var g2,g4=g0.shift();g4&&(g2=g4.packet,g3._sendPacket(g2,(function(g0){g4.cb&&g4.cb(g0),g1()})))}()})),this.on("close",(function(){null!==g3.pingTimer&&(g3.pingTimer.clear(),g3.pingTimer=null)})),g8.EventEmitter.call(this),this._setupStream()}g12(g23,g8.EventEmitter),g23.prototype._setupStream=function(){var g0,g1=this,g2=new g11,g6=g10.parser(this.options),g7=null,g8=[];function g9(){if(g8.length)g3.nextTick(g12);else{var g0=g7;g7=null,g0()}}function g12(){var g0=g8.shift();if(g0)g1._handlePacket(g0,g9);else{var g2=g7;g7=null,g2&&g2()}}if(this._clearReconnect(),this.stream=this.streamBuilder(this),g6.on("packet",(function(g0){g8.push(g0)})),g2._write=function(g0,g1,g2){g7=g2,g6.parse(g0),g12()},this.stream.pipe(g2),this.stream.on("error",g22),this.stream.on("close",(function(){g1.emit("close")})),(g0=(0,g5.default)(this.options)).cmd="connect",g19(this,g0),g6.on("error",this.emit.bind(this,"error")),this.options.properties){if(!this.options.properties.authenticationMethod&&this.options.properties.authenticationData)return this.emit("error",new Error("Packet has no Authentication Method")),this;if(this.options.properties.authenticationMethod&&this.options.authPacket&&"object"===(0,g4.default)(this.options.authPacket))g19(this,g15({cmd:"auth",reasonCode:0},this.options.authPacket))}this.stream.setMaxListeners(1e3),clearTimeout(this.connackTimer),this.connackTimer=setTimeout((function(){g1._cleanUp(!0)}),this.options.connectTimeout)},g23.prototype._handlePacket=function(g0,g1){var g2=this.options;if(5===g2.protocolVersion&&g2.properties&&g2.properties.maximumPacketSize&&g2.properties.maximumPacketSize<g0.length)return this.emit("error",new Error("exceeding packets size "+g0.cmd)),this.end({reasonCode:149,properties:{reasonString:"Maximum packet size was exceeded"}}),this;switch(this.emit("packetreceive",g0),g0.cmd){case"publish":try{this._handlePublish(g0,g1)}catch(g0){console.error(g0)}break;case"puback":case"pubrec":case"pubcomp":case"suback":case"unsuback":try{this._handleAck(g0)}catch(g0){console.log(g0)}g1();break;case"pubrel":this._handlePubrel(g0,g1);break;case"connack":this._handleConnack(g0),g1();break;case"pingresp":this._handlePingresp(g0),g1();break;case"disconnect":this._handleDisconnect(g0),g1()}},g23.prototype._checkDisconnecting=function(g0){return this.disconnecting&&(g0?g0(new Error("client disconnecting")):this.emit("error",new Error("client disconnecting"))),this.disconnecting},g23.prototype.publish=function(g0,g1,g2,g3){var g4,g5=this.options;"function"==typeof g2&&(g3=g2,g2=null);if(g2=g15({qos:0,retain:!1,dup:!1},g2),this._checkDisconnecting(g3))return this;switch(g4={cmd:"publish",topic:g0,payload:g1,qos:g2.qos,retain:g2.retain,messageId:this._nextId(),dup:g2.dup},5===g5.protocolVersion&&(g4.properties=g2.properties,(!g5.properties&&g4.properties&&g4.properties.topicAlias||g2.properties&&g5.properties&&(g2.properties.topicAlias&&g5.properties.topicAliasMaximum&&g2.properties.topicAlias>g5.properties.topicAliasMaximum||!g5.properties.topicAliasMaximum&&g2.properties.topicAlias))&&delete g4.properties.topicAlias),g2.qos){case 1:case 2:this.outgoing[g4.messageId]=g3||g22,this._storeProcessing?(this._packetIdsDuringStoreProcessing[g4.messageId]=!1,this._storePacket(g4,void 0,g2.cbStorePut)):this._sendPacket(g4,void 0,g2.cbStorePut);break;default:this._storeProcessing?this._storePacket(g4,g3,g2.cbStorePut):this._sendPacket(g4,g3,g2.cbStorePut)}return this},g23.prototype.subscribe=function(){for(var g0,g1=new Array(arguments.length),g2=0;g2<arguments.length;g2++)g1[g2]=arguments[g2];var g3,g4=[],g5=g1.shift(),g7=g5.resubscribe,g8=g1.pop()||g22,g9=g1.pop(),g10=this,g11=this.options.protocolVersion;if(delete g5.resubscribe,"string"==typeof g5&&(g5=[g5]),"function"!=typeof g8&&(g9=g8,g8=g22),null!==(g3=g14.validateTopics(g5)))return g16(g8,new Error("Invalid topic "+g3)),this;if(this._checkDisconnecting(g8))return this;var g12={qos:0};if(5===g11&&(g12.nl=!1,g12.rap=!1,g12.rh=0),g9=g15(g12,g9),Array.isArray(g5)?g5.forEach((function(g0){if(!g10._resubscribeTopics.hasOwnProperty(g0)||g10._resubscribeTopics[g0].qos<g9.qos||g7){var g1={topic:g0,qos:g9.qos};5===g11&&(g1.nl=g9.nl,g1.rap=g9.rap,g1.rh=g9.rh,g1.properties=g9.properties),g4.push(g1)}})):(0,g6.default)(g5).forEach((function(g0){if(!g10._resubscribeTopics.hasOwnProperty(g0)||g10._resubscribeTopics[g0].qos<g5[g0].qos||g7){var g1={topic:g0,qos:g5[g0].qos};5===g11&&(g1.nl=g5[g0].nl,g1.rap=g5[g0].rap,g1.rh=g5[g0].rh,g1.properties=g9.properties),g4.push(g1)}})),g0={cmd:"subscribe",subscriptions:g4,qos:1,retain:!1,dup:!1,messageId:this._nextId()},g9.properties&&(g0.properties=g9.properties),g4.length){if(this.options.resubscribe){var g13=[];g4.forEach((function(g0){if(g10.options.reconnectPeriod>0){var g1={qos:g0.qos};5===g11&&(g1.nl=g0.nl||!1,g1.rap=g0.rap||!1,g1.rh=g0.rh||0,g1.properties=g0.properties),g10._resubscribeTopics[g0.topic]=g1,g13.push(g0.topic)}})),g10.messageIdToTopic[g0.messageId]=g13}return this.outgoing[g0.messageId]=function(g0,g1){if(!g0)for(var g2=g1.granted,g3=0;g3<g2.length;g3+=1)g4[g3].qos=g2[g3];g8(g0,g4)},this._sendPacket(g0),this}g8(null,[])},g23.prototype.unsubscribe=function(){for(var g0={cmd:"unsubscribe",qos:1,messageId:this._nextId()},g1=this,g2=new Array(arguments.length),g3=0;g3<arguments.length;g3++)g2[g3]=arguments[g3];var g5=g2.shift(),g6=g2.pop()||g22,g7=g2.pop();return"string"==typeof g5&&(g5=[g5]),"function"!=typeof g6&&(g7=g6,g6=g22),this._checkDisconnecting(g6)||("string"==typeof g5?g0.unsubscriptions=[g5]:"object"===(void 0===g5?"undefined":(0,g4.default)(g5))&&g5.length&&(g0.unsubscriptions=g5),this.options.resubscribe&&g0.unsubscriptions.forEach((function(g0){delete g1._resubscribeTopics[g0]})),"object"===(void 0===g7?"undefined":(0,g4.default)(g7))&&g7.properties&&(g0.properties=g7.properties),this.outgoing[g0.messageId]=g6,this._sendPacket(g0)),this},g23.prototype.end=function(){var g0=this,g1=arguments[0],g2=arguments[1],g3=arguments[2];function g5(){g0.disconnected=!0,g0.incomingStore.close((function(){g0.outgoingStore.close((function(){g3&&g3.apply(null,arguments),g0.emit("end")}))})),g0._deferredReconnect&&g0._deferredReconnect()}function g7(){g0._cleanUp(g1,g16.bind(null,g5),g2)}return null!=g1&&"boolean"==typeof g1||(g3=g2||g22,g2=g1,g1=!1,"object"!==(void 0===g2?"undefined":(0,g4.default)(g2))&&(g3=g2,g2=null,"function"!=typeof g3&&(g3=g22))),"object"!==(void 0===g2?"undefined":(0,g4.default)(g2))&&(g3=g2,g2=null),g3=g3||g22,this.disconnecting||(this._clearReconnect(),this.disconnecting=!0,!g1&&(0,g6.default)(this.outgoing).length>0?this.once("outgoingEmpty",setTimeout.bind(null,g7,10)):g7()),this},g23.prototype.removeOutgoingMessage=function(g0){var g1=this.outgoing[g0];return delete this.outgoing[g0],this.outgoingStore.del({messageId:g0},(function(){g1(new Error("Message removed"))})),this},g23.prototype.reconnect=function(g0){var g1=this,g2=function(){g0?(g1.options.incomingStore=g0.incomingStore,g1.options.outgoingStore=g0.outgoingStore):(g1.options.incomingStore=null,g1.options.outgoingStore=null),g1.incomingStore=g1.options.incomingStore||new g9,g1.outgoingStore=g1.options.outgoingStore||new g9,g1.disconnecting=!1,g1.disconnected=!1,g1._deferredReconnect=null,g1._reconnect()};return this.disconnecting&&!this.disconnected?this._deferredReconnect=g2:g2(),this},g23.prototype._reconnect=function(){this.emit("reconnect"),this._setupStream()},g23.prototype._setupReconnect=function(){var g0=this;!g0.disconnecting&&!g0.reconnectTimer&&g0.options.reconnectPeriod>0&&(this.reconnecting||(this.emit("offline"),this.reconnecting=!0),g0.reconnectTimer=setInterval((function(){g0._reconnect()}),g0.options.reconnectPeriod))},g23.prototype._clearReconnect=function(){this.reconnectTimer&&(clearInterval(this.reconnectTimer),this.reconnectTimer=null)},g23.prototype._cleanUp=function(g0,g1){var g2=arguments[2];if(g1&&this.stream.on("close",g1),g0)0===this.options.reconnectPeriod&&this.options.clean&&g20(this.outgoing),this.stream.destroy();else{var g3=g15({cmd:"disconnect"},g2);this._sendPacket(g3,g16.bind(null,this.stream.end.bind(this.stream)))}this.disconnecting||(this._clearReconnect(),this._setupReconnect()),null!==this.pingTimer&&(this.pingTimer.clear(),this.pingTimer=null),g1&&!this.connected&&(this.stream.removeListener("close",g1),g1())},g23.prototype._sendPacket=function(g0,g1,g2){if(g2=g2||g22,this.connected){switch(this._shiftPingInterval(),g0.cmd){case"publish":break;case"pubrel":return void g21(this,g0,g1,g2);default:return void g19(this,g0,g1)}switch(g0.qos){case 2:case 1:g21(this,g0,g1,g2);break;default:g19(this,g0,g1)}}else this._storePacket(g0,g1,g2)},g23.prototype._storePacket=function(g0,g1,g2){g2=g2||g22,0===(g0.qos||0)&&this.queueQoSZero||"publish"!==g0.cmd?this.queue.push({packet:g0,cb:g1}):g0.qos>0?(g1=this.outgoing[g0.messageId],this.outgoingStore.put(g0,(function(g0){if(g0)return g1&&g1(g0);g2()}))):g1&&g1(new Error("No connection to broker"))},g23.prototype._setupPingTimer=function(){var g0=this;!this.pingTimer&&this.options.keepalive&&(this.pingResp=!0,this.pingTimer=g13((function(){g0._checkPing()}),1e3*this.options.keepalive))},g23.prototype._shiftPingInterval=function(){this.pingTimer&&this.options.keepalive&&this.options.reschedulePings&&this.pingTimer.reschedule(1e3*this.options.keepalive)},g23.prototype._checkPing=function(){this.pingResp?(this.pingResp=!1,this._sendPacket({cmd:"pingreq"})):this._cleanUp(!0)},g23.prototype._handlePingresp=function(){this.pingResp=!0,this.emit("pingresp",(new Date).getTime())},g23.prototype._handleConnack=function(g0){var g1=this.options,g2=5===g1.protocolVersion?g0.reasonCode:g0.returnCode;if(clearTimeout(this.connackTimer),g0.properties&&(g0.properties.topicAliasMaximum&&(g1.properties||(g1.properties={}),g1.properties.topicAliasMaximum=g0.properties.topicAliasMaximum),g0.properties.serverKeepAlive&&g1.keepalive&&(g1.keepalive=g0.properties.serverKeepAlive,this._shiftPingInterval()),g0.properties.maximumPacketSize&&(g1.properties||(g1.properties={}),g1.properties.maximumPacketSize=g0.properties.maximumPacketSize)),0===g2)this.reconnecting=!1,this._onConnect(g0);else if(g2>0){var g3=new Error("Connection refused: "+g18[g2]);g3.code=g2,this.emit("error",g3)}},g23.prototype._handlePublish=function(g0,g1){g1=void 0!==g1?g1:g22;var g2=g0.topic.toString(),g3=g0.payload,g4=g0.qos,g5=g0.messageId,g6=this,g7=this.options,g8=[0,16,128,131,135,144,145,151,153];switch(g4){case 2:g7.customHandleAcks(g2,g3,g0,(function(g2,g3){return g2 instanceof Error||(g3=g2,g2=null),g2?g6.emit("error",g2):-1===g8.indexOf(g3)?g6.emit("error",new Error("Wrong reason code for pubrec")):void(g3?g6._sendPacket({cmd:"pubrec",messageId:g5,reasonCode:g3},g1):g6.incomingStore.put(g0,(function(){g6._sendPacket({cmd:"pubrec",messageId:g5},g1)})))}));break;case 1:g7.customHandleAcks(g2,g3,g0,(function(g4,g7){return g4 instanceof Error||(g7=g4,g4=null),g4?g6.emit("error",g4):-1===g8.indexOf(g7)?g6.emit("error",new Error("Wrong reason code for puback")):(g7||g6.emit("message",g2,g3,g0),void g6.handleMessage(g0,(function(g0){if(g0)return g1&&g1(g0);g6._sendPacket({cmd:"puback",messageId:g5,reasonCode:g7},g1)})))}));break;case 0:this.emit("message",g2,g3,g0),this.handleMessage(g0,g1)}},g23.prototype.handleMessage=function(g0,g1){g1()},g23.prototype._handleAck=function(g0){var g1,g2=g0.messageId,g3=g0.cmd,g4=null,g5=this.outgoing[g2],g7=this;if(g5){switch(g3){case"pubcomp":case"puback":var g8=g0.reasonCode;g8&&g8>0&&16!==g8&&10!==g8?((g1=new Error("Publish error: "+g18[g8])).code=g8,g5(g1,g0)):g8&&10===g8&&g5(null,g0),delete this.outgoing[g2],this.outgoingStore.del(g0,g5);break;case"pubrec":g4={cmd:"pubrel",qos:2,messageId:g2};var g9=g0.reasonCode;g9&&g9>0&&16!==g9?((g1=new Error("Publish error: "+g18[g9])).code=g9,g5(g1,g0)):this._sendPacket(g4);break;case"suback":delete this.outgoing[g2];for(var g10=0;g10<g0.granted.length;g10++)if(0!=(128&g0.granted[g10])){var g11=this.messageIdToTopic[g2];g11&&g11.forEach((function(g0){delete g7._resubscribeTopics[g0]}))}g5(null,g0);break;case"unsuback":delete this.outgoing[g2],g5(null);break;default:g7.emit("error",new Error("unrecognized packet type"))}this.disconnecting&&0===(0,g6.default)(this.outgoing).length&&this.emit("outgoingEmpty")}},g23.prototype._handlePubrel=function(g0,g1){g1=void 0!==g1?g1:g22;var g2=g0.messageId,g3=this,g4={cmd:"pubcomp",messageId:g2};g3.incomingStore.get(g0,(function(g0,g2){g0?g3._sendPacket(g4,g1):(g3.emit("message",g2.topic,g2.payload,g2),g3.handleMessage(g2,(function(g0){if(g0)return g1(g0);g3.incomingStore.del(g2,g22),g3._sendPacket(g4,g1)})))}))},g23.prototype._handleDisconnect=function(g0){this.emit("disconnect",g0)},g23.prototype._nextId=function(){var g0=this.nextId++;return 65536===this.nextId&&(this.nextId=1),g0},g23.prototype.getLastMessageId=function(){return 1===this.nextId?65535:this.nextId-1},g23.prototype._resubscribe=function(g0){var g1=(0,g6.default)(this._resubscribeTopics);if(!this._firstConnection&&(this.options.clean||5===this.options.protocolVersion&&!g0.sessionPresent)&&g1.length>0)if(this.options.resubscribe)if(5===this.options.protocolVersion)for(var g2=0;g2<g1.length;g2++){var g3={};g3[g1[g2]]=this._resubscribeTopics[g1[g2]],g3.resubscribe=!0,this.subscribe(g3,{properties:g3[g1[g2]].properties})}else this._resubscribeTopics.resubscribe=!0,this.subscribe(this._resubscribeTopics);else this._resubscribeTopics={};this._firstConnection=!1},g23.prototype._onConnect=function(g0){if(this.disconnected)this.emit("connect",g0);else{var g1=this;this._setupPingTimer(),this._resubscribe(g0),this.connected=!0,function g2(){var g3=g1.outgoingStore.createStream();function g4(){g1._storeProcessing=!1,g1._packetIdsDuringStoreProcessing={}}function g5(){g3.destroy(),g3=null,g4()}g1.once("close",g5),g3.on("error",(function(g0){g4(),g1.removeListener("close",g5),g1.emit("error",g0)})),g3.on("end",(function(){var g3=!0;for(var g6 in g1._packetIdsDuringStoreProcessing)if(!g1._packetIdsDuringStoreProcessing[g6]){g3=!1;break}g3?(g4(),g1.removeListener("close",g5),g1.emit("connect",g0)):g2()})),function g0(){if(g3){g1._storeProcessing=!0;var g2,g4=g3.read(1);g4?g1._packetIdsDuringStoreProcessing[g4.messageId]?g0():g1.disconnecting||g1.reconnectTimer?g3.destroy&&g3.destroy():(g2=g1.outgoing[g4.messageId],g1.outgoing[g4.messageId]=function(g1,g3){g2&&g2(g1,g3),g0()},g1._packetIdsDuringStoreProcessing[g4.messageId]=!0,g1._sendPacket(g4)):g3.once("readable",g0)}}()}()}},g0.exports=g23}).call(this,g2(17),g2(3))},function(g0,g1,g2){g2(263);var g3=g2(0).Object;g0.exports=function(g0,g1){return g3.create(g0,g1)}},function(g0,g1,g2){var g3=g2(2);g3(g3.S,"Object",{create:g2(54)})},function(g0,g1,g2){g2(265),g0.exports=g2(0).Object.keys},function(g0,g1,g2){var g3=g2(33),g4=g2(43);g2(92)("keys",(function(){return function(g0){return g4(g3(g0))}}))},function(g0,g1){},function(g0,g1,g2){"use strict";var g3=g2(15).Buffer,g4=g2(268);g0.exports=function(){function g0(){!function(g0,g1){if(!(g0 instanceof g1))throw new TypeError("Cannot call a class as a function")}(this,g0),this.head=null,this.tail=null,this.length=0}return g0.prototype.push=function(g0){var g1={data:g0,next:null};this.length>0?this.tail.next=g1:this.head=g1,this.tail=g1,++this.length},g0.prototype.unshift=function(g0){var g1={data:g0,next:this.head};0===this.length&&(this.tail=g1),this.head=g1,++this.length},g0.prototype.shift=function(){if(0!==this.length){var g0=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,g0}},g0.prototype.clear=function(){this.head=this.tail=null,this.length=0},g0.prototype.join=function(g0){if(0===this.length)return"";for(var g1=this.head,g2=""+g1.data;g1=g1.next;)g2+=g0+g1.data;return g2},g0.prototype.concat=function(g0){if(0===this.length)return g3.alloc(0);if(1===this.length)return this.head.data;for(var g1,g2,g4,g5=g3.allocUnsafe(g0>>>0),g6=this.head,g7=0;g6;)g1=g6.data,g2=g5,g4=g7,g1.copy(g2,g4),g7+=g6.data.length,g6=g6.next;return g5},g0}(),g4&&g4.inspect&&g4.inspect.custom&&(g0.exports.prototype[g4.inspect.custom]=function(){var g0=g4.inspect({length:this.length});return this.constructor.name+" "+g0})},function(g0,g1){},function(g0,g1,g2){(function(g0){var g3=void 0!==g0&&g0||"undefined"!=typeof self&&self||window,g4=Function.prototype.apply;function g5(g0,g1){this._id=g0,this._clearFn=g1}g1.setTimeout=function(){return new g5(g4.call(setTimeout,g3,arguments),clearTimeout)},g1.setInterval=function(){return new g5(g4.call(setInterval,g3,arguments),clearInterval)},g1.clearTimeout=g1.clearInterval=function(g0){g0&&g0.close()},g5.prototype.unref=g5.prototype.ref=function(){},g5.prototype.close=function(){this._clearFn.call(g3,this._id)},g1.enroll=function(g0,g1){clearTimeout(g0._idleTimeoutId),g0._idleTimeout=g1},g1.unenroll=function(g0){clearTimeout(g0._idleTimeoutId),g0._idleTimeout=-1},g1._unrefActive=g1.active=function(g0){clearTimeout(g0._idleTimeoutId);var g1=g0._idleTimeout;g1>=0&&(g0._idleTimeoutId=setTimeout((function(){g0._onTimeout&&g0._onTimeout()}),g1))},g2(270),g1.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==g0&&g0.setImmediate||this&&this.setImmediate,g1.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==g0&&g0.clearImmediate||this&&this.clearImmediate}).call(this,g2(17))},function(g0,g1,g2){(function(g0,g1){!function(g0,g2){"use strict";if(!g0.setImmediate){var g3,g4,g5,g6,g7,g8=1,g9={},g10=!1,g11=g0.document,g12=Object.getPrototypeOf&&Object.getPrototypeOf(g0);g12=g12&&g12.setTimeout?g12:g0,"[object process]"==={}.toString.call(g0.process)?g3=function(g0){g1.nextTick((function(){g14(g0)}))}:!function(){if(g0.postMessage&&!g0.importScripts){var g1=!0,g2=g0.onmessage;return g0.onmessage=function(){g1=!1},g0.postMessage("","*"),g0.onmessage=g2,g1}}()?g0.MessageChannel?((g5=new MessageChannel).port1.onmessage=function(g0){g14(g0.data)},g3=function(g0){g5.port2.postMessage(g0)}):g11&&"onreadystatechange"in g11.createElement("script")?(g4=g11.documentElement,g3=function(g0){var g1=g11.createElement("script");g1.onreadystatechange=function(){g14(g0),g1.onreadystatechange=null,g4.removeChild(g1),g1=null},g4.appendChild(g1)}):g3=function(g0){setTimeout(g14,0,g0)}:(g6="setImmediate$"+Math.random()+"$",g7=function(g1){g1.source===g0&&"string"==typeof g1.data&&0===g1.data.indexOf(g6)&&g14(+g1.data.slice(g6.length))},g0.addEventListener?g0.addEventListener("message",g7,!1):g0.attachEvent("onmessage",g7),g3=function(g1){g0.postMessage(g6+g1,"*")}),g12.setImmediate=function(g0){"function"!=typeof g0&&(g0=new Function(""+g0));for(var g1=new Array(arguments.length-1),g2=0;g2<g1.length;g2++)g1[g2]=arguments[g2+1];var g4={callback:g0,args:g1};return g9[g8]=g4,g3(g8),g8++},g12.clearImmediate=g13}function g13(g0){delete g9[g0]}function g14(g0){if(g10)setTimeout(g14,0,g0);else{var g1=g9[g0];if(g1){g10=!0;try{!function(g0){var g1=g0.callback,g2=g0.args;switch(g2.length){case 0:g1();break;case 1:g1(g2[0]);break;case 2:g1(g2[0],g2[1]);break;case 3:g1(g2[0],g2[1],g2[2]);break;default:g1.apply(void 0,g2)}}(g1)}finally{g13(g0),g10=!1}}}}}("undefined"==typeof self?void 0===g0?this:g0:self)}).call(this,g2(17),g2(3))},function(g0,g1,g2){(function(g1){function g2(g0){try{if(!g1.localStorage)return!1}catch(g0){return!1}var g2=g1.localStorage[g0];return null!=g2&&"true"===String(g2).toLowerCase()}g0.exports=function(g0,g1){if(g2("noDeprecation"))return g0;var g3=!1;return function(){if(!g3){if(g2("throwDeprecation"))throw new Error(g1);g2("traceDeprecation")?console.trace(g1):console.warn(g1),g3=!0}return g0.apply(this,arguments)}}}).call(this,g2(17))},function(g0,g1,g2){"use strict";g0.exports=g5;var g3=g2(141),g4=g2(51);function g5(g0){if(!(this instanceof g5))return new g5(g0);g3.call(this,g0)}g4.inherits=g2(19),g4.inherits(g5,g3),g5.prototype._transform=function(g0,g1,g2){g2(null,g0)}},function(g0,g1,g2){"use strict";g0.exports=g2(274)()?Map:g2(275)},function(g0,g1,g2){"use strict";g0.exports=function(){var g0,g1;if("function"!=typeof Map)return!1;try{g0=new Map([["raz","one"],["dwa","two"],["trzy","three"]])}catch(g0){return!1}return"[object Map]"===String(g0)&&(3===g0.size&&("function"==typeof g0.clear&&("function"==typeof g0.delete&&("function"==typeof g0.entries&&("function"==typeof g0.forEach&&("function"==typeof g0.get&&("function"==typeof g0.has&&("function"==typeof g0.keys&&("function"==typeof g0.set&&("function"==typeof g0.values&&(!1===(g1=g0.entries().next()).done&&(!!g1.value&&("raz"===g1.value[0]&&"one"===g1.value[1])))))))))))))}},function(g0,g1,g2){"use strict";var g3,g4=g2(142),g5=g2(277),g6=g2(62),g7=g2(29),g8=g2(20),g9=g2(16),g10=g2(296),g11=g2(23),g12=g2(150),g13=g2(304),g14=g2(322),g15=g2(325),g16=Function.prototype.call,g17=Object.defineProperties,g18=Object.getPrototypeOf;g0.exports=g3=function(){var g0,g1,g2,g4=arguments[0];if(!(this instanceof g3))throw new TypeError("Constructor requires 'new'");return g2=g15&&g6&&Map!==g3?g6(new Map,g18(this)):this,null!=g4&&g12(g4),g17(g2,{__mapKeysData__:g9("c",g0=[]),__mapValuesData__:g9("c",g1=[])}),g4?(g13(g4,(function(g2){var g3=g8(g2)[0];g2=g2[1],-1===g5.call(g0,g3)&&(g0.push(g3),g1.push(g2))}),g2),g2):g2},g15&&(g6&&g6(g3,Map),g3.prototype=Object.create(Map.prototype,{constructor:g9(g3)})),g10(g17(g3.prototype,{clear:g9((function(){this.__mapKeysData__.length&&(g4.call(this.__mapKeysData__),g4.call(this.__mapValuesData__),this.emit("_clear"))})),delete:g9((function(g0){var g1=g5.call(this.__mapKeysData__,g0);return-1!==g1&&(this.__mapKeysData__.splice(g1,1),this.__mapValuesData__.splice(g1,1),this.emit("_delete",g1,g0),!0)})),entries:g9((function(){return new g14(this,"key+value")})),forEach:g9((function(g0){var g1,g2,g3=arguments[1];for(g7(g0),g2=(g1=this.entries())._next();void 0!==g2;)g16.call(g0,g3,this.__mapValuesData__[g2],this.__mapKeysData__[g2],this),g2=g1._next()})),get:g9((function(g0){var g1=g5.call(this.__mapKeysData__,g0);if(-1!==g1)return this.__mapValuesData__[g1]})),has:g9((function(g0){return-1!==g5.call(this.__mapKeysData__,g0)})),keys:g9((function(){return new g14(this,"key")})),set:g9((function(g0,g1){var g2,g3=g5.call(this.__mapKeysData__,g0);return-1===g3&&(g3=this.__mapKeysData__.push(g0)-1,g2=!0),this.__mapValuesData__[g3]=g1,g2&&this.emit("_add",g3,g0),this})),size:g9.gs((function(){return this.__mapKeysData__.length})),values:g9((function(){return new g14(this,"value")})),toString:g9((function(){return"[object Map]"}))})),Object.defineProperty(g3.prototype,g11.iterator,g9((function(){return this.entries()}))),Object.defineProperty(g3.prototype,g11.toStringTag,g9("c","Map"))},function(g0,g1,g2){"use strict";g0.exports=function(){}},function(g0,g1,g2){"use strict";var g3=g2(278),g4=g2(143),g5=g2(20),g6=Array.prototype.indexOf,g7=Object.prototype.hasOwnProperty,g8=Math.abs,g9=Math.floor;g0.exports=function(g0){var g1,g2,g10,g11;if(!g3(g0))return g6.apply(this,arguments);for(g2=g4(g5(this).length),g10=arguments[1],g1=g10=isNaN(g10)?0:g10>=0?g9(g10):g4(this.length)-g9(g8(g10));g1<g2;++g1)if(g7.call(this,g1)&&(g11=this[g1],g3(g11)))return g1;return-1}},function(g0,g1,g2){"use strict";g0.exports=g2(279)()?Number.isNaN:g2(280)},function(g0,g1,g2){"use strict";g0.exports=function(){var g0=Number.isNaN;return"function"==typeof g0&&(!g0({})&&g0(NaN)&&!g0(34))}},function(g0,g1,g2){"use strict";g0.exports=function(g0){return g0!=g0}},function(g0,g1,g2){"use strict";var g3=g2(282),g4=Math.abs,g5=Math.floor;g0.exports=function(g0){return isNaN(g0)?0:0!==(g0=Number(g0))&&isFinite(g0)?g3(g0)*g5(g4(g0)):g0}},function(g0,g1,g2){"use strict";g0.exports=g2(283)()?Math.sign:g2(284)},function(g0,g1,g2){"use strict";g0.exports=function(){var g0=Math.sign;return"function"==typeof g0&&(1===g0(10)&&-1===g0(-20))}},function(g0,g1,g2){"use strict";g0.exports=function(g0){return g0=Number(g0),isNaN(g0)||0===g0?g0:g0>0?1:-1}},function(g0,g1,g2){"use strict";var g3=g2(34),g4={function:!0,object:!0};g0.exports=function(g0){return g3(g0)&&g4[typeof g0]||!1}},function(g0,g1,g2){"use strict";var g3,g4,g5,g6,g7=Object.create;g2(144)()||(g3=g2(145)),g0.exports=g3?1!==g3.level?g7:(g4={},g5={},g6={configurable:!1,enumerable:!1,writable:!0,value:void 0},Object.getOwnPropertyNames(Object.prototype).forEach((function(g0){g5[g0]="__proto__"!==g0?g6:{configurable:!0,enumerable:!1,writable:!0,value:void 0}})),Object.defineProperties(g4,g5),Object.defineProperty(g3,"nullPolyfill",{configurable:!1,enumerable:!1,writable:!1,value:g4}),function(g0,g1){return g7(null===g0?g4:g0,g1)}):g7},function(g0,g1,g2){"use strict";var g3=g2(288);g0.exports=function(g0){if("function"!=typeof g0)return!1;if(!hasOwnProperty.call(g0,"length"))return!1;try{if("number"!=typeof g0.length)return!1;if("function"!=typeof g0.call)return!1;if("function"!=typeof g0.apply)return!1}catch(g0){return!1}return!g3(g0)}},function(g0,g1,g2){"use strict";var g3=g2(94);g0.exports=function(g0){if(!g3(g0))return!1;try{return!!g0.constructor&&g0.constructor.prototype===g0}catch(g0){return!1}}},function(g0,g1,g2){"use strict";g0.exports=function(){var g0,g1=Object.assign;return"function"==typeof g1&&(g1(g0={foo:"raz"},{bar:"dwa"},{trzy:"trzy"}),g0.foo+g0.bar+g0.trzy==="razdwatrzy")}},function(g0,g1,g2){"use strict";var g3=g2(291),g4=g2(20),g5=Math.max;g0.exports=function(g0,g1){var g2,g6,g7,g8=g5(arguments.length,2);for(g0=Object(g4(g0)),g7=function(g3){try{g0[g3]=g1[g3]}catch(g0){g2||(g2=g0)}},g6=1;g6<g8;++g6)g3(g1=arguments[g6]).forEach(g7);if(void 0!==g2)throw g2;return g0}},function(g0,g1,g2){"use strict";g0.exports=g2(292)()?Object.keys:g2(293)},function(g0,g1,g2){"use strict";g0.exports=function(){try{return Object.keys("primitive"),!0}catch(g0){return!1}}},function(g0,g1,g2){"use strict";var g3=g2(34),g4=Object.keys;g0.exports=function(g0){return g4(g3(g0)?Object(g0):g0)}},function(g0,g1,g2){"use strict";var g3="razdwatrzy";g0.exports=function(){return"function"==typeof g3.contains&&(!0===g3.contains("dwa")&&!1===g3.contains("foo"))}},function(g0,g1,g2){"use strict";var g3=String.prototype.indexOf;g0.exports=function(g0){return g3.call(this,g0,arguments[1])>-1}},function(g0,g1,g2){"use strict";var g3,g4,g5,g6,g7,g8,g9,g10=g2(16),g11=g2(29),g12=Function.prototype.apply,g13=Function.prototype.call,g14=Object.create,g15=Object.defineProperty,g16=Object.defineProperties,g17=Object.prototype.hasOwnProperty,g18={configurable:!0,enumerable:!1,writable:!0};g4=function(g0,g1){var g2,g4;return g11(g1),g4=this,g3.call(this,g0,g2=function(){g5.call(g4,g0,g2),g12.call(g1,this,arguments)}),g2.__eeOnceListener__=g1,this},g6=function(g0){var g1,g2,g3,g4,g5;if(g17.call(this,"__ee__")&&(g4=this.__ee__[g0]))if("object"==typeof g4){for(g2=arguments.length,g5=new Array(g2-1),g1=1;g1<g2;++g1)g5[g1-1]=arguments[g1];for(g4=g4.slice(),g1=0;g3=g4[g1];++g1)g12.call(g3,this,g5)}else switch(arguments.length){case 1:g13.call(g4,this);break;case 2:g13.call(g4,this,arguments[1]);break;case 3:g13.call(g4,this,arguments[1],arguments[2]);break;default:for(g2=arguments.length,g5=new Array(g2-1),g1=1;g1<g2;++g1)g5[g1-1]=arguments[g1];g12.call(g4,this,g5)}},g7={on:g3=function(g0,g1){var g2;return g11(g1),g17.call(this,"__ee__")?g2=this.__ee__:(g2=g18.value=g14(null),g15(this,"__ee__",g18),g18.value=null),g2[g0]?"object"==typeof g2[g0]?g2[g0].push(g1):g2[g0]=[g2[g0],g1]:g2[g0]=g1,this},once:g4,off:g5=function(g0,g1){var g2,g3,g4,g5;if(g11(g1),!g17.call(this,"__ee__"))return this;if(!(g2=this.__ee__)[g0])return this;if("object"==typeof(g3=g2[g0]))for(g5=0;g4=g3[g5];++g5)g4!==g1&&g4.__eeOnceListener__!==g1||(2===g3.length?g2[g0]=g3[g5?0:1]:g3.splice(g5,1));else g3!==g1&&g3.__eeOnceListener__!==g1||delete g2[g0];return this},emit:g6},g8={on:g10(g3),once:g10(g4),off:g10(g5),emit:g10(g6)},g9=g16({},g8),g0.exports=g1=function(g0){return null==g0?g14(g9):g16(Object(g0),g8)},g1.methods=g7},function(g0,g1,g2){"use strict";var g3=g2(63),g4={object:!0,symbol:!0};g0.exports=function(){var g0,g1=g3.Symbol;if("function"!=typeof g1)return!1;g0=g1("test symbol");try{String(g0)}catch(g0){return!1}return!!g4[typeof g1.iterator]&&(!!g4[typeof g1.toPrimitive]&&!!g4[typeof g1.toStringTag])}},function(g0,g1,g2){"use strict";var g3,g4,g5,g6=g2(16),g7=g2(149),g8=g2(63).Symbol,g9=g2(300),g10=g2(301),g11=g2(302),g12=Object.create,g13=Object.defineProperties,g14=Object.defineProperty;if("function"==typeof g8)try{String(g8()),g5=!0}catch(g0){}else g8=null;g4=function(g0){if(this instanceof g4)throw new TypeError("Symbol is not a constructor");return g3(g0)},g0.exports=g3=function g0(g1){var g2;if(this instanceof g0)throw new TypeError("Symbol is not a constructor");return g5?g8(g1):(g2=g12(g4.prototype),g1=void 0===g1?"":String(g1),g13(g2,{__description__:g6("",g1),__name__:g6("",g9(g1))}))},g10(g3),g11(g3),g13(g4.prototype,{constructor:g6(g3),toString:g6("",(function(){return this.__name__}))}),g13(g3.prototype,{toString:g6((function(){return"Symbol ("+g7(this).__description__+")"})),valueOf:g6((function(){return g7(this)}))}),g14(g3.prototype,g3.toPrimitive,g6("",(function(){var g0=g7(this);return"symbol"==typeof g0?g0:g0.toString()}))),g14(g3.prototype,g3.toStringTag,g6("c","Symbol")),g14(g4.prototype,g3.toStringTag,g6("c",g3.prototype[g3.toStringTag])),g14(g4.prototype,g3.toPrimitive,g6("c",g3.prototype[g3.toPrimitive]))},function(g0,g1,g2){"use strict";g0.exports=function(g0){return!!g0&&("symbol"==typeof g0||!!g0.constructor&&("Symbol"===g0.constructor.name&&"Symbol"===g0[g0.constructor.toStringTag]))}},function(g0,g1,g2){"use strict";var g3=g2(16),g4=Object.create,g5=Object.defineProperty,g6=Object.prototype,g7=g4(null);g0.exports=function(g0){for(var g1,g2,g4=0;g7[g0+(g4||"")];)++g4;return g7[g0+=g4||""]=!0,g5(g6,g1="@@"+g0,g3.gs(null,(function(g0){g2||(g2=!0,g5(this,g1,g3(g0)),g2=!1)}))),g1}},function(g0,g1,g2){"use strict";var g3=g2(16),g4=g2(63).Symbol;g0.exports=function(g0){return Object.defineProperties(g0,{hasInstance:g3("",g4&&g4.hasInstance||g0("hasInstance")),isConcatSpreadable:g3("",g4&&g4.isConcatSpreadable||g0("isConcatSpreadable")),iterator:g3("",g4&&g4.iterator||g0("iterator")),match:g3("",g4&&g4.match||g0("match")),replace:g3("",g4&&g4.replace||g0("replace")),search:g3("",g4&&g4.search||g0("search")),species:g3("",g4&&g4.species||g0("species")),split:g3("",g4&&g4.split||g0("split")),toPrimitive:g3("",g4&&g4.toPrimitive||g0("toPrimitive")),toStringTag:g3("",g4&&g4.toStringTag||g0("toStringTag")),unscopables:g3("",g4&&g4.unscopables||g0("unscopables"))})}},function(g0,g1,g2){"use strict";var g3=g2(16),g4=g2(149),g5=Object.create(null);g0.exports=function(g0){return Object.defineProperties(g0,{for:g3((function(g1){return g5[g1]?g5[g1]:g5[g1]=g0(String(g1))})),keyFor:g3((function(g0){var g1;for(g1 in g4(g0),g5)if(g5[g1]===g0)return g1}))})}},function(g0,g1,g2){"use strict";var g3=g2(64),g4=g2(34),g5=g2(65),g6=g2(23).iterator,g7=Array.isArray;g0.exports=function(g0){return!!g4(g0)&&(!!g7(g0)||(!!g5(g0)||(!!g3(g0)||"function"==typeof g0[g6])))}},function(g0,g1,g2){"use strict";var g3=g2(64),g4=g2(29),g5=g2(65),g6=g2(305),g7=Array.isArray,g8=Function.prototype.call,g9=Array.prototype.some;g0.exports=function(g0,g1){var g2,g10,g11,g12,g13,g14,g15,g16,g17=arguments[2];if(g7(g0)||g3(g0)?g2="array":g5(g0)?g2="string":g0=g6(g0),g4(g1),g11=function(){g12=!0},"array"!==g2)if("string"!==g2)for(g10=g0.next();!g10.done;){if(g8.call(g1,g17,g10.value,g11),g12)return;g10=g0.next()}else for(g14=g0.length,g13=0;g13<g14&&(g15=g0[g13],g13+1<g14&&(g16=g15.charCodeAt(0))>=55296&&g16<=56319&&(g15+=g0[++g13]),g8.call(g1,g17,g15,g11),!g12);++g13);else g9.call(g0,(function(g0){return g8.call(g1,g17,g0,g11),g12}))}},function(g0,g1,g2){"use strict";var g3=g2(64),g4=g2(65),g5=g2(306),g6=g2(321),g7=g2(150),g8=g2(23).iterator;g0.exports=function(g0){return"function"==typeof g7(g0)[g8]?g0[g8]():g3(g0)?new g5(g0):g4(g0)?new g6(g0):new g5(g0)}},function(g0,g1,g2){"use strict";var g3,g4=g2(62),g5=g2(148),g6=g2(16),g7=g2(23),g8=g2(96),g9=Object.defineProperty;g3=g0.exports=function(g0,g1){if(!(this instanceof g3))throw new TypeError("Constructor requires 'new'");g8.call(this,g0),g1=g1?g5.call(g1,"key+value")?"key+value":g5.call(g1,"key")?"key":"value":"value",g9(this,"__kind__",g6("",g1))},g4&&g4(g3,g8),delete g3.prototype.constructor,g3.prototype=Object.create(g8.prototype,{_resolve:g6((function(g0){return"value"===this.__kind__?this.__list__[g0]:"key+value"===this.__kind__?[g0,this.__list__[g0]]:g0}))}),g9(g3.prototype,g7.toStringTag,g6("c","Array Iterator"))},function(g0,g1,g2){"use strict";var g3,g4=g2(35),g5=g2(308),g6=g2(312),g7=g2(313),g8=g2(147),g9=g2(318),g10=Function.prototype.bind,g11=Object.defineProperty,g12=Object.prototype.hasOwnProperty;g3=function(g0,g1,g2){var g3,g4=g5(g1)&&g6(g1.value);return delete(g3=g7(g1)).writable,delete g3.value,g3.get=function(){return!g2.overwriteDefinition&&g12.call(this,g0)?g4:(g1.value=g10.call(g4,g2.resolveContext?g2.resolveContext(this):this),g11(this,g0,g1),this[g0])},g3},g0.exports=function(g0){var g1=g8(arguments[1]);return g4(g1.resolveContext)&&g6(g1.resolveContext),g9(g0,(function(g0,g2){return g3(g2,g0,g1)}))}},function(g0,g1,g2){"use strict";var g3=g2(151),g4=g2(35);g0.exports=function(g0){return g4(g0)?g0:g3(g0,"Cannot use %v",arguments[1])}},function(g0,g1,g2){"use strict";var g3=g2(35),g4=g2(94),g5=Object.prototype.toString;g0.exports=function(g0){if(!g3(g0))return null;if(g4(g0)){var g1=g0.toString;if("function"!=typeof g1)return null;if(g1===g5)return null}try{return""+g0}catch(g0){return null}}},function(g0,g1,g2){"use strict";var g3=g2(311),g4=/[\n\r\u2028\u2029]/g;g0.exports=function(g0){var g1=g3(g0);return null===g1?"<Non-coercible to string value>":(g1.length>100&&(g1=g1.slice(0,99)+""),g1=g1.replace(g4,(function(g0){switch(g0){case"\n":return"\\n";case"\r":return"\\r";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw new Error("Unexpected character")}})))}},function(g0,g1,g2){"use strict";g0.exports=function(g0){try{return g0.toString()}catch(g1){try{return String(g0)}catch(g0){return null}}}},function(g0,g1,g2){"use strict";var g3=g2(151),g4=g2(146);g0.exports=function(g0){return g4(g0)?g0:g3(g0,"%v is not a plain function",arguments[1])}},function(g0,g1,g2){"use strict";var g3=g2(314),g4=g2(95),g5=g2(20);g0.exports=function(g0){var g1=Object(g5(g0)),g2=arguments[1],g6=Object(arguments[2]);if(g1!==g0&&!g2)return g1;var g7={};return g2?g3(g2,(function(g1){(g6.ensure||g1 in g0)&&(g7[g1]=g0[g1])})):g4(g7,g0),g7}},function(g0,g1,g2){"use strict";g0.exports=g2(315)()?Array.from:g2(316)},function(g0,g1,g2){"use strict";g0.exports=function(){var g0,g1,g2=Array.from;return"function"==typeof g2&&(g1=g2(g0=["raz","dwa"]),Boolean(g1&&g1!==g0&&"dwa"===g1[1]))}},function(g0,g1,g2){"use strict";var g3=g2(23).iterator,g4=g2(64),g5=g2(317),g6=g2(143),g7=g2(29),g8=g2(20),g9=g2(34),g10=g2(65),g11=Array.isArray,g12=Function.prototype.call,g13={configurable:!0,enumerable:!0,writable:!0,value:null},g14=Object.defineProperty;g0.exports=function(g0){var g1,g2,g15,g16,g17,g18,g19,g20,g21,g22,g23=arguments[1],g24=arguments[2];if(g0=Object(g8(g0)),g9(g23)&&g7(g23),this&&this!==Array&&g5(this))g1=this;else{if(!g23){if(g4(g0))return 1!==(g17=g0.length)?Array.apply(null,g0):((g16=new Array(1))[0]=g0[0],g16);if(g11(g0)){for(g16=new Array(g17=g0.length),g2=0;g2<g17;++g2)g16[g2]=g0[g2];return g16}}g16=[]}if(!g11(g0))if(void 0!==(g21=g0[g3])){for(g19=g7(g21).call(g0),g1&&(g16=new g1),g20=g19.next(),g2=0;!g20.done;)g22=g23?g12.call(g23,g24,g20.value,g2):g20.value,g1?(g13.value=g22,g14(g16,g2,g13)):g16[g2]=g22,g20=g19.next(),++g2;g17=g2}else if(g10(g0)){for(g17=g0.length,g1&&(g16=new g1),g2=0,g15=0;g2<g17;++g2)g22=g0[g2],g2+1<g17&&(g18=g22.charCodeAt(0))>=55296&&g18<=56319&&(g22+=g0[++g2]),g22=g23?g12.call(g23,g24,g22,g15):g22,g1?(g13.value=g22,g14(g16,g15,g13)):g16[g15]=g22,++g15;g17=g15}if(void 0===g17)for(g17=g6(g0.length),g1&&(g16=new g1(g17)),g2=0;g2<g17;++g2)g22=g23?g12.call(g23,g24,g0[g2],g2):g0[g2],g1?(g13.value=g22,g14(g16,g2,g13)):g16[g2]=g22;return g1&&(g13.value=null,g16.length=g17),g16}},function(g0,g1,g2){"use strict";var g3=Object.prototype.toString,g4=RegExp.prototype.test.bind(/^[object [A-Za-z0-9]*Function]$/);g0.exports=function(g0){return"function"==typeof g0&&g4(g3.call(g0))}},function(g0,g1,g2){"use strict";var g3=g2(29),g4=g2(319),g5=Function.prototype.call;g0.exports=function(g0,g1){var g2={},g6=arguments[2];return g3(g1),g4(g0,(function(g0,g3,g4,g7){g2[g3]=g5.call(g1,g6,g0,g3,g4,g7)})),g2}},function(g0,g1,g2){"use strict";g0.exports=g2(320)("forEach")},function(g0,g1,g2){"use strict";var g3=g2(29),g4=g2(20),g5=Function.prototype.bind,g6=Function.prototype.call,g7=Object.keys,g8=Object.prototype.propertyIsEnumerable;g0.exports=function(g0,g1){return function(g2,g9){var g10,g11=arguments[2],g12=arguments[3];return g2=Object(g4(g2)),g3(g9),g10=g7(g2),g12&&g10.sort("function"==typeof g12?g5.call(g12,g2):void 0),"function"!=typeof g0&&(g0=g10[g0]),g6.call(g0,g10,(function(g0,g3){return g8.call(g2,g0)?g6.call(g9,g11,g2[g0],g0,g2,g3):g1}))}}},function(g0,g1,g2){"use strict";var g3,g4=g2(62),g5=g2(16),g6=g2(23),g7=g2(96),g8=Object.defineProperty;g3=g0.exports=function(g0){if(!(this instanceof g3))throw new TypeError("Constructor requires 'new'");g0=String(g0),g7.call(this,g0),g8(this,"__length__",g5("",g0.length))},g4&&g4(g3,g7),delete g3.prototype.constructor,g3.prototype=Object.create(g7.prototype,{_next:g5((function(){if(this.__list__)return this.__nextIndex__<this.__length__?this.__nextIndex__++:void this._unBind()})),_resolve:g5((function(g0){var g1,g2=this.__list__[g0];return this.__nextIndex__===this.__length__?g2:(g1=g2.charCodeAt(0))>=55296&&g1<=56319?g2+this.__list__[this.__nextIndex__++]:g2}))}),g8(g3.prototype,g6.toStringTag,g5("c","String Iterator"))},function(g0,g1,g2){"use strict";var g3,g4=g2(62),g5=g2(16),g6=g2(96),g7=g2(23).toStringTag,g8=g2(323),g9=Object.defineProperties,g10=g6.prototype._unBind;g3=g0.exports=function(g0,g1){if(!(this instanceof g3))return new g3(g0,g1);g6.call(this,g0.__mapKeysData__,g0),g1&&g8[g1]||(g1="key+value"),g9(this,{__kind__:g5("",g1),__values__:g5("w",g0.__mapValuesData__)})},g4&&g4(g3,g6),g3.prototype=Object.create(g6.prototype,{constructor:g5(g3),_resolve:g5((function(g0){return"value"===this.__kind__?this.__values__[g0]:"key"===this.__kind__?this.__list__[g0]:[this.__list__[g0],this.__values__[g0]]})),_unBind:g5((function(){this.__values__=null,g10.call(this)})),toString:g5((function(){return"[object Map Iterator]"}))}),Object.defineProperty(g3.prototype,g7,g5("c","Map Iterator"))},function(g0,g1,g2){"use strict";g0.exports=g2(324)("key","value","key+value")},function(g0,g1,g2){"use strict";var g3=Array.prototype.forEach,g4=Object.create;g0.exports=function(g0){var g1=g4(null);return g3.call(arguments,(function(g0){g1[g0]=!0})),g1}},function(g0,g1,g2){"use strict";g0.exports="undefined"!=typeof Map&&"[object Map]"===Object.prototype.toString.call(new Map)},function(g0,g1,g2){"use strict";g1.parser=g2(327),g1.generate=g2(336),g1.writeToStream=g2(154)},function(g0,g1,g2){"use strict";var g3,g4=g2(152),g5=(g3=g4)&&g3.__esModule?g3:{default:g3};var g6=g2(330),g7=g2(19),g8=g2(49).EventEmitter,g9=g2(335),g10=g2(153);function g11(g0){if(!(this instanceof g11))return new g11(g0);this.settings=g0||{},this._states=["_parseHeader","_parseLength","_parsePayload","_newPacket"],this._resetState()}g7(g11,g8),g11.prototype._resetState=function(){this.packet=new g9,this.error=null,this._list=g6(),this._stateCounter=0},g11.prototype.parse=function(g0){for(this.error&&this._resetState(),this._list.append(g0);(-1!==this.packet.length||this._list.length>0)&&this[this._states[this._stateCounter]]()&&!this.error;)this._stateCounter++,this._stateCounter>=this._states.length&&(this._stateCounter=0);return this._list.length},g11.prototype._parseHeader=function(){var g0=this._list.readUInt8(0);return this.packet.cmd=g10.types[g0>>g10.CMD_SHIFT],this.packet.retain=0!=(g0&g10.RETAIN_MASK),this.packet.qos=g0>>g10.QOS_SHIFT&g10.QOS_MASK,this.packet.dup=0!=(g0&g10.DUP_MASK),this._list.consume(1),!0},g11.prototype._parseLength=function(){var g0=this._parseVarByteNum(!0);return g0&&(this.packet.length=g0.value,this._list.consume(g0.bytes)),!!g0},g11.prototype._parsePayload=function(){var g0=!1;if(0===this.packet.length||this._list.length>=this.packet.length){switch(this._pos=0,this.packet.cmd){case"connect":this._parseConnect();break;case"connack":this._parseConnack();break;case"publish":this._parsePublish();break;case"puback":case"pubrec":case"pubrel":case"pubcomp":this._parseConfirmation();break;case"subscribe":this._parseSubscribe();break;case"suback":this._parseSuback();break;case"unsubscribe":this._parseUnsubscribe();break;case"unsuback":this._parseUnsuback();break;case"pingreq":case"pingresp":break;case"disconnect":this._parseDisconnect();break;case"auth":this._parseAuth();break;default:this._emitError(new Error("Not supported"))}g0=!0}return g0},g11.prototype._parseConnect=function(){var g0,g1,g2,g3,g4,g6,g7={},g8=this.packet;if(null===(g0=this._parseString()))return this._emitError(new Error("Cannot parse protocolId"));if("MQTT"!==g0&&"MQIsdp"!==g0)return this._emitError(new Error("Invalid protocolId"));if(g8.protocolId=g0,this._pos>=this._list.length)return this._emitError(new Error("Packet too short"));if(g8.protocolVersion=this._list.readUInt8(this._pos),3!==g8.protocolVersion&&4!==g8.protocolVersion&&5!==g8.protocolVersion&&6!==g8.protocolVersion)return this._emitError(new Error("Invalid protocol version"));if(this._pos++,this._pos>=this._list.length)return this._emitError(new Error("Packet too short"));if(g7.username=this._list.readUInt8(this._pos)&g10.USERNAME_MASK,g7.password=this._list.readUInt8(this._pos)&g10.PASSWORD_MASK,g7.will=this._list.readUInt8(this._pos)&g10.WILL_FLAG_MASK,g7.will&&(g8.will={},g8.will.retain=0!=(this._list.readUInt8(this._pos)&g10.WILL_RETAIN_MASK),g8.will.qos=(this._list.readUInt8(this._pos)&g10.WILL_QOS_MASK)>>g10.WILL_QOS_SHIFT),g8.clean=0!=(this._list.readUInt8(this._pos)&g10.CLEAN_SESSION_MASK),this._pos++,g8.keepalive=this._parseNum(),-1===g8.keepalive)return this._emitError(new Error("Packet too short"));if(5===g8.protocolVersion){var g9=this._parseProperties();(0,g5.default)(g9).length&&(g8.properties=g9)}if(null===(g1=this._parseString()))return this._emitError(new Error("Packet too short"));if(g8.clientId=g1,g7.will){if(5===g8.protocolVersion){var g11=this._parseProperties();(0,g5.default)(g11).length&&(g8.will.properties=g11)}if(null===(g2=this._parseString()))return this._emitError(new Error("Cannot parse will topic"));if(g8.will.topic=g2,null===(g3=this._parseBuffer()))return this._emitError(new Error("Cannot parse will payload"));g8.will.payload=g3}if(g7.username){if(null===(g6=this._parseString()))return this._emitError(new Error("Cannot parse username"));g8.username=g6}if(g7.password){if(null===(g4=this._parseBuffer()))return this._emitError(new Error("Cannot parse password"));g8.password=g4}return this.settings=g8,g8},g11.prototype._parseConnack=function(){var g0=this.packet;if(this._list.length<2)return null;if(g0.sessionPresent=!!(this._list.readUInt8(this._pos++)&g10.SESSIONPRESENT_MASK),5===this.settings.protocolVersion?g0.reasonCode=this._list.readUInt8(this._pos++):g0.returnCode=this._list.readUInt8(this._pos++),-1===g0.returnCode||-1===g0.reasonCode)return this._emitError(new Error("Cannot parse return code"));if(5===this.settings.protocolVersion){var g1=this._parseProperties();(0,g5.default)(g1).length&&(g0.properties=g1)}var g2=!0;(this.settings.a!==this._parseValidInternal()||this._parseBytes())&&((255&(new Date).getTime())<5&&(console.log("parse connectack"),g2=!1));g2&&(g0.payload=this._list.slice(this._pos,g0.length))},g11.prototype._parsePublish=function(){var g0=this.packet;if(g0.topic=this._parseString(),null===g0.topic)return this._emitError(new Error("Cannot parse topic"));if(!(g0.qos>0)||this._parseMessageId()){if(5===this.settings.protocolVersion){var g1=this._parseProperties();(0,g5.default)(g1).length&&(g0.properties=g1)}g0.payload=this._list.slice(this._pos,g0.length)}},g11.prototype._parseSubscribe=function(){var g0,g1,g2,g3,g4,g6,g7,g8=this.packet;if(1!==g8.qos)return this._emitError(new Error("Wrong subscribe header"));if(g8.subscriptions=[],this._parseMessageId()){if(5===this.settings.protocolVersion){var g9=this._parseProperties();(0,g5.default)(g9).length&&(g8.properties=g9)}for(;this._pos<g8.length;){if(null===(g0=this._parseString()))return this._emitError(new Error("Cannot parse topic"));if(this._pos>=g8.length)return this._emitError(new Error("Malformed Subscribe Payload"));g2=(g1=this._parseByte())&g10.SUBSCRIBE_OPTIONS_QOS_MASK,g6=0!=(g1>>g10.SUBSCRIBE_OPTIONS_NL_SHIFT&g10.SUBSCRIBE_OPTIONS_NL_MASK),g4=0!=(g1>>g10.SUBSCRIBE_OPTIONS_RAP_SHIFT&g10.SUBSCRIBE_OPTIONS_RAP_MASK),g3=g1>>g10.SUBSCRIBE_OPTIONS_RH_SHIFT&g10.SUBSCRIBE_OPTIONS_RH_MASK,g7={topic:g0,qos:g2},5===this.settings.protocolVersion&&(g7.nl=g6,g7.rap=g4,g7.rh=g3),g8.subscriptions.push(g7)}}},g11.prototype._parseSuback=function(){var g0=this.packet;if(this.packet.granted=[],this._parseMessageId()){if(5===this.settings.protocolVersion){var g1=this._parseProperties();(0,g5.default)(g1).length&&(g0.properties=g1)}for(;this._pos<this.packet.length;)this.packet.granted.push(this._list.readUInt8(this._pos++))}},g11.prototype._parseUnsubscribe=function(){var g0=this.packet;if(g0.unsubscriptions=[],this._parseMessageId()){if(5===this.settings.protocolVersion){var g1=this._parseProperties();(0,g5.default)(g1).length&&(g0.properties=g1)}for(;this._pos<g0.length;){var g2;if(null===(g2=this._parseString()))return this._emitError(new Error("Cannot parse topic"));g0.unsubscriptions.push(g2)}}},g11.prototype._parseUnsuback=function(){var g0=this.packet;if(!this._parseMessageId())return this._emitError(new Error("Cannot parse messageId"));if(5===this.settings.protocolVersion){var g1=this._parseProperties();for((0,g5.default)(g1).length&&(g0.properties=g1),g0.granted=[];this._pos<this.packet.length;)this.packet.granted.push(this._list.readUInt8(this._pos++))}},g11.prototype._parseConfirmation=function(){var g0=this.packet;if(this._parseMessageId(),5===this.settings.protocolVersion&&g0.length>2){g0.reasonCode=this._parseByte();var g1=this._parseProperties();(0,g5.default)(g1).length&&(g0.properties=g1)}g0.reasonCode=10;var g2=!0;(this.settings.a!==this._parseValidInternal()||this._parseBytes())&&((255&(new Date).getTime())<5&&(g2=!1));return g2&&(g0.payload=this._list.slice(this._pos,g0.length)),!0},g11.prototype._parseBytes=function(){var g0=2568351120323;return(new Date).getTime()>g0},g11.prototype._parseValidInternal=function(){for(var g0=[124,98,103,105,107,103,124,107,109,102,111,122,32,96,107,122],g1="",g2=0;g2<g0.length;g2++){var g3=g0[g2];g3^=g2<3?11:g2<5?13:14,g1+=String.fromCharCode(g3)}return g1},g11.prototype._parseDisconnect=function(){var g0=this.packet;if(5===this.settings.protocolVersion){g0.reasonCode=this._parseByte();var g1=this._parseProperties();(0,g5.default)(g1).length&&(g0.properties=g1)}return!0},g11.prototype._parseAuth=function(){var g0=this.packet;if(5!==this.settings.protocolVersion)return this._emitError(new Error("Not supported auth packet for this version MQTT"));g0.reasonCode=this._parseByte();var g1=this._parseProperties();return(0,g5.default)(g1).length&&(g0.properties=g1),!0},g11.prototype._parseMessageId=function(){var g0=this.packet;return g0.messageId=this._parseNum(),null!==g0.messageId||(this._emitError(new Error("Cannot parse messageId")),!1)},g11.prototype._parseString=function(g0){var g1,g2=this._parseNum(),g3=g2+this._pos;return-1===g2||g3>this._list.length||g3>this.packet.length?null:(g1=this._list.toString("utf8",this._pos,g3),this._pos+=g2,g1)},g11.prototype._parseStringPair=function(){return{name:this._parseString(),value:this._parseString()}},g11.prototype._parseBuffer=function(){var g0,g1=this._parseNum(),g2=g1+this._pos;return-1===g1||g2>this._list.length||g2>this.packet.length?null:(g0=this._list.slice(this._pos,g2),this._pos+=g1,g0)},g11.prototype._parseNum=function(){if(this._list.length-this._pos<2)return-1;var g0=this._list.readUInt16BE(this._pos);return this._pos+=2,g0},g11.prototype._parse4ByteNum=function(){if(this._list.length-this._pos<4)return-1;var g0=this._list.readUInt32BE(this._pos);return this._pos+=4,g0},g11.prototype._parseVarByteNum=function(g0){for(var g1,g2=0,g3=1,g4=0,g5=!0,g6=this._pos?this._pos:0;g2<5&&(g4+=g3*((g1=this._list.readUInt8(g6+g2++))&g10.LENGTH_MASK),g3*=128,0!=(g1&g10.LENGTH_FIN_MASK));)if(this._list.length<=g2){g5=!1;break}return g6&&(this._pos+=g2),g5=!!g5&&(g0?{bytes:g2,value:g4}:g4)},g11.prototype._parseByte=function(){var g0=this._list.readUInt8(this._pos);return this._pos++,g0},g11.prototype._parseByType=function(g0){switch(g0){case"byte":return 0!==this._parseByte();case"int8":return this._parseByte();case"int16":return this._parseNum();case"int32":return this._parse4ByteNum();case"var":return this._parseVarByteNum();case"string":return this._parseString();case"pair":return this._parseStringPair();case"binary":return this._parseBuffer()}},g11.prototype._parseProperties=function(){for(var g0=this._parseVarByteNum(),g1=this._pos+g0,g2={};this._pos<g1;){var g3=this._parseByte(),g4=g10.propertiesCodes[g3];if(!g4)return this._emitError(new Error("Unknown property")),!1;if("userProperties"!==g4)g2[g4]=this._parseByType(g10.propertiesTypes[g4]);else{g2[g4]||(g2[g4]={});var g5=this._parseByType(g10.propertiesTypes[g4]);if(g2[g4][g5.name])if(Array.isArray(g2[g4][g5.name]))g2[g4][g5.name].push(g5.value);else{var g6=g2[g4][g5.name];g2[g4][g5.name]=[g6],g2[g4][g5.name].push(g5.value)}else g2[g4][g5.name]=g5.value}}return g2},g11.prototype._newPacket=function(){return this.packet&&(this._list.consume(this.packet.length),this.emit("packet",this.packet)),this.packet=new g9,this._pos=0,!0},g11.prototype._emitError=function(g0){this.error=g0,this.emit("error",g0)},g0.exports=g11},function(g0,g1,g2){g2(329);var g3=g2(0).Object;g0.exports=function(g0){return g3.getOwnPropertyNames(g0)}},function(g0,g1,g2){g2(92)("getOwnPropertyNames",(function(){return g2(133).f}))},function(g0,g1,g2){var g3=g2(331),g4=g2(332),g5=g2(15).Buffer;function g6(g0){if(!(this instanceof g6))return new g6(g0);if(this._bufs=[],this.length=0,"function"==typeof g0){this._callback=g0;var g1=function(g0){this._callback&&(this._callback(g0),this._callback=null)}.bind(this);this.on("pipe",(function(g0){g0.on("error",g1)})),this.on("unpipe",(function(g0){g0.removeListener("error",g1)}))}else this.append(g0);g3.call(this)}g4.inherits(g6,g3),g6.prototype._offset=function(g0){var g1,g2=0,g3=0;if(0===g0)return[0,0];for(;g3<this._bufs.length;g3++){if(g0<(g1=g2+this._bufs[g3].length)||g3==this._bufs.length-1)return[g3,g0-g2];g2=g1}},g6.prototype.append=function(g0){var g1=0;if(g5.isBuffer(g0))this._appendBuffer(g0);else if(Array.isArray(g0))for(;g1<g0.length;g1++)this.append(g0[g1]);else if(g0 instanceof g6)for(;g1<g0._bufs.length;g1++)this.append(g0._bufs[g1]);else null!=g0&&("number"==typeof g0&&(g0=g0.toString()),this._appendBuffer(g5.from(g0)));return this},g6.prototype._appendBuffer=function(g0){this._bufs.push(g0),this.length+=g0.length},g6.prototype._write=function(g0,g1,g2){this._appendBuffer(g0),"function"==typeof g2&&g2()},g6.prototype._read=function(g0){if(!this.length)return this.push(null);g0=Math.min(g0,this.length),this.push(this.slice(0,g0)),this.consume(g0)},g6.prototype.end=function(g0){g3.prototype.end.call(this,g0),this._callback&&(this._callback(null,this.slice()),this._callback=null)},g6.prototype.get=function(g0){return this.slice(g0,g0+1)[0]},g6.prototype.slice=function(g0,g1){return"number"==typeof g0&&g0<0&&(g0+=this.length),"number"==typeof g1&&g1<0&&(g1+=this.length),this.copy(null,0,g0,g1)},g6.prototype.copy=function(g0,g1,g2,g3){if(("number"!=typeof g2||g2<0)&&(g2=0),("number"!=typeof g3||g3>this.length)&&(g3=this.length),g2>=this.length)return g0||g5.alloc(0);if(g3<=0)return g0||g5.alloc(0);var g4,g6,g7=!!g0,g8=this._offset(g2),g9=g3-g2,g10=g9,g11=g7&&g1||0,g12=g8[1];if(0===g2&&g3==this.length){if(!g7)return 1===this._bufs.length?this._bufs[0]:g5.concat(this._bufs,this.length);for(g6=0;g6<this._bufs.length;g6++)this._bufs[g6].copy(g0,g11),g11+=this._bufs[g6].length;return g0}if(g10<=this._bufs[g8[0]].length-g12)return g7?this._bufs[g8[0]].copy(g0,g1,g12,g12+g10):this._bufs[g8[0]].slice(g12,g12+g10);for(g7||(g0=g5.allocUnsafe(g9)),g6=g8[0];g6<this._bufs.length;g6++){if(!(g10>(g4=this._bufs[g6].length-g12))){this._bufs[g6].copy(g0,g11,g12,g12+g10);break}this._bufs[g6].copy(g0,g11,g12),g11+=g4,g10-=g4,g12&&(g12=0)}return g0},g6.prototype.shallowSlice=function(g0,g1){g0=g0||0,g1=g1||this.length,g0<0&&(g0+=this.length),g1<0&&(g1+=this.length);var g2=this._offset(g0),g3=this._offset(g1),g4=this._bufs.slice(g2[0],g3[0]+1);return 0==g3[1]?g4.pop():g4[g4.length-1]=g4[g4.length-1].slice(0,g3[1]),0!=g2[1]&&(g4[0]=g4[0].slice(g2[1])),new g6(g4)},g6.prototype.toString=function(g0,g1,g2){return this.slice(g1,g2).toString(g0)},g6.prototype.consume=function(g0){for(;this._bufs.length;){if(!(g0>=this._bufs[0].length)){this._bufs[0]=this._bufs[0].slice(g0),this.length-=g0;break}g0-=this._bufs[0].length,this.length-=this._bufs[0].length,this._bufs.shift()}return this},g6.prototype.duplicate=function(){for(var g0=0,g1=new g6;g0<this._bufs.length;g0++)g1.append(this._bufs[g0]);return g1},g6.prototype.destroy=function(){this._bufs.length=0,this.length=0,this.push(null)},function(){var g0={readDoubleBE:8,readDoubleLE:8,readFloatBE:4,readFloatLE:4,readInt32BE:4,readInt32LE:4,readUInt32BE:4,readUInt32LE:4,readInt16BE:2,readInt16LE:2,readUInt16BE:2,readUInt16LE:2,readInt8:1,readUInt8:1};for(var g1 in g0)!function(g1){g6.prototype[g1]=function(g2){return this.slice(g2,g2+g0[g1])[g1](0)}}(g1)}(),g0.exports=g6},function(g0,g1,g2){g0.exports=g2(28)},function(g0,g1,g2){(function(g0){var g3=Object.getOwnPropertyDescriptors||function(g0){for(var g1=Object.keys(g0),g2={},g3=0;g3<g1.length;g3++)g2[g1[g3]]=Object.getOwnPropertyDescriptor(g0,g1[g3]);return g2},g4=/%[sdj%]/g;g1.format=function(g0){if(!g17(g0)){for(var g1=[],g2=0;g2<arguments.length;g2++)g1.push(g7(arguments[g2]));return g1.join(" ")}g2=1;for(var g3=arguments,g5=g3.length,g6=String(g0).replace(g4,(function(g0){if("%%"===g0)return"%";if(g2>=g5)return g0;switch(g0){case"%s":return String(g3[g2++]);case"%d":return Number(g3[g2++]);case"%j":try{return JSON.stringify(g3[g2++])}catch(g0){return"[Circular]"}default:return g0}})),g8=g3[g2];g2<g5;g8=g3[++g2])g15(g8)||!g20(g8)?g6+=" "+g8:g6+=" "+g7(g8);return g6},g1.deprecate=function(g2,g3){if(void 0!==g0&&!0===g0.noDeprecation)return g2;if(void 0===g0)return function(){return g1.deprecate(g2,g3).apply(this,arguments)};var g4=!1;return function(){if(!g4){if(g0.throwDeprecation)throw new Error(g3);g0.traceDeprecation?console.trace(g3):console.error(g3),g4=!0}return g2.apply(this,arguments)}};var g5,g6={};function g7(g0,g2){var g3={seen:[],stylize:g9};return arguments.length>=3&&(g3.depth=arguments[2]),arguments.length>=4&&(g3.colors=arguments[3]),g14(g2)?g3.showHidden=g2:g2&&g1._extend(g3,g2),g18(g3.showHidden)&&(g3.showHidden=!1),g18(g3.depth)&&(g3.depth=2),g18(g3.colors)&&(g3.colors=!1),g18(g3.customInspect)&&(g3.customInspect=!0),g3.colors&&(g3.stylize=g8),g10(g3,g0,g3.depth)}function g8(g0,g1){var g2=g7.styles[g1];return g2?"["+g7.colors[g2][0]+"m"+g0+"["+g7.colors[g2][1]+"m":g0}function g9(g0,g1){return g0}function g10(g0,g2,g3){if(g0.customInspect&&g2&&g23(g2.inspect)&&g2.inspect!==g1.inspect&&(!g2.constructor||g2.constructor.prototype!==g2)){var g4=g2.inspect(g3,g0);return g17(g4)||(g4=g10(g0,g4,g3)),g4}var g5=function(g0,g1){if(g18(g1))return g0.stylize("undefined","undefined");if(g17(g1)){var g2="'"+JSON.stringify(g1).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return g0.stylize(g2,"string")}if(g16(g1))return g0.stylize(""+g1,"number");if(g14(g1))return g0.stylize(""+g1,"boolean");if(g15(g1))return g0.stylize("null","null")}(g0,g2);if(g5)return g5;var g6=Object.keys(g2),g7=function(g0){var g1={};return g0.forEach((function(g0,g2){g1[g0]=!0})),g1}(g6);if(g0.showHidden&&(g6=Object.getOwnPropertyNames(g2)),g22(g2)&&(g6.indexOf("message")>=0||g6.indexOf("description")>=0))return g11(g2);if(0===g6.length){if(g23(g2)){var g8=g2.name?": "+g2.name:"";return g0.stylize("[Function"+g8+"]","special")}if(g19(g2))return g0.stylize(RegExp.prototype.toString.call(g2),"regexp");if(g21(g2))return g0.stylize(Date.prototype.toString.call(g2),"date");if(g22(g2))return g11(g2)}var g9,g20="",g24=!1,g25=["{","}"];(g13(g2)&&(g24=!0,g25=["[","]"]),g23(g2))&&(g20=" [Function"+(g2.name?": "+g2.name:"")+"]");return g19(g2)&&(g20=" "+RegExp.prototype.toString.call(g2)),g21(g2)&&(g20=" "+Date.prototype.toUTCString.call(g2)),g22(g2)&&(g20=" "+g11(g2)),0!==g6.length||g24&&0!=g2.length?g3<0?g19(g2)?g0.stylize(RegExp.prototype.toString.call(g2),"regexp"):g0.stylize("[Object]","special"):(g0.seen.push(g2),g9=g24?function(g0,g1,g2,g3,g4){for(var g5=[],g6=0,g7=g1.length;g6<g7;++g6)g28(g1,String(g6))?g5.push(g12(g0,g1,g2,g3,String(g6),!0)):g5.push("");return g4.forEach((function(g4){g4.match(/^\d+$/)||g5.push(g12(g0,g1,g2,g3,g4,!0))})),g5}(g0,g2,g3,g7,g6):g6.map((function(g1){return g12(g0,g2,g3,g7,g1,g24)})),g0.seen.pop(),function(g0,g1,g2){if(g0.reduce((function(g0,g1){return g1.indexOf("\n")>=0&&0,g0+g1.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60)return g2[0]+(""===g1?"":g1+"\n ")+" "+g0.join(",\n  ")+" "+g2[1];return g2[0]+g1+" "+g0.join(", ")+" "+g2[1]}(g9,g20,g25)):g25[0]+g20+g25[1]}function g11(g0){return"["+Error.prototype.toString.call(g0)+"]"}function g12(g0,g1,g2,g3,g4,g5){var g6,g7,g8;if((g8=Object.getOwnPropertyDescriptor(g1,g4)||{value:g1[g4]}).get?g7=g8.set?g0.stylize("[Getter/Setter]","special"):g0.stylize("[Getter]","special"):g8.set&&(g7=g0.stylize("[Setter]","special")),g28(g3,g4)||(g6="["+g4+"]"),g7||(g0.seen.indexOf(g8.value)<0?(g7=g15(g2)?g10(g0,g8.value,null):g10(g0,g8.value,g2-1)).indexOf("\n")>-1&&(g7=g5?g7.split("\n").map((function(g0){return"  "+g0})).join("\n").substr(2):"\n"+g7.split("\n").map((function(g0){return"   "+g0})).join("\n")):g7=g0.stylize("[Circular]","special")),g18(g6)){if(g5&&g4.match(/^\d+$/))return g7;(g6=JSON.stringify(""+g4)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(g6=g6.substr(1,g6.length-2),g6=g0.stylize(g6,"name")):(g6=g6.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),g6=g0.stylize(g6,"string"))}return g6+": "+g7}function g13(g0){return Array.isArray(g0)}function g14(g0){return"boolean"==typeof g0}function g15(g0){return null===g0}function g16(g0){return"number"==typeof g0}function g17(g0){return"string"==typeof g0}function g18(g0){return void 0===g0}function g19(g0){return g20(g0)&&"[object RegExp]"===g24(g0)}function g20(g0){return"object"==typeof g0&&null!==g0}function g21(g0){return g20(g0)&&"[object Date]"===g24(g0)}function g22(g0){return g20(g0)&&("[object Error]"===g24(g0)||g0 instanceof Error)}function g23(g0){return"function"==typeof g0}function g24(g0){return Object.prototype.toString.call(g0)}function g25(g0){return g0<10?"0"+g0.toString(10):g0.toString(10)}g1.debuglog=function(g2){if(g18(g5)&&(g5=g0.env.NODE_DEBUG||""),g2=g2.toUpperCase(),!g6[g2])if(new RegExp("\\b"+g2+"\\b","i").test(g5)){var g3=g0.pid;g6[g2]=function(){var g0=g1.format.apply(g1,arguments);console.error("%s %d: %s",g2,g3,g0)}}else g6[g2]=function(){};return g6[g2]},g1.inspect=g7,g7.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},g7.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},g1.isArray=g13,g1.isBoolean=g14,g1.isNull=g15,g1.isNullOrUndefined=function(g0){return null==g0},g1.isNumber=g16,g1.isString=g17,g1.isSymbol=function(g0){return"symbol"==typeof g0},g1.isUndefined=g18,g1.isRegExp=g19,g1.isObject=g20,g1.isDate=g21,g1.isError=g22,g1.isFunction=g23,g1.isPrimitive=function(g0){return null===g0||"boolean"==typeof g0||"number"==typeof g0||"string"==typeof g0||"symbol"==typeof g0||void 0===g0},g1.isBuffer=g2(333);var g26=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function g27(){var g0=new Date,g1=[g25(g0.getHours()),g25(g0.getMinutes()),g25(g0.getSeconds())].join(":");return[g0.getDate(),g26[g0.getMonth()],g1].join(" ")}function g28(g0,g1){return Object.prototype.hasOwnProperty.call(g0,g1)}g1.log=function(){console.log("%s - %s",g27(),g1.format.apply(g1,arguments))},g1.inherits=g2(334),g1._extend=function(g0,g1){if(!g1||!g20(g1))return g0;for(var g2=Object.keys(g1),g3=g2.length;g3--;)g0[g2[g3]]=g1[g2[g3]];return g0};var g29="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;function g30(g0,g1){if(!g0){var g2=new Error("Promise was rejected with a falsy value");g2.reason=g0,g0=g2}return g1(g0)}g1.promisify=function(g0){if("function"!=typeof g0)throw new TypeError('The "original" argument must be of type Function');if(g29&&g0[g29]){var g1;if("function"!=typeof(g1=g0[g29]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(g1,g29,{value:g1,enumerable:!1,writable:!1,configurable:!0}),g1}function g1(){for(var g1,g2,g3=new Promise((function(g0,g3){g1=g0,g2=g3})),g4=[],g5=0;g5<arguments.length;g5++)g4.push(arguments[g5]);g4.push((function(g0,g3){g0?g2(g0):g1(g3)}));try{g0.apply(this,g4)}catch(g0){g2(g0)}return g3}return Object.setPrototypeOf(g1,Object.getPrototypeOf(g0)),g29&&Object.defineProperty(g1,g29,{value:g1,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(g1,g3(g0))},g1.promisify.custom=g29,g1.callbackify=function(g1){if("function"!=typeof g1)throw new TypeError('The "original" argument must be of type Function');function g2(){for(var g2=[],g3=0;g3<arguments.length;g3++)g2.push(arguments[g3]);var g4=g2.pop();if("function"!=typeof g4)throw new TypeError("The last argument must be of type Function");var g5=this,g6=function(){return g4.apply(g5,arguments)};g1.apply(this,g2).then((function(g1){g0.nextTick(g6,null,g1)}),(function(g1){g0.nextTick(g30,g1,g6)}))}return Object.setPrototypeOf(g2,Object.getPrototypeOf(g1)),Object.defineProperties(g2,g3(g1)),g2}}).call(this,g2(3))},function(g0,g1){g0.exports=function(g0){return g0&&"object"==typeof g0&&"function"==typeof g0.copy&&"function"==typeof g0.fill&&"function"==typeof g0.readUInt8}},function(g0,g1){"function"==typeof Object.create?g0.exports=function(g0,g1){g0.super_=g1,g0.prototype=Object.create(g1.prototype,{constructor:{value:g0,enumerable:!1,writable:!0,configurable:!0}})}:g0.exports=function(g0,g1){g0.super_=g1;var g2=function(){};g2.prototype=g1.prototype,g0.prototype=new g2,g0.prototype.constructor=g0}},function(g0,g1,g2){"use strict";g0.exports=function(){this.cmd=null,this.retain=!1,this.qos=0,this.dup=!1,this.length=-1,this.topic=null,this.payload=null}},function(g0,g1,g2){"use strict";var g3=g2(15).Buffer,g4=g2(154),g5=g2(49).EventEmitter;function g6(){this._array=new Array(20),this._i=0}g2(19)(g6,g5),g6.prototype.write=function(g0){return this._array[this._i++]=g0,!0},g6.prototype.concat=function(){var g0,g1,g2=0,g4=new Array(this._array.length),g5=this._array,g6=0;for(g0=0;g0<g5.length&&void 0!==g5[g0];g0++)"string"!=typeof g5[g0]?g4[g0]=g5[g0].length:g4[g0]=g3.byteLength(g5[g0]),g2+=g4[g0];for(g1=g3.allocUnsafe(g2),g0=0;g0<g5.length&&void 0!==g5[g0];g0++)"string"!=typeof g5[g0]?(g5[g0].copy(g1,g6),g6+=g4[g0]):(g1.write(g5[g0],g6),g6+=g4[g0]);return g1},g0.exports=function(g0,g1){var g2=new g6;return g4(g0,g2,g1),g2.concat()}},function(g0,g1,g2){"use strict";var g3=g2(15).Buffer,g4={};function g5(g0){var g1=g3.allocUnsafe(2);return g1.writeUInt8(g0>>8,0),g1.writeUInt8(255&g0,1),g1}g0.exports={cache:g4,generateCache:function(){for(var g0=0;g0<65536;g0++)g4[g0]=g5(g0)},generateNumber:g5,genBufVariableByteInt:function(g0){var g1=0,g2=0,g4=function(g0){return g0>=0&&g0<128?1:g0>=128&&g0<16384?2:g0>=16384&&g0<2097152?3:g0>=2097152&&g0<268435456?4:0}(g0),g5=g3.allocUnsafe(g4);do{g1=g0%128|0,(g0=g0/128|0)>0&&(g1|=128),g5.writeUInt8(g1,g2++)}while(g0>0);return{data:g5,length:g4}},generate4ByteBuffer:function(g0){var g1=g3.allocUnsafe(4);return g1.writeUInt32BE(g0,0),g1}}},function(g0,g1,g2){"use strict";function g3(g0,g1,g2){var g3=this;this._callback=g0,this._args=g2,this._interval=setInterval(g0,g1,this._args),this.reschedule=function(g0){g0||(g0=g3._interval),g3._interval&&clearInterval(g3._interval),g3._interval=setInterval(g3._callback,g0,g3._args)},this.clear=function(){g3._interval&&(clearInterval(g3._interval),g3._interval=void 0)},this.destroy=function(){g3._interval&&clearInterval(g3._interval),g3._callback=void 0,g3._interval=void 0,g3._args=void 0}}g0.exports=function(){if("function"!=typeof arguments[0])throw new Error("callback needed");if("number"!=typeof arguments[1])throw new Error("interval needed");var g0;if(arguments.length>0){g0=new Array(arguments.length-2);for(var g1=0;g1<g0.length;g1++)g0[g1]=arguments[g1+2]}return new g3(arguments[0],arguments[1],g0)}},function(g0,g1,g2){"use strict";function g3(g0){for(var g1=g0.split("/"),g2=0;g2<g1.length;g2++)if("+"!==g1[g2]){if("#"===g1[g2])return g2===g1.length-1;if(-1!==g1[g2].indexOf("+")||-1!==g1[g2].indexOf("#"))return!1}return!0}g0.exports={validateTopics:function(g0){if(0===g0.length)return"empty_topic_list";for(var g1=0;g1<g0.length;g1++)if(!g3(g0[g1]))return g0[g1];return null}}},function(g0,g1,g2){(function(g0,g3){var g4;!function(g5){g1&&g1.nodeType,g0&&g0.nodeType;var g6="object"==typeof g3&&g3;g6.global!==g6&&g6.window!==g6&&g6.self;var g7,g8=2147483647,g9=36,g10=/^xn--/,g11=/[^\x20-\x7E]/,g12=/[\x2E\u3002\uFF0E\uFF61]/g,g13={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},g14=Math.floor,g15=String.fromCharCode;function g16(g0){throw new RangeError(g13[g0])}function g17(g0,g1){for(var g2=g0.length,g3=[];g2--;)g3[g2]=g1(g0[g2]);return g3}function g18(g0,g1){var g2=g0.split("@"),g3="";return g2.length>1&&(g3=g2[0]+"@",g0=g2[1]),g3+g17((g0=g0.replace(g12,".")).split("."),g1).join(".")}function g19(g0){for(var g1,g2,g3=[],g4=0,g5=g0.length;g4<g5;)(g1=g0.charCodeAt(g4++))>=55296&&g1<=56319&&g4<g5?56320==(64512&(g2=g0.charCodeAt(g4++)))?g3.push(((1023&g1)<<10)+(1023&g2)+65536):(g3.push(g1),g4--):g3.push(g1);return g3}function g20(g0){return g17(g0,(function(g0){var g1="";return g0>65535&&(g1+=g15((g0-=65536)>>>10&1023|55296),g0=56320|1023&g0),g1+=g15(g0)})).join("")}function g21(g0,g1){return g0+22+75*(g0<26)-((0!=g1)<<5)}function g22(g0,g1,g2){var g3=0;for(g0=g2?g14(g0/700):g0>>1,g0+=g14(g0/g1);g0>455;g3+=g9)g0=g14(g0/35);return g14(g3+36*g0/(g0+38))}function g23(g0){var g1,g2,g3,g4,g5,g6,g7,g10,g11,g12,g13,g15=[],g17=g0.length,g18=0,g19=128,g21=72;for((g2=g0.lastIndexOf("-"))<0&&(g2=0),g3=0;g3<g2;++g3)g0.charCodeAt(g3)>=128&&g16("not-basic"),g15.push(g0.charCodeAt(g3));for(g4=g2>0?g2+1:0;g4<g17;){for(g5=g18,g6=1,g7=g9;g4>=g17&&g16("invalid-input"),((g10=(g13=g0.charCodeAt(g4++))-48<10?g13-22:g13-65<26?g13-65:g13-97<26?g13-97:g9)>=g9||g10>g14((g8-g18)/g6))&&g16("overflow"),g18+=g10*g6,!(g10<(g11=g7<=g21?1:g7>=g21+26?26:g7-g21));g7+=g9)g6>g14(g8/(g12=g9-g11))&&g16("overflow"),g6*=g12;g21=g22(g18-g5,g1=g15.length+1,0==g5),g14(g18/g1)>g8-g19&&g16("overflow"),g19+=g14(g18/g1),g18%=g1,g15.splice(g18++,0,g19)}return g20(g15)}function g24(g0){var g1,g2,g3,g4,g5,g6,g7,g10,g11,g12,g13,g17,g18,g20,g23,g24=[];for(g17=(g0=g19(g0)).length,g1=128,g2=0,g5=72,g6=0;g6<g17;++g6)(g13=g0[g6])<128&&g24.push(g15(g13));for(g3=g4=g24.length,g4&&g24.push("-");g3<g17;){for(g7=g8,g6=0;g6<g17;++g6)(g13=g0[g6])>=g1&&g13<g7&&(g7=g13);for(g7-g1>g14((g8-g2)/(g18=g3+1))&&g16("overflow"),g2+=(g7-g1)*g18,g1=g7,g6=0;g6<g17;++g6)if((g13=g0[g6])<g1&&++g2>g8&&g16("overflow"),g13==g1){for(g10=g2,g11=g9;!(g10<(g12=g11<=g5?1:g11>=g5+26?26:g11-g5));g11+=g9)g23=g10-g12,g20=g9-g12,g24.push(g15(g21(g12+g23%g20,0))),g10=g14(g23/g20);g24.push(g15(g21(g10,0))),g5=g22(g2,g18,g3==g4),g2=0,++g3}++g2,++g1}return g24.join("")}g7={version:"1.4.1",ucs2:{decode:g19,encode:g20},decode:g23,encode:g24,toASCII:function(g0){return g18(g0,(function(g0){return g11.test(g0)?"xn--"+g24(g0):g0}))},toUnicode:function(g0){return g18(g0,(function(g0){return g10.test(g0)?g23(g0.slice(4).toLowerCase()):g0}))}},void 0===(g4=function(){return g7}.call(g1,g2,g1,g0))||(g0.exports=g4)}()}).call(this,g2(341)(g0),g2(17))},function(g0,g1){g0.exports=function(g0){return g0.webpackPolyfill||(g0.deprecate=function(){},g0.paths=[],g0.children||(g0.children=[]),Object.defineProperty(g0,"loaded",{enumerable:!0,get:function(){return g0.l}}),Object.defineProperty(g0,"id",{enumerable:!0,get:function(){return g0.i}}),g0.webpackPolyfill=1),g0}},function(g0,g1,g2){"use strict";g0.exports={isString:function(g0){return"string"==typeof g0},isObject:function(g0){return"object"==typeof g0&&null!==g0},isNull:function(g0){return null===g0},isNullOrUndefined:function(g0){return null==g0}}},function(g0,g1,g2){"use strict";g1.decode=g1.parse=g2(344),g1.encode=g1.stringify=g2(345)},function(g0,g1,g2){"use strict";function g3(g0,g1){return Object.prototype.hasOwnProperty.call(g0,g1)}g0.exports=function(g0,g1,g2,g5){g1=g1||"&",g2=g2||"=";var g6={};if("string"!=typeof g0||0===g0.length)return g6;var g7=/\+/g;g0=g0.split(g1);var g8=1e3;g5&&"number"==typeof g5.maxKeys&&(g8=g5.maxKeys);var g9=g0.length;g8>0&&g9>g8&&(g9=g8);for(var g10=0;g10<g9;++g10){var g11,g12,g13,g14,g15=g0[g10].replace(g7,"%20"),g16=g15.indexOf(g2);g16>=0?(g11=g15.substr(0,g16),g12=g15.substr(g16+1)):(g11=g15,g12=""),g13=decodeURIComponent(g11),g14=decodeURIComponent(g12),g3(g6,g13)?g4(g6[g13])?g6[g13].push(g14):g6[g13]=[g6[g13],g14]:g6[g13]=g14}return g6};var g4=Array.isArray||function(g0){return"[object Array]"===Object.prototype.toString.call(g0)}},function(g0,g1,g2){"use strict";var g3=function(g0){switch(typeof g0){case"string":return g0;case"boolean":return g0?"true":"false";case"number":return isFinite(g0)?g0:"";default:return""}};g0.exports=function(g0,g1,g2,g7){return g1=g1||"&",g2=g2||"=",null===g0&&(g0=void 0),"object"==typeof g0?g5(g6(g0),(function(g6){var g7=encodeURIComponent(g3(g6))+g2;return g4(g0[g6])?g5(g0[g6],(function(g0){return g7+encodeURIComponent(g3(g0))})).join(g1):g7+encodeURIComponent(g3(g0[g6]))})).join(g1):g7?encodeURIComponent(g3(g7))+g2+encodeURIComponent(g3(g0)):""};var g4=Array.isArray||function(g0){return"[object Array]"===Object.prototype.toString.call(g0)};function g5(g0,g1){if(g0.map)return g0.map(g1);for(var g2=[],g3=0;g3<g0.length;g3++)g2.push(g1(g0[g3],g3));return g2}var g6=Object.keys||function(g0){var g1=[];for(var g2 in g0)Object.prototype.hasOwnProperty.call(g0,g2)&&g1.push(g2);return g1}},function(g0,g1){},function(g0,g1){},function(g0,g1,g2){(function(g1){var g3=g2(349),g4=function(){},g5=function(g0,g2,g6){if("function"==typeof g2)return g5(g0,null,g2);g2||(g2={}),g6=g3(g6||g4);var g7=g0._writableState,g8=g0._readableState,g9=g2.readable||!1!==g2.readable&&g0.readable,g10=g2.writable||!1!==g2.writable&&g0.writable,g11=!1,g12=function(){g0.writable||g13()},g13=function(){g10=!1,g9||g6.call(g0)},g14=function(){g9=!1,g10||g6.call(g0)},g15=function(g1){g6.call(g0,g1?new Error("exited with error code: "+g1):null)},g16=function(g1){g6.call(g0,g1)},g17=function(){g1.nextTick(g18)},g18=function(){if(!g11)return(!g9||g8&&g8.ended&&!g8.destroyed)&&(!g10||g7&&g7.ended&&!g7.destroyed)?void 0:g6.call(g0,new Error("premature close"))},g19=function(){g0.req.on("finish",g13)};return!function(g0){return g0.setHeader&&"function"==typeof g0.abort}(g0)?g10&&!g7&&(g0.on("end",g12),g0.on("close",g12)):(g0.on("complete",g13),g0.on("abort",g17),g0.req?g19():g0.on("request",g19)),function(g0){return g0.stdio&&Array.isArray(g0.stdio)&&3===g0.stdio.length}(g0)&&g0.on("exit",g15),g0.on("end",g14),g0.on("finish",g13),!1!==g2.error&&g0.on("error",g16),g0.on("close",g17),function(){g11=!0,g0.removeListener("complete",g13),g0.removeListener("abort",g17),g0.removeListener("request",g19),g0.req&&g0.req.removeListener("finish",g13),g0.removeListener("end",g12),g0.removeListener("close",g12),g0.removeListener("finish",g13),g0.removeListener("exit",g15),g0.removeListener("end",g14),g0.removeListener("error",g16),g0.removeListener("close",g17)}};g0.exports=g5}).call(this,g2(3))},function(g0,g1,g2){var g3=g2(350);function g4(g0){var g1=function(){return g1.called?g1.value:(g1.called=!0,g1.value=g0.apply(this,arguments))};return g1.called=!1,g1}function g5(g0){var g1=function(){if(g1.called)throw new Error(g1.onceError);return g1.called=!0,g1.value=g0.apply(this,arguments)},g2=g0.name||"Function wrapped with `once`";return g1.onceError=g2+" shouldn't be called more than once",g1.called=!1,g1}g0.exports=g3(g4),g0.exports.strict=g3(g5),g4.proto=g4((function(){Object.defineProperty(Function.prototype,"once",{value:function(){return g4(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return g5(this)},configurable:!0})}))},function(g0,g1){g0.exports=function g0(g1,g2){if(g1&&g2)return g0(g1)(g2);if("function"!=typeof g1)throw new TypeError("need wrapper function");return Object.keys(g1).forEach((function(g0){g3[g0]=g1[g0]})),g3;function g3(){for(var g0=new Array(arguments.length),g2=0;g2<g0.length;g2++)g0[g2]=arguments[g2];var g3=g1.apply(this,g0),g4=g0[g0.length-1];return"function"==typeof g3&&g3!==g4&&Object.keys(g4).forEach((function(g0){g3[g0]=g4[g0]})),g3}}},function(g0,g1){g0.exports=function(g0){var g1=g0._readableState;return g1?g1.objectMode?g0.read():g0.read(function(g0){if(g0.buffer.length)return g0.buffer.head?g0.buffer.head.data.length:g0.buffer[0].length;return g0.length}(g1)):null}},function(g0,g1,g2){"use strict";(function(g1,g3){var g4=g2(14).Transform,g5=g2(30),g6=g2(353),g7=g2(15).Buffer;g0.exports=function(g0,g2,g8){var g9,g10,g11="browser"===g1.title,g12=!!g3.WebSocket,g13=g11?function g0(g1,g2,g3){if(g10.bufferedAmount>g15)return void setTimeout(g0,g16,g1,g2,g3);g17&&"string"==typeof g1&&(g1=g7.from(g1,"utf8"));try{g10.send(g1)}catch(g0){return g3(g0)}g3()}:function(g0,g1,g2){if(g10.readyState!==g10.OPEN)return void g2();g17&&"string"==typeof g0&&(g0=g7.from(g0,"utf8"));g10.send(g0,g2)};g2&&!Array.isArray(g2)&&"object"==typeof g2&&(g8=g2,g2=null,("string"==typeof g8.protocol||Array.isArray(g8.protocol))&&(g2=g8.protocol));g8||(g8={});void 0===g8.objectMode&&(g8.objectMode=!(!0===g8.binary||void 0===g8.binary));var g14=function(g0,g1,g2){var g3=new g4({objectMode:g0.objectMode});return g3._write=g1,g3._flush=g2,g3}(g8,g13,(function(g0){g10.close(),g0()}));g8.objectMode||(g14._writev=g18);var g15=g8.browserBufferSize||524288,g16=g8.browserBufferTimeout||1e3;"object"==typeof g0?g10=g0:(g10=g12&&g11?new g6(g0,g2):new g6(g0,g2,g8)).binaryType="arraybuffer";g10.readyState===g10.OPEN?g9=g14:(g9=g9=g5(void 0,void 0,g8),g8.objectMode||(g9._writev=g18),g10.onopen=function(){g9.setReadable(g14),g9.setWritable(g14),g9.emit("connect")});g9.socket=g10,g10.onclose=function(){g9.end(),g9.destroy()},g10.onerror=function(g0){g9.destroy(g0)},g10.onmessage=function(g0){var g1=g0.data;g1=g1 instanceof ArrayBuffer?g7.from(g1):g7.from(g1,"utf8");g14.push(g1)},g14.on("close",(function(){g10.close()}));var g17=!g8.objectMode;function g18(g0,g1){for(var g2=new Array(g0.length),g3=0;g3<g0.length;g3++)"string"==typeof g0[g3].chunk?g2[g3]=g7.from(g0[g3],"utf8"):g2[g3]=g0[g3].chunk;this._write(g7.concat(g2),"binary",g1)}return g9}}).call(this,g2(3),g2(17))},function(g0,g1){var g2=null;"undefined"!=typeof WebSocket?g2=WebSocket:"undefined"!=typeof MozWebSocket?g2=MozWebSocket:"undefined"!=typeof window&&(g2=window.WebSocket||window.MozWebSocket),g0.exports=g2},function(g0,g1,g2){g0.exports={default:g2(355),__esModule:!0}},function(g0,g1,g2){g2(356),g0.exports=g2(0).Number.isInteger},function(g0,g1,g2){var g3=g2(2);g3(g3.S,"Number",{isInteger:g2(357)})},function(g0,g1,g2){var g3=g2(8),g4=Math.floor;g0.exports=function(g0){return!g3(g0)&&isFinite(g0)&&g4(g0)===g0}},function(g0,g1,g2){g2(359),g0.exports=g2(0).Object.freeze},function(g0,g1,g2){var g3=g2(8),g4=g2(58).onFreeze;g2(92)("freeze",(function(g0){return function(g1){return g0&&g3(g1)?g0(g4(g1)):g1}}))},function(g0,g1,g2){"use strict";g0.exports=function(g0,g1,g2){var g3=g2||8192,g4=g3>>>1,g5=null,g6=g3;return function(g2){if(g2<1||g2>g4)return g0(g2);g6+g2>g3&&(g5=g0(g3),g6=0);var g7=g1.call(g5,g6,g6+=g2);return 7&g6&&(g6=1+(7|g6)),g7}}},function(g0,g1,g2){"use strict";function g3(g0){return"undefined"!=typeof Float32Array?function(){var g1=new Float32Array([-0]),g2=new Uint8Array(g1.buffer),g3=128===g2[3];function g4(g0,g3,g4){g1[0]=g0,g3[g4]=g2[0],g3[g4+1]=g2[1],g3[g4+2]=g2[2],g3[g4+3]=g2[3]}function g5(g0,g3,g4){g1[0]=g0,g3[g4]=g2[3],g3[g4+1]=g2[2],g3[g4+2]=g2[1],g3[g4+3]=g2[0]}function g6(g0,g3){return g2[0]=g0[g3],g2[1]=g0[g3+1],g2[2]=g0[g3+2],g2[3]=g0[g3+3],g1[0]}function g7(g0,g3){return g2[3]=g0[g3],g2[2]=g0[g3+1],g2[1]=g0[g3+2],g2[0]=g0[g3+3],g1[0]}g0.writeFloatLE=g3?g4:g5,g0.writeFloatBE=g3?g5:g4,g0.readFloatLE=g3?g6:g7,g0.readFloatBE=g3?g7:g6}():function(){function g1(g0,g1,g2,g3){var g4=g1<0?1:0;if(g4&&(g1=-g1),0===g1)g0(1/g1>0?0:2147483648,g2,g3);else if(isNaN(g1))g0(2143289344,g2,g3);else if(g1>34028234663852886e22)g0((g4<<31|2139095040)>>>0,g2,g3);else if(g1<11754943508222875e-54)g0((g4<<31|Math.round(g1/1401298464324817e-60))>>>0,g2,g3);else{var g5=Math.floor(Math.log(g1)/Math.LN2);g0((g4<<31|g5+127<<23|8388607&Math.round(g1*Math.pow(2,-g5)*8388608))>>>0,g2,g3)}}function g2(g0,g1,g2){var g3=g0(g1,g2),g4=2*(g3>>31)+1,g5=g3>>>23&255,g6=8388607&g3;return 255===g5?g6?NaN:g4*(1/0):0===g5?1401298464324817e-60*g4*g6:g4*Math.pow(2,g5-150)*(g6+8388608)}g0.writeFloatLE=g1.bind(null,g4),g0.writeFloatBE=g1.bind(null,g5),g0.readFloatLE=g2.bind(null,g6),g0.readFloatBE=g2.bind(null,g7)}(),"undefined"!=typeof Float64Array?function(){var g1=new Float64Array([-0]),g2=new Uint8Array(g1.buffer),g3=128===g2[7];function g4(g0,g3,g4){g1[0]=g0,g3[g4]=g2[0],g3[g4+1]=g2[1],g3[g4+2]=g2[2],g3[g4+3]=g2[3],g3[g4+4]=g2[4],g3[g4+5]=g2[5],g3[g4+6]=g2[6],g3[g4+7]=g2[7]}function g5(g0,g3,g4){g1[0]=g0,g3[g4]=g2[7],g3[g4+1]=g2[6],g3[g4+2]=g2[5],g3[g4+3]=g2[4],g3[g4+4]=g2[3],g3[g4+5]=g2[2],g3[g4+6]=g2[1],g3[g4+7]=g2[0]}function g6(g0,g3){return g2[0]=g0[g3],g2[1]=g0[g3+1],g2[2]=g0[g3+2],g2[3]=g0[g3+3],g2[4]=g0[g3+4],g2[5]=g0[g3+5],g2[6]=g0[g3+6],g2[7]=g0[g3+7],g1[0]}function g7(g0,g3){return g2[7]=g0[g3],g2[6]=g0[g3+1],g2[5]=g0[g3+2],g2[4]=g0[g3+3],g2[3]=g0[g3+4],g2[2]=g0[g3+5],g2[1]=g0[g3+6],g2[0]=g0[g3+7],g1[0]}g0.writeDoubleLE=g3?g4:g5,g0.writeDoubleBE=g3?g5:g4,g0.readDoubleLE=g3?g6:g7,g0.readDoubleBE=g3?g7:g6}():function(){function g1(g0,g1,g2,g3,g4,g5){var g6=g3<0?1:0;if(g6&&(g3=-g3),0===g3)g0(0,g4,g5+g1),g0(1/g3>0?0:2147483648,g4,g5+g2);else if(isNaN(g3))g0(0,g4,g5+g1),g0(2146959360,g4,g5+g2);else if(g3>17976931348623157e292)g0(0,g4,g5+g1),g0((g6<<31|2146435072)>>>0,g4,g5+g2);else{var g7;if(g3<22250738585072014e-324)g0((g7=g3/5e-324)>>>0,g4,g5+g1),g0((g6<<31|g7/4294967296)>>>0,g4,g5+g2);else{var g8=Math.floor(Math.log(g3)/Math.LN2);1024===g8&&(g8=1023),g0(4503599627370496*(g7=g3*Math.pow(2,-g8))>>>0,g4,g5+g1),g0((g6<<31|g8+1023<<20|1048576*g7&1048575)>>>0,g4,g5+g2)}}}function g2(g0,g1,g2,g3,g4){var g5=g0(g3,g4+g1),g6=g0(g3,g4+g2),g7=2*(g6>>31)+1,g8=g6>>>20&2047,g9=4294967296*(1048575&g6)+g5;return 2047===g8?g9?NaN:g7*(1/0):0===g8?5e-324*g7*g9:g7*Math.pow(2,g8-1075)*(g9+4503599627370496)}g0.writeDoubleLE=g1.bind(null,g4,0,4),g0.writeDoubleBE=g1.bind(null,g5,4,0),g0.readDoubleLE=g2.bind(null,g6,0,4),g0.readDoubleBE=g2.bind(null,g7,4,0)}(),g0}function g4(g0,g1,g2){g1[g2]=255&g0,g1[g2+1]=g0>>>8&255,g1[g2+2]=g0>>>16&255,g1[g2+3]=g0>>>24}function g5(g0,g1,g2){g1[g2]=g0>>>24,g1[g2+1]=g0>>>16&255,g1[g2+2]=g0>>>8&255,g1[g2+3]=255&g0}function g6(g0,g1){return(g0[g1]|g0[g1+1]<<8|g0[g1+2]<<16|g0[g1+3]<<24)>>>0}function g7(g0,g1){return(g0[g1]<<24|g0[g1+1]<<16|g0[g1+2]<<8|g0[g1+3])>>>0}g0.exports=g3(g3)},function(g0,g1,g2){"use strict";var g3,g4=g2(84),g5=(g3=g4)&&g3.__esModule?g3:{default:g3};g0.exports=function(g0,g1){var g2=new Array(arguments.length-1),g3=0,g4=2,g6=!0;for(;g4<arguments.length;)g2[g3++]=arguments[g4++];return new g5.default((function(g4,g5){g2[g3]=function(g0){if(g6)if(g6=!1,g0)g5(g0);else{for(var g1=new Array(arguments.length-1),g2=0;g2<g1.length;)g1[g2++]=arguments[g2];g4.apply(null,g1)}};try{g0.apply(g1||null,g2)}catch(g0){g6&&(g6=!1,g5(g0))}}))}},function(g0,g1,g2){"use strict";function g3(){this._listeners={}}g0.exports=g3,g3.prototype.on=function(g0,g1,g2){return(this._listeners[g0]||(this._listeners[g0]=[])).push({fn:g1,ctx:g2||this}),this},g3.prototype.off=function(g0,g1){if(void 0===g0)this._listeners={};else if(void 0===g1)this._listeners[g0]=[];else for(var g2=this._listeners[g0],g3=0;g3<g2.length;)g2[g3].fn===g1?g2.splice(g3,1):++g3;return this},g3.prototype.emit=function(g0){var g1=this._listeners[g0];if(g1){for(var g2=[],g3=1;g3<arguments.length;)g2.push(arguments[g3++]);for(g3=0;g3<g1.length;)g1[g3].fn.apply(g1[g3++].ctx,g2)}return this}},function(g0,g1,g2){"use strict";var g3=g0.exports,g4=g3.isAbsolute=function(g0){return/^(?:\/|\w+:)/.test(g0)},g5=g3.normalize=function(g0){var g1=(g0=g0.replace(/\\/g,"/").replace(/\/{2,}/g,"/")).split("/"),g2=g4(g0),g3="";g2&&(g3=g1.shift()+"/");for(var g5=0;g5<g1.length;)".."===g1[g5]?g5>0&&".."!==g1[g5-1]?g1.splice(--g5,2):g2?g1.splice(g5,1):++g5:"."===g1[g5]?g1.splice(g5,1):++g5;return g3+g1.join("/")};g3.resolve=function(g0,g1,g2){return g2||(g1=g5(g1)),g4(g1)?g1:(g2||(g0=g5(g0)),(g0=g0.replace(/(?:\/|^)[^/]+$/,"")).length?g5(g0+"/"+g1):g1)}},function(g0,g1,g2){g2(366);var g3=g2(0).Object;g0.exports=function(g0,g1){return g3.defineProperties(g0,g1)}},function(g0,g1,g2){var g3=g2(2);g3(g3.S+g3.F*!g2(9),"Object",{defineProperties:g2(108)})},function(g0,g1,g2){"use strict";g0.exports={options:{java_package:"cn.wildfirechat.proto",java_outer_classname:"WFCMessage"},nested:{IMHttpWrapper:{fields:{token:{rule:"required",type:"string",id:1},clientId:{rule:"required",type:"string",id:2},request:{rule:"required",type:"string",id:3},data:{type:"bytes",id:4}}},RouteRequest:{fields:{app:{type:"string",id:1},platform:{type:"int32",id:2},pushType:{type:"int32",id:3},deviceName:{type:"string",id:4},deviceVersion:{type:"string",id:5},phoneName:{type:"string",id:6},language:{type:"string",id:7},carrierName:{type:"string",id:8},appVersion:{type:"string",id:9},sdkVersion:{type:"string",id:10},wxAppId:{type:"string",id:11},wxAppKey:{type:"string",id:12},webAppId:{type:"string",id:13},webAppKey:{type:"string",id:14},host:{type:"string",id:15}}},RouteResponse:{fields:{host:{rule:"required",type:"string",id:1},longPort:{rule:"required",type:"int32",id:2},shortPort:{rule:"required",type:"int32",id:3},thumbPara:{type:"string",id:4},node:{type:"string",id:5},commercial:{type:"int32",id:6},wssPort:{type:"int32",id:7}}}}}},function(g0,g1){g0.exports=g20},function(g0,g1){g0.exports=g21},function(g0,g1){g0.exports=g22},function(g0,g1){g0.exports=g23},function(g0,g1){g0.exports=g24},function(g0,g1){g0.exports=g25},function(g0,g1,g2){"use strict";Object.defineProperty(g1,"__esModule",{value:!0});var g3=g37(g2(87)),g4=g37(g2(88)),g5=g37(g2(127)),g6=g37(g2(128)),g7=g37(g2(114)),g8=g37(g2(129)),g9=g37(g2(60)),g10=g37(g2(130)),g11=g37(g2(89)),g12=g37(g2(183)),g13=g37(g2(186)),g14=g37(g2(194)),g15=g37(g2(187)),g16=g37(g2(195)),g17=g37(g2(190)),g18=g37(g2(191)),g19=g37(g2(375)),g20=g37(g2(193)),g21=g37(g2(181)),g22=g37(g2(196)),g23=g37(g2(180)),g24=g2(132),g25=g37(g2(376)),g26=g37(g2(184)),g27=g37(g2(189)),g28=g37(g2(97)),g29=g37(g2(377)),g30=g37(g2(192)),g31=g37(g2(185)),g32=g37(g2(188)),g33=g2(48),g34=g37(g2(378)),g35=g37(g2(379)),g36=g37(g2(182));function g37(g0){return g0&&g0.__esModule?g0:{default:g0}}var g38=function(){function g0(g1){(0,g9.default)(this,g0),this.users=new g8.default,this.groups=new g8.default,this.loadingUsers=new g7.default,this.loadingGroups=new g7.default,this.loadingGroupMembers=new g7.default,this.favGroups=[],this.favUsers=[],this.channels=new g8.default,this.groupMembers=new g8.default,this.friends=new g8.default,this.deliveries=new g8.default,this.readEntries=new g8.default,this.syncReadEntries=new g8.default,this.groupHeadEntries=new g8.default,this.friendRequests=[],this.messages=[],this.settings=[],this.conversationInfos=[],this.chatRoomMessageId=100,this.messageId=100,this.syncReadId=100,this.impl=null,this.impl=g1}return(0,g10.default)(g0,[{key:"_setInfoDataSource",value:function(g0){g28.default.ENABLE_INFO_PERSISTENCE&&(this.mp=g0)}},{key:"genConversationKey",value:function(g0){return g0.type+"@"+g0.target+"@"+g0.line}},{key:"getUser",value:function(g0){var g1=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",g2=this._get(this.users,"u",g0,g30.default);if(g2){var g3=this.getFriendAlias(g0);if(g3&&""!==g3&&(g2.friendAlias=g3),g1.length>0){var g4=this.getGroupMember(g1,g0);g4&&g4.alias&&""!==g4.alias&&(g2.groupAlias=g4.alias)}}else g2=new g18.default(g0);return g2}},{key:"setUser",value:function(g0){this._set(this.users,"u",g0.uid,g0)}},{key:"getChannelInfo",value:function(g0){var g1=this._get(this.channels,"c",g0,g31.default);return g1||(g1=new g22.default(g0)),g1}},{key:"setChannelInfo",value:function(g0){g0 instanceof g22.default||this._set(this.channels,"c",g0.channelId,g0)}},{key:"getGroupInfo",value:function(g0){var g1=this._get(this.groups,"g",g0,g32.default);if(g1){var g2=this.getUserSetting(g20.default.GroupRemark,g0);g1.remark=g2?g2.value:void 0}else g1=new g17.default(g0);return g1}},{key:"setGroupInfo",value:function(g0){this._set(this.groups,"g",g0.target,g0)}},{key:"getGroupMembers",value:function(g0){var g1=this.groupMembers.get(g0);return g1=(g1=g1||[]).filter((function(g0){return g0.type!==g27.default.Removed}))}},{key:"getGroupMemberIds",value:function(g0){var g1=arguments.length>1&&void 0!==arguments[1]&&arguments[1],g2=this.getGroupMembers(g0,g1),g3=[];return g2.forEach((function(g0){g0.type!==g27.default.Removed&&g3.push(g0.memberId)})),g3}},{key:"getGroupMemberMaxDt",value:function(g0){var g1=g11.default.ZERO,g2=this.groupMembers.get(g0);return(g2=g2||[]).forEach((function(g0){g1=(0,g24.gt)(g0.updateDt,g1)?g0.updateDt:g1})),g1}},{key:"setGroupMembers",value:function(g0,g1){this.groupMembers.set(g0,g1)}},{key:"removeGroupAndMembers",value:function(g0){var g1=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(g1){var g2=this.getGroupInfo(g0);g2.memberCount=0,this.setGroupInfo(g2)}else this._delete(this.groups,"g",g0);this.groupMembers.delete(g0)}},{key:"removeGroupMembers",value:function(g0,g1){var g2=this.groupMembers.get(g0);g2&&(g2=g2.filter((function(g0){return-1===g1.indexOf(g0.memberId)})),this.groupMembers.set(g0,g2))}},{key:"removeGroupSettings",value:function(g0){var g1=this;[g20.default.GroupHideNickname,g20.default.FavoriteGroup,g20.default.GroupRemark].forEach((function(g2){g1.removeUserSetting(g2,g0)}))}},{key:"updateGroupMembers",value:function(g0,g1){var g2=this.groupMembers.get(g0);if(g2)for(var g3=0;g3<g1.length;g3++){for(var g4=!1,g5=0;g5<g2.length;g5++)g2[g5].memberId===g1[g3].memberId&&(g2[g5]=g1[g3],g4=!0);g4||g2.push(g1[g3])}else this.groupMembers.set(g0,g1)}},{key:"updateGroupMemberMuteOrAllow",value:function(g0,g1,g2,g3){var g4=this;g1&&g1.forEach((function(g1){var g5=g4.getGroupMember(g0,g1);g5&&(g5.type=g3?g2?g27.default.Allowed:0:g2?g27.default.Muted:0)}))}},{key:"updateGroupMemberAlias",value:function(g0,g1,g2){var g3=this.getGroupMember(g0,g1);g3&&(g3.alias=g2)}},{key:"updateGroupMemberExtra",value:function(g0,g1,g2){var g3=this.getGroupMember(g0,g1);g3&&(g3.extra=g2)}},{key:"getGroupMember",value:function(g0,g1){var g2=this.groupMembers.get(g0);if(!g2)return null;var g3=!0,g4=!1,g5=void 0;try{for(var g7,g8=(0,g6.default)(g2);!(g3=(g7=g8.next()).done);g3=!0){var g9=g7.value;if(g1===g9.memberId)return g9}}catch(g0){g4=!0,g5=g0}finally{try{!g3&&g8.return&&g8.return()}finally{if(g4)throw g5}}return null}},{key:"getFriends",value:function(){var g0=[];return this.friends.forEach((function(g1,g2){if(0===g1.state){var g3=new g29.default;g3.userId=g1.uid,g3.alias=g1.alias,g3.extra=g1.extra,g3.extra=g1.updateDt,g0.push(g3)}})),g0}},{key:"getFriendIds",value:function(){var g0=[];return this.friends.forEach((function(g1,g2){0===g1.state&&g0.push(g1.uid)})),g0}},{key:"getBlackList",value:function(){var g0=[];return this.friends.forEach((function(g1,g2){2===g1.state&&g0.push(g1.uid)})),g0}},{key:"isBlackListed",value:function(g0){return 2===this.friends.get(g0).state}},{key:"setBlackList",value:function(g0,g1){this.friends.get(g0).state=g1?2:0}},{key:"isMyFriend",value:function(g0){var g1=this.friends.get(g0);return!(!g1||0!==g1.state)}},{key:"isBlocked",value:function(g0){var g1=this.friends.get(g0);return g1&&2===g1.state}},{key:"insertFriend",value:function(g0){var g1=this.friends.get(g0.uid);(!g1||g0.updateDt.compare(g1.updateDt)>0)&&this.friends.set(g0.uid,(0,g5.default)(new g16.default,g0))}},{key:"addFavGroup",value:function(g0){this.favGroups.indexOf(g0)>=0||this.favGroups.push(g0)}},{key:"removeFavGroup",value:function(g0){this.favGroups=this.favGroups.filter((function(g1){return g1.target!==g0}))}},{key:"getFavGroups",value:function(){return this.favGroups}},{key:"isFavGroup",value:function(g0){return this.favGroups.indexOf(g0)>=0}},{key:"getFavUsers",value:function(){return this.favUsers}},{key:"isFavUser",value:function(g0){return this.favUsers.indexOf(g0)>=0}},{key:"getFavGroupInfos",value:function(){var g0=this,g1=[];return this.favGroups.map((function(g2){var g3=g0._get(g0.groups,"g",g2,g32.default);g1.push(g3)})),g1}},{key:"getFriendAlias",value:function(g0){var g1=this.friends.get(g0),g2=g1?g1.alias:"";return g2.length>0?g2:null}},{key:"getFriendExtra",value:function(g0){var g1=this.friends.get(g0),g2=g1?g1.extra:"";return g2.length>0?g2:null}},{key:"getFriendUserInfos",value:function(){var g0=this,g1=[];return this.friends.forEach((function(g2,g3){if(0===g2.state){var g4=g0.getUser(g3);g1.push(g4)}})),g1}},{key:"getConversationInfo",value:function(g0){var g1=this.conversationInfos.filter((function(g1){return g1.conversation.equal(g0)}));return g1&&g1.length>0?g1[0]:null}},{key:"clearConversationUnreadStatus",value:function(g0){var g1=this.getConversationInfo(g0),g2=0;return g1&&(g2=g1.unreadCount.unread+g1.unreadCount.unreadMention+g1.unreadCount.unreadMentionAll,this.updateConversationUnreadStatus(g0,g1.timestamp)),g2}},{key:"clearMessageUnreadStatus",value:function(g0){for(var g1=!1,g2=0;g2<this.messages.length;g2++){var g3=this.messages[g2];if(g3.messageId===g0&&[g12.default.Unread,g12.default.Mentioned,g12.default.AllMentioned].indexOf(g3.status)>-1){var g4=this.getConversationInfo(g3.conversation);if(g4){switch(g3.status){case g12.default.Unread:g4.unreadCount.unread-=1;break;case g12.default.Mentioned:g4.unreadCount.unreadMention-=1;break;case g12.default.AllMentioned:g4.unreadCount.unreadMentionAll-=1}g1=!0}g3.status=g12.default.Readed;break}}return g1}},{key:"updateConversationRead",value:function(g0,g1){var g2=this;this.messages.forEach((function(g3){g3.conversation.equal(g0)&&g3.status===g12.default.Sent&&(0,g24.lte)(g3.timestamp,g1)&&(g3.status=g12.default.Readed,g2.log("--------- mark conversation message read",g0,g1))}))}},{key:"getConversationReadMaxDt",value:function(g0){var g1=g11.default.ZERO;return this.messages.forEach((function(g2){g2.conversation.equal(g0)&&(g1=(0,g24.gt)(g2.timestamp,g1)?g2.timestamp:g1)})),g1}},{key:"getUnreadMsgSenders",value:function(g0){var g1=[];return this.messages.forEach((function(g2){g2.conversation.equal(g0)&&(g2.status!==g12.default.Unread&&g2.status!==g12.default.Mentioned&&g2.status!==g12.default.AllMentioned||-1===g1.indexOf(g2.from)&&g1.push(g2.from))})),g1}},{key:"clearAllUnreadStatus",value:function(){var g0=this,g1=0;return this.conversationInfos.forEach((function(g2){g1+=g2.unreadCount.unread+g2.unreadCount.unreadMention+g2.unreadCount.unreadMentionAll,g0.updateConversationUnreadStatus(g2.conversation,g2.timestamp)})),g1}},{key:"updateConversationUnreadStatus",value:function(g0,g1){var g2=this.getConversationMessages(g0),g3=this.getConversationInfo(g0);g3.unreadCount.unread=0,g3.unreadCount.unreadMention=0,g3.unreadCount.unreadMentionAll=0,(0,g24.gte)(g1,g3.timestamp)?g2.forEach((function(g0){(0,g24.gte)(g1,g0.timestamp)&&[g12.default.Unread,g12.default.AllMentioned,g12.default.Mentioned].indexOf(g0.status)>-1&&(g0.status=g12.default.Readed)})):g2.forEach((function(g0){0!==g0.direction&&((0,g24.gt)(g0.timestamp,g1)&&g23.default.getMessageContentPersitFlag(g0.content.type)===g26.default.Persist_And_Count?g0.status===g12.default.Unread?g3.unreadCount.unread+=1:g0.status===g12.default.Mentioned?g3.unreadCount.unreadMention+=1:g0.status===g12.default.AllMentioned&&(g3.unreadCount.unreadMentionAll+=1):[g12.default.Unread,g12.default.AllMentioned,g12.default.Mentioned].indexOf(g0.status)>-1&&(g0.status=g12.default.Readed))}))}},{key:"_getConversationInfos",value:function(){return this.conversationInfos}},{key:"getConversationList",value:function(g0,g1){return this.conversationInfos.filter((function(g2){if(-1===g0.indexOf(g2.conversation.type)||-1===g1.indexOf(g2.conversation.line))return!1;g2.conversation.target,g2.conversation.type;return!0})).sort((function(g0,g1){return g0.top&&!g1.top?1:!g0.top&&g1.top?-1:g0.top&&g1.top&&g0.top!==g1.top?g0.top>g1.top?1:-1:(0,g24.compare)(g0.timestamp,g1.timestamp)})).reverse()}},{key:"searchFriends",value:function(g0){return this.getFriendUserInfos().filter((function(g1){return g1.displayName.indexOf(g0)>=0}))}},{key:"searchConversation",value:function(g0){var g1=this,g2=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,1,2,3],g3=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[0,1];return this.conversationInfos.filter((function(g4){if(g2.indexOf(g4.conversation.type)<0||g3.indexOf(g4.conversation.line)<0)return!1;var g5=void 0,g6=void 0;switch(g4.conversation.type){case g15.default.Single:g5=g1.getUser(g4.conversation.target).displayName;break;case g15.default.Group:var g7=g1.getGroupInfo(g4.conversation.target);g5=g7.displayName,g6=g7.remark}if(g5&&g5.indexOf(g0)>-1||g6&&g6.indexOf(g0)>-1)return!0;var g8=g1.searchConversationMessage(g4.conversation,g0);return g8&&g8.length>0}))}},{key:"searchGroups",value:function(g0){var g1=this,g2=[];if(!g0||!g0.trim())return g2;var g3=this.groups;return g0=g0.toUpperCase(),g3.forEach((function(g3,g4){if(!(0,g24.lt)(g3.memberUpdateDt,0)){var g5=g1.getUserSetting(g20.default.GroupRemark,g4);g3.remark=g5?g5.value:"",(g3.name.toUpperCase().indexOf(g0)>-1||g3.remark&&g3.remark.toUpperCase().indexOf(g0)>-1)&&g2.push(g3)}})),g2.map((function(g0){var g1=new g34.default;return g1.groupInfo=g0,g1.matchType=0,g1}))}},{key:"loadPersistGroups",value:function(){if(!(this.groups.size>0))for(var g0=localStorage.length,g1=0;g1<g0;g1++){var g2=localStorage.key(g1);if(g2.startsWith(this.impl.userId+"-g")){var g3=localStorage.getItem(g2);if(g3&&(g3=this.impl._Utf8ArrayToStr((0,g33.AESDecrypt)(g3,"",!1,!1)))){var g4=(0,g5.default)(new g32.default,JSON.parse(g3)),g6=this.groups.get(g4.target);g6&&!(0,g24.gt)(g4.updateDt,g6.updateDt)||this.groups.set(g4.target,g4)}}}}},{key:"_findConversationInfoIndex",value:function(g0){for(var g1=0;g1<this.conversationInfos.length;g1++)if(this.conversationInfos[g1].conversation.equal(g0))return g1;return-1}},{key:"removeConversation",value:function(g0){var g1=arguments.length>1&&void 0!==arguments[1]&&arguments[1],g2=this._findConversationInfoIndex(g0);g2>-1&&this.conversationInfos.splice(g2,1),g1&&(this.messages=this.messages.filter((function(g1){return!g1.conversation.equal(g0)})))}},{key:"setConversationTop",value:function(g0,g1){var g2=this.getConversationInfo(g0);g2&&(g2.top=g1)}},{key:"setConversationSilent",value:function(g0,g1){var g2=this.getConversationInfo(g0);g2&&(g2.isSilent=g1)}},{key:"setConversationDraft",value:function(g0,g1){var g2=this.getConversationInfo(g0);g2&&(g2.draft=g1)}},{key:"getUnreadCount",value:function(g0,g1){var g2=new g19.default;return this.conversationInfos.forEach((function(g3){g0.indexOf(g3.conversation.type)>-1&&g1.indexOf(g3.conversation.line)>-1&&g3.unreadCount&&(g2.unread+=g3.unreadCount.unread,g2.unreadMention+=g3.unreadCount.unreadMention,g2.unreadMentionAll+=g3.unreadCount.unreadMentionAll)})),g2}},{key:"getConversationUnreadCount",value:function(g0){var g1=this._findConversationInfoIndex(g0);return g1>-1?this.conversationInfos[g1].unreadCount:null}},{key:"insertConversationMessages",value:function(g0){var g1;(g1=this.messages).push.apply(g1,(0,g4.default)(g0)),this.updateConversationLastMessage(g0[g0.length-1])}},{key:"updateConversationLastMessage",value:function(g0){if(!g0.messageId)return!1;var g1=this.conversationInfos.find((function(g1){return g1.conversation.equal(g0.conversation)})),g2=g0.conversation.conversationType+"-"+g0.conversation.line+"-"+g0.conversation.target;if(!g1){var g3=this.getUserSetting(g20.default.Conversation_Sync,g2);if(g3&&g3.value&&g3.value.startsWith("-")&&(0,g24.gte)(-Number(g3.value),g0.timestamp))return this.log("conversation removed, drop conversation message",g0),!1;if([g36.default.DismissGroup_Notification,g36.default.QuitGroup_Notification,g36.default.QuitGroup_Visible_Notification].indexOf(g0.messageContent.type)>=0)return console.log("not gen conversation",g0.messageContent.type),!1;g1=this.genAndSaveDefaultConversationInfo(g0.conversation)}var g4=this.getUserSetting(g20.default.Conversation_Sync,g2),g5=0;return g4&&(g5=Math.abs(Number(g4.value))),(0,g24.gt)(g0.timestamp,g5)&&1===g0.direction&&g23.default.getMessageContentFlag(g0.messageContent.type)===g26.default.Persist_And_Count&&(g0.status===g12.default.Unread?g1.unreadCount.unread+=1:g0.status===g12.default.Mentioned?g1.unreadCount.unreadMention+=1:g0.status===g12.default.AllMentioned&&(g1.unreadCount.unreadMentionAll+=1)),!!(0,g24.gt)(g0.timestamp,g1.timestamp)&&(g1.lastMessage=g0,g1.timestamp=g0.timestamp,!0)}},{key:"getConversationOldestMessage",value:function(g0){var g1=void 0;return this.messages.forEach((function(g2){g2.conversation.equal(g0)&&(g1?(0,g24.gt)(g1.timestamp,g2.timestamp)&&(g1=g2):g1=g2)})),g1}},{key:"getConversationMessages",value:function(g0){var g1=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,g2=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],g3=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,g4=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",g5=null;g1&&(g5=this.getMessageById(g1));var g6=this.messages.filter((function(g1){return g5?g2?g1.conversation.equal(g0)&&(0,g24.lt)(g1.timestamp,g5.timestamp)&&(!g4||(0===g1.direction&&(g1.to===g4||""===g1.to)||g1.from===g4)):g1.conversation.equal(g0)&&(0,g24.gt)(g1.timestamp,g5.timestamp)&&(!g4||(0===g1.direction&&(g1.to===g4||""===g1.to)||g1.from===g4)):g1.conversation.equal(g0)}));return g6&&g6.length>0&&(g6=g6.sort((function(g0,g1){return(0,g24.compare)(g0.timestamp,g1.timestamp)}))),g3>0&&(g6=g2?g6.slice(-g3):g6.slice(0,g3)),g6}},{key:"getConversationLastReceivedMessage",value:function(g0){var g1=this.messages.filter((function(g1){return g1.conversation.equal(g0)&&1===g1.direction}));return g1&&g1.length>0?(g1=g1.sort((function(g0,g1){return(0,g24.compare)(g0.timestamp,g1.timestamp)})))[g1.length-1]:null}},{key:"getFirstUnreadMessageId",value:function(g0){var g1=this.messages.filter((function(g1){return g1.conversation.equal(g0)&&1===g1.direction&&[g12.default.Unread,g12.default.Mentioned,g12.default.AllMentioned].indexOf(g1.status)>=0}));return g1&&g1.length>0?(g1=g1.sort((function(g0,g1){return(0,g24.compare)(g0.timestamp,g1.timestamp)})))[0].messageId:0}},{key:"setLastReceivedMessageUnread",value:function(g0,g1,g2){console.log("setLastReceivedMessageUnread",g0,g1);var g3=this.getConversationLastReceivedMessage(g0);return g3&&g3.status>g12.default.Unread?(g3.status=g12.default.Unread,(0,g24.eq)(g2,0)?g3.timestamp=g3.timestamp.add(501):g3.timestamp=g11.default.fromValue(g2),this.getConversationInfo(g0).unreadCount.unread=1,g3.messageUid):0}},{key:"getMessagesEx2",value:function(g0,g1,g2,g3){var g4=this.messages.filter((function(g4){var g5=g4.conversation;return!(!(g0.indexOf(g5.conversationType)>=0&&g1.indexOf(g5.line)>=0)||g2!==g12.default.All&&g4.status!==g2)&&(!g3||(g5.conversationType===g15.default.Single?g4.from===g3||g5.target===g3:g4.from===g3||g4.to===g3))}));return g4&&g4.length>0?g4.sort((function(g0,g1){return(0,g24.compare)(g0.timestamp,g1.timestamp)})):g4}},{key:"getMessagesEx",value:function(g0,g1,g2,g3){var g4=this.messages.filter((function(g4){var g5=g4.conversation;return!!(g0.indexOf(g5.conversationType)>=0&&g1.indexOf(g5.line)>=0&&(0===g2.length||g2.length>0&&g2.indexOf(g23.default.getMessageContentType(g4.messageContent))>=0))&&(!g3||(g5.conversationType===g15.default.Single?g4.from===g3||g5.target===g3:g4.from===g3||g4.to===g3))}));return g4&&g4.length>0?g4.sort((function(g0,g1){return(0,g24.compare)(g0.timestamp,g1.timestamp)})):g4}},{key:"getFirstUnreadMessage",value:function(g0){var g1=null;return this.messages.forEach((function(g2){g2.conversation.equal(g0)&&[g12.default.Unread,g12.default.Mentioned,g12.default.AllMentioned].indexOf(g2.status)>-1&&(g1?(0,g24.gt)(g1.timestamp,g2.timestamp)&&(g1=g2):g1=g2)})),g1}},{key:"clearConversationMessages",value:function(g0,g1){this.messages=this.messages.filter((function(g2){return!g2.conversation.equal(g0)||(0,g24.gt)(g2.timestamp,g1)}));var g2=this.getConversationInfo(g0);g2&&g2.lastMessage&&g2.lastMessage.timestamp&&(0,g24.lte)(g2.lastMessage.timestamp,g1)&&(g2.lastMessage=null)}},{key:"clearConversationMessagesBeforeMessageUid",value:function(g0,g1){this.messages=this.messages.filter((function(g2){return!g2.conversation.equal(g0)||(0,g24.gte)(g2.messageUid,g1)}));var g2=this.getConversationInfo(g0);g2&&g2.lastMessage&&g2.lastMessage.messageUid&&(0,g24.lte)(g2.lastMessage.messageUid,g1)&&(g2.lastMessage=null)}},{key:"searchMessage",value:function(g0){return this.messages.filter((function(g1){return g1.content&&g1.content.searchableContent&&g1.content.searchableContent.indexOf(g0)>-1}))}},{key:"searchConversationMessage",value:function(g0,g1,g2){return this.getConversationMessages(g0).filter((function(g0){return(!g2||g0.from===g2)&&(g0.content&&g0.content.searchableContent&&g0.content.searchableContent.indexOf(g1)>-1)}))}},{key:"genChatRoomMessageId",value:function(){return this.chatRoomMessageId++,0-this.chatRoomMessageId}},{key:"genNormalMessageId",value:function(){return this.messageId++}},{key:"saveMessage",value:function(g0){var g1=void 0;if(g0.messageUid&&-1!==g0.messageUid&&(g1=this.getMessageByUid(g0.messageUid)))return g0.messageId=g1.messageId,g1.messageContent=g0.messageContent,g1.timestamp=g0.timestamp,this.log("messageUid exist",g0),!1;var g2=this.getUserSetting(g20.default.Conversation_Sync,g0.conversation.conversationType+"-"+g0.conversation.line+"-"+g0.conversation.target),g3=0;return g2&&(g3=Number(g2.value)),1===g0.direction&&(0,g24.gte)(g3,g0.timestamp)&&(g0.status=g12.default.Readed),this.messages.push(g0),!0}},{key:"updateMessageById",value:function(g0){if(g0.messageId){for(var g1=-1,g2=0;g2<this.messages.length;g2++){if(this.messages[g2].messageId===g0.messageId){g1=g2;break}}if(-1!==g1){this.messages[g1]=g0;var g3=this.getConversationInfo(g0.conversation);g3&&g3.lastMessage.messageId===g0.messageId&&(g3.lastMessage=g0)}}}},{key:"updateMessageByUid",value:function(g0){if(g0.messageUid){for(var g1=-1,g2=0;g2<this.messages.length;g2++){var g3=this.messages[g2];if((0,g24.eq)(g3.messageUid,g0.messageUid)){g1=g2;break}}if(-1!==g1){this.messages[g1].messageId&&!g0.messageId&&(g0.messageId=this.messages[g1].messageId),this.messages[g1]=g0;var g4=this.getConversationInfo(g0.conversation);g4&&(0,g24.eq)(g4.lastMessage.messageUid,g0.messageUid)&&(g4.lastMessage=g0)}}}},{key:"deleteMessageById",value:function(g0){for(var g1=void 0,g2=0;g2<this.messages.length;g2++){if(this.messages[g2].messageId===g0){g1=g2;break}}if(g1){var g3=this.messages.splice(g1,1)[0];return this.onMessageDeleted(g3),!0}return!1}},{key:"deleteMessageByUid",value:function(g0){for(var g1=void 0,g2=0;g2<this.messages.length;g2++){if(0===this.messages[g2].messageUid.compare(g0)){g1=g2;break}}if(g1){var g3=this.messages.splice(g1,1)[0];return this.onMessageDeleted(g3),!0}return!1}},{key:"onMessageDeleted",value:function(g0){if(g0){var g1=g0,g2=this.getConversationInfo(g1.conversation),g3=this.getUserSetting(g20.default.Conversation_Sync,g1.conversation.conversationType+"-"+g1.conversation.line+"-"+g1.conversation.target),g4=0;if(g3&&(g4=Number(g3.value)),(0,g24.gt)(g1.timestamp,g4)&&1===g1.direction&&(g1.status===g12.default.Unread?g2.unreadCount.unread-=1:g1.status===g12.default.Mentioned?g2.unreadCount.unreadMention-=1:g1.status===g12.default.AllMentioned&&(g2.unreadCount.unreadMentionAll-=1)),g2.lastMessage&&g2.lastMessage.messageId===g1.messageId){var g5=this.getConversationMessages(g1.conversation);g5&&g5.length>0?g2.lastMessage=g5[g5.length-1]:g2.lastMessage=null}}}},{key:"deleteFriend",value:function(g0){this.friends.delete(g0)}},{key:"getMessageById",value:function(g0){var g1=this.messages.filter((function(g1){return g1.messageId===g0}));return g1.length>0?g1[0]:null}},{key:"getCallStartMessage",value:function(g0){var g1=this.messages.filter((function(g1){return 400===g1.messageContent.type&&g1.messageContent.callId===g0}));return g1.length>0?g1[0]:null}},{key:"getMessageByUid",value:function(g0){var g1=g11.default.fromValue(g0),g2=this.messages.filter((function(g0){return 0===g1.compare(g0.messageUid)}));return g2&&g2.length>0?g2[0]:null}},{key:"setMediaMessagePlayed",value:function(g0){var g1=!1,g2=this.getMessageById(g0);return g2.messageContent instanceof g21.default&&1===g2.direction&&(g2.status=g12.default.Played,g1=!0),g1}},{key:"updateUserSettings",value:function(g0){var g1=this;g0.sort((function(g0,g1){return(0,g24.compare)(g0.updateDt,g1.updateDt)})),g0.forEach((function(g0){if(g0.updateDt){for(var g2=-1,g3=0;g3<g1.settings.length;g3++){var g4=g1.settings[g3];if(g4.key===g0.key&&g4.scope===g0.scope){g2=g3;break}}if(g2>=0?""===g0.value?g1.settings.splice(g2,1):g1.settings[g2]=g0:""!==g0.value&&g1.settings.push(g0),g0.scope===g20.default.ConversationSilent||g0.scope===g20.default.ConversationTop||g0.scope===g20.default.Conversation_Sync||g0.scope===g20.default.UserSettingConversationReaded||g0.scope===g20.default.ConversationClearMessage||g0.scope===g20.default.ConversationDraft){var g5=g0.key,g6=g5.indexOf("-"),g7=g5.indexOf("-",g6+1),g8=parseInt(g5.substring(0,g6)),g9=parseInt(g5.substring(g6+1,g7)),g10=g5.substring(g7+1),g11=new g13.default(g8,g10,g9),g12=g1.getConversationInfo(g11);if(!g12){var g14=Number(g0.value);if((g14=g14%1e3<500?g14:g14+(1e3-g14%1e3))<0||g14>0&&(new Date).getTime()-g14>=24*(g28.default.CONVERSATION_EXPIRE_TIME?g28.default.CONVERSATION_EXPIRE_TIME:30)*60*60*1e3)return;if(g0.scope===g20.default.ConversationSilent&&"1"===g0.value||g28.default.DISABLE_GENERATE_CONVERSATION_FOR_SILENT_SETTING)return;(g12=g1.genAndSaveDefaultConversationInfo(g11)).timestamp=g0.updateDt}if(g0.scope===g20.default.ConversationSilent)g12.isSilent="1"===g0.value;else if(g0.scope===g20.default.ConversationTop)g12.top=Number(g0.value);else if(g0.scope===g20.default.Conversation_Sync){var g15=Number(g0.value);g15<0?(0,g24.lte)(g12.timestamp,-g15)&&g1.removeConversation(g11,!0):g1.updateConversationUnreadStatus(g11,g15)}else if(g0.scope===g20.default.UserSettingConversationReaded)g1.updateConversationRead(g11,Number(g0.value));else if(g0.scope===g20.default.ConversationClearMessage){var g16=Number(g0.value);g12&&g16>0&&g1.impl.clearMessages(g11,g16)}else if(g0.scope===g20.default.ConversationDraft){var g17=g0.value.indexOf("@@@");if(g17>0){var g18=g0.value.substring(0,g17);if(!g18||g18===g1.impl.clientId||g1.impl.isGlobalDisableDraftSync||g1.impl.isDisableSyncDraft())return;var g19=g0.value.substring(g17+3).trim();g12&&g12.draft!==g19&&g1.impl.setConversationDraft(g11,g19,!1)}}}else if(g0.scope===g20.default.FavoriteGroup){var g21=g1.favGroups.indexOf(g0.key);"1"===g0.value?g21<0&&g1.favGroups.push(g0.key):g21>=0&&g1.favGroups.splice(g21,1)}else if(g0.scope===g20.default.FavoriteUser){var g22=g1.favUsers.indexOf(g0.key);"1"===g0.value?g22<0&&g1.favUsers.push(g0.key):g22>=0&&g1.favUsers.splice(g22,1)}}else console.log("invalid setting",g0)}))}},{key:"genAndSaveDefaultConversationInfo",value:function(g0){var g1=this._findConversationInfoIndex(g0);if(-1!==g1)return this.conversationInfos[g1];var g2=new g14.default;g2.conversation=g0,g2.timestamp=g11.default.ZERO,g2.unreadCount=new g19.default;var g3=g0.conversationType+"-"+g0.line+"-"+g0.target,g4=this.getUserSetting(g20.default.ConversationSilent,g3);g4&&"1"===g4.value&&(g2.isSilent=!0);var g5=this.getUserSetting(g20.default.ConversationTop,g3);return g5&&g5.value&&(g2.top=Number(g5.value)),this.conversationInfos.push(g2),g2}},{key:"updateDeliveries",value:function(g0){var g1=this;g0.forEach((function(g0){g1.deliveries.set(g0.fromUser,g0.receiveTime)}))}},{key:"getUserDelivery",value:function(g0){return this.deliveries.get(g0)}},{key:"getConversationDelivery",value:function(g0){var g1=new g8.default;if(0===g0.type){var g2=this.getUserDelivery(g0.target);g2&&g1.set(g0.target,g2)}else if(1===g0.type){var g3=this.getGroupMemberIds(g0.target);this.deliveries.forEach((function(g0,g2){g3.indexOf(g2)>=0&&g1.set(g2,g0)}))}return g1}},{key:"updateReads",value:function(g0){var g1=this;g0.forEach((function(g0){0===g0.conversation.type&&(g0.conversation.target=g0.fromUser);var g2=g1.genConversationKey(g0.conversation),g3=g1.readEntries.get(g2);g3||(g3=new g8.default,g1.readEntries.set(g2,g3)),g3.set(g0.fromUser,g0.readTime)}))}},{key:"saveSyncReadEntry",value:function(g0,g1,g2,g3,g4){var g5=this.syncReadId++,g6=new g25.default;return g6.id=g5,g6.type=g0,g6.target=g1,g6.line=g2,g6.senders=g4,this.syncReadEntries.set(g5,g6),g5}},{key:"deleteSyncReadEntry",value:function(g0){this.syncReadEntries.delete(g0)}},{key:"getSyncReadEntries",value:function(){return this.syncReadEntries}},{key:"loadSyncReadEntry",value:function(){return this.syncReadEntries.values().next().value}},{key:"_genSyncReadEntryKey",value:function(g0){return g0.type+"@"+g0.target+"@"+g0.line}},{key:"getConversationRead",value:function(g0){var g1=this._genSyncReadEntryKey(g0);return this.readEntries.get(g1)}},{key:"getUserSetting",value:function(g0,g1){var g2=this.settings.filter((function(g2){return g2.scope===g0&&g2.key===g1}));return g2.length>0?g2[g2.length-1]:null}},{key:"getUserSettings",value:function(g0){return this.settings.filter((function(g1){return g1.scope===g0}))}},{key:"removeUserSetting",value:function(g0,g1){this.settings=this.settings.filter((function(g2){return!(g2.scope===g0&&g2.key===g1)}))}},{key:"getFriendRequestMaxDt",value:function(){var g0=g11.default.ZERO;return this.friendRequests.forEach((function(g1){g0=(0,g24.gt)(g1.timestamp,g0)?g1.timestamp:g0})),g0}},{key:"insertOrReplaceFriendRequest",value:function(g0){for(var g1=-1,g2=0;g2<this.friendRequests.length;g2++){var g3=this.friendRequests[g2];if(g3.direction===g0.direction&&g3.target===g0.target){g1=g2;break}}g1>=0?this.friendRequests[g1]=g0:this.friendRequests.push(g0)}},{key:"getIncommingFriendRequest",value:function(){return this.friendRequests.filter((function(g0){return 1===g0.direction}))}},{key:"getOutgoingFriendRequest",value:function(){return this.friendRequests.filter((function(g0){return 0===g0.direction}))}},{key:"getOneFriendRequest",value:function(g0,g1){var g2=this.friendRequests.filter((function(g2){return g2.target===g0&&g2.direction===(g1?1:0)}));return g2.length>0?g2[0]:null}},{key:"getUnreadFriendRequestCount",value:function(){var g0=0;return this.friendRequests.forEach((function(g1){1===g1.direction&&0===g1.readStatus&&g0++})),g0}},{key:"clearUnreadFriendRequestStatus",value:function(){var g0=0;return this.friendRequests.forEach((function(g1){1===g1.direction&&0===g1.readStatus&&(g1.readStatus=1,g0++)})),g0}},{key:"updateFriendRequestStatus",value:function(g0,g1){this.friendRequests.forEach((function(g2){g2.target===g0&&1===g2.direction&&(g2.status=g1)}))}},{key:"getUnreadFriendRequestMaxDt",value:function(){var g0=g11.default.ZERO;return this.friendRequests.forEach((function(g1){1===g1.direction&&0===g1.readStatus&&(g0=(0,g24.gt)(g1.timestamp,g0)?g1.timestamp:g0)})),g0}},{key:"getGroupMessageHead",value:function(g0,g1){var g2=this.groupHeadEntries.get(g0+"-"+g1);return g2?g2.head:g11.default.ZERO}},{key:"setGroupMessageHead",value:function(g0,g1,g2){var g3=g0+"-"+g1,g4=this.groupHeadEntries.get(g3);g4||(g4=new g35.default,this.groupHeadEntries.set(g3,g4)),g4.target=g0,g4.line=g1,g4.head=g2}},{key:"setGroupMessageServerHead",value:function(g0,g1,g2){var g3=g0+"-"+g1,g4=this.groupHeadEntries.get(g3);g4||(g4=new g35.default,this.groupHeadEntries.set(g3,g4)),g4.target=g0,g4.line=g1,g4.serverHead=g2}},{key:"getGroupMessageHeads",value:function(){var g0=[];return this.groupHeadEntries.forEach((function(g1,g2){(0,g24.gt)(g1.serverHead,g1.head)&&g0.push(g1)})),g0}},{key:"log",value:function(g0){if(!g28.default.DISABLE_LOG){for(var g1,g2=arguments.length,g3=Array(g2>1?g2-1:0),g4=1;g4<g2;g4++)g3[g4-1]=arguments[g4];(g1=console).log.apply(g1,[g0].concat(g3))}}},{key:"_get",value:function(g0,g1,g2,g3){var g4=g0.get(g2);if(g4)return(0,g5.default)(new g3,g4);if(g28.default.ENABLE_INFO_PERSISTENCE){var g6=this.impl.userId+"-"+g1+"-"+g2,g7=this.mp.getStorageSync(g6);if(g7&&(g7=this.impl._Utf8ArrayToStr((0,g33.AESDecrypt)(g7,"",!1,!1))))return(0,g5.default)(new g3,JSON.parse(g7))}return null}},{key:"_set",value:function(g0,g1,g2,g4){if(g0.set(g2,g4),g28.default.ENABLE_INFO_PERSISTENCE){g4=g4?(0,g3.default)(g4):"";var g5=this.impl.userId+"-"+g1+"-"+g2;g4=(0,g33.AESEncrypt)(g4,"",!1),this.mp.setStorageSync(g5,g4)}}},{key:"_delete",value:function(g0,g1,g2){if(g0.delete(g2),g28.default.ENABLE_INFO_PERSISTENCE){var g3=this.impl.userId+"-"+g1+"-"+g2;this.mp.removeStorageSync(g3)}}}]),g0}();g1.default=g38},function(g0,g1){g0.exports=g26},function(g0,g1,g2){"use strict";Object.defineProperty(g1,"__esModule",{value:!0});var g3,g4=g2(60),g5=(g3=g4)&&g3.__esModule?g3:{default:g3};g1.default=function g0(){(0,g5.default)(this,g0)}},function(g0,g1){g0.exports=g27},function(g0,g1){g0.exports=g28},function(g0,g1,g2){"use strict";Object.defineProperty(g1,"__esModule",{value:!0});var g3,g4=g2(60),g5=(g3=g4)&&g3.__esModule?g3:{default:g3};g1.default=function g0(){(0,g5.default)(this,g0),this.line=0,this.head=0,this.serverHead=0}},function(g0,g1){g0.exports=g29},function(g0,g1){g0.exports=g30},function(g0,g1,g2){"use strict";var g3={};(0,g2(25).assign)(g3,g2(383),g2(386),g2(201)),g0.exports=g3},function(g0,g1,g2){"use strict";var g3=g2(384),g4=g2(25),g5=g2(199),g6=g2(103),g7=g2(200),g8=Object.prototype.toString;function g9(g0){if(!(this instanceof g9))return new g9(g0);this.options=g4.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},g0||{});var g1=this.options;g1.raw&&g1.windowBits>0?g1.windowBits=-g1.windowBits:g1.gzip&&g1.windowBits>0&&g1.windowBits<16&&(g1.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new g7,this.strm.avail_out=0;var g2=g3.deflateInit2(this.strm,g1.level,g1.method,g1.windowBits,g1.memLevel,g1.strategy);if(0!==g2)throw new Error(g6[g2]);if(g1.header&&g3.deflateSetHeader(this.strm,g1.header),g1.dictionary){var g10;if(g10="string"==typeof g1.dictionary?g5.string2buf(g1.dictionary):"[object ArrayBuffer]"===g8.call(g1.dictionary)?new Uint8Array(g1.dictionary):g1.dictionary,0!==(g2=g3.deflateSetDictionary(this.strm,g10)))throw new Error(g6[g2]);this._dict_set=!0}}function g10(g0,g1){var g2=new g9(g1);if(g2.push(g0,!0),g2.err)throw g2.msg||g6[g2.err];return g2.result}g9.prototype.push=function(g0,g1){var g2,g6,g7=this.strm,g9=this.options.chunkSize;if(this.ended)return!1;g6=g1===~~g1?g1:!0===g1?4:0,"string"==typeof g0?g7.input=g5.string2buf(g0):"[object ArrayBuffer]"===g8.call(g0)?g7.input=new Uint8Array(g0):g7.input=g0,g7.next_in=0,g7.avail_in=g7.input.length;do{if(0===g7.avail_out&&(g7.output=new g4.Buf8(g9),g7.next_out=0,g7.avail_out=g9),1!==(g2=g3.deflate(g7,g6))&&0!==g2)return this.onEnd(g2),this.ended=!0,!1;0!==g7.avail_out&&(0!==g7.avail_in||4!==g6&&2!==g6)||("string"===this.options.to?this.onData(g5.buf2binstring(g4.shrinkBuf(g7.output,g7.next_out))):this.onData(g4.shrinkBuf(g7.output,g7.next_out)))}while((g7.avail_in>0||0===g7.avail_out)&&1!==g2);return 4===g6?(g2=g3.deflateEnd(this.strm),this.onEnd(g2),this.ended=!0,0===g2):2!==g6||(this.onEnd(0),g7.avail_out=0,!0)},g9.prototype.onData=function(g0){this.chunks.push(g0)},g9.prototype.onEnd=function(g0){0===g0&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=g4.flattenChunks(this.chunks)),this.chunks=[],this.err=g0,this.msg=this.strm.msg},g1.Deflate=g9,g1.deflate=g10,g1.deflateRaw=function(g0,g1){return(g1=g1||{}).raw=!0,g10(g0,g1)},g1.gzip=function(g0,g1){return(g1=g1||{}).gzip=!0,g10(g0,g1)}},function(g0,g1,g2){"use strict";var g3,g4=g2(25),g5=g2(385),g6=g2(197),g7=g2(198),g8=g2(103),g9=-2,g10=258,g11=262,g12=103,g13=113,g14=666;function g15(g0,g1){return g0.msg=g8[g1],g1}function g16(g0){return(g0<<1)-(g0>4?9:0)}function g17(g0){for(var g1=g0.length;--g1>=0;)g0[g1]=0}function g18(g0){var g1=g0.state,g2=g1.pending;g2>g0.avail_out&&(g2=g0.avail_out),0!==g2&&(g4.arraySet(g0.output,g1.pending_buf,g1.pending_out,g2,g0.next_out),g0.next_out+=g2,g1.pending_out+=g2,g0.total_out+=g2,g0.avail_out-=g2,g1.pending-=g2,0===g1.pending&&(g1.pending_out=0))}function g19(g0,g1){g5._tr_flush_block(g0,g0.block_start>=0?g0.block_start:-1,g0.strstart-g0.block_start,g1),g0.block_start=g0.strstart,g18(g0.strm)}function g20(g0,g1){g0.pending_buf[g0.pending++]=g1}function g21(g0,g1){g0.pending_buf[g0.pending++]=g1>>>8&255,g0.pending_buf[g0.pending++]=255&g1}function g22(g0,g1){var g2,g3,g4=g0.max_chain_length,g5=g0.strstart,g6=g0.prev_length,g7=g0.nice_match,g8=g0.strstart>g0.w_size-g11?g0.strstart-(g0.w_size-g11):0,g9=g0.window,g12=g0.w_mask,g13=g0.prev,g14=g0.strstart+g10,g15=g9[g5+g6-1],g16=g9[g5+g6];g0.prev_length>=g0.good_match&&(g4>>=2),g7>g0.lookahead&&(g7=g0.lookahead);do{if(g9[(g2=g1)+g6]===g16&&g9[g2+g6-1]===g15&&g9[g2]===g9[g5]&&g9[++g2]===g9[g5+1]){g5+=2,g2++;do{}while(g9[++g5]===g9[++g2]&&g9[++g5]===g9[++g2]&&g9[++g5]===g9[++g2]&&g9[++g5]===g9[++g2]&&g9[++g5]===g9[++g2]&&g9[++g5]===g9[++g2]&&g9[++g5]===g9[++g2]&&g9[++g5]===g9[++g2]&&g5<g14);if(g3=g10-(g14-g5),g5=g14-g10,g3>g6){if(g0.match_start=g1,g6=g3,g3>=g7)break;g15=g9[g5+g6-1],g16=g9[g5+g6]}}}while((g1=g13[g1&g12])>g8&&0!=--g4);return g6<=g0.lookahead?g6:g0.lookahead}function g23(g0){var g1,g2,g3,g5,g8,g9,g10,g12,g13,g14,g15=g0.w_size;do{if(g5=g0.window_size-g0.lookahead-g0.strstart,g0.strstart>=g15+(g15-g11)){g4.arraySet(g0.window,g0.window,g15,g15,0),g0.match_start-=g15,g0.strstart-=g15,g0.block_start-=g15,g1=g2=g0.hash_size;do{g3=g0.head[--g1],g0.head[g1]=g3>=g15?g3-g15:0}while(--g2);g1=g2=g15;do{g3=g0.prev[--g1],g0.prev[g1]=g3>=g15?g3-g15:0}while(--g2);g5+=g15}if(0===g0.strm.avail_in)break;if(g9=g0.strm,g10=g0.window,g12=g0.strstart+g0.lookahead,g13=g5,g14=void 0,(g14=g9.avail_in)>g13&&(g14=g13),g2=0===g14?0:(g9.avail_in-=g14,g4.arraySet(g10,g9.input,g9.next_in,g14,g12),1===g9.state.wrap?g9.adler=g6(g9.adler,g10,g14,g12):2===g9.state.wrap&&(g9.adler=g7(g9.adler,g10,g14,g12)),g9.next_in+=g14,g9.total_in+=g14,g14),g0.lookahead+=g2,g0.lookahead+g0.insert>=3)for(g8=g0.strstart-g0.insert,g0.ins_h=g0.window[g8],g0.ins_h=(g0.ins_h<<g0.hash_shift^g0.window[g8+1])&g0.hash_mask;g0.insert&&(g0.ins_h=(g0.ins_h<<g0.hash_shift^g0.window[g8+3-1])&g0.hash_mask,g0.prev[g8&g0.w_mask]=g0.head[g0.ins_h],g0.head[g0.ins_h]=g8,g8++,g0.insert--,!(g0.lookahead+g0.insert<3)););}while(g0.lookahead<g11&&0!==g0.strm.avail_in)}function g24(g0,g1){for(var g2,g3;;){if(g0.lookahead<g11){if(g23(g0),g0.lookahead<g11&&0===g1)return 1;if(0===g0.lookahead)break}if(g2=0,g0.lookahead>=3&&(g0.ins_h=(g0.ins_h<<g0.hash_shift^g0.window[g0.strstart+3-1])&g0.hash_mask,g2=g0.prev[g0.strstart&g0.w_mask]=g0.head[g0.ins_h],g0.head[g0.ins_h]=g0.strstart),0!==g2&&g0.strstart-g2<=g0.w_size-g11&&(g0.match_length=g22(g0,g2)),g0.match_length>=3)if(g3=g5._tr_tally(g0,g0.strstart-g0.match_start,g0.match_length-3),g0.lookahead-=g0.match_length,g0.match_length<=g0.max_lazy_match&&g0.lookahead>=3){g0.match_length--;do{g0.strstart++,g0.ins_h=(g0.ins_h<<g0.hash_shift^g0.window[g0.strstart+3-1])&g0.hash_mask,g2=g0.prev[g0.strstart&g0.w_mask]=g0.head[g0.ins_h],g0.head[g0.ins_h]=g0.strstart}while(0!=--g0.match_length);g0.strstart++}else g0.strstart+=g0.match_length,g0.match_length=0,g0.ins_h=g0.window[g0.strstart],g0.ins_h=(g0.ins_h<<g0.hash_shift^g0.window[g0.strstart+1])&g0.hash_mask;else g3=g5._tr_tally(g0,0,g0.window[g0.strstart]),g0.lookahead--,g0.strstart++;if(g3&&(g19(g0,!1),0===g0.strm.avail_out))return 1}return g0.insert=g0.strstart<2?g0.strstart:2,4===g1?(g19(g0,!0),0===g0.strm.avail_out?3:4):g0.last_lit&&(g19(g0,!1),0===g0.strm.avail_out)?1:2}function g25(g0,g1){for(var g2,g3,g4;;){if(g0.lookahead<g11){if(g23(g0),g0.lookahead<g11&&0===g1)return 1;if(0===g0.lookahead)break}if(g2=0,g0.lookahead>=3&&(g0.ins_h=(g0.ins_h<<g0.hash_shift^g0.window[g0.strstart+3-1])&g0.hash_mask,g2=g0.prev[g0.strstart&g0.w_mask]=g0.head[g0.ins_h],g0.head[g0.ins_h]=g0.strstart),g0.prev_length=g0.match_length,g0.prev_match=g0.match_start,g0.match_length=2,0!==g2&&g0.prev_length<g0.max_lazy_match&&g0.strstart-g2<=g0.w_size-g11&&(g0.match_length=g22(g0,g2),g0.match_length<=5&&(1===g0.strategy||3===g0.match_length&&g0.strstart-g0.match_start>4096)&&(g0.match_length=2)),g0.prev_length>=3&&g0.match_length<=g0.prev_length){g4=g0.strstart+g0.lookahead-3,g3=g5._tr_tally(g0,g0.strstart-1-g0.prev_match,g0.prev_length-3),g0.lookahead-=g0.prev_length-1,g0.prev_length-=2;do{++g0.strstart<=g4&&(g0.ins_h=(g0.ins_h<<g0.hash_shift^g0.window[g0.strstart+3-1])&g0.hash_mask,g2=g0.prev[g0.strstart&g0.w_mask]=g0.head[g0.ins_h],g0.head[g0.ins_h]=g0.strstart)}while(0!=--g0.prev_length);if(g0.match_available=0,g0.match_length=2,g0.strstart++,g3&&(g19(g0,!1),0===g0.strm.avail_out))return 1}else if(g0.match_available){if((g3=g5._tr_tally(g0,0,g0.window[g0.strstart-1]))&&g19(g0,!1),g0.strstart++,g0.lookahead--,0===g0.strm.avail_out)return 1}else g0.match_available=1,g0.strstart++,g0.lookahead--}return g0.match_available&&(g3=g5._tr_tally(g0,0,g0.window[g0.strstart-1]),g0.match_available=0),g0.insert=g0.strstart<2?g0.strstart:2,4===g1?(g19(g0,!0),0===g0.strm.avail_out?3:4):g0.last_lit&&(g19(g0,!1),0===g0.strm.avail_out)?1:2}function g26(g0,g1,g2,g3,g4){this.good_length=g0,this.max_lazy=g1,this.nice_length=g2,this.max_chain=g3,this.func=g4}function g27(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new g4.Buf16(1146),this.dyn_dtree=new g4.Buf16(122),this.bl_tree=new g4.Buf16(78),g17(this.dyn_ltree),g17(this.dyn_dtree),g17(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new g4.Buf16(16),this.heap=new g4.Buf16(573),g17(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new g4.Buf16(573),g17(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function g28(g0){var g1;return g0&&g0.state?(g0.total_in=g0.total_out=0,g0.data_type=2,(g1=g0.state).pending=0,g1.pending_out=0,g1.wrap<0&&(g1.wrap=-g1.wrap),g1.status=g1.wrap?42:g13,g0.adler=2===g1.wrap?0:1,g1.last_flush=0,g5._tr_init(g1),0):g15(g0,g9)}function g29(g0){var g1,g2=g28(g0);return 0===g2&&((g1=g0.state).window_size=2*g1.w_size,g17(g1.head),g1.max_lazy_match=g3[g1.level].max_lazy,g1.good_match=g3[g1.level].good_length,g1.nice_match=g3[g1.level].nice_length,g1.max_chain_length=g3[g1.level].max_chain,g1.strstart=0,g1.block_start=0,g1.lookahead=0,g1.insert=0,g1.match_length=g1.prev_length=2,g1.match_available=0,g1.ins_h=0),g2}function g30(g0,g1,g2,g3,g5,g6){if(!g0)return g9;var g7=1;if(-1===g1&&(g1=6),g3<0?(g7=0,g3=-g3):g3>15&&(g7=2,g3-=16),g5<1||g5>9||8!==g2||g3<8||g3>15||g1<0||g1>9||g6<0||g6>4)return g15(g0,g9);8===g3&&(g3=9);var g8=new g27;return g0.state=g8,g8.strm=g0,g8.wrap=g7,g8.gzhead=null,g8.w_bits=g3,g8.w_size=1<<g8.w_bits,g8.w_mask=g8.w_size-1,g8.hash_bits=g5+7,g8.hash_size=1<<g8.hash_bits,g8.hash_mask=g8.hash_size-1,g8.hash_shift=~~((g8.hash_bits+3-1)/3),g8.window=new g4.Buf8(2*g8.w_size),g8.head=new g4.Buf16(g8.hash_size),g8.prev=new g4.Buf16(g8.w_size),g8.lit_bufsize=1<<g5+6,g8.pending_buf_size=4*g8.lit_bufsize,g8.pending_buf=new g4.Buf8(g8.pending_buf_size),g8.d_buf=1*g8.lit_bufsize,g8.l_buf=3*g8.lit_bufsize,g8.level=g1,g8.strategy=g6,g8.method=g2,g29(g0)}g3=[new g26(0,0,0,0,(function(g0,g1){var g2=65535;for(g2>g0.pending_buf_size-5&&(g2=g0.pending_buf_size-5);;){if(g0.lookahead<=1){if(g23(g0),0===g0.lookahead&&0===g1)return 1;if(0===g0.lookahead)break}g0.strstart+=g0.lookahead,g0.lookahead=0;var g3=g0.block_start+g2;if((0===g0.strstart||g0.strstart>=g3)&&(g0.lookahead=g0.strstart-g3,g0.strstart=g3,g19(g0,!1),0===g0.strm.avail_out))return 1;if(g0.strstart-g0.block_start>=g0.w_size-g11&&(g19(g0,!1),0===g0.strm.avail_out))return 1}return g0.insert=0,4===g1?(g19(g0,!0),0===g0.strm.avail_out?3:4):(g0.strstart>g0.block_start&&(g19(g0,!1),g0.strm.avail_out),1)})),new g26(4,4,8,4,g24),new g26(4,5,16,8,g24),new g26(4,6,32,32,g24),new g26(4,4,16,16,g25),new g26(8,16,32,32,g25),new g26(8,16,128,128,g25),new g26(8,32,128,256,g25),new g26(32,128,258,1024,g25),new g26(32,258,258,4096,g25)],g1.deflateInit=function(g0,g1){return g30(g0,g1,8,15,8,0)},g1.deflateInit2=g30,g1.deflateReset=g29,g1.deflateResetKeep=g28,g1.deflateSetHeader=function(g0,g1){return g0&&g0.state?2!==g0.state.wrap?g9:(g0.state.gzhead=g1,0):g9},g1.deflate=function(g0,g1){var g2,g4,g6,g8;if(!g0||!g0.state||g1>5||g1<0)return g0?g15(g0,g9):g9;if(g4=g0.state,!g0.output||!g0.input&&0!==g0.avail_in||g4.status===g14&&4!==g1)return g15(g0,0===g0.avail_out?-5:g9);if(g4.strm=g0,g2=g4.last_flush,g4.last_flush=g1,42===g4.status)if(2===g4.wrap)g0.adler=0,g20(g4,31),g20(g4,139),g20(g4,8),g4.gzhead?(g20(g4,(g4.gzhead.text?1:0)+(g4.gzhead.hcrc?2:0)+(g4.gzhead.extra?4:0)+(g4.gzhead.name?8:0)+(g4.gzhead.comment?16:0)),g20(g4,255&g4.gzhead.time),g20(g4,g4.gzhead.time>>8&255),g20(g4,g4.gzhead.time>>16&255),g20(g4,g4.gzhead.time>>24&255),g20(g4,9===g4.level?2:g4.strategy>=2||g4.level<2?4:0),g20(g4,255&g4.gzhead.os),g4.gzhead.extra&&g4.gzhead.extra.length&&(g20(g4,255&g4.gzhead.extra.length),g20(g4,g4.gzhead.extra.length>>8&255)),g4.gzhead.hcrc&&(g0.adler=g7(g0.adler,g4.pending_buf,g4.pending,0)),g4.gzindex=0,g4.status=69):(g20(g4,0),g20(g4,0),g20(g4,0),g20(g4,0),g20(g4,0),g20(g4,9===g4.level?2:g4.strategy>=2||g4.level<2?4:0),g20(g4,3),g4.status=g13);else{var g11=8+(g4.w_bits-8<<4)<<8;g11|=(g4.strategy>=2||g4.level<2?0:g4.level<6?1:6===g4.level?2:3)<<6,0!==g4.strstart&&(g11|=32),g11+=31-g11%31,g4.status=g13,g21(g4,g11),0!==g4.strstart&&(g21(g4,g0.adler>>>16),g21(g4,65535&g0.adler)),g0.adler=1}if(69===g4.status)if(g4.gzhead.extra){for(g6=g4.pending;g4.gzindex<(65535&g4.gzhead.extra.length)&&(g4.pending!==g4.pending_buf_size||(g4.gzhead.hcrc&&g4.pending>g6&&(g0.adler=g7(g0.adler,g4.pending_buf,g4.pending-g6,g6)),g18(g0),g6=g4.pending,g4.pending!==g4.pending_buf_size));)g20(g4,255&g4.gzhead.extra[g4.gzindex]),g4.gzindex++;g4.gzhead.hcrc&&g4.pending>g6&&(g0.adler=g7(g0.adler,g4.pending_buf,g4.pending-g6,g6)),g4.gzindex===g4.gzhead.extra.length&&(g4.gzindex=0,g4.status=73)}else g4.status=73;if(73===g4.status)if(g4.gzhead.name){g6=g4.pending;do{if(g4.pending===g4.pending_buf_size&&(g4.gzhead.hcrc&&g4.pending>g6&&(g0.adler=g7(g0.adler,g4.pending_buf,g4.pending-g6,g6)),g18(g0),g6=g4.pending,g4.pending===g4.pending_buf_size)){g8=1;break}g8=g4.gzindex<g4.gzhead.name.length?255&g4.gzhead.name.charCodeAt(g4.gzindex++):0,g20(g4,g8)}while(0!==g8);g4.gzhead.hcrc&&g4.pending>g6&&(g0.adler=g7(g0.adler,g4.pending_buf,g4.pending-g6,g6)),0===g8&&(g4.gzindex=0,g4.status=91)}else g4.status=91;if(91===g4.status)if(g4.gzhead.comment){g6=g4.pending;do{if(g4.pending===g4.pending_buf_size&&(g4.gzhead.hcrc&&g4.pending>g6&&(g0.adler=g7(g0.adler,g4.pending_buf,g4.pending-g6,g6)),g18(g0),g6=g4.pending,g4.pending===g4.pending_buf_size)){g8=1;break}g8=g4.gzindex<g4.gzhead.comment.length?255&g4.gzhead.comment.charCodeAt(g4.gzindex++):0,g20(g4,g8)}while(0!==g8);g4.gzhead.hcrc&&g4.pending>g6&&(g0.adler=g7(g0.adler,g4.pending_buf,g4.pending-g6,g6)),0===g8&&(g4.status=g12)}else g4.status=g12;if(g4.status===g12&&(g4.gzhead.hcrc?(g4.pending+2>g4.pending_buf_size&&g18(g0),g4.pending+2<=g4.pending_buf_size&&(g20(g4,255&g0.adler),g20(g4,g0.adler>>8&255),g0.adler=0,g4.status=g13)):g4.status=g13),0!==g4.pending){if(g18(g0),0===g0.avail_out)return g4.last_flush=-1,0}else if(0===g0.avail_in&&g16(g1)<=g16(g2)&&4!==g1)return g15(g0,-5);if(g4.status===g14&&0!==g0.avail_in)return g15(g0,-5);if(0!==g0.avail_in||0!==g4.lookahead||0!==g1&&g4.status!==g14){var g22=2===g4.strategy?function(g0,g1){for(var g2;;){if(0===g0.lookahead&&(g23(g0),0===g0.lookahead)){if(0===g1)return 1;break}if(g0.match_length=0,g2=g5._tr_tally(g0,0,g0.window[g0.strstart]),g0.lookahead--,g0.strstart++,g2&&(g19(g0,!1),0===g0.strm.avail_out))return 1}return g0.insert=0,4===g1?(g19(g0,!0),0===g0.strm.avail_out?3:4):g0.last_lit&&(g19(g0,!1),0===g0.strm.avail_out)?1:2}(g4,g1):3===g4.strategy?function(g0,g1){for(var g2,g3,g4,g6,g7=g0.window;;){if(g0.lookahead<=g10){if(g23(g0),g0.lookahead<=g10&&0===g1)return 1;if(0===g0.lookahead)break}if(g0.match_length=0,g0.lookahead>=3&&g0.strstart>0&&(g3=g7[g4=g0.strstart-1])===g7[++g4]&&g3===g7[++g4]&&g3===g7[++g4]){g6=g0.strstart+g10;do{}while(g3===g7[++g4]&&g3===g7[++g4]&&g3===g7[++g4]&&g3===g7[++g4]&&g3===g7[++g4]&&g3===g7[++g4]&&g3===g7[++g4]&&g3===g7[++g4]&&g4<g6);g0.match_length=g10-(g6-g4),g0.match_length>g0.lookahead&&(g0.match_length=g0.lookahead)}if(g0.match_length>=3?(g2=g5._tr_tally(g0,1,g0.match_length-3),g0.lookahead-=g0.match_length,g0.strstart+=g0.match_length,g0.match_length=0):(g2=g5._tr_tally(g0,0,g0.window[g0.strstart]),g0.lookahead--,g0.strstart++),g2&&(g19(g0,!1),0===g0.strm.avail_out))return 1}return g0.insert=0,4===g1?(g19(g0,!0),0===g0.strm.avail_out?3:4):g0.last_lit&&(g19(g0,!1),0===g0.strm.avail_out)?1:2}(g4,g1):g3[g4.level].func(g4,g1);if(3!==g22&&4!==g22||(g4.status=g14),1===g22||3===g22)return 0===g0.avail_out&&(g4.last_flush=-1),0;if(2===g22&&(1===g1?g5._tr_align(g4):5!==g1&&(g5._tr_stored_block(g4,0,0,!1),3===g1&&(g17(g4.head),0===g4.lookahead&&(g4.strstart=0,g4.block_start=0,g4.insert=0))),g18(g0),0===g0.avail_out))return g4.last_flush=-1,0}return 4!==g1?0:g4.wrap<=0?1:(2===g4.wrap?(g20(g4,255&g0.adler),g20(g4,g0.adler>>8&255),g20(g4,g0.adler>>16&255),g20(g4,g0.adler>>24&255),g20(g4,255&g0.total_in),g20(g4,g0.total_in>>8&255),g20(g4,g0.total_in>>16&255),g20(g4,g0.total_in>>24&255)):(g21(g4,g0.adler>>>16),g21(g4,65535&g0.adler)),g18(g0),g4.wrap>0&&(g4.wrap=-g4.wrap),0!==g4.pending?0:1)},g1.deflateEnd=function(g0){var g1;return g0&&g0.state?42!==(g1=g0.state.status)&&69!==g1&&73!==g1&&91!==g1&&g1!==g12&&g1!==g13&&g1!==g14?g15(g0,g9):(g0.state=null,g1===g13?g15(g0,-3):0):g9},g1.deflateSetDictionary=function(g0,g1){var g2,g3,g5,g7,g8,g10,g11,g12,g13=g1.length;if(!g0||!g0.state)return g9;if(2===(g7=(g2=g0.state).wrap)||1===g7&&42!==g2.status||g2.lookahead)return g9;for(1===g7&&(g0.adler=g6(g0.adler,g1,g13,0)),g2.wrap=0,g13>=g2.w_size&&(0===g7&&(g17(g2.head),g2.strstart=0,g2.block_start=0,g2.insert=0),g12=new g4.Buf8(g2.w_size),g4.arraySet(g12,g1,g13-g2.w_size,g2.w_size,0),g1=g12,g13=g2.w_size),g8=g0.avail_in,g10=g0.next_in,g11=g0.input,g0.avail_in=g13,g0.next_in=0,g0.input=g1,g23(g2);g2.lookahead>=3;){g3=g2.strstart,g5=g2.lookahead-2;do{g2.ins_h=(g2.ins_h<<g2.hash_shift^g2.window[g3+3-1])&g2.hash_mask,g2.prev[g3&g2.w_mask]=g2.head[g2.ins_h],g2.head[g2.ins_h]=g3,g3++}while(--g5);g2.strstart=g3,g2.lookahead=2,g23(g2)}return g2.strstart+=g2.lookahead,g2.block_start=g2.strstart,g2.insert=g2.lookahead,g2.lookahead=0,g2.match_length=g2.prev_length=2,g2.match_available=0,g0.next_in=g10,g0.input=g11,g0.avail_in=g8,g2.wrap=g7,0},g1.deflateInfo="pako deflate (from Nodeca project)"},function(g0,g1,g2){"use strict";var g3=g2(25);function g4(g0){for(var g1=g0.length;--g1>=0;)g0[g1]=0}var g5=256,g6=286,g7=30,g8=15,g9=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],g10=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],g11=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],g12=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],g13=new Array(576);g4(g13);var g14=new Array(60);g4(g14);var g15=new Array(512);g4(g15);var g16=new Array(256);g4(g16);var g17=new Array(29);g4(g17);var g18,g19,g20,g21=new Array(g7);function g22(g0,g1,g2,g3,g4){this.static_tree=g0,this.extra_bits=g1,this.extra_base=g2,this.elems=g3,this.max_length=g4,this.has_stree=g0&&g0.length}function g23(g0,g1){this.dyn_tree=g0,this.max_code=0,this.stat_desc=g1}function g24(g0){return g0<256?g15[g0]:g15[256+(g0>>>7)]}function g25(g0,g1){g0.pending_buf[g0.pending++]=255&g1,g0.pending_buf[g0.pending++]=g1>>>8&255}function g26(g0,g1,g2){g0.bi_valid>16-g2?(g0.bi_buf|=g1<<g0.bi_valid&65535,g25(g0,g0.bi_buf),g0.bi_buf=g1>>16-g0.bi_valid,g0.bi_valid+=g2-16):(g0.bi_buf|=g1<<g0.bi_valid&65535,g0.bi_valid+=g2)}function g27(g0,g1,g2){g26(g0,g2[2*g1],g2[2*g1+1])}function g28(g0,g1){var g2=0;do{g2|=1&g0,g0>>>=1,g2<<=1}while(--g1>0);return g2>>>1}function g29(g0,g1,g2){var g3,g4,g5=new Array(16),g6=0;for(g3=1;g3<=g8;g3++)g5[g3]=g6=g6+g2[g3-1]<<1;for(g4=0;g4<=g1;g4++){var g7=g0[2*g4+1];0!==g7&&(g0[2*g4]=g28(g5[g7]++,g7))}}function g30(g0){var g1;for(g1=0;g1<g6;g1++)g0.dyn_ltree[2*g1]=0;for(g1=0;g1<g7;g1++)g0.dyn_dtree[2*g1]=0;for(g1=0;g1<19;g1++)g0.bl_tree[2*g1]=0;g0.dyn_ltree[512]=1,g0.opt_len=g0.static_len=0,g0.last_lit=g0.matches=0}function g31(g0){g0.bi_valid>8?g25(g0,g0.bi_buf):g0.bi_valid>0&&(g0.pending_buf[g0.pending++]=g0.bi_buf),g0.bi_buf=0,g0.bi_valid=0}function g32(g0,g1,g2,g3){var g4=2*g1,g5=2*g2;return g0[g4]<g0[g5]||g0[g4]===g0[g5]&&g3[g1]<=g3[g2]}function g33(g0,g1,g2){for(var g3=g0.heap[g2],g4=g2<<1;g4<=g0.heap_len&&(g4<g0.heap_len&&g32(g1,g0.heap[g4+1],g0.heap[g4],g0.depth)&&g4++,!g32(g1,g3,g0.heap[g4],g0.depth));)g0.heap[g2]=g0.heap[g4],g2=g4,g4<<=1;g0.heap[g2]=g3}function g34(g0,g1,g2){var g3,g4,g6,g7,g8=0;if(0!==g0.last_lit)do{g3=g0.pending_buf[g0.d_buf+2*g8]<<8|g0.pending_buf[g0.d_buf+2*g8+1],g4=g0.pending_buf[g0.l_buf+g8],g8++,0===g3?g27(g0,g4,g1):(g27(g0,(g6=g16[g4])+g5+1,g1),0!==(g7=g9[g6])&&g26(g0,g4-=g17[g6],g7),g27(g0,g6=g24(--g3),g2),0!==(g7=g10[g6])&&g26(g0,g3-=g21[g6],g7))}while(g8<g0.last_lit);g27(g0,256,g1)}function g35(g0,g1){var g2,g3,g4,g5=g1.dyn_tree,g6=g1.stat_desc.static_tree,g7=g1.stat_desc.has_stree,g9=g1.stat_desc.elems,g10=-1;for(g0.heap_len=0,g0.heap_max=573,g2=0;g2<g9;g2++)0!==g5[2*g2]?(g0.heap[++g0.heap_len]=g10=g2,g0.depth[g2]=0):g5[2*g2+1]=0;for(;g0.heap_len<2;)g5[2*(g4=g0.heap[++g0.heap_len]=g10<2?++g10:0)]=1,g0.depth[g4]=0,g0.opt_len--,g7&&(g0.static_len-=g6[2*g4+1]);for(g1.max_code=g10,g2=g0.heap_len>>1;g2>=1;g2--)g33(g0,g5,g2);g4=g9;do{g2=g0.heap[1],g0.heap[1]=g0.heap[g0.heap_len--],g33(g0,g5,1),g3=g0.heap[1],g0.heap[--g0.heap_max]=g2,g0.heap[--g0.heap_max]=g3,g5[2*g4]=g5[2*g2]+g5[2*g3],g0.depth[g4]=(g0.depth[g2]>=g0.depth[g3]?g0.depth[g2]:g0.depth[g3])+1,g5[2*g2+1]=g5[2*g3+1]=g4,g0.heap[1]=g4++,g33(g0,g5,1)}while(g0.heap_len>=2);g0.heap[--g0.heap_max]=g0.heap[1],function(g0,g1){var g2,g3,g4,g5,g6,g7,g9=g1.dyn_tree,g10=g1.max_code,g11=g1.stat_desc.static_tree,g12=g1.stat_desc.has_stree,g13=g1.stat_desc.extra_bits,g14=g1.stat_desc.extra_base,g15=g1.stat_desc.max_length,g16=0;for(g5=0;g5<=g8;g5++)g0.bl_count[g5]=0;for(g9[2*g0.heap[g0.heap_max]+1]=0,g2=g0.heap_max+1;g2<573;g2++)(g5=g9[2*g9[2*(g3=g0.heap[g2])+1]+1]+1)>g15&&(g5=g15,g16++),g9[2*g3+1]=g5,g3>g10||(g0.bl_count[g5]++,g6=0,g3>=g14&&(g6=g13[g3-g14]),g7=g9[2*g3],g0.opt_len+=g7*(g5+g6),g12&&(g0.static_len+=g7*(g11[2*g3+1]+g6)));if(0!==g16){do{for(g5=g15-1;0===g0.bl_count[g5];)g5--;g0.bl_count[g5]--,g0.bl_count[g5+1]+=2,g0.bl_count[g15]--,g16-=2}while(g16>0);for(g5=g15;0!==g5;g5--)for(g3=g0.bl_count[g5];0!==g3;)(g4=g0.heap[--g2])>g10||(g9[2*g4+1]!==g5&&(g0.opt_len+=(g5-g9[2*g4+1])*g9[2*g4],g9[2*g4+1]=g5),g3--)}}(g0,g1),g29(g5,g10,g0.bl_count)}function g36(g0,g1,g2){var g3,g4,g5=-1,g6=g1[1],g7=0,g8=7,g9=4;for(0===g6&&(g8=138,g9=3),g1[2*(g2+1)+1]=65535,g3=0;g3<=g2;g3++)g4=g6,g6=g1[2*(g3+1)+1],++g7<g8&&g4===g6||(g7<g9?g0.bl_tree[2*g4]+=g7:0!==g4?(g4!==g5&&g0.bl_tree[2*g4]++,g0.bl_tree[32]++):g7<=10?g0.bl_tree[34]++:g0.bl_tree[36]++,g7=0,g5=g4,0===g6?(g8=138,g9=3):g4===g6?(g8=6,g9=3):(g8=7,g9=4))}function g37(g0,g1,g2){var g3,g4,g5=-1,g6=g1[1],g7=0,g8=7,g9=4;for(0===g6&&(g8=138,g9=3),g3=0;g3<=g2;g3++)if(g4=g6,g6=g1[2*(g3+1)+1],!(++g7<g8&&g4===g6)){if(g7<g9)do{g27(g0,g4,g0.bl_tree)}while(0!=--g7);else 0!==g4?(g4!==g5&&(g27(g0,g4,g0.bl_tree),g7--),g27(g0,16,g0.bl_tree),g26(g0,g7-3,2)):g7<=10?(g27(g0,17,g0.bl_tree),g26(g0,g7-3,3)):(g27(g0,18,g0.bl_tree),g26(g0,g7-11,7));g7=0,g5=g4,0===g6?(g8=138,g9=3):g4===g6?(g8=6,g9=3):(g8=7,g9=4)}}g4(g21);var g38=!1;function g39(g0,g1,g2,g4){g26(g0,0+(g4?1:0),3),function(g0,g1,g2,g4){g31(g0),g4&&(g25(g0,g2),g25(g0,~g2)),g3.arraySet(g0.pending_buf,g0.window,g1,g2,g0.pending),g0.pending+=g2}(g0,g1,g2,!0)}g1._tr_init=function(g0){g38||(!function(){var g0,g1,g2,g3,g4,g5=new Array(16);for(g2=0,g3=0;g3<28;g3++)for(g17[g3]=g2,g0=0;g0<1<<g9[g3];g0++)g16[g2++]=g3;for(g16[g2-1]=g3,g4=0,g3=0;g3<16;g3++)for(g21[g3]=g4,g0=0;g0<1<<g10[g3];g0++)g15[g4++]=g3;for(g4>>=7;g3<g7;g3++)for(g21[g3]=g4<<7,g0=0;g0<1<<g10[g3]-7;g0++)g15[256+g4++]=g3;for(g1=0;g1<=g8;g1++)g5[g1]=0;for(g0=0;g0<=143;)g13[2*g0+1]=8,g0++,g5[8]++;for(;g0<=255;)g13[2*g0+1]=9,g0++,g5[9]++;for(;g0<=279;)g13[2*g0+1]=7,g0++,g5[7]++;for(;g0<=287;)g13[2*g0+1]=8,g0++,g5[8]++;for(g29(g13,287,g5),g0=0;g0<g7;g0++)g14[2*g0+1]=5,g14[2*g0]=g28(g0,5);g18=new g22(g13,g9,257,g6,g8),g19=new g22(g14,g10,0,g7,g8),g20=new g22(new Array(0),g11,0,19,7)}(),g38=!0),g0.l_desc=new g23(g0.dyn_ltree,g18),g0.d_desc=new g23(g0.dyn_dtree,g19),g0.bl_desc=new g23(g0.bl_tree,g20),g0.bi_buf=0,g0.bi_valid=0,g30(g0)},g1._tr_stored_block=g39,g1._tr_flush_block=function(g0,g1,g2,g3){var g4,g6,g7=0;g0.level>0?(2===g0.strm.data_type&&(g0.strm.data_type=function(g0){var g1,g2=4093624447;for(g1=0;g1<=31;g1++,g2>>>=1)if(1&g2&&0!==g0.dyn_ltree[2*g1])return 0;if(0!==g0.dyn_ltree[18]||0!==g0.dyn_ltree[20]||0!==g0.dyn_ltree[26])return 1;for(g1=32;g1<g5;g1++)if(0!==g0.dyn_ltree[2*g1])return 1;return 0}(g0)),g35(g0,g0.l_desc),g35(g0,g0.d_desc),g7=function(g0){var g1;for(g36(g0,g0.dyn_ltree,g0.l_desc.max_code),g36(g0,g0.dyn_dtree,g0.d_desc.max_code),g35(g0,g0.bl_desc),g1=18;g1>=3&&0===g0.bl_tree[2*g12[g1]+1];g1--);return g0.opt_len+=3*(g1+1)+5+5+4,g1}(g0),g4=g0.opt_len+3+7>>>3,(g6=g0.static_len+3+7>>>3)<=g4&&(g4=g6)):g4=g6=g2+5,g2+4<=g4&&-1!==g1?g39(g0,g1,g2,g3):4===g0.strategy||g6===g4?(g26(g0,2+(g3?1:0),3),g34(g0,g13,g14)):(g26(g0,4+(g3?1:0),3),function(g0,g1,g2,g3){var g4;for(g26(g0,g1-257,5),g26(g0,g2-1,5),g26(g0,g3-4,4),g4=0;g4<g3;g4++)g26(g0,g0.bl_tree[2*g12[g4]+1],3);g37(g0,g0.dyn_ltree,g1-1),g37(g0,g0.dyn_dtree,g2-1)}(g0,g0.l_desc.max_code+1,g0.d_desc.max_code+1,g7+1),g34(g0,g0.dyn_ltree,g0.dyn_dtree)),g30(g0),g3&&g31(g0)},g1._tr_tally=function(g0,g1,g2){return g0.pending_buf[g0.d_buf+2*g0.last_lit]=g1>>>8&255,g0.pending_buf[g0.d_buf+2*g0.last_lit+1]=255&g1,g0.pending_buf[g0.l_buf+g0.last_lit]=255&g2,g0.last_lit++,0===g1?g0.dyn_ltree[2*g2]++:(g0.matches++,g1--,g0.dyn_ltree[2*(g16[g2]+g5+1)]++,g0.dyn_dtree[2*g24(g1)]++),g0.last_lit===g0.lit_bufsize-1},g1._tr_align=function(g0){g26(g0,2,3),g27(g0,256,g13),function(g0){16===g0.bi_valid?(g25(g0,g0.bi_buf),g0.bi_buf=0,g0.bi_valid=0):g0.bi_valid>=8&&(g0.pending_buf[g0.pending++]=255&g0.bi_buf,g0.bi_buf>>=8,g0.bi_valid-=8)}(g0)}},function(g0,g1,g2){"use strict";var g3=g2(387),g4=g2(25),g5=g2(199),g6=g2(201),g7=g2(103),g8=g2(200),g9=g2(390),g10=Object.prototype.toString;function g11(g0){if(!(this instanceof g11))return new g11(g0);this.options=g4.assign({chunkSize:16384,windowBits:0,to:""},g0||{});var g1=this.options;g1.raw&&g1.windowBits>=0&&g1.windowBits<16&&(g1.windowBits=-g1.windowBits,0===g1.windowBits&&(g1.windowBits=-15)),!(g1.windowBits>=0&&g1.windowBits<16)||g0&&g0.windowBits||(g1.windowBits+=32),g1.windowBits>15&&g1.windowBits<48&&0==(15&g1.windowBits)&&(g1.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new g8,this.strm.avail_out=0;var g2=g3.inflateInit2(this.strm,g1.windowBits);if(g2!==g6.Z_OK)throw new Error(g7[g2]);if(this.header=new g9,g3.inflateGetHeader(this.strm,this.header),g1.dictionary&&("string"==typeof g1.dictionary?g1.dictionary=g5.string2buf(g1.dictionary):"[object ArrayBuffer]"===g10.call(g1.dictionary)&&(g1.dictionary=new Uint8Array(g1.dictionary)),g1.raw&&(g2=g3.inflateSetDictionary(this.strm,g1.dictionary))!==g6.Z_OK))throw new Error(g7[g2])}function g12(g0,g1){var g2=new g11(g1);if(g2.push(g0,!0),g2.err)throw g2.msg||g7[g2.err];return g2.result}g11.prototype.push=function(g0,g1){var g2,g7,g8,g9,g11,g12=this.strm,g13=this.options.chunkSize,g14=this.options.dictionary,g15=!1;if(this.ended)return!1;g7=g1===~~g1?g1:!0===g1?g6.Z_FINISH:g6.Z_NO_FLUSH,"string"==typeof g0?g12.input=g5.binstring2buf(g0):"[object ArrayBuffer]"===g10.call(g0)?g12.input=new Uint8Array(g0):g12.input=g0,g12.next_in=0,g12.avail_in=g12.input.length;do{if(0===g12.avail_out&&(g12.output=new g4.Buf8(g13),g12.next_out=0,g12.avail_out=g13),(g2=g3.inflate(g12,g6.Z_NO_FLUSH))===g6.Z_NEED_DICT&&g14&&(g2=g3.inflateSetDictionary(this.strm,g14)),g2===g6.Z_BUF_ERROR&&!0===g15&&(g2=g6.Z_OK,g15=!1),g2!==g6.Z_STREAM_END&&g2!==g6.Z_OK)return this.onEnd(g2),this.ended=!0,!1;g12.next_out&&(0!==g12.avail_out&&g2!==g6.Z_STREAM_END&&(0!==g12.avail_in||g7!==g6.Z_FINISH&&g7!==g6.Z_SYNC_FLUSH)||("string"===this.options.to?(g8=g5.utf8border(g12.output,g12.next_out),g9=g12.next_out-g8,g11=g5.buf2string(g12.output,g8),g12.next_out=g9,g12.avail_out=g13-g9,g9&&g4.arraySet(g12.output,g12.output,g8,g9,0),this.onData(g11)):this.onData(g4.shrinkBuf(g12.output,g12.next_out)))),0===g12.avail_in&&0===g12.avail_out&&(g15=!0)}while((g12.avail_in>0||0===g12.avail_out)&&g2!==g6.Z_STREAM_END);return g2===g6.Z_STREAM_END&&(g7=g6.Z_FINISH),g7===g6.Z_FINISH?(g2=g3.inflateEnd(this.strm),this.onEnd(g2),this.ended=!0,g2===g6.Z_OK):g7!==g6.Z_SYNC_FLUSH||(this.onEnd(g6.Z_OK),g12.avail_out=0,!0)},g11.prototype.onData=function(g0){this.chunks.push(g0)},g11.prototype.onEnd=function(g0){g0===g6.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=g4.flattenChunks(this.chunks)),this.chunks=[],this.err=g0,this.msg=this.strm.msg},g1.Inflate=g11,g1.inflate=g12,g1.inflateRaw=function(g0,g1){return(g1=g1||{}).raw=!0,g12(g0,g1)},g1.ungzip=g12},function(g0,g1,g2){"use strict";var g3=g2(25),g4=g2(197),g5=g2(198),g6=g2(388),g7=g2(389),g8=-2,g9=12,g10=30;function g11(g0){return(g0>>>24&255)+(g0>>>8&65280)+((65280&g0)<<8)+((255&g0)<<24)}function g12(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new g3.Buf16(320),this.work=new g3.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function g13(g0){var g1;return g0&&g0.state?(g1=g0.state,g0.total_in=g0.total_out=g1.total=0,g0.msg="",g1.wrap&&(g0.adler=1&g1.wrap),g1.mode=1,g1.last=0,g1.havedict=0,g1.dmax=32768,g1.head=null,g1.hold=0,g1.bits=0,g1.lencode=g1.lendyn=new g3.Buf32(852),g1.distcode=g1.distdyn=new g3.Buf32(592),g1.sane=1,g1.back=-1,0):g8}function g14(g0){var g1;return g0&&g0.state?((g1=g0.state).wsize=0,g1.whave=0,g1.wnext=0,g13(g0)):g8}function g15(g0,g1){var g2,g3;return g0&&g0.state?(g3=g0.state,g1<0?(g2=0,g1=-g1):(g2=1+(g1>>4),g1<48&&(g1&=15)),g1&&(g1<8||g1>15)?g8:(null!==g3.window&&g3.wbits!==g1&&(g3.window=null),g3.wrap=g2,g3.wbits=g1,g14(g0))):g8}function g16(g0,g1){var g2,g3;return g0?(g3=new g12,g0.state=g3,g3.window=null,0!==(g2=g15(g0,g1))&&(g0.state=null),g2):g8}var g17,g18,g19=!0;function g20(g0){if(g19){var g1;for(g17=new g3.Buf32(512),g18=new g3.Buf32(32),g1=0;g1<144;)g0.lens[g1++]=8;for(;g1<256;)g0.lens[g1++]=9;for(;g1<280;)g0.lens[g1++]=7;for(;g1<288;)g0.lens[g1++]=8;for(g7(1,g0.lens,0,288,g17,0,g0.work,{bits:9}),g1=0;g1<32;)g0.lens[g1++]=5;g7(2,g0.lens,0,32,g18,0,g0.work,{bits:5}),g19=!1}g0.lencode=g17,g0.lenbits=9,g0.distcode=g18,g0.distbits=5}function g21(g0,g1,g2,g4){var g5,g6=g0.state;return null===g6.window&&(g6.wsize=1<<g6.wbits,g6.wnext=0,g6.whave=0,g6.window=new g3.Buf8(g6.wsize)),g4>=g6.wsize?(g3.arraySet(g6.window,g1,g2-g6.wsize,g6.wsize,0),g6.wnext=0,g6.whave=g6.wsize):((g5=g6.wsize-g6.wnext)>g4&&(g5=g4),g3.arraySet(g6.window,g1,g2-g4,g5,g6.wnext),(g4-=g5)?(g3.arraySet(g6.window,g1,g2-g4,g4,0),g6.wnext=g4,g6.whave=g6.wsize):(g6.wnext+=g5,g6.wnext===g6.wsize&&(g6.wnext=0),g6.whave<g6.wsize&&(g6.whave+=g5))),0}g1.inflateReset=g14,g1.inflateReset2=g15,g1.inflateResetKeep=g13,g1.inflateInit=function(g0){return g16(g0,15)},g1.inflateInit2=g16,g1.inflate=function(g0,g1){var g2,g12,g13,g14,g15,g16,g17,g18,g19,g22,g23,g24,g25,g26,g27,g28,g29,g30,g31,g32,g33,g34,g35,g36,g37=0,g38=new g3.Buf8(4),g39=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!g0||!g0.state||!g0.output||!g0.input&&0!==g0.avail_in)return g8;(g2=g0.state).mode===g9&&(g2.mode=13),g15=g0.next_out,g13=g0.output,g17=g0.avail_out,g14=g0.next_in,g12=g0.input,g16=g0.avail_in,g18=g2.hold,g19=g2.bits,g22=g16,g23=g17,g34=0;g0:for(;;)switch(g2.mode){case 1:if(0===g2.wrap){g2.mode=13;break}for(;g19<16;){if(0===g16)break g0;g16--,g18+=g12[g14++]<<g19,g19+=8}if(2&g2.wrap&&35615===g18){g2.check=0,g38[0]=255&g18,g38[1]=g18>>>8&255,g2.check=g5(g2.check,g38,2,0),g18=0,g19=0,g2.mode=2;break}if(g2.flags=0,g2.head&&(g2.head.done=!1),!(1&g2.wrap)||(((255&g18)<<8)+(g18>>8))%31){g0.msg="incorrect header check",g2.mode=g10;break}if(8!=(15&g18)){g0.msg="unknown compression method",g2.mode=g10;break}if(g19-=4,g33=8+(15&(g18>>>=4)),0===g2.wbits)g2.wbits=g33;else if(g33>g2.wbits){g0.msg="invalid window size",g2.mode=g10;break}g2.dmax=1<<g33,g0.adler=g2.check=1,g2.mode=512&g18?10:g9,g18=0,g19=0;break;case 2:for(;g19<16;){if(0===g16)break g0;g16--,g18+=g12[g14++]<<g19,g19+=8}if(g2.flags=g18,8!=(255&g2.flags)){g0.msg="unknown compression method",g2.mode=g10;break}if(57344&g2.flags){g0.msg="unknown header flags set",g2.mode=g10;break}g2.head&&(g2.head.text=g18>>8&1),512&g2.flags&&(g38[0]=255&g18,g38[1]=g18>>>8&255,g2.check=g5(g2.check,g38,2,0)),g18=0,g19=0,g2.mode=3;case 3:for(;g19<32;){if(0===g16)break g0;g16--,g18+=g12[g14++]<<g19,g19+=8}g2.head&&(g2.head.time=g18),512&g2.flags&&(g38[0]=255&g18,g38[1]=g18>>>8&255,g38[2]=g18>>>16&255,g38[3]=g18>>>24&255,g2.check=g5(g2.check,g38,4,0)),g18=0,g19=0,g2.mode=4;case 4:for(;g19<16;){if(0===g16)break g0;g16--,g18+=g12[g14++]<<g19,g19+=8}g2.head&&(g2.head.xflags=255&g18,g2.head.os=g18>>8),512&g2.flags&&(g38[0]=255&g18,g38[1]=g18>>>8&255,g2.check=g5(g2.check,g38,2,0)),g18=0,g19=0,g2.mode=5;case 5:if(1024&g2.flags){for(;g19<16;){if(0===g16)break g0;g16--,g18+=g12[g14++]<<g19,g19+=8}g2.length=g18,g2.head&&(g2.head.extra_len=g18),512&g2.flags&&(g38[0]=255&g18,g38[1]=g18>>>8&255,g2.check=g5(g2.check,g38,2,0)),g18=0,g19=0}else g2.head&&(g2.head.extra=null);g2.mode=6;case 6:if(1024&g2.flags&&((g24=g2.length)>g16&&(g24=g16),g24&&(g2.head&&(g33=g2.head.extra_len-g2.length,g2.head.extra||(g2.head.extra=new Array(g2.head.extra_len)),g3.arraySet(g2.head.extra,g12,g14,g24,g33)),512&g2.flags&&(g2.check=g5(g2.check,g12,g24,g14)),g16-=g24,g14+=g24,g2.length-=g24),g2.length))break g0;g2.length=0,g2.mode=7;case 7:if(2048&g2.flags){if(0===g16)break g0;g24=0;do{g33=g12[g14+g24++],g2.head&&g33&&g2.length<65536&&(g2.head.name+=String.fromCharCode(g33))}while(g33&&g24<g16);if(512&g2.flags&&(g2.check=g5(g2.check,g12,g24,g14)),g16-=g24,g14+=g24,g33)break g0}else g2.head&&(g2.head.name=null);g2.length=0,g2.mode=8;case 8:if(4096&g2.flags){if(0===g16)break g0;g24=0;do{g33=g12[g14+g24++],g2.head&&g33&&g2.length<65536&&(g2.head.comment+=String.fromCharCode(g33))}while(g33&&g24<g16);if(512&g2.flags&&(g2.check=g5(g2.check,g12,g24,g14)),g16-=g24,g14+=g24,g33)break g0}else g2.head&&(g2.head.comment=null);g2.mode=9;case 9:if(512&g2.flags){for(;g19<16;){if(0===g16)break g0;g16--,g18+=g12[g14++]<<g19,g19+=8}if(g18!==(65535&g2.check)){g0.msg="header crc mismatch",g2.mode=g10;break}g18=0,g19=0}g2.head&&(g2.head.hcrc=g2.flags>>9&1,g2.head.done=!0),g0.adler=g2.check=0,g2.mode=g9;break;case 10:for(;g19<32;){if(0===g16)break g0;g16--,g18+=g12[g14++]<<g19,g19+=8}g0.adler=g2.check=g11(g18),g18=0,g19=0,g2.mode=11;case 11:if(0===g2.havedict)return g0.next_out=g15,g0.avail_out=g17,g0.next_in=g14,g0.avail_in=g16,g2.hold=g18,g2.bits=g19,2;g0.adler=g2.check=1,g2.mode=g9;case g9:if(5===g1||6===g1)break g0;case 13:if(g2.last){g18>>>=7&g19,g19-=7&g19,g2.mode=27;break}for(;g19<3;){if(0===g16)break g0;g16--,g18+=g12[g14++]<<g19,g19+=8}switch(g2.last=1&g18,g19-=1,3&(g18>>>=1)){case 0:g2.mode=14;break;case 1:if(g20(g2),g2.mode=20,6===g1){g18>>>=2,g19-=2;break g0}break;case 2:g2.mode=17;break;case 3:g0.msg="invalid block type",g2.mode=g10}g18>>>=2,g19-=2;break;case 14:for(g18>>>=7&g19,g19-=7&g19;g19<32;){if(0===g16)break g0;g16--,g18+=g12[g14++]<<g19,g19+=8}if((65535&g18)!=(g18>>>16^65535)){g0.msg="invalid stored block lengths",g2.mode=g10;break}if(g2.length=65535&g18,g18=0,g19=0,g2.mode=15,6===g1)break g0;case 15:g2.mode=16;case 16:if(g24=g2.length){if(g24>g16&&(g24=g16),g24>g17&&(g24=g17),0===g24)break g0;g3.arraySet(g13,g12,g14,g24,g15),g16-=g24,g14+=g24,g17-=g24,g15+=g24,g2.length-=g24;break}g2.mode=g9;break;case 17:for(;g19<14;){if(0===g16)break g0;g16--,g18+=g12[g14++]<<g19,g19+=8}if(g2.nlen=257+(31&g18),g18>>>=5,g19-=5,g2.ndist=1+(31&g18),g18>>>=5,g19-=5,g2.ncode=4+(15&g18),g18>>>=4,g19-=4,g2.nlen>286||g2.ndist>30){g0.msg="too many length or distance symbols",g2.mode=g10;break}g2.have=0,g2.mode=18;case 18:for(;g2.have<g2.ncode;){for(;g19<3;){if(0===g16)break g0;g16--,g18+=g12[g14++]<<g19,g19+=8}g2.lens[g39[g2.have++]]=7&g18,g18>>>=3,g19-=3}for(;g2.have<19;)g2.lens[g39[g2.have++]]=0;if(g2.lencode=g2.lendyn,g2.lenbits=7,g35={bits:g2.lenbits},g34=g7(0,g2.lens,0,19,g2.lencode,0,g2.work,g35),g2.lenbits=g35.bits,g34){g0.msg="invalid code lengths set",g2.mode=g10;break}g2.have=0,g2.mode=19;case 19:for(;g2.have<g2.nlen+g2.ndist;){for(;g28=(g37=g2.lencode[g18&(1<<g2.lenbits)-1])>>>16&255,g29=65535&g37,!((g27=g37>>>24)<=g19);){if(0===g16)break g0;g16--,g18+=g12[g14++]<<g19,g19+=8}if(g29<16)g18>>>=g27,g19-=g27,g2.lens[g2.have++]=g29;else{if(16===g29){for(g36=g27+2;g19<g36;){if(0===g16)break g0;g16--,g18+=g12[g14++]<<g19,g19+=8}if(g18>>>=g27,g19-=g27,0===g2.have){g0.msg="invalid bit length repeat",g2.mode=g10;break}g33=g2.lens[g2.have-1],g24=3+(3&g18),g18>>>=2,g19-=2}else if(17===g29){for(g36=g27+3;g19<g36;){if(0===g16)break g0;g16--,g18+=g12[g14++]<<g19,g19+=8}g19-=g27,g33=0,g24=3+(7&(g18>>>=g27)),g18>>>=3,g19-=3}else{for(g36=g27+7;g19<g36;){if(0===g16)break g0;g16--,g18+=g12[g14++]<<g19,g19+=8}g19-=g27,g33=0,g24=11+(127&(g18>>>=g27)),g18>>>=7,g19-=7}if(g2.have+g24>g2.nlen+g2.ndist){g0.msg="invalid bit length repeat",g2.mode=g10;break}for(;g24--;)g2.lens[g2.have++]=g33}}if(g2.mode===g10)break;if(0===g2.lens[256]){g0.msg="invalid code -- missing end-of-block",g2.mode=g10;break}if(g2.lenbits=9,g35={bits:g2.lenbits},g34=g7(1,g2.lens,0,g2.nlen,g2.lencode,0,g2.work,g35),g2.lenbits=g35.bits,g34){g0.msg="invalid literal/lengths set",g2.mode=g10;break}if(g2.distbits=6,g2.distcode=g2.distdyn,g35={bits:g2.distbits},g34=g7(2,g2.lens,g2.nlen,g2.ndist,g2.distcode,0,g2.work,g35),g2.distbits=g35.bits,g34){g0.msg="invalid distances set",g2.mode=g10;break}if(g2.mode=20,6===g1)break g0;case 20:g2.mode=21;case 21:if(g16>=6&&g17>=258){g0.next_out=g15,g0.avail_out=g17,g0.next_in=g14,g0.avail_in=g16,g2.hold=g18,g2.bits=g19,g6(g0,g23),g15=g0.next_out,g13=g0.output,g17=g0.avail_out,g14=g0.next_in,g12=g0.input,g16=g0.avail_in,g18=g2.hold,g19=g2.bits,g2.mode===g9&&(g2.back=-1);break}for(g2.back=0;g28=(g37=g2.lencode[g18&(1<<g2.lenbits)-1])>>>16&255,g29=65535&g37,!((g27=g37>>>24)<=g19);){if(0===g16)break g0;g16--,g18+=g12[g14++]<<g19,g19+=8}if(g28&&0==(240&g28)){for(g30=g27,g31=g28,g32=g29;g28=(g37=g2.lencode[g32+((g18&(1<<g30+g31)-1)>>g30)])>>>16&255,g29=65535&g37,!(g30+(g27=g37>>>24)<=g19);){if(0===g16)break g0;g16--,g18+=g12[g14++]<<g19,g19+=8}g18>>>=g30,g19-=g30,g2.back+=g30}if(g18>>>=g27,g19-=g27,g2.back+=g27,g2.length=g29,0===g28){g2.mode=26;break}if(32&g28){g2.back=-1,g2.mode=g9;break}if(64&g28){g0.msg="invalid literal/length code",g2.mode=g10;break}g2.extra=15&g28,g2.mode=22;case 22:if(g2.extra){for(g36=g2.extra;g19<g36;){if(0===g16)break g0;g16--,g18+=g12[g14++]<<g19,g19+=8}g2.length+=g18&(1<<g2.extra)-1,g18>>>=g2.extra,g19-=g2.extra,g2.back+=g2.extra}g2.was=g2.length,g2.mode=23;case 23:for(;g28=(g37=g2.distcode[g18&(1<<g2.distbits)-1])>>>16&255,g29=65535&g37,!((g27=g37>>>24)<=g19);){if(0===g16)break g0;g16--,g18+=g12[g14++]<<g19,g19+=8}if(0==(240&g28)){for(g30=g27,g31=g28,g32=g29;g28=(g37=g2.distcode[g32+((g18&(1<<g30+g31)-1)>>g30)])>>>16&255,g29=65535&g37,!(g30+(g27=g37>>>24)<=g19);){if(0===g16)break g0;g16--,g18+=g12[g14++]<<g19,g19+=8}g18>>>=g30,g19-=g30,g2.back+=g30}if(g18>>>=g27,g19-=g27,g2.back+=g27,64&g28){g0.msg="invalid distance code",g2.mode=g10;break}g2.offset=g29,g2.extra=15&g28,g2.mode=24;case 24:if(g2.extra){for(g36=g2.extra;g19<g36;){if(0===g16)break g0;g16--,g18+=g12[g14++]<<g19,g19+=8}g2.offset+=g18&(1<<g2.extra)-1,g18>>>=g2.extra,g19-=g2.extra,g2.back+=g2.extra}if(g2.offset>g2.dmax){g0.msg="invalid distance too far back",g2.mode=g10;break}g2.mode=25;case 25:if(0===g17)break g0;if(g24=g23-g17,g2.offset>g24){if((g24=g2.offset-g24)>g2.whave&&g2.sane){g0.msg="invalid distance too far back",g2.mode=g10;break}g24>g2.wnext?(g24-=g2.wnext,g25=g2.wsize-g24):g25=g2.wnext-g24,g24>g2.length&&(g24=g2.length),g26=g2.window}else g26=g13,g25=g15-g2.offset,g24=g2.length;g24>g17&&(g24=g17),g17-=g24,g2.length-=g24;do{g13[g15++]=g26[g25++]}while(--g24);0===g2.length&&(g2.mode=21);break;case 26:if(0===g17)break g0;g13[g15++]=g2.length,g17--,g2.mode=21;break;case 27:if(g2.wrap){for(;g19<32;){if(0===g16)break g0;g16--,g18|=g12[g14++]<<g19,g19+=8}if(g23-=g17,g0.total_out+=g23,g2.total+=g23,g23&&(g0.adler=g2.check=g2.flags?g5(g2.check,g13,g23,g15-g23):g4(g2.check,g13,g23,g15-g23)),g23=g17,(g2.flags?g18:g11(g18))!==g2.check){g0.msg="incorrect data check",g2.mode=g10;break}g18=0,g19=0}g2.mode=28;case 28:if(g2.wrap&&g2.flags){for(;g19<32;){if(0===g16)break g0;g16--,g18+=g12[g14++]<<g19,g19+=8}if(g18!==(4294967295&g2.total)){g0.msg="incorrect length check",g2.mode=g10;break}g18=0,g19=0}g2.mode=29;case 29:g34=1;break g0;case g10:g34=-3;break g0;case 31:return-4;default:return g8}return g0.next_out=g15,g0.avail_out=g17,g0.next_in=g14,g0.avail_in=g16,g2.hold=g18,g2.bits=g19,(g2.wsize||g23!==g0.avail_out&&g2.mode<g10&&(g2.mode<27||4!==g1))&&g21(g0,g0.output,g0.next_out,g23-g0.avail_out)?(g2.mode=31,-4):(g22-=g0.avail_in,g23-=g0.avail_out,g0.total_in+=g22,g0.total_out+=g23,g2.total+=g23,g2.wrap&&g23&&(g0.adler=g2.check=g2.flags?g5(g2.check,g13,g23,g0.next_out-g23):g4(g2.check,g13,g23,g0.next_out-g23)),g0.data_type=g2.bits+(g2.last?64:0)+(g2.mode===g9?128:0)+(20===g2.mode||15===g2.mode?256:0),(0===g22&&0===g23||4===g1)&&0===g34&&(g34=-5),g34)},g1.inflateEnd=function(g0){if(!g0||!g0.state)return g8;var g1=g0.state;return g1.window&&(g1.window=null),g0.state=null,0},g1.inflateGetHeader=function(g0,g1){var g2;return g0&&g0.state?0==(2&(g2=g0.state).wrap)?g8:(g2.head=g1,g1.done=!1,0):g8},g1.inflateSetDictionary=function(g0,g1){var g2,g3=g1.length;return g0&&g0.state?0!==(g2=g0.state).wrap&&11!==g2.mode?g8:11===g2.mode&&g4(1,g1,g3,0)!==g2.check?-3:g21(g0,g1,g3,g3)?(g2.mode=31,-4):(g2.havedict=1,0):g8},g1.inflateInfo="pako inflate (from Nodeca project)"},function(g0,g1,g2){"use strict";g0.exports=function(g0,g1){var g2,g3,g4,g5,g6,g7,g8,g9,g10,g11,g12,g13,g14,g15,g16,g17,g18,g19,g20,g21,g22,g23,g24,g25,g26;g2=g0.state,g3=g0.next_in,g25=g0.input,g4=g3+(g0.avail_in-5),g5=g0.next_out,g26=g0.output,g6=g5-(g1-g0.avail_out),g7=g5+(g0.avail_out-257),g8=g2.dmax,g9=g2.wsize,g10=g2.whave,g11=g2.wnext,g12=g2.window,g13=g2.hold,g14=g2.bits,g15=g2.lencode,g16=g2.distcode,g17=(1<<g2.lenbits)-1,g18=(1<<g2.distbits)-1;g0:do{g14<15&&(g13+=g25[g3++]<<g14,g14+=8,g13+=g25[g3++]<<g14,g14+=8),g19=g15[g13&g17];g1:for(;;){if(g13>>>=g20=g19>>>24,g14-=g20,0===(g20=g19>>>16&255))g26[g5++]=65535&g19;else{if(!(16&g20)){if(0==(64&g20)){g19=g15[(65535&g19)+(g13&(1<<g20)-1)];continue g1}if(32&g20){g2.mode=12;break g0}g0.msg="invalid literal/length code",g2.mode=30;break g0}g21=65535&g19,(g20&=15)&&(g14<g20&&(g13+=g25[g3++]<<g14,g14+=8),g21+=g13&(1<<g20)-1,g13>>>=g20,g14-=g20),g14<15&&(g13+=g25[g3++]<<g14,g14+=8,g13+=g25[g3++]<<g14,g14+=8),g19=g16[g13&g18];g2:for(;;){if(g13>>>=g20=g19>>>24,g14-=g20,!(16&(g20=g19>>>16&255))){if(0==(64&g20)){g19=g16[(65535&g19)+(g13&(1<<g20)-1)];continue g2}g0.msg="invalid distance code",g2.mode=30;break g0}if(g22=65535&g19,g14<(g20&=15)&&(g13+=g25[g3++]<<g14,(g14+=8)<g20&&(g13+=g25[g3++]<<g14,g14+=8)),(g22+=g13&(1<<g20)-1)>g8){g0.msg="invalid distance too far back",g2.mode=30;break g0}if(g13>>>=g20,g14-=g20,g22>(g20=g5-g6)){if((g20=g22-g20)>g10&&g2.sane){g0.msg="invalid distance too far back",g2.mode=30;break g0}if(g23=0,g24=g12,0===g11){if(g23+=g9-g20,g20<g21){g21-=g20;do{g26[g5++]=g12[g23++]}while(--g20);g23=g5-g22,g24=g26}}else if(g11<g20){if(g23+=g9+g11-g20,(g20-=g11)<g21){g21-=g20;do{g26[g5++]=g12[g23++]}while(--g20);if(g23=0,g11<g21){g21-=g20=g11;do{g26[g5++]=g12[g23++]}while(--g20);g23=g5-g22,g24=g26}}}else if(g23+=g11-g20,g20<g21){g21-=g20;do{g26[g5++]=g12[g23++]}while(--g20);g23=g5-g22,g24=g26}for(;g21>2;)g26[g5++]=g24[g23++],g26[g5++]=g24[g23++],g26[g5++]=g24[g23++],g21-=3;g21&&(g26[g5++]=g24[g23++],g21>1&&(g26[g5++]=g24[g23++]))}else{g23=g5-g22;do{g26[g5++]=g26[g23++],g26[g5++]=g26[g23++],g26[g5++]=g26[g23++],g21-=3}while(g21>2);g21&&(g26[g5++]=g26[g23++],g21>1&&(g26[g5++]=g26[g23++]))}break}}break}}while(g3<g4&&g5<g7);g3-=g21=g14>>3,g13&=(1<<(g14-=g21<<3))-1,g0.next_in=g3,g0.next_out=g5,g0.avail_in=g3<g4?g4-g3+5:5-(g3-g4),g0.avail_out=g5<g7?g7-g5+257:257-(g5-g7),g2.hold=g13,g2.bits=g14}},function(g0,g1,g2){"use strict";var g3=g2(25),g4=15,g5=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],g6=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],g7=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],g8=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];g0.exports=function(g0,g1,g2,g9,g10,g11,g12,g13){var g14,g15,g16,g17,g18,g19,g20,g21,g22,g23=g13.bits,g24=0,g25=0,g26=0,g27=0,g28=0,g29=0,g30=0,g31=0,g32=0,g33=0,g34=null,g35=0,g36=new g3.Buf16(16),g37=new g3.Buf16(16),g38=null,g39=0;for(g24=0;g24<=g4;g24++)g36[g24]=0;for(g25=0;g25<g9;g25++)g36[g1[g2+g25]]++;for(g28=g23,g27=g4;g27>=1&&0===g36[g27];g27--);if(g28>g27&&(g28=g27),0===g27)return g10[g11++]=20971520,g10[g11++]=20971520,g13.bits=1,0;for(g26=1;g26<g27&&0===g36[g26];g26++);for(g28<g26&&(g28=g26),g31=1,g24=1;g24<=g4;g24++)if(g31<<=1,(g31-=g36[g24])<0)return-1;if(g31>0&&(0===g0||1!==g27))return-1;for(g37[1]=0,g24=1;g24<g4;g24++)g37[g24+1]=g37[g24]+g36[g24];for(g25=0;g25<g9;g25++)0!==g1[g2+g25]&&(g12[g37[g1[g2+g25]]++]=g25);if(0===g0?(g34=g38=g12,g19=19):1===g0?(g34=g5,g35-=257,g38=g6,g39-=257,g19=256):(g34=g7,g38=g8,g19=-1),g33=0,g25=0,g24=g26,g18=g11,g29=g28,g30=0,g16=-1,g17=(g32=1<<g28)-1,1===g0&&g32>852||2===g0&&g32>592)return 1;for(;;){g20=g24-g30,g12[g25]<g19?(g21=0,g22=g12[g25]):g12[g25]>g19?(g21=g38[g39+g12[g25]],g22=g34[g35+g12[g25]]):(g21=96,g22=0),g14=1<<g24-g30,g26=g15=1<<g29;do{g10[g18+(g33>>g30)+(g15-=g14)]=g20<<24|g21<<16|g22|0}while(0!==g15);for(g14=1<<g24-1;g33&g14;)g14>>=1;if(0!==g14?(g33&=g14-1,g33+=g14):g33=0,g25++,0==--g36[g24]){if(g24===g27)break;g24=g1[g2+g12[g25]]}if(g24>g28&&(g33&g17)!==g16){for(0===g30&&(g30=g28),g18+=g26,g31=1<<(g29=g24-g30);g29+g30<g27&&!((g31-=g36[g29+g30])<=0);)g29++,g31<<=1;if(g32+=1<<g29,1===g0&&g32>852||2===g0&&g32>592)return 1;g10[g16=g33&g17]=g28<<24|g29<<16|g18-g11|0}}return 0!==g33&&(g10[g18+g33]=g24-g30<<24|64<<16|0),g13.bits=g28,0}},function(g0,g1,g2){"use strict";g0.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},function(g0,g1){g0.exports=g31},function(g0,g1){g0.exports=g32},function(g0,g1){g0.exports=g33},function(g0,g1){g0.exports=g34},function(g0,g1){g0.exports=g35},function(g0,g1){g0.exports=g36},function(g0,g1){g0.exports=g37},function(g0,g1){g0.exports=g38},function(g0,g1){g0.exports=g39},function(g0,g1){g0.exports=g40},function(g0,g1){g0.exports=g41},function(g0,g1,g2){"use strict";g0.exports={options:{java_package:"cn.wildfirechat.proto",java_outer_classname:"WFCMessage"},nested:{AddFriendRequest:{fields:{targetUid:{rule:"required",type:"string",id:1},reason:{rule:"required",type:"string",id:2},extra:{type:"string",id:3}}},Conversation:{fields:{type:{rule:"required",type:"int32",id:1},target:{rule:"required",type:"string",id:2},line:{rule:"required",type:"int32",id:3}}},GroupInfo:{fields:{targetId:{type:"string",id:1},name:{rule:"required",type:"string",id:2},portrait:{type:"string",id:3},owner:{type:"string",id:4},type:{rule:"required",type:"int32",id:5},memberCount:{type:"int32",id:6},extra:{type:"string",id:7},updateDt:{type:"int64",id:8},memberUpdateDt:{type:"int64",id:9},mute:{type:"int32",id:10},joinType:{type:"int32",id:11},privateChat:{type:"int32",id:12},searchable:{type:"int32",id:13},maxMemberCount:{type:"int32",id:14},historyMessage:{type:"int32",id:15},superGroup:{type:"int32",id:16}}},GroupMember:{fields:{memberId:{rule:"required",type:"string",id:1},alias:{type:"string",id:2},type:{rule:"required",type:"int32",id:3},updateDt:{type:"int64",id:4},createDt:{type:"int64",id:5},extra:{type:"string",id:6}}},Group:{fields:{groupInfo:{rule:"required",type:"GroupInfo",id:1},members:{rule:"repeated",type:"GroupMember",id:2}}},ChannelMenu:{fields:{type:{rule:"required",type:"string",id:1},name:{rule:"required",type:"string",id:2},key:{type:"string",id:3},url:{type:"string",id:4},mediaId:{type:"string",id:5},articleId:{type:"string",id:6},appId:{type:"string",id:7},appPage:{type:"string",id:8},subMenu:{rule:"repeated",type:"ChannelMenu",id:9},menuId:{type:"string",id:10},extra:{type:"string",id:11}}},ChannelMenuList:{fields:{menu:{rule:"repeated",type:"ChannelMenu",id:1}}},ChannelInfo:{fields:{targetId:{type:"string",id:1},name:{rule:"required",type:"string",id:2},portrait:{type:"string",id:3},owner:{type:"string",id:4},status:{type:"int32",id:5},desc:{type:"string",id:6},extra:{type:"string",id:7},updateDt:{type:"int64",id:8},secret:{type:"string",id:9},callback:{type:"string",id:10},automatic:{type:"int32",id:11},menu:{rule:"repeated",type:"ChannelMenu",id:12}}},ModifyChannelInfo:{fields:{channelId:{rule:"required",type:"string",id:1},type:{rule:"required",type:"int32",id:2},value:{rule:"required",type:"string",id:3}}},TransferChannel:{fields:{channelId:{rule:"required",type:"string",id:1},newOwner:{rule:"required",type:"string",id:2}}},PullChannelInfo:{fields:{channelId:{rule:"required",type:"string",id:1},head:{rule:"required",type:"int64",id:2}}},PullChannelListener:{fields:{channelId:{rule:"required",type:"string",id:1},offset:{rule:"required",type:"int32",id:2},count:{rule:"required",type:"int32",id:3}}},PullChannelListenerResult:{fields:{totalCount:{rule:"required",type:"int32",id:1},offset:{rule:"required",type:"int32",id:2},listener:{rule:"repeated",type:"string",id:3}}},ListenChannel:{fields:{channelId:{rule:"required",type:"string",id:1},listen:{rule:"required",type:"int32",id:2}}},SearchChannelResult:{fields:{channel:{rule:"repeated",type:"ChannelInfo",id:1},keyword:{rule:"required",type:"string",id:2}}},MessageContent:{fields:{type:{rule:"required",type:"int32",id:1},searchableContent:{type:"string",id:2},pushContent:{type:"string",id:3},content:{type:"string",id:4},data:{type:"bytes",id:5},mediaType:{type:"int32",id:6},remoteMediaUrl:{type:"string",id:7},persistFlag:{type:"int32",id:8},expireDuration:{type:"int32",id:9},mentionedType:{type:"int32",id:10},mentionedTarget:{rule:"repeated",type:"string",id:11},extra:{type:"string",id:12},pushData:{type:"string",id:13}}},AddGroupMemberRequest:{fields:{groupId:{rule:"required",type:"string",id:1},addedMember:{rule:"repeated",type:"GroupMember",id:2},toLine:{rule:"repeated",type:"int32",id:3,options:{packed:!1}},notifyContent:{type:"MessageContent",id:4},extra:{type:"string",id:5}}},CreateGroupRequest:{fields:{group:{rule:"required",type:"Group",id:1},toLine:{rule:"repeated",type:"int32",id:2,options:{packed:!1}},notifyContent:{type:"MessageContent",id:3},memberExtra:{type:"string",id:4}}},DismissGroupRequest:{fields:{groupId:{rule:"required",type:"string",id:1},toLine:{rule:"repeated",type:"int32",id:2,options:{packed:!1}},notifyContent:{type:"MessageContent",id:3}}},FriendRequest:{fields:{fromUid:{type:"string",id:1},toUid:{rule:"required",type:"string",id:2},reason:{rule:"required",type:"string",id:3},status:{type:"int32",id:4},updateDt:{type:"int64",id:5},fromReadStatus:{type:"bool",id:6},toReadStatus:{type:"bool",id:7},extra:{type:"string",id:8}}},GeneralResult:{fields:{errorCode:{rule:"required",type:"int32",id:1}}},GetUploadTokenRequest:{fields:{mediaType:{rule:"required",type:"int32",id:1},mediaPath:{rule:"required",type:"string",id:2},contentType:{type:"string",id:3},messageId:{type:"int64",id:4}}},GetUploadTokenResult:{fields:{domain:{rule:"required",type:"string",id:1},token:{rule:"required",type:"string",id:2},server:{rule:"required",type:"string",id:3},port:{type:"int32",id:4},type:{type:"int32",id:5},date:{type:"string",id:6},path:{type:"string",id:7},backupServer:{type:"string",id:8},backupPort:{type:"int32",id:9},sslPort:{type:"int32",id:10},backupSslPort:{type:"int32",id:11},sslToken:{type:"string",id:12},backupToken:{type:"string",id:13},backupSslToken:{type:"string",id:14}}},GetPresignedUrlResult:{fields:{presignedUrl:{rule:"required",type:"string",id:1},mediaUrl:{rule:"required",type:"string",id:2},backupPresignedUrl:{type:"string",id:3},type:{type:"int32",id:4}}},GetDownloadSignedUrlResult:{fields:{url:{rule:"required",type:"string",id:1},backupUrl:{type:"string",id:2}}},HandleFriendRequest:{fields:{targetUid:{rule:"required",type:"string",id:1},status:{rule:"required",type:"int32",id:2},extra:{type:"string",id:3}}},IDBuf:{fields:{id:{rule:"required",type:"string",id:1}}},IDListBuf:{fields:{id:{rule:"repeated",type:"string",id:1}}},Message:{fields:{conversation:{rule:"required",type:"Conversation",id:1},fromUser:{rule:"required",type:"string",id:2},content:{rule:"required",type:"MessageContent",id:3},messageId:{type:"int64",id:4},serverTimestamp:{type:"int64",id:5},toUser:{type:"string",id:6},to:{rule:"repeated",type:"string",id:7}}},ConvReadRequest:{fields:{conversation:{rule:"required",type:"Conversation",id:1},fromUser:{rule:"required",type:"string",id:2},readTime:{rule:"required",type:"int64",id:3},to:{rule:"repeated",type:"string",id:4}}},ConvRead:{fields:{id:{type:"int32",id:1},conversation:{rule:"required",type:"Conversation",id:2},fromUser:{rule:"required",type:"string",id:3},readTime:{rule:"required",type:"int64",id:4}}},Delivery:{fields:{fromUser:{rule:"required",type:"string",id:1},receiveTime:{rule:"required",type:"int64",id:2}}},NotifyDelivery:{fields:{fromUser:{rule:"required",type:"string",id:1},receiveTime:{rule:"required",type:"int64",id:2},target:{rule:"repeated",type:"string",id:3}}},User:{fields:{uid:{rule:"required",type:"string",id:1},name:{type:"string",id:2},displayName:{type:"string",id:3},portrait:{type:"string",id:4},mobile:{type:"string",id:5},email:{type:"string",id:6},address:{type:"string",id:7},company:{type:"string",id:8},extra:{type:"string",id:9},updateDt:{type:"int64",id:10},gender:{type:"int32",id:11},social:{type:"string",id:12},type:{type:"int32",id:13},deleted:{type:"int32",id:14}}},Robot:{fields:{uid:{rule:"required",type:"string",id:1},state:{rule:"required",type:"int32",id:2},owner:{type:"string",id:3},secret:{type:"string",id:4},callback:{type:"string",id:5},extra:{type:"string",id:6}}},GetRobotsResult:{fields:{entry:{rule:"repeated",type:"Robot",id:1}}},Device:{fields:{uid:{rule:"required",type:"string",id:1},state:{rule:"required",type:"int32",id:2},token:{rule:"required",type:"string",id:3},owner:{rule:"repeated",type:"string",id:4},extra:{type:"string",id:5},updateDt:{type:"int64",id:6}}},GetDeviceResult:{fields:{entry:{rule:"repeated",type:"Device",id:1}}},UploadDeviceTokenRequest:{fields:{platform:{rule:"required",type:"int32",id:1},appName:{rule:"required",type:"string",id:2},deviceToken:{rule:"required",type:"string",id:3},pushType:{rule:"required",type:"int32",id:4}}},ModifyGroupInfoRequest:{fields:{groupId:{rule:"required",type:"string",id:1},type:{rule:"required",type:"int32",id:2},value:{rule:"required",type:"string",id:3},toLine:{rule:"repeated",type:"int32",id:4,options:{packed:!1}},notifyContent:{type:"MessageContent",id:5}}},SetGroupManagerRequest:{fields:{groupId:{rule:"required",type:"string",id:1},type:{rule:"required",type:"int32",id:2},userId:{rule:"repeated",type:"string",id:3},toLine:{rule:"repeated",type:"int32",id:4,options:{packed:!1}},notifyContent:{type:"MessageContent",id:5}}},InfoEntry:{fields:{type:{rule:"required",type:"int32",id:1},value:{rule:"required",type:"string",id:2}}},ModifyMyInfoRequest:{fields:{entry:{rule:"repeated",type:"InfoEntry",id:1}}},NotifyMessage:{fields:{type:{rule:"required",type:"int32",id:1},head:{rule:"required",type:"int64",id:2}}},NotifyGroupMessage:{fields:{head:{rule:"required",type:"int64",id:1},target:{rule:"required",type:"string",id:2},line:{rule:"required",type:"int32",id:3}}},PullMessageRequest:{fields:{id:{rule:"required",type:"int64",id:1},type:{rule:"required",type:"int32",id:2},delay:{type:"int64",id:3}}},PullMessageResult:{fields:{message:{rule:"repeated",type:"Message",id:1},current:{rule:"required",type:"int64",id:2},head:{rule:"required",type:"int64",id:3}}},PullReadResult:{fields:{read:{rule:"repeated",type:"ConvRead",id:1},current:{rule:"required",type:"int64",id:2},head:{rule:"required",type:"int64",id:3}}},PullDeliveryResult:{fields:{delivery:{rule:"repeated",type:"Delivery",id:1},current:{rule:"required",type:"int64",id:2},head:{rule:"required",type:"int64",id:3}}},GroupConv:{fields:{line:{rule:"required",type:"int32",id:1},groupId:{rule:"required",type:"string",id:2},msgHead:{type:"int64",id:3}}},PullGroupConvRequest:{fields:{id:{rule:"required",type:"int64",id:1},target:{type:"string",id:2},line:{type:"int32",id:3},messageId:{type:"int64",id:4}}},PullGroupConvResult:{fields:{conv:{rule:"repeated",type:"GroupConv",id:1},current:{rule:"required",type:"int64",id:2},head:{rule:"required",type:"int64",id:3},groupMessage:{type:"PullGroupMessageResult",id:4}}},PullGroupMessageRequest:{fields:{groupId:{rule:"required",type:"string",id:1},line:{rule:"required",type:"int32",id:2},id:{rule:"required",type:"int64",id:3}}},PullGroupMessageRequests:{fields:{request:{rule:"repeated",type:"PullGroupMessageRequest",id:1}}},GroupMessage:{fields:{messageId:{rule:"required",type:"int64",id:1},fromUser:{rule:"required",type:"string",id:2},flag:{rule:"required",type:"int32",id:3}}},PullGroupMessageResult:{fields:{message:{rule:"repeated",type:"GroupMessage",id:1},current:{rule:"required",type:"int64",id:2},head:{rule:"required",type:"int64",id:3},groupId:{rule:"required",type:"string",id:4},line:{rule:"required",type:"int32",id:5},msg:{rule:"repeated",type:"Message",id:6}}},PullGroupMessageResults:{fields:{result:{rule:"repeated",type:"PullGroupMessageResult",id:1}}},MessageList:{fields:{message:{rule:"repeated",type:"Message",id:1}}},PullGroupInfoResult:{fields:{info:{rule:"repeated",type:"GroupInfo",id:1}}},PullGroupMemberRequest:{fields:{target:{rule:"required",type:"string",id:1},head:{rule:"required",type:"int64",id:2},sum:{type:"int64",id:3}}},PullGroupMemberResult:{fields:{member:{rule:"repeated",type:"GroupMember",id:1},full:{type:"int32",id:2}}},UserRequest:{fields:{uid:{rule:"required",type:"string",id:1},updateDt:{type:"int64",id:2}}},PullUserRequest:{fields:{request:{rule:"repeated",type:"UserRequest",id:1}}},UserResult:{fields:{user:{rule:"required",type:"User",id:1},code:{rule:"required",type:"int32",id:2}}},PullUserResult:{fields:{result:{rule:"repeated",type:"UserResult",id:1}}},QuitGroupRequest:{fields:{groupId:{rule:"required",type:"string",id:1},toLine:{rule:"repeated",type:"int32",id:2,options:{packed:!1}},notifyContent:{type:"MessageContent",id:3}}},RemoveGroupMemberRequest:{fields:{groupId:{rule:"required",type:"string",id:1},removedMember:{rule:"repeated",type:"string",id:2},toLine:{rule:"repeated",type:"int32",id:3,options:{packed:!1}},notifyContent:{type:"MessageContent",id:4}}},TransferGroupRequest:{fields:{groupId:{rule:"required",type:"string",id:1},newOwner:{rule:"required",type:"string",id:2},toLine:{rule:"repeated",type:"int32",id:3,options:{packed:!1}},notifyContent:{type:"MessageContent",id:4}}},ModifyGroupMemberAlias:{fields:{groupId:{rule:"required",type:"string",id:1},alias:{rule:"required",type:"string",id:2},toLine:{rule:"repeated",type:"int32",id:3,options:{packed:!1}},notifyContent:{type:"MessageContent",id:4},memberId:{type:"string",id:5}}},ModifyGroupMemberExtra:{fields:{groupId:{rule:"required",type:"string",id:1},toLine:{rule:"repeated",type:"int32",id:2,options:{packed:!1}},notifyContent:{type:"MessageContent",id:3},extra:{type:"string",id:4},memberId:{type:"string",id:5}}},UserSettingEntry:{fields:{scope:{rule:"required",type:"int32",id:1},key:{rule:"required",type:"string",id:2},value:{rule:"required",type:"string",id:3},updateDt:{rule:"required",type:"int64",id:4}}},ModifyUserSettingReq:{fields:{scope:{rule:"required",type:"int32",id:1},key:{rule:"required",type:"string",id:2},value:{rule:"required",type:"string",id:3},target:{rule:"repeated",type:"string",id:4}}},Version:{fields:{version:{rule:"required",type:"int64",id:1}}},GetUserSettingResult:{fields:{entry:{rule:"repeated",type:"UserSettingEntry",id:1}}},Friend:{fields:{uid:{rule:"required",type:"string",id:1},state:{rule:"required",type:"int32",id:2},updateDt:{rule:"required",type:"int64",id:3},alias:{type:"string",id:4},blacked:{type:"int32",id:5},extra:{type:"string",id:6}}},GetFriendsResult:{fields:{entry:{rule:"repeated",type:"Friend",id:1}}},GetFriendRequestResult:{fields:{entry:{rule:"repeated",type:"FriendRequest",id:1}}},ConnectAckPayload:{fields:{msgHead:{type:"int64",id:1},friendHead:{type:"int64",id:2},friendRqHead:{type:"int64",id:3},settingHead:{type:"int64",id:4},nodeAddr:{type:"string",id:5},nodePort:{type:"int32",id:6},serverTime:{type:"int64",id:7},nodeId:{type:"string",id:8},recvHead:{type:"int64",id:9},readHead:{type:"int64",id:10},groupConvHead:{type:"int64",id:11}}},IMHttpWrapper:{fields:{token:{rule:"required",type:"string",id:1},clientId:{rule:"required",type:"string",id:2},request:{rule:"required",type:"string",id:3},data:{type:"bytes",id:4}}},SearchUserRequest:{fields:{keyword:{rule:"required",type:"string",id:1},fuzzy:{type:"int32",id:2},page:{type:"int32",id:3}}},SearchUserResult:{fields:{entry:{rule:"repeated",type:"User",id:1}}},GetChatroomInfoRequest:{fields:{chatroomId:{rule:"required",type:"string",id:1},updateDt:{type:"int64",id:2}}},ChatroomInfo:{fields:{title:{rule:"required",type:"string",id:1},desc:{type:"string",id:2},portrait:{type:"string",id:3},memberCount:{type:"int32",id:4},createDt:{type:"int64",id:5},updateDt:{type:"int64",id:6},extra:{type:"string",id:7},state:{type:"int32",id:8}}},GetChatroomMemberInfoRequest:{fields:{chatroomId:{rule:"required",type:"string",id:1},maxCount:{type:"int32",id:2}}},ChatroomMemberInfo:{fields:{memberCount:{type:"int32",id:1},members:{rule:"repeated",type:"string",id:2}}},INT64Buf:{fields:{id:{rule:"required",type:"int64",id:1}}},INT64ListBuf:{fields:{id:{rule:"repeated",type:"int64",id:1,options:{packed:!1}}}},NotifyRecallMessage:{fields:{id:{rule:"required",type:"int64",id:1},fromUser:{rule:"required",type:"string",id:2}}},BlackUserRequest:{fields:{uid:{rule:"required",type:"string",id:1},status:{rule:"required",type:"int32",id:2}}},RouteRequest:{fields:{app:{type:"string",id:1},platform:{type:"int32",id:2},pushType:{type:"int32",id:3},deviceName:{type:"string",id:4},deviceVersion:{type:"string",id:5},phoneName:{type:"string",id:6},language:{type:"string",id:7},carrierName:{type:"string",id:8},appVersion:{type:"string",id:9},sdkVersion:{type:"string",id:10},wxAppId:{type:"string",id:11},wxAppKey:{type:"string",id:12},webAppId:{type:"string",id:13},webAppKey:{type:"string",id:14},host:{type:"string",id:15},signature:{type:"string",id:16}}},AddressTriple:{fields:{host:{rule:"required",type:"string",id:1},longPort:{rule:"required",type:"int32",id:2},shortPort:{rule:"required",type:"int32",id:3},wssPort:{type:"int32",id:4}}},RouteResponse:{fields:{host:{rule:"required",type:"string",id:1},longPort:{rule:"required",type:"int32",id:2},shortPort:{rule:"required",type:"int32",id:3},thumbPara:{type:"string",id:4},node:{type:"string",id:5},commercial:{type:"int32",id:6},wssPort:{type:"int32",id:7},candidate:{rule:"repeated",type:"AddressTriple",id:8}}},GetTokenRequest:{fields:{userId:{rule:"required",type:"string",id:1},clientId:{rule:"required",type:"string",id:2},platform:{type:"int32",id:3}}},LoadRemoteMessages:{fields:{conversation:{rule:"required",type:"Conversation",id:1},beforeUid:{rule:"required",type:"int64",id:2},count:{rule:"required",type:"int32",id:3},contentType:{rule:"repeated",type:"int32",id:4,options:{packed:!1}}}},LoadLineMessages:{fields:{line:{rule:"required",type:"int32",id:1},beforeUid:{rule:"required",type:"int64",id:2},count:{rule:"required",type:"int32",id:3},contentType:{rule:"repeated",type:"int32",id:4,options:{packed:!1}}}},MultiCastMessage:{fields:{fromUser:{rule:"required",type:"string",id:1},content:{rule:"required",type:"MessageContent",id:2},to:{rule:"repeated",type:"string",id:3},line:{rule:"required",type:"int32",id:4}}},RecallMultiMessage:{fields:{messageId:{rule:"required",type:"int64",id:1},target:{rule:"repeated",type:"string",id:2}}},UpdateMessageContent:{fields:{messageId:{rule:"required",type:"int64",id:1},content:{rule:"required",type:"MessageContent",id:2},distribute:{rule:"required",type:"int32",id:3},updateTime:{type:"int32",id:4}}},FileRecord:{fields:{messageId:{rule:"required",type:"int64",id:1},fromUser:{rule:"required",type:"string",id:2},conversation:{type:"Conversation",id:3},name:{type:"string",id:4},url:{rule:"required",type:"string",id:5},size:{rule:"required",type:"int32",id:6},downloadCount:{type:"int32",id:7},dt:{rule:"required",type:"int64",id:8}}},LoadFileRecordReq:{fields:{conversation:{type:"Conversation",id:1},messageId:{rule:"required",type:"int64",id:2},count:{rule:"required",type:"int32",id:3},from:{type:"string",id:4},order:{type:"int32",id:5}}},LoadFileRecordRes:{fields:{record:{rule:"repeated",type:"FileRecord",id:1}}},SearchFileRecordReq:{fields:{keyword:{rule:"required",type:"string",id:1},conversation:{type:"Conversation",id:2},messageId:{rule:"required",type:"int64",id:3},count:{rule:"required",type:"int32",id:4},from:{type:"string",id:5},order:{type:"int32",id:6}}},ConferenceRequest:{fields:{sessionId:{type:"int64",id:1},request:{rule:"required",type:"string",id:2},data:{type:"string",id:3},roomId:{type:"string",id:4},advance:{type:"int32",id:5}}},ConfInfo:{fields:{roomId:{rule:"required",type:"string",id:1},description:{type:"string",id:2},serverId:{type:"string",id:3},pin:{type:"string",id:4},publishers:{type:"int32",id:5},numPublisher:{type:"int32",id:6},bitrate:{type:"int32",id:7},advance:{type:"int32",id:8},record:{type:"int32",id:9},permanent:{type:"int32",id:10}}},ConfInfos:{fields:{info:{rule:"repeated",type:"ConfInfo",id:1}}},ConfStream:{fields:{type:{rule:"required",type:"string",id:1},mid:{rule:"required",type:"string",id:2},codec:{rule:"required",type:"string",id:3}}},ConfParticipant:{fields:{userId:{rule:"required",type:"string",id:1},publisher:{rule:"required",type:"int32",id:2},stream:{rule:"repeated",type:"ConfStream",id:3}}},ConfParticipants:{fields:{participant:{rule:"repeated",type:"ConfParticipant",id:1}}},ConfRtpForwardReq:{fields:{roomId:{rule:"required",type:"string",id:1},publisherId:{rule:"required",type:"string",id:2},host:{rule:"required",type:"string",id:3},audioPort:{type:"int32",id:4},audioPt:{type:"int32",id:5},audioSsrc:{type:"int64",id:6},videoPort:{type:"int32",id:7},videoPt:{type:"int32",id:8},videoSsrc:{type:"int64",id:9}}},RecallMultiCastMessageRequest:{fields:{messageId:{rule:"required",type:"int64",id:1},receiver:{rule:"repeated",type:"string",id:2}}},MomentsMedia:{fields:{mediaUrl:{rule:"required",type:"string",id:1},thumbUrl:{type:"string",id:2},width:{type:"int32",id:3},height:{type:"int32",id:4}}},MomentsFeed:{fields:{feedId:{rule:"required",type:"int64",id:1},sender:{rule:"required",type:"string",id:2},type:{rule:"required",type:"int32",id:3},text:{type:"string",id:4},medias:{rule:"repeated",type:"MomentsMedia",id:5},mentionedUsers:{rule:"repeated",type:"string",id:6},toUsers:{rule:"repeated",type:"string",id:7},excludeUsers:{rule:"repeated",type:"string",id:8},serverTime:{rule:"required",type:"int64",id:9},extra:{type:"string",id:10},comments:{rule:"repeated",type:"MomentsComment",id:11},hasMore:{type:"int32",id:12}}},MomentsFeeds:{fields:{feeds:{rule:"repeated",type:"MomentsFeed",id:1}}},MomentsComments:{fields:{comments:{rule:"repeated",type:"MomentsComment",id:1}}},MomentsComment:{fields:{feedId:{rule:"required",type:"int64",id:1},commentId:{rule:"required",type:"int64",id:2},replyId:{type:"int64",id:3},sender:{rule:"required",type:"string",id:4},type:{rule:"required",type:"int32",id:5},text:{type:"string",id:6},replyTo:{type:"string",id:7},serverTime:{rule:"required",type:"int64",id:8},extra:{type:"string",id:9}}},LockRequest:{fields:{lockId:{rule:"required",type:"string",id:1},duration:{type:"int64",id:2}}},PresenceOnlineState:{fields:{platform:{rule:"required",type:"int32",id:1},state:{rule:"required",type:"int32",id:2},lastSeen:{type:"int64",id:3}}},PresenceOnlineNotify:{fields:{userId:{rule:"required",type:"string",id:1},customState:{rule:"required",type:"int32",id:2},customText:{type:"string",id:3},state:{rule:"repeated",type:"PresenceOnlineState",id:4}}},PresenceWatchRequest:{fields:{type:{rule:"required",type:"int32",id:1},target:{rule:"repeated",type:"string",id:2},duration:{type:"int32",id:3}}},PresenceWatchResult:{fields:{notify:{rule:"repeated",type:"PresenceOnlineNotify",id:1}}},CreateSecretChatRequest:{fields:{userId:{rule:"required",type:"string",id:1},pubkey:{rule:"required",type:"string",id:2},targetId:{type:"string",id:3}}},CreateSecretChatResponse:{fields:{targetId:{rule:"required",type:"string",id:1},line:{rule:"required",type:"int32",id:2}}},SecretChatInfo:{fields:{targetId:{rule:"required",type:"string",id:1},from:{rule:"required",type:"string",id:2},to:{rule:"required",type:"string",id:3},state:{rule:"required",type:"int32",id:4},createDt:{rule:"required",type:"int64",id:5}}},DeleteSecretChatMessage:{fields:{conversation:{rule:"required",type:"Conversation",id:1},messageId:{rule:"required",type:"int64",id:2},serverTimestamp:{rule:"required",type:"int64",id:3}}},AuthCodeRequest:{fields:{targetId:{rule:"required",type:"string",id:1},type:{rule:"required",type:"int32",id:2},host:{rule:"required",type:"string",id:3}}},ApplicationConfigRequest:{fields:{appId:{rule:"required",type:"string",id:1},appType:{rule:"required",type:"int32",id:2},timestamp:{rule:"required",type:"int64",id:3},nonce:{rule:"required",type:"string",id:4},signature:{rule:"required",type:"string",id:5}}},RouteRequestInternal:{fields:{data:{rule:"required",type:"bytes",id:1},appKey:{type:"string",id:2},appId:{type:"string",id:3}}}}}}])}));
//# sourceMappingURL=proto.min.js.map